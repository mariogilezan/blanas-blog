function a0(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Zu(e){return a0(e)&&typeof e._ref=="string"}function lLe(e){return a0(e)&&Zu(e.asset)&&e.asset._ref.startsWith("image-")}function sbe(e){return a0(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function cLe(e){return a0(e)&&typeof e._id=="string"&&typeof e._type=="string"}function FL(e){return a0(e)&&typeof e._type=="string"}function wl(e){return a0(e)&&typeof e._key=="string"}function uLe(e){return e.level==="error"}const dLe=/_key\s*==\s*['"](.*)['"]/,fLe=/^\d*:\d*$/;function ml(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function Tr(e){return typeof e=="string"?dLe.test(e.trim()):typeof e=="object"&&"_key"in e}function Ap(e){if(typeof e=="string"&&fLe.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function x2(e){return!!e&&(typeof e=="object"||typeof e=="function")}function zf(e){return x2(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>x2(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>x2(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function Gs(e){return x2(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function hLe(e){return zf(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function rm(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Va(e){return rm(e)?e.jsonType==="object":!1}function Pl(e){return rm(e)?e.jsonType==="array":!1}function LL(e){return Pl(e)&&e.of.every(t=>Va(t))}function pLe(e){return Pl(e)&&e.of.every(t=>lbe(t))}function ew(e){return rm(e)?e.jsonType==="boolean":!1}function abe(e){return rm(e)?e.jsonType==="string":!1}function Op(e){return rm(e)?e.jsonType==="number":!1}function lbe(e){return ew(e)||abe(e)||Op(e)}function Cu(e){return rm(e)&&(e.name==="reference"||Cu(e.type))}function BL(e){return rm(e)&&(e.name==="crossDatasetReference"||BL(e.type))}function NL(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function cbe(e,t){return e}function mLe(e,t){return e}function gLe(e){return e.level==="error"}function vLe(e){return e.level==="warning"}var ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yLe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var ube={exports:{}},Xj={},dbe={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw=Symbol.for("react.element"),bLe=Symbol.for("react.portal"),xLe=Symbol.for("react.fragment"),wLe=Symbol.for("react.strict_mode"),_Le=Symbol.for("react.profiler"),CLe=Symbol.for("react.provider"),SLe=Symbol.for("react.context"),ELe=Symbol.for("react.forward_ref"),kLe=Symbol.for("react.suspense"),jLe=Symbol.for("react.memo"),TLe=Symbol.for("react.lazy"),iU=Symbol.iterator;function ALe(e){return e===null||typeof e!="object"?null:(e=iU&&e[iU]||e["@@iterator"],typeof e=="function"?e:null)}var fbe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hbe=Object.assign,pbe={};function l0(e,t,n){this.props=e,this.context=t,this.refs=pbe,this.updater=n||fbe}l0.prototype.isReactComponent={};l0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};l0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mbe(){}mbe.prototype=l0.prototype;function zL(e,t,n){this.props=e,this.context=t,this.refs=pbe,this.updater=n||fbe}var VL=zL.prototype=new mbe;VL.constructor=zL;hbe(VL,l0.prototype);VL.isPureReactComponent=!0;var sU=Array.isArray,gbe=Object.prototype.hasOwnProperty,HL={current:null},vbe={key:!0,ref:!0,__self:!0,__source:!0};function ybe(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)gbe.call(t,r)&&!vbe.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:tw,type:e,key:i,ref:s,props:o,_owner:HL.current}}function OLe(e,t){return{$$typeof:tw,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function UL(e){return typeof e=="object"&&e!==null&&e.$$typeof===tw}function PLe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var aU=/\/+/g;function AP(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PLe(""+e.key):t.toString(36)}function w2(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case tw:case bLe:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+AP(s,0):r,sU(o)?(n="",e!=null&&(n=e.replace(aU,"$&/")+"/"),w2(o,t,n,"",function(u){return u})):o!=null&&(UL(o)&&(o=OLe(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(aU,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",sU(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+AP(i,a);s+=w2(i,t,n,c,o)}else if(c=ALe(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+AP(i,a++),s+=w2(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function j_(e,t,n){if(e==null)return e;var r=[],o=0;return w2(e,r,"","",function(i){return t.call(n,i,o++)}),r}function DLe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zi={current:null},_2={transition:null},ILe={ReactCurrentDispatcher:Zi,ReactCurrentBatchConfig:_2,ReactCurrentOwner:HL};Ht.Children={map:j_,forEach:function(e,t,n){j_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j_(e,function(){t++}),t},toArray:function(e){return j_(e,function(t){return t})||[]},only:function(e){if(!UL(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ht.Component=l0;Ht.Fragment=xLe;Ht.Profiler=_Le;Ht.PureComponent=zL;Ht.StrictMode=wLe;Ht.Suspense=kLe;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ILe;Ht.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hbe({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=HL.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)gbe.call(t,c)&&!vbe.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:tw,type:e.type,key:o,ref:i,props:r,_owner:s}};Ht.createContext=function(e){return e={$$typeof:SLe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CLe,_context:e},e.Consumer=e};Ht.createElement=ybe;Ht.createFactory=function(e){var t=ybe.bind(null,e);return t.type=e,t};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(e){return{$$typeof:ELe,render:e}};Ht.isValidElement=UL;Ht.lazy=function(e){return{$$typeof:TLe,_payload:{_status:-1,_result:e},_init:DLe}};Ht.memo=function(e,t){return{$$typeof:jLe,type:e,compare:t===void 0?null:t}};Ht.startTransition=function(e){var t=_2.transition;_2.transition={};try{e()}finally{_2.transition=t}};Ht.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ht.useCallback=function(e,t){return Zi.current.useCallback(e,t)};Ht.useContext=function(e){return Zi.current.useContext(e)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(e){return Zi.current.useDeferredValue(e)};Ht.useEffect=function(e,t){return Zi.current.useEffect(e,t)};Ht.useId=function(){return Zi.current.useId()};Ht.useImperativeHandle=function(e,t,n){return Zi.current.useImperativeHandle(e,t,n)};Ht.useInsertionEffect=function(e,t){return Zi.current.useInsertionEffect(e,t)};Ht.useLayoutEffect=function(e,t){return Zi.current.useLayoutEffect(e,t)};Ht.useMemo=function(e,t){return Zi.current.useMemo(e,t)};Ht.useReducer=function(e,t,n){return Zi.current.useReducer(e,t,n)};Ht.useRef=function(e){return Zi.current.useRef(e)};Ht.useState=function(e){return Zi.current.useState(e)};Ht.useSyncExternalStore=function(e,t,n){return Zi.current.useSyncExternalStore(e,t,n)};Ht.useTransition=function(){return Zi.current.useTransition()};Ht.version="18.2.0";dbe.exports=Ht;var h=dbe.exports;const ne=Pe(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RLe=h,$Le=Symbol.for("react.element"),MLe=Symbol.for("react.fragment"),FLe=Object.prototype.hasOwnProperty,LLe=RLe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BLe={key:!0,ref:!0,__self:!0,__source:!0};function bbe(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)FLe.call(t,r)&&!BLe.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:$Le,type:e,key:i,ref:s,props:o,_owner:LLe.current}}Xj.Fragment=MLe;Xj.jsx=bbe;Xj.jsxs=bbe;ube.exports=Xj;var l=ube.exports;const NLe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zLe=/_key\s*==\s*['"](.*)['"]/,xbe=[],wbe="$";function om(e,t,n){const r=typeof t=="string"?_l(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let o=e;for(let i=0;i<r.length;i++){const s=r[i];if(ml(s)){if(!Array.isArray(o))return n;o=o[s]}if(Tr(s)){if(!Array.isArray(o))return n;o=o.find(a=>a._key===s._key)}if(typeof s=="string"&&(o=typeof o=="object"&&o!==null?o[s]:void 0),typeof o>"u")return n}return o}const OP=new Map;function im(e){if(e.length===0)return xbe;const t=Cr(e);return OP.has(t)?OP.get(t):(OP.set(t,e),Object.freeze(e),e)}function pn(e,t){return e.length===t.length&&e.every((n,r)=>Qj(n,t[r]))}function VLe(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!Qj(e[r],t[r]))return r;return n}function Qj(e,t){return Tr(e)&&Tr(t)?e._key===t._key:ml(e)?Number(e)===Number(t):Ap(e)&&Ap(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function yi(e,t){return e.every((n,r)=>Qj(n,t[r]))}function By(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[o,...i]=t;return Qj(n,o)?im(By(r,i)):t}function WL(e,t){return yi(e,t)?By(e,t):xbe}function Cr(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Tr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function MR(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const i=e[n];return[typeof(i==null?void 0:i._key)=="string"?{_key:i._key}:n,...MR(i,r)]}const o=om(e,[n]);return[n,...MR(o,r)]}function HLe(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return im(MR(e,t))}function _l(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(NLe);if(!t)throw new Error("Invalid path string");return t.map(ULe)}function ULe(e){return ml(e)?WLe(e):Tr(e)?YLe(e):Ap(e)?qLe(e):e}function WLe(e){return Number(e.replace(/[^\d]/g,""))}function YLe(e){return{_key:e.match(zLe)[1]}}function qLe(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var GLe=typeof Element<"u",KLe=typeof Map=="function",ZLe=typeof Set=="function",XLe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function C2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!C2(e[r],t[r]))return!1;return!0}var i;if(KLe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!C2(r.value[1],t.get(r.value[0])))return!1;return!0}if(ZLe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(XLe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(GLe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!C2(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var QLe=function(t,n){try{return C2(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const YL=Pe(QLe);function JLe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ha=JLe;const nw=Pe(Ha);var e8e=typeof ys=="object"&&ys&&ys.Object===Object&&ys,_be=e8e,t8e=_be,n8e=typeof self=="object"&&self&&self.Object===Object&&self,r8e=t8e||n8e||Function("return this")(),Dl=r8e,o8e=Dl,i8e=function(){return o8e.Date.now()},s8e=i8e,a8e=/\s/;function l8e(e){for(var t=e.length;t--&&a8e.test(e.charAt(t)););return t}var c8e=l8e,u8e=c8e,d8e=/^\s+/;function f8e(e){return e&&e.slice(0,u8e(e)+1).replace(d8e,"")}var Cbe=f8e,h8e=Dl,p8e=h8e.Symbol,c0=p8e,lU=c0,Sbe=Object.prototype,m8e=Sbe.hasOwnProperty,g8e=Sbe.toString,y1=lU?lU.toStringTag:void 0;function v8e(e){var t=m8e.call(e,y1),n=e[y1];try{e[y1]=void 0;var r=!0}catch{}var o=g8e.call(e);return r&&(t?e[y1]=n:delete e[y1]),o}var y8e=v8e,b8e=Object.prototype,x8e=b8e.toString;function w8e(e){return x8e.call(e)}var _8e=w8e,cU=c0,C8e=y8e,S8e=_8e,E8e="[object Null]",k8e="[object Undefined]",uU=cU?cU.toStringTag:void 0;function j8e(e){return e==null?e===void 0?k8e:E8e:uU&&uU in Object(e)?C8e(e):S8e(e)}var Vf=j8e;function T8e(e){return e!=null&&typeof e=="object"}var Ua=T8e,A8e=Vf,O8e=Ua,P8e="[object Symbol]";function D8e(e){return typeof e=="symbol"||O8e(e)&&A8e(e)==P8e}var sm=D8e,I8e=Cbe,dU=Ha,R8e=sm,fU=0/0,$8e=/^[-+]0x[0-9a-f]+$/i,M8e=/^0b[01]+$/i,F8e=/^0o[0-7]+$/i,L8e=parseInt;function B8e(e){if(typeof e=="number")return e;if(R8e(e))return fU;if(dU(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=dU(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=I8e(e);var n=M8e.test(e);return n||F8e.test(e)?L8e(e.slice(2),n?2:8):$8e.test(e)?fU:+e}var Ebe=B8e,N8e=Ha,PP=s8e,hU=Ebe,z8e="Expected a function",V8e=Math.max,H8e=Math.min;function U8e(e,t,n){var r,o,i,s,a,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(z8e);t=hU(t)||0,N8e(n)&&(d=!!n.leading,f="maxWait"in n,i=f?V8e(hU(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function m(S){var E=r,j=o;return r=o=void 0,u=S,s=e.apply(j,E),s}function v(S){return u=S,a=setTimeout(x,t),d?m(S):s}function g(S){var E=S-c,j=S-u,k=t-E;return f?H8e(k,i-j):k}function b(S){var E=S-c,j=S-u;return c===void 0||E>=t||E<0||f&&j>=i}function x(){var S=PP();if(b(S))return y(S);a=setTimeout(x,g(S))}function y(S){return a=void 0,p&&r?m(S):(r=o=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=c=o=a=void 0}function _(){return a===void 0?s:y(PP())}function C(){var S=PP(),E=b(S);if(r=arguments,o=this,c=S,E){if(a===void 0)return v(c);if(f)return clearTimeout(a),a=setTimeout(x,t),m(c)}return a===void 0&&(a=setTimeout(x,t)),s}return C.cancel=w,C.flush=_,C}var kbe=U8e;const rw=Pe(kbe);function qL(){var e=Object.create(null),t=0;function n(o){var i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(var i in e)e[i](o)}return{publish:r,subscribe:n}}var jbe={exports:{}},bn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GL=Symbol.for("react.element"),KL=Symbol.for("react.portal"),Jj=Symbol.for("react.fragment"),eT=Symbol.for("react.strict_mode"),tT=Symbol.for("react.profiler"),nT=Symbol.for("react.provider"),rT=Symbol.for("react.context"),W8e=Symbol.for("react.server_context"),oT=Symbol.for("react.forward_ref"),iT=Symbol.for("react.suspense"),sT=Symbol.for("react.suspense_list"),aT=Symbol.for("react.memo"),lT=Symbol.for("react.lazy"),Y8e=Symbol.for("react.offscreen"),Tbe;Tbe=Symbol.for("react.module.reference");function Wa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GL:switch(e=e.type,e){case Jj:case tT:case eT:case iT:case sT:return e;default:switch(e=e&&e.$$typeof,e){case W8e:case rT:case oT:case lT:case aT:case nT:return e;default:return t}}case KL:return t}}}bn.ContextConsumer=rT;bn.ContextProvider=nT;bn.Element=GL;bn.ForwardRef=oT;bn.Fragment=Jj;bn.Lazy=lT;bn.Memo=aT;bn.Portal=KL;bn.Profiler=tT;bn.StrictMode=eT;bn.Suspense=iT;bn.SuspenseList=sT;bn.isAsyncMode=function(){return!1};bn.isConcurrentMode=function(){return!1};bn.isContextConsumer=function(e){return Wa(e)===rT};bn.isContextProvider=function(e){return Wa(e)===nT};bn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GL};bn.isForwardRef=function(e){return Wa(e)===oT};bn.isFragment=function(e){return Wa(e)===Jj};bn.isLazy=function(e){return Wa(e)===lT};bn.isMemo=function(e){return Wa(e)===aT};bn.isPortal=function(e){return Wa(e)===KL};bn.isProfiler=function(e){return Wa(e)===tT};bn.isStrictMode=function(e){return Wa(e)===eT};bn.isSuspense=function(e){return Wa(e)===iT};bn.isSuspenseList=function(e){return Wa(e)===sT};bn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Jj||e===tT||e===eT||e===iT||e===sT||e===Y8e||typeof e=="object"&&e!==null&&(e.$$typeof===lT||e.$$typeof===aT||e.$$typeof===nT||e.$$typeof===rT||e.$$typeof===oT||e.$$typeof===Tbe||e.getModuleId!==void 0)};bn.typeOf=Wa;jbe.exports=bn;var vr=jbe.exports;const q8e=Pe(vr);var FR=function(e,t){return FR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},FR(e,t)};function ia(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");FR(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var yo=function(){return yo=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yo.apply(this,arguments)};function G8e(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function Abe(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Pp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ra(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Qo(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Wg(e){return this instanceof Wg?(this.v=e,this):new Wg(e)}function K8e(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){r[p]&&(o[p]=function(m){return new Promise(function(v,g){i.push([p,m,v,g])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(v){f(i[0][3],v)}}function c(p){p.value instanceof Wg?Promise.resolve(p.value.v).then(u,d):f(i[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Z8e(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Pp=="function"?Pp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var Gn="-ms-",Ny="-moz-",fn="-webkit-",Obe="comm",cT="rule",ZL="decl",X8e="@import",Pbe="@keyframes",Q8e="@layer",J8e=Math.abs,XL=String.fromCharCode,LR=Object.assign;function e9e(e,t){return To(e,0)^45?(((t<<2^To(e,0))<<2^To(e,1))<<2^To(e,2))<<2^To(e,3):0}function Dbe(e){return e.trim()}function eu(e,t){return(e=t.exec(e))?e[0]:e}function Et(e,t,n){return e.replace(t,n)}function S2(e,t){return e.indexOf(t)}function To(e,t){return e.charCodeAt(t)|0}function Sv(e,t,n){return e.slice(t,n)}function nc(e){return e.length}function Ibe(e){return e.length}function dy(e,t){return t.push(e),e}function t9e(e,t){return e.map(t).join("")}function pU(e,t){return e.filter(function(n){return!eu(n,t)})}var uT=1,Ev=1,Rbe=0,$a=0,Jr=0,u0="";function dT(e,t,n,r,o,i,s,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:uT,column:Ev,length:s,return:"",siblings:a}}function xd(e,t){return LR(dT("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Nm(e){for(;e.root;)e=xd(e.root,{children:[e]});dy(e,e.siblings)}function n9e(){return Jr}function r9e(){return Jr=$a>0?To(u0,--$a):0,Ev--,Jr===10&&(Ev=1,uT--),Jr}function gl(){return Jr=$a<Rbe?To(u0,$a++):0,Ev++,Jr===10&&(Ev=1,uT++),Jr}function hp(){return To(u0,$a)}function E2(){return $a}function fT(e,t){return Sv(u0,e,t)}function BR(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function o9e(e){return uT=Ev=1,Rbe=nc(u0=e),$a=0,[]}function i9e(e){return u0="",e}function DP(e){return Dbe(fT($a-1,NR(e===91?e+2:e===40?e+1:e)))}function s9e(e){for(;(Jr=hp())&&Jr<33;)gl();return BR(e)>2||BR(Jr)>3?"":" "}function a9e(e,t){for(;--t&&gl()&&!(Jr<48||Jr>102||Jr>57&&Jr<65||Jr>70&&Jr<97););return fT(e,E2()+(t<6&&hp()==32&&gl()==32))}function NR(e){for(;gl();)switch(Jr){case e:return $a;case 34:case 39:e!==34&&e!==39&&NR(Jr);break;case 40:e===41&&NR(e);break;case 92:gl();break}return $a}function l9e(e,t){for(;gl()&&e+Jr!==47+10;)if(e+Jr===42+42&&hp()===47)break;return"/*"+fT(t,$a-1)+"*"+XL(e===47?e:gl())}function c9e(e){for(;!BR(hp());)gl();return fT(e,$a)}function u9e(e){return i9e(k2("",null,null,null,[""],e=o9e(e),0,[0],e))}function k2(e,t,n,r,o,i,s,a,c){for(var u=0,d=0,f=s,p=0,m=0,v=0,g=1,b=1,x=1,y=0,w="",_=o,C=i,S=r,E=w;b;)switch(v=y,y=gl()){case 40:if(v!=108&&To(E,f-1)==58){S2(E+=Et(DP(y),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:E+=DP(y);break;case 9:case 10:case 13:case 32:E+=s9e(v);break;case 92:E+=a9e(E2()-1,7);continue;case 47:switch(hp()){case 42:case 47:dy(d9e(l9e(gl(),E2()),t,n,c),c);break;default:E+="/"}break;case 123*g:a[u++]=nc(E)*x;case 125*g:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+d:x==-1&&(E=Et(E,/\f/g,"")),m>0&&nc(E)-f&&dy(m>32?gU(E+";",r,n,f-1,c):gU(Et(E," ","")+";",r,n,f-2,c),c);break;case 59:E+=";";default:if(dy(S=mU(E,t,n,u,d,o,a,w,_=[],C=[],f,i),i),y===123)if(d===0)k2(E,t,S,S,_,i,f,a,C);else switch(p===99&&To(E,3)===110?100:p){case 100:case 108:case 109:case 115:k2(e,S,S,r&&dy(mU(e,S,S,0,0,o,a,w,o,_=[],f,C),C),o,C,f,a,r?_:C);break;default:k2(E,S,S,S,[""],C,0,a,C)}}u=d=m=0,g=x=1,w=E="",f=s;break;case 58:f=1+nc(E),m=v;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&r9e()==125)continue}switch(E+=XL(y),y*g){case 38:x=d>0?1:(E+="\f",-1);break;case 44:a[u++]=(nc(E)-1)*x,x=1;break;case 64:hp()===45&&(E+=DP(gl())),p=hp(),d=f=nc(w=E+=c9e(E2())),y++;break;case 45:v===45&&nc(E)==2&&(g=0)}}return i}function mU(e,t,n,r,o,i,s,a,c,u,d,f){for(var p=o-1,m=o===0?i:[""],v=Ibe(m),g=0,b=0,x=0;g<r;++g)for(var y=0,w=Sv(e,p+1,p=J8e(b=s[g])),_=e;y<v;++y)(_=Dbe(b>0?m[y]+" "+w:Et(w,/&\f/g,m[y])))&&(c[x++]=_);return dT(e,t,n,o===0?cT:a,c,u,d,f)}function d9e(e,t,n,r){return dT(e,t,n,Obe,XL(n9e()),Sv(e,2,-2),0,r)}function gU(e,t,n,r,o){return dT(e,t,n,ZL,Sv(e,0,r),Sv(e,r+1,-1),r,o)}function $be(e,t,n){switch(e9e(e,t)){case 5103:return fn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fn+e+e;case 4789:return Ny+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return fn+e+Ny+e+Gn+e+e;case 5936:switch(To(e,t+11)){case 114:return fn+e+Gn+Et(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return fn+e+Gn+Et(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return fn+e+Gn+Et(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return fn+e+Gn+e+e;case 6165:return fn+e+Gn+"flex-"+e+e;case 5187:return fn+e+Et(e,/(\w+).+(:[^]+)/,fn+"box-$1$2"+Gn+"flex-$1$2")+e;case 5443:return fn+e+Gn+"flex-item-"+Et(e,/flex-|-self/g,"")+(eu(e,/flex-|baseline/)?"":Gn+"grid-row-"+Et(e,/flex-|-self/g,""))+e;case 4675:return fn+e+Gn+"flex-line-pack"+Et(e,/align-content|flex-|-self/g,"")+e;case 5548:return fn+e+Gn+Et(e,"shrink","negative")+e;case 5292:return fn+e+Gn+Et(e,"basis","preferred-size")+e;case 6060:return fn+"box-"+Et(e,"-grow","")+fn+e+Gn+Et(e,"grow","positive")+e;case 4554:return fn+Et(e,/([^-])(transform)/g,"$1"+fn+"$2")+e;case 6187:return Et(Et(Et(e,/(zoom-|grab)/,fn+"$1"),/(image-set)/,fn+"$1"),e,"")+e;case 5495:case 3959:return Et(e,/(image-set\([^]*)/,fn+"$1$`$1");case 4968:return Et(Et(e,/(.+:)(flex-)?(.*)/,fn+"box-pack:$3"+Gn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fn+e+e;case 4200:if(!eu(e,/flex-|baseline/))return Gn+"grid-column-align"+Sv(e,t)+e;break;case 2592:case 3360:return Gn+Et(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,eu(r.props,/grid-\w+-end/)})?~S2(e+(n=n[t].value),"span")?e:Gn+Et(e,"-start","")+e+Gn+"grid-row-span:"+(~S2(n,"span")?eu(n,/\d+/):+eu(n,/\d+/)-+eu(e,/\d+/))+";":Gn+Et(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return eu(r.props,/grid-\w+-start/)})?e:Gn+Et(Et(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Et(e,/(.+)-inline(.+)/,fn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(nc(e)-1-t>6)switch(To(e,t+1)){case 109:if(To(e,t+4)!==45)break;case 102:return Et(e,/(.+:)(.+)-([^]+)/,"$1"+fn+"$2-$3$1"+Ny+(To(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~S2(e,"stretch")?$be(Et(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Et(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,i,s,a,c,u){return Gn+o+":"+i+u+(s?Gn+o+"-span:"+(a?c:+c-+i)+u:"")+e});case 4949:if(To(e,t+6)===121)return Et(e,":",":"+fn)+e;break;case 6444:switch(To(e,To(e,14)===45?18:11)){case 120:return Et(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+fn+(To(e,14)===45?"inline-":"")+"box$3$1"+fn+"$2$3$1"+Gn+"$2box$3")+e;case 100:return Et(e,":",":"+Gn)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Et(e,"scroll-","scroll-snap-")+e}return e}function OE(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function f9e(e,t,n,r){switch(e.type){case Q8e:if(e.children.length)break;case X8e:case ZL:return e.return=e.return||e.value;case Obe:return"";case Pbe:return e.return=e.value+"{"+OE(e.children,r)+"}";case cT:if(!nc(e.value=e.props.join(",")))return""}return nc(n=OE(e.children,r))?e.return=e.value+"{"+n+"}":""}function h9e(e){var t=Ibe(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}function p9e(e){return function(t){t.root||(t=t.return)&&e(t)}}function m9e(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ZL:e.return=$be(e.value,e.length,n);return;case Pbe:return OE([xd(e,{value:Et(e.value,"@","@"+fn)})],r);case cT:if(e.length)return t9e(n=e.props,function(o){switch(eu(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Nm(xd(e,{props:[Et(o,/:(read-\w+)/,":"+Ny+"$1")]})),Nm(xd(e,{props:[o]})),LR(e,{props:pU(n,r)});break;case"::placeholder":Nm(xd(e,{props:[Et(o,/:(plac\w+)/,":"+fn+"input-$1")]})),Nm(xd(e,{props:[Et(o,/:(plac\w+)/,":"+Ny+"$1")]})),Nm(xd(e,{props:[Et(o,/:(plac\w+)/,Gn+"input-$1")]})),Nm(xd(e,{props:[o]})),LR(e,{props:pU(n,r)});break}return""})}}var g9e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kv=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",QL=typeof window<"u"&&"HTMLElement"in window,v9e=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),y9e={},hT=Object.freeze([]),jv=Object.freeze({});function Mbe(e,t,n){return n===void 0&&(n=jv),e.theme!==n.theme&&e.theme||t||n.theme}var Fbe=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),b9e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,x9e=/(^-|-$)/g;function vU(e){return e.replace(b9e,"-").replace(x9e,"")}var w9e=/(a)(d)/gi,yU=function(e){return String.fromCharCode(e+(e>25?39:97))};function zR(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=yU(t%52)+n;return(yU(t%52)+n).replace(w9e,"$1-$2")}var IP,bg=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Lbe=function(e){return bg(5381,e)};function JL(e){return zR(Lbe(e)>>>0)}function _9e(e){return e.displayName||e.name||"Component"}function RP(e){return typeof e=="string"&&!0}var Bbe=typeof Symbol=="function"&&Symbol.for,Nbe=Bbe?Symbol.for("react.memo"):60115,C9e=Bbe?Symbol.for("react.forward_ref"):60112,S9e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},E9e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zbe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},k9e=((IP={})[C9e]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},IP[Nbe]=zbe,IP);function bU(e){return("type"in(t=e)&&t.type.$$typeof)===Nbe?zbe:"$$typeof"in e?k9e[e.$$typeof]:S9e;var t}var j9e=Object.defineProperty,T9e=Object.getOwnPropertyNames,xU=Object.getOwnPropertySymbols,A9e=Object.getOwnPropertyDescriptor,O9e=Object.getPrototypeOf,wU=Object.prototype;function Vbe(e,t,n){if(typeof t!="string"){if(wU){var r=O9e(t);r&&r!==wU&&Vbe(e,r,n)}var o=T9e(t);xU&&(o=o.concat(xU(t)));for(var i=bU(e),s=bU(t),a=0;a<o.length;++a){var c=o[a];if(!(c in E9e||n&&n[c]||s&&c in s||i&&c in i)){var u=A9e(t,c);try{j9e(e,c,u)}catch{}}}}return e}function Dp(e){return typeof e=="function"}function e8(e){return typeof e=="object"&&"styledComponentId"in e}function Zh(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function PE(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Pb(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function VR(e,t,n){if(n===void 0&&(n=!1),!n&&!Pb(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=VR(e[r],t[r]);else if(Pb(t))for(var r in t)e[r]=VR(e[r],t[r]);return e}function t8(e,t){Object.defineProperty(e,"toString",{value:t})}function _f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var P9e=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,i=o;t>=i;)if((i<<=1)<0)throw _f(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var s=o;s<i;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(t+1),c=(s=0,n.length);s<c;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var i=r;i<o;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),i=o+r,s=o;s<i;s++)n+="".concat(this.tag.getRule(s)).concat(`/*!sc*/
`);return n},e}(),j2=new Map,DE=new Map,T2=1,T_=function(e){if(j2.has(e))return j2.get(e);for(;DE.has(T2);)T2++;var t=T2++;return j2.set(e,t),DE.set(t,e),t},D9e=function(e,t){T2=t+1,j2.set(e,t),DE.set(t,e)},I9e="style[".concat(kv,"][").concat("data-styled-version",'="').concat("6.1.1",'"]'),R9e=new RegExp("^".concat(kv,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),$9e=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},M9e=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),o=[],i=0,s=r.length;i<s;i++){var a=r[i].trim();if(a){var c=a.match(R9e);if(c){var u=0|parseInt(c[1],10),d=c[2];u!==0&&(D9e(d,u),$9e(e,d,c[3]),e.getTag().insertRules(u,o)),o.length=0}else o.push(a)}}};function F9e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Hbe=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(a){var c=Array.from(a.querySelectorAll("style[".concat(kv,"]")));return c[c.length-1]}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(kv,"active"),r.setAttribute("data-styled-version","6.1.1");var s=F9e();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},L9e=function(){function e(t){this.element=Hbe(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,i=r.length;o<i;o++){var s=r[o];if(s.ownerNode===n)return s}throw _f(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),B9e=function(){function e(t){this.element=Hbe(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),N9e=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),_U=QL,z9e={isServer:!QL,useCSSOMInjection:!v9e},IE=function(){function e(t,n,r){t===void 0&&(t=jv),n===void 0&&(n={});var o=this;this.options=yo(yo({},z9e),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&QL&&_U&&(_U=!1,function(i){for(var s=document.querySelectorAll(I9e),a=0,c=s.length;a<c;a++){var u=s[a];u&&u.getAttribute(kv)!=="active"&&(M9e(i,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),t8(this,function(){return function(i){for(var s=i.getTag(),a=s.length,c="",u=function(f){var p=function(x){return DE.get(x)}(f);if(p===void 0)return"continue";var m=i.names.get(p),v=s.getGroup(f);if(m===void 0||v.length===0)return"continue";var g="".concat(kv,".g").concat(f,'[id="').concat(p,'"]'),b="";m!==void 0&&m.forEach(function(x){x.length>0&&(b+="".concat(x,","))}),c+="".concat(v).concat(g,'{content:"').concat(b,'"}').concat(`/*!sc*/
`)},d=0;d<a;d++)u(d);return c}(o)})}return e.registerId=function(t){return T_(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(yo(yo({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new N9e(o):r?new L9e(o):new B9e(o)}(this.options),new P9e(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(T_(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(T_(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(T_(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),V9e=/&/g,H9e=/^\s*\/\/.*$/gm;function Ube(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Ube(n.children,t)),n})}function U9e(e){var t,n,r,o=e===void 0?jv:e,i=o.options,s=i===void 0?jv:i,a=o.plugins,c=a===void 0?hT:a,u=function(p,m,v){return v===n||v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(t):p},d=c.slice();d.push(function(p){p.type===cT&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(V9e,n).replace(r,u))}),s.prefix&&d.push(m9e),d.push(f9e);var f=function(p,m,v,g){m===void 0&&(m=""),v===void 0&&(v=""),g===void 0&&(g="&"),t=g,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var b=p.replace(H9e,""),x=u9e(v||m?"".concat(v," ").concat(m," { ").concat(b," }"):b);s.namespace&&(x=Ube(x,s.namespace));var y=[];return OE(x,h9e(d.concat(p9e(function(w){return y.push(w)})))),y};return f.hash=c.length?c.reduce(function(p,m){return m.name||_f(15),bg(p,m.name)},5381).toString():"",f}var W9e=new IE,HR=U9e(),Wbe=ne.createContext({shouldForwardProp:void 0,styleSheet:W9e,stylis:HR});Wbe.Consumer;ne.createContext(void 0);function UR(){return h.useContext(Wbe)}var Ybe=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=HR);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,t8(this,function(){throw _f(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=HR),this.name+t.hash},e}(),Y9e=function(e){return e>="A"&&e<="Z"};function CU(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;Y9e(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var qbe=function(e){return e==null||e===!1||e===""},Gbe=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!qbe(i)&&(Array.isArray(i)&&i.isCss||Dp(i)?r.push("".concat(CU(o),":"),i,";"):Pb(i)?r.push.apply(r,Qo(Qo(["".concat(o," {")],Gbe(i),!1),["}"],!1)):r.push("".concat(CU(o),": ").concat((t=o,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in g9e||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function tf(e,t,n,r){if(qbe(e))return[];if(e8(e))return[".".concat(e.styledComponentId)];if(Dp(e)){if(!Dp(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return tf(o,t,n,r)}var i;return e instanceof Ybe?n?(e.inject(n,r),[e.getName(r)]):[e]:Pb(e)?Gbe(e):Array.isArray(e)?Array.prototype.concat.apply(hT,e.map(function(s){return tf(s,t,n,r)})):[e.toString()]}function Kbe(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Dp(n)&&!e8(n))return!1}return!0}var q9e=Lbe("6.1.1"),G9e=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Kbe(t),this.componentId=n,this.baseHash=bg(q9e,n),this.baseStyle=r,IE.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=Zh(o,this.staticRulesId);else{var i=PE(tf(this.rules,t,n,r)),s=zR(bg(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(i,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}o=Zh(o,s),this.staticRulesId=s}else{for(var c=bg(this.baseHash,r.hash),u="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")u+=f;else if(f){var p=PE(tf(f,t,n,r));c=bg(c,p+d),u+=p}}if(u){var m=zR(c>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(u,".".concat(m),void 0,this.componentId)),o=Zh(o,m)}}return o},e}(),Tv=ne.createContext(void 0);Tv.Consumer;function Zbe(){var e=h.useContext(Tv);if(!e)throw _f(18);return e}function K9e(e){var t=ne.useContext(Tv),n=h.useMemo(function(){return function(r,o){if(!r)throw _f(14);if(Dp(r)){var i=r(o);return i}if(Array.isArray(r)||typeof r!="object")throw _f(8);return o?yo(yo({},o),r):r}(e.theme,t)},[e.theme,t]);return e.children?ne.createElement(Tv.Provider,{value:n},e.children):null}var $P={};function Z9e(e,t,n){var r=e8(e),o=e,i=!RP(e),s=t.attrs,a=s===void 0?hT:s,c=t.componentId,u=c===void 0?function(_,C){var S=typeof _!="string"?"sc":vU(_);$P[S]=($P[S]||0)+1;var E="".concat(S,"-").concat(JL("6.1.1"+S+$P[S]));return C?"".concat(C,"-").concat(E):E}(t.displayName,t.parentComponentId):c,d=t.displayName,f=d===void 0?function(_){return RP(_)?"styled.".concat(_):"Styled(".concat(_9e(_),")")}(e):d,p=t.displayName&&t.componentId?"".concat(vU(t.displayName),"-").concat(t.componentId):t.componentId||u,m=r&&o.attrs?o.attrs.concat(a).filter(Boolean):a,v=t.shouldForwardProp;if(r&&o.shouldForwardProp){var g=o.shouldForwardProp;if(t.shouldForwardProp){var b=t.shouldForwardProp;v=function(_,C){return g(_,C)&&b(_,C)}}else v=g}var x=new G9e(n,p,r?o.componentStyle:void 0);function y(_,C){return function(S,E,j){var k=S.attrs,T=S.componentStyle,A=S.defaultProps,O=S.foldedComponentIds,P=S.styledComponentId,D=S.target,R=ne.useContext(Tv),$=UR(),H=S.shouldForwardProp||$.shouldForwardProp,F=function(N,G,Y){for(var K,X=yo(yo({},G),{className:void 0,theme:Y}),Q=0;Q<N.length;Q+=1){var Z=Dp(K=N[Q])?K(X):K;for(var re in Z)X[re]=re==="className"?Zh(X[re],Z[re]):re==="style"?yo(yo({},X[re]),Z[re]):Z[re]}return G.className&&(X.className=Zh(X.className,G.className)),X}(k,E,Mbe(E,R,A)||jv),V=F.as||D,W={};for(var z in F)F[z]===void 0||z[0]==="$"||z==="as"||z==="theme"||(z==="forwardedAs"?W.as=F.forwardedAs:H&&!H(z,V)||(W[z]=F[z]));var q=function(N,G){var Y=UR(),K=N.generateAndInjectStyles(G,Y.styleSheet,Y.stylis);return K}(T,F),oe=Zh(O,P);return q&&(oe+=" "+q),F.className&&(oe+=" "+F.className),W[RP(V)&&!Fbe.has(V)?"class":"className"]=oe,W.ref=j,h.createElement(V,W)}(w,_,C)}y.displayName=f;var w=ne.forwardRef(y);return w.attrs=m,w.componentStyle=x,w.displayName=f,w.shouldForwardProp=v,w.foldedComponentIds=r?Zh(o.foldedComponentIds,o.styledComponentId):"",w.styledComponentId=p,w.target=r?o.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=r?function(C){for(var S=[],E=1;E<arguments.length;E++)S[E-1]=arguments[E];for(var j=0,k=S;j<k.length;j++)VR(C,k[j],!0);return C}({},o.defaultProps,_):_}}),t8(w,function(){return".".concat(w.styledComponentId)}),i&&Vbe(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function SU(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var EU=function(e){return Object.assign(e,{isCss:!0})};function de(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Dp(e)||Pb(e)){var r=e;return EU(tf(SU(hT,Qo([r],t,!0))))}var o=e;return t.length===0&&o.length===1&&typeof o[0]=="string"?tf(o):EU(tf(SU(o,t)))}function WR(e,t,n){if(n===void 0&&(n=jv),!t)throw _f(1,t);var r=function(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,de.apply(void 0,Qo([o],i,!1)))};return r.attrs=function(o){return WR(e,t,yo(yo({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return WR(e,t,yo(yo({},n),o))},r}var Xbe=function(e){return WR(Z9e,e)},I=Xbe;Fbe.forEach(function(e){I[e]=Xbe(e)});var X9e=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=Kbe(t),IE.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,o){var i=o(PE(tf(this.rules,n,r,o)),""),s=this.componentId+t;r.insertRules(s,s,i)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,o){t>2&&IE.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,o)},e}();function Qbe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=de.apply(void 0,Qo([e],t,!1)),o="sc-global-".concat(JL(JSON.stringify(r))),i=new X9e(r,o),s=function(c){var u=UR(),d=ne.useContext(Tv),f=ne.useRef(u.styleSheet.allocateGSInstance(o)).current;return u.styleSheet.server&&a(f,c,u.styleSheet,d,u.stylis),ne.useLayoutEffect(function(){if(!u.styleSheet.server)return a(f,c,u.styleSheet,d,u.stylis),function(){return i.removeStyles(f,u.styleSheet)}},[f,c,u.styleSheet,d,u.stylis]),null};function a(c,u,d,f,p){if(i.isStatic)i.renderStyles(c,y9e,d,p);else{var m=yo(yo({},u),{theme:Mbe(u,f,s.defaultProps)});i.renderStyles(c,m,d,p)}}return ne.memo(s)}function am(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=PE(de.apply(void 0,Qo([e],t,!1))),o=JL(r);return new Ybe(o,r)}const Q9e="#101112",J9e="#fff",A2={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},fy={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},e7e={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},t7e={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},YR={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},n7e={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},qR={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},GR={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},r7e={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},fe={gray:A2,blue:fy,purple:e7e,magenta:t7e,red:YR,orange:n7e,yellow:qR,green:GR,cyan:r7e},Jbe=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],tc={title:"Black",hex:Q9e},ya={title:"White",hex:J9e},Cf=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),KR=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ks=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),i7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),l.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),s7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),exe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ow=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),txe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),a7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),l7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),c7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),u7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),nxe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),l.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),rxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),p7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),l.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),pT=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),xg=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mT=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ma=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ya=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gT=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Tc=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ixe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),w7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),sxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ei=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),axe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vT=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),lxe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),E7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pp=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yT=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Su=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),uxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),A7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),O7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Sf=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),P7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),D7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),I7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),R7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),M7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),F7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),n8=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),L7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),B7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),N7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),z7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),r8=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),hxe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),l.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),V7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pxe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),H7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Eu=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),Fo=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),W7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Y7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),q7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),G7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),K7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),sa=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mxe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Z7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o8=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),X7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),gxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),J7e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),l.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),l.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),eBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Av=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Cl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),iBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),sBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),lm=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),aBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),bxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),xxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),lBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cm=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),i8=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),uBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ef=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),pBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),wxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s8=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mBe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),a8=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_xe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),l.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),l.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),l.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),gBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Cxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vBe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),yBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),xBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wBe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),_Be=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),CBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Sxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Exe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),SBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),iw=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),EBe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),kBe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),jBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ku=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),l8=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),TBe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ABe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),c8=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),OBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),PBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),DBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Zo=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Il=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),IBe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),u8=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),RBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$Be=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),sw=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),MBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jxe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),FBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Txe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Axe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),LBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),BBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Oxe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),l.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),l.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),ig=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),l.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),d8=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),NBe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),zBe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),VBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),HBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),UBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),WBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),YBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bT=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),GBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),KBe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ZBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),ao=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),XBe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),QBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),JBe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),eNe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tNe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),zy=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Pxe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),l.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),RE=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),vl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nNe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$E=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),xT=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),rNe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wT=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oNe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),Pr=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),iNe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),sNe={"access-denied":Cf,activity:o7e,"add-circle":KR,add:Ks,api:i7e,archive:s7e,"arrow-down":exe,"arrow-left":ow,"arrow-right":txe,"arrow-top-right":a7e,"arrow-up":l7e,"bar-chart":c7e,basket:u7e,bell:d7e,bill:f7e,"binary-document":d0,"block-content":nxe,"block-element":rxe,blockquote:h7e,bold:oxe,bolt:p7e,book:m7e,bottle:g7e,"bulb-filled":v7e,"bulb-outline":pT,calendar:xg,case:y7e,"chart-upward":b7e,"checkmark-circle":mT,checkmark:Ma,"chevron-down":Ya,"chevron-left":gT,"chevron-right":Tc,"chevron-up":ixe,circle:x7e,clipboard:w7e,"clipboard-image":_7e,clock:sxe,"close-circle":C7e,close:Ei,"code-block":S7e,code:axe,cog:vT,collapse:lxe,"color-wheel":E7e,comment:cxe,component:k7e,compose:pp,controls:yT,copy:Su,"credit-card":j7e,crop:uxe,cube:T7e,dashboard:A7e,database:O7e,desktop:dxe,document:Sf,"document-pdf":P7e,"document-remove":D7e,"document-sheet":I7e,"document-text":R7e,"document-video":$7e,"document-word":M7e,"document-zip":F7e,documents:n8,dot:L7e,"double-chevron-down":B7e,"double-chevron-left":N7e,"double-chevron-right":fxe,"double-chevron-up":z7e,download:r8,"drag-handle":hxe,drop:V7e,"earth-americas":pxe,"earth-globe":H7e,edit:Eu,"ellipsis-horizontal":U7e,"ellipsis-vertical":Fo,enter:W7e,"enter-right":Y7e,envelope:q7e,equal:G7e,"error-filled":K7e,"error-outline":sa,expand:mxe,"eye-closed":Z7e,"eye-open":o8,filter:X7e,folder:gxe,generate:Q7e,groq:J7e,"heart-filled":eBe,heart:tBe,"help-circle":Av,home:nBe,"ice-cream":rBe,image:Cl,"image-remove":oBe,images:iBe,"info-filled":sBe,"info-outline":lm,"inline-element":vxe,inline:aBe,"insert-above":yxe,"insert-below":bxe,italic:xxe,joystick:lBe,json:cBe,launch:cm,leave:i8,lemon:uBe,link:Ef,"link-removed":dBe,lock:fBe,"logo-js":hBe,"logo-ts":pBe,"master-detail":wxe,menu:s8,"mobile-device":mBe,moon:a8,number:_xe,"ok-hand":gBe,olist:Cxe,overage:vBe,package:yBe,"panel-left":bBe,"panel-right":xBe,pause:wBe,pin:_Be,"pin-removed":CBe,play:Sxe,plug:Exe,presentation:SBe,publish:f0,"read-only":iw,redo:EBe,refresh:kBe,"remove-circle":jBe,remove:kxe,reset:ku,restore:l8,retrieve:TBe,retry:ABe,revert:c8,robot:OBe,rocket:PBe,schema:DBe,search:Zo,select:Il,share:IBe,sort:u8,sparkle:RBe,sparkles:$Be,spinner:sw,"split-horizontal":MBe,"split-vertical":jxe,square:FBe,"stack-compact":Txe,stack:Axe,star:LBe,stop:BBe,strikethrough:Oxe,string:ig,sun:d8,sync:h0,"tablet-device":NBe,tag:zBe,tags:VBe,terminal:HBe,text:UBe,"th-large":WBe,"th-list":YBe,tiers:qBe,"toggle-arrow-right":bT,token:GBe,transfer:KBe,translate:ZBe,trash:ao,"trend-upward":XBe,"triangle-outline":QBe,trolley:JBe,truncate:eNe,twitter:tNe,ulist:zy,underline:Pxe,undo:RE,unknown:vl,unlock:nNe,unpublish:$E,upload:xT,user:rNe,users:wT,"warning-filled":oNe,"warning-outline":Pr,wrench:iNe};h.forwardRef(function(t,n){const{symbol:r,...o}=t,i=sNe[r];return i?h.createElement(i,{...o,ref:n}):null});var Dxe={exports:{}},aNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lNe=aNe,cNe=lNe;function Ixe(){}function Rxe(){}Rxe.resetWarningCache=Ixe;var uNe=function(){function e(r,o,i,s,a,c){if(c!==cNe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Rxe,resetWarningCache:Ixe};return n.PropTypes=n,n};Dxe.exports=uNe();var $xe=Dxe.exports;const Y8n=Pe($xe);var dNe=hNe,fNe=Object.prototype.hasOwnProperty;function hNe(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)fNe.call(n,r)&&(e[r]=n[r])}return e}var Mxe=Fxe,f8=Fxe.prototype;f8.space=null;f8.normal={};f8.property={};function Fxe(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var kU=dNe,pNe=Mxe,mNe=gNe;function gNe(e){for(var t=e.length,n=[],r=[],o=-1,i,s;++o<t;)i=e[o],n.push(i.property),r.push(i.normal),s=i.space;return new pNe(kU.apply(null,n),kU.apply(null,r),s)}var h8=vNe;function vNe(e){return e.toLowerCase()}var Lxe=Bxe,qa=Bxe.prototype;qa.space=null;qa.attribute=null;qa.property=null;qa.boolean=!1;qa.booleanish=!1;qa.overloadedBoolean=!1;qa.number=!1;qa.commaSeparated=!1;qa.spaceSeparated=!1;qa.commaOrSpaceSeparated=!1;qa.mustUseProperty=!1;qa.defined=!1;function Bxe(e,t){this.property=e,this.attribute=t}var Ac={},yNe=0;Ac.boolean=um();Ac.booleanish=um();Ac.overloadedBoolean=um();Ac.number=um();Ac.spaceSeparated=um();Ac.commaSeparated=um();Ac.commaOrSpaceSeparated=um();function um(){return Math.pow(2,++yNe)}var Nxe=Lxe,jU=Ac,zxe=p8;p8.prototype=new Nxe;p8.prototype.defined=!0;var Vxe=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],bNe=Vxe.length;function p8(e,t,n,r){var o=-1,i;for(TU(this,"space",r),Nxe.call(this,e,t);++o<bNe;)i=Vxe[o],TU(this,i,(n&jU[i])===jU[i])}function TU(e,t,n){n&&(e[t]=n)}var AU=h8,xNe=Mxe,wNe=zxe,aw=_Ne;function _Ne(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},o=e.properties,i=e.transform,s={},a={},c,u;for(c in o)u=new wNe(c,i(r,c),o[c],t),n.indexOf(c)!==-1&&(u.mustUseProperty=!0),s[c]=u,a[AU(c)]=c,a[AU(u.attribute)]=c;return new xNe(s,a,t)}var CNe=aw,SNe=CNe({space:"xlink",transform:ENe,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function ENe(e,t){return"xlink:"+t.slice(5).toLowerCase()}var kNe=aw,jNe=kNe({space:"xml",transform:TNe,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function TNe(e,t){return"xml:"+t.slice(3).toLowerCase()}var ANe=ONe;function ONe(e,t){return t in e?e[t]:t}var PNe=ANe,Hxe=DNe;function DNe(e,t){return PNe(e,t.toLowerCase())}var INe=aw,RNe=Hxe,$Ne=INe({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:RNe,properties:{xmlns:null,xmlnsXLink:null}}),m8=Ac,MNe=aw,ss=m8.booleanish,da=m8.number,ph=m8.spaceSeparated,FNe=MNe({transform:LNe,properties:{ariaActiveDescendant:null,ariaAtomic:ss,ariaAutoComplete:null,ariaBusy:ss,ariaChecked:ss,ariaColCount:da,ariaColIndex:da,ariaColSpan:da,ariaControls:ph,ariaCurrent:null,ariaDescribedBy:ph,ariaDetails:null,ariaDisabled:ss,ariaDropEffect:ph,ariaErrorMessage:null,ariaExpanded:ss,ariaFlowTo:ph,ariaGrabbed:ss,ariaHasPopup:null,ariaHidden:ss,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ph,ariaLevel:da,ariaLive:null,ariaModal:ss,ariaMultiLine:ss,ariaMultiSelectable:ss,ariaOrientation:null,ariaOwns:ph,ariaPlaceholder:null,ariaPosInSet:da,ariaPressed:ss,ariaReadOnly:ss,ariaRelevant:null,ariaRequired:ss,ariaRoleDescription:ph,ariaRowCount:da,ariaRowIndex:da,ariaRowSpan:da,ariaSelected:ss,ariaSetSize:da,ariaSort:null,ariaValueMax:da,ariaValueMin:da,ariaValueNow:da,ariaValueText:null,role:null}});function LNe(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var p0=Ac,BNe=aw,NNe=Hxe,Dt=p0.boolean,zNe=p0.overloadedBoolean,b1=p0.booleanish,qn=p0.number,Mi=p0.spaceSeparated,A_=p0.commaSeparated,VNe=BNe({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:NNe,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:A_,acceptCharset:Mi,accessKey:Mi,action:null,allow:null,allowFullScreen:Dt,allowPaymentRequest:Dt,allowUserMedia:Dt,alt:null,as:null,async:Dt,autoCapitalize:null,autoComplete:Mi,autoFocus:Dt,autoPlay:Dt,capture:Dt,charSet:null,checked:Dt,cite:null,className:Mi,cols:qn,colSpan:null,content:null,contentEditable:b1,controls:Dt,controlsList:Mi,coords:qn|A_,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Dt,defer:Dt,dir:null,dirName:null,disabled:Dt,download:zNe,draggable:b1,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Dt,formTarget:null,headers:Mi,height:qn,hidden:Dt,high:qn,href:null,hrefLang:null,htmlFor:Mi,httpEquiv:Mi,id:null,imageSizes:null,imageSrcSet:A_,inputMode:null,integrity:null,is:null,isMap:Dt,itemId:null,itemProp:Mi,itemRef:Mi,itemScope:Dt,itemType:Mi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Dt,low:qn,manifest:null,max:null,maxLength:qn,media:null,method:null,min:null,minLength:qn,multiple:Dt,muted:Dt,name:null,nonce:null,noModule:Dt,noValidate:Dt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Dt,optimum:qn,pattern:null,ping:Mi,placeholder:null,playsInline:Dt,poster:null,preload:null,readOnly:Dt,referrerPolicy:null,rel:Mi,required:Dt,reversed:Dt,rows:qn,rowSpan:qn,sandbox:Mi,scope:null,scoped:Dt,seamless:Dt,selected:Dt,shape:null,size:qn,sizes:null,slot:null,span:qn,spellCheck:b1,src:null,srcDoc:null,srcLang:null,srcSet:A_,start:qn,step:null,style:null,tabIndex:qn,target:null,title:null,translate:null,type:null,typeMustMatch:Dt,useMap:null,value:b1,width:qn,wrap:null,align:null,aLink:null,archive:Mi,axis:null,background:null,bgColor:null,border:qn,borderColor:null,bottomMargin:qn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Dt,declare:Dt,event:null,face:null,frame:null,frameBorder:null,hSpace:qn,leftMargin:qn,link:null,longDesc:null,lowSrc:null,marginHeight:qn,marginWidth:qn,noResize:Dt,noHref:Dt,noShade:Dt,noWrap:Dt,object:null,profile:null,prompt:null,rev:null,rightMargin:qn,rules:null,scheme:null,scrolling:b1,standby:null,summary:null,text:null,topMargin:qn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:qn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Dt,disableRemotePlayback:Dt,prefix:null,property:null,results:qn,security:null,unselectable:null}}),HNe=mNe,UNe=SNe,WNe=jNe,YNe=$Ne,qNe=FNe,GNe=VNe,KNe=HNe([WNe,UNe,YNe,qNe,GNe]),ZNe=h8,XNe=zxe,QNe=Lxe,g8="data",JNe=nze,eze=/^data[-\w.:]+$/i,Uxe=/-[a-z]/g,tze=/[A-Z]/g;function nze(e,t){var n=ZNe(t),r=t,o=QNe;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===g8&&eze.test(t)&&(t.charAt(4)==="-"?r=rze(t):t=oze(t),o=XNe),new o(r,t))}function rze(e){var t=e.slice(5).replace(Uxe,sze);return g8+t.charAt(0).toUpperCase()+t.slice(1)}function oze(e){var t=e.slice(4);return Uxe.test(t)?e:(t=t.replace(tze,ize),t.charAt(0)!=="-"&&(t="-"+t),g8+t)}function ize(e){return"-"+e.toLowerCase()}function sze(e){return e.charAt(1).toUpperCase()}var aze=lze,OU=/[#.]/g;function lze(e,t){for(var n=e||"",r=t||"div",o={},i=0,s,a,c;i<n.length;)OU.lastIndex=i,c=OU.exec(n),s=n.slice(i,c?c.index:n.length),s&&(a?a==="#"?o.id=s:o.className?o.className.push(s):o.className=[s]:r=s,i+=s.length),c&&(a=c[0],i++);return{type:"element",tagName:r,properties:o,children:[]}}var v8={};v8.parse=dze;v8.stringify=fze;var PU="",cze=" ",uze=/[ \t\n\r\f]+/g;function dze(e){var t=String(e||PU).trim();return t===PU?[]:t.split(uze)}function fze(e){return e.join(cze).trim()}var y8={};y8.parse=hze;y8.stringify=pze;var ZR=",",DU=" ",hy="";function hze(e){for(var t=[],n=String(e||hy),r=n.indexOf(ZR),o=0,i=!1,s;!i;)r===-1&&(r=n.length,i=!0),s=n.slice(o,r).trim(),(s||!i)&&t.push(s),o=r+1,r=n.indexOf(ZR,o);return t}function pze(e,t){var n=t||{},r=n.padLeft===!1?hy:DU,o=n.padRight?DU:hy;return e[e.length-1]===hy&&(e=e.concat(hy)),e.join(o+ZR+r).trim()}var mze=JNe,IU=h8,gze=aze,RU=v8.parse,$U=y8.parse,vze=bze,yze={}.hasOwnProperty;function bze(e,t,n){var r=n?Sze(n):null;return o;function o(s,a){var c=gze(s,t),u=Array.prototype.slice.call(arguments,2),d=c.tagName.toLowerCase(),f;if(c.tagName=r&&yze.call(r,d)?r[d]:d,a&&xze(a,c)&&(u.unshift(a),a=null),a)for(f in a)i(c.properties,f,a[f]);return Wxe(c.children,u),c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}function i(s,a,c){var u,d,f;c==null||c!==c||(u=mze(e,a),d=u.property,f=c,typeof f=="string"&&(u.spaceSeparated?f=RU(f):u.commaSeparated?f=$U(f):u.commaOrSpaceSeparated&&(f=RU($U(f).join(" ")))),d==="style"&&typeof c!="string"&&(f=Cze(f)),d==="className"&&s.className&&(f=s.className.concat(f)),s[d]=_ze(u,d,f))}}function xze(e,t){return typeof e=="string"||"length"in e||wze(t.tagName,e)}function wze(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function Wxe(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)Wxe(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function _ze(e,t,n){var r,o,i;if(typeof n!="object"||!("length"in n))return MU(e,t,n);for(o=n.length,r=-1,i=[];++r<o;)i[r]=MU(e,t,n[r]);return i}function MU(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||IU(n)===IU(t))&&(r=!0),r}function Cze(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function Sze(e){for(var t=e.length,n=-1,r={},o;++n<t;)o=e[n],r[o.toLowerCase()]=o;return r}var Eze=KNe,kze=vze,Yxe=kze(Eze,"div");Yxe.displayName="html";var jze=Yxe,Tze=jze;const Aze="Æ",Oze="&",Pze="Á",Dze="Â",Ize="À",Rze="Å",$ze="Ã",Mze="Ä",Fze="©",Lze="Ç",Bze="Ð",Nze="É",zze="Ê",Vze="È",Hze="Ë",Uze=">",Wze="Í",Yze="Î",qze="Ì",Gze="Ï",Kze="<",Zze="Ñ",Xze="Ó",Qze="Ô",Jze="Ò",eVe="Ø",tVe="Õ",nVe="Ö",rVe='"',oVe="®",iVe="Þ",sVe="Ú",aVe="Û",lVe="Ù",cVe="Ü",uVe="Ý",dVe="á",fVe="â",hVe="´",pVe="æ",mVe="à",gVe="&",vVe="å",yVe="ã",bVe="ä",xVe="¦",wVe="ç",_Ve="¸",CVe="¢",SVe="©",EVe="¤",kVe="°",jVe="÷",TVe="é",AVe="ê",OVe="è",PVe="ð",DVe="ë",IVe="½",RVe="¼",$Ve="¾",MVe=">",FVe="í",LVe="î",BVe="¡",NVe="ì",zVe="¿",VVe="ï",HVe="«",UVe="<",WVe="¯",YVe="µ",qVe="·",GVe=" ",KVe="¬",ZVe="ñ",XVe="ó",QVe="ô",JVe="ò",eHe="ª",tHe="º",nHe="ø",rHe="õ",oHe="ö",iHe="¶",sHe="±",aHe="£",lHe='"',cHe="»",uHe="®",dHe="§",fHe="­",hHe="¹",pHe="²",mHe="³",gHe="ß",vHe="þ",yHe="×",bHe="ú",xHe="û",wHe="ù",_He="¨",CHe="ü",SHe="ý",EHe="¥",kHe="ÿ",jHe={AElig:Aze,AMP:Oze,Aacute:Pze,Acirc:Dze,Agrave:Ize,Aring:Rze,Atilde:$ze,Auml:Mze,COPY:Fze,Ccedil:Lze,ETH:Bze,Eacute:Nze,Ecirc:zze,Egrave:Vze,Euml:Hze,GT:Uze,Iacute:Wze,Icirc:Yze,Igrave:qze,Iuml:Gze,LT:Kze,Ntilde:Zze,Oacute:Xze,Ocirc:Qze,Ograve:Jze,Oslash:eVe,Otilde:tVe,Ouml:nVe,QUOT:rVe,REG:oVe,THORN:iVe,Uacute:sVe,Ucirc:aVe,Ugrave:lVe,Uuml:cVe,Yacute:uVe,aacute:dVe,acirc:fVe,acute:hVe,aelig:pVe,agrave:mVe,amp:gVe,aring:vVe,atilde:yVe,auml:bVe,brvbar:xVe,ccedil:wVe,cedil:_Ve,cent:CVe,copy:SVe,curren:EVe,deg:kVe,divide:jVe,eacute:TVe,ecirc:AVe,egrave:OVe,eth:PVe,euml:DVe,frac12:IVe,frac14:RVe,frac34:$Ve,gt:MVe,iacute:FVe,icirc:LVe,iexcl:BVe,igrave:NVe,iquest:zVe,iuml:VVe,laquo:HVe,lt:UVe,macr:WVe,micro:YVe,middot:qVe,nbsp:GVe,not:KVe,ntilde:ZVe,oacute:XVe,ocirc:QVe,ograve:JVe,ordf:eHe,ordm:tHe,oslash:nHe,otilde:rHe,ouml:oHe,para:iHe,plusmn:sHe,pound:aHe,quot:lHe,raquo:cHe,reg:uHe,sect:dHe,shy:fHe,sup1:hHe,sup2:pHe,sup3:mHe,szlig:gHe,thorn:vHe,times:yHe,uacute:bHe,ucirc:xHe,ugrave:wHe,uml:_He,uuml:CHe,yacute:SHe,yen:EHe,yuml:kHe},THe={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};var qxe=AHe;function AHe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var OHe=PHe;function PHe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var DHe=IHe;function IHe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var RHe=DHe,$He=qxe,MHe=FHe;function FHe(e){return RHe(e)||$He(e)}var O_,LHe=59,BHe=NHe;function NHe(e){var t="&"+e+";",n;return O_=O_||document.createElement("i"),O_.innerHTML=t,n=O_.textContent,n.charCodeAt(n.length-1)===LHe&&e!=="semi"||n===t?!1:n}var FU=jHe,LU=THe,zHe=qxe,VHe=OHe,Gxe=MHe,HHe=BHe,UHe=rUe,WHe={}.hasOwnProperty,zm=String.fromCharCode,YHe=Function.prototype,BU={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},qHe=9,NU=10,GHe=12,KHe=32,zU=38,ZHe=59,XHe=60,QHe=61,JHe=35,eUe=88,tUe=120,nUe=65533,sg="named",b8="hexadecimal",x8="decimal",w8={};w8[b8]=16;w8[x8]=10;var _T={};_T[sg]=Gxe;_T[x8]=zHe;_T[b8]=VHe;var Kxe=1,Zxe=2,Xxe=3,Qxe=4,Jxe=5,XR=6,ewe=7,Hf={};Hf[Kxe]="Named character references must be terminated by a semicolon";Hf[Zxe]="Numeric character references must be terminated by a semicolon";Hf[Xxe]="Named character references cannot be empty";Hf[Qxe]="Numeric character references cannot be empty";Hf[Jxe]="Named character references must be known";Hf[XR]="Numeric character references cannot be disallowed";Hf[ewe]="Numeric character references cannot be outside the permissible Unicode range";function rUe(e,t){var n={},r,o;t||(t={});for(o in BU)r=t[o],n[o]=r??BU[o];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),oUe(e,n)}function oUe(e,t){var n=t.additional,r=t.nonTerminated,o=t.text,i=t.reference,s=t.warning,a=t.textContext,c=t.referenceContext,u=t.warningContext,d=t.position,f=t.indent||[],p=e.length,m=0,v=-1,g=d.column||1,b=d.line||1,x="",y=[],w,_,C,S,E,j,k,T,A,O,P,D,R,$,H,F,V,W,z;for(typeof n=="string"&&(n=n.charCodeAt(0)),F=q(),T=s?oe:YHe,m--,p++;++m<p;)if(E===NU&&(g=f[v]||1),E=e.charCodeAt(m),E===zU){if(k=e.charCodeAt(m+1),k===qHe||k===NU||k===GHe||k===KHe||k===zU||k===XHe||k!==k||n&&k===n){x+=zm(E),g++;continue}for(R=m+1,D=R,z=R,k===JHe?(z=++D,k=e.charCodeAt(z),k===eUe||k===tUe?($=b8,z=++D):$=x8):$=sg,w="",P="",S="",H=_T[$],z--;++z<p&&(k=e.charCodeAt(z),!!H(k));)S+=zm(k),$===sg&&WHe.call(FU,S)&&(w=S,P=FU[S]);C=e.charCodeAt(z)===ZHe,C&&(z++,_=$===sg?HHe(S):!1,_&&(w=S,P=_)),W=1+z-R,!C&&!r||(S?$===sg?(C&&!P?T(Jxe,1):(w!==S&&(z=D+w.length,W=1+z-D,C=!1),C||(A=w?Kxe:Xxe,t.attribute?(k=e.charCodeAt(z),k===QHe?(T(A,W),P=null):Gxe(k)?P=null:T(A,W)):T(A,W))),j=P):(C||T(Zxe,W),j=parseInt(S,w8[$]),iUe(j)?(T(ewe,W),j=zm(nUe)):j in LU?(T(XR,W),j=LU[j]):(O="",sUe(j)&&T(XR,W),j>65535&&(j-=65536,O+=zm(j>>>10|55296),j=56320|j&1023),j=O+zm(j))):$!==sg&&T(Qxe,W)),j?(N(),F=q(),m=z-1,g+=z-R+1,y.push(j),V=q(),V.offset++,i&&i.call(c,j,{start:F,end:V},e.slice(R-1,z)),F=V):(S=e.slice(R-1,z),x+=S,g+=S.length,m=z-1)}else E===10&&(b++,v++,g=0),E===E?(x+=zm(E),g++):N();return y.join("");function q(){return{line:b,column:g,offset:m+(d.offset||0)}}function oe(G,Y){var K=q();K.column+=Y,K.offset+=Y,s.call(u,Hf[G],K,G)}function N(){x&&(y.push(x),o&&o.call(a,x,{start:F,end:q()}),x="")}}function iUe(e){return e>=55296&&e<=57343||e>1114111}function sUe(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var twe={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function y(w){return w instanceof c?new c(w.type,y(w.content),w.alias):Array.isArray(w)?w.map(y):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(y){return Object.prototype.toString.call(y).slice(8,-1)},objId:function(y){return y.__id||Object.defineProperty(y,"__id",{value:++i}),y.__id},clone:function y(w,_){_=_||{};var C,S;switch(a.util.type(w)){case"Object":if(S=a.util.objId(w),_[S])return _[S];C={},_[S]=C;for(var E in w)w.hasOwnProperty(E)&&(C[E]=y(w[E],_));return C;case"Array":return S=a.util.objId(w),_[S]?_[S]:(C=[],_[S]=C,w.forEach(function(j,k){C[k]=y(j,_)}),C);default:return w}},getLanguage:function(y){for(;y;){var w=o.exec(y.className);if(w)return w[1].toLowerCase();y=y.parentElement}return"none"},setLanguage:function(y,w){y.className=y.className.replace(RegExp(o,"gi"),""),y.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(C){var y=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(C.stack)||[])[1];if(y){var w=document.getElementsByTagName("script");for(var _ in w)if(w[_].src==y)return w[_]}return null}},isActive:function(y,w,_){for(var C="no-"+w;y;){var S=y.classList;if(S.contains(w))return!0;if(S.contains(C))return!1;y=y.parentElement}return!!_}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(y,w){var _=a.util.clone(a.languages[y]);for(var C in w)_[C]=w[C];return _},insertBefore:function(y,w,_,C){C=C||a.languages;var S=C[y],E={};for(var j in S)if(S.hasOwnProperty(j)){if(j==w)for(var k in _)_.hasOwnProperty(k)&&(E[k]=_[k]);_.hasOwnProperty(j)||(E[j]=S[j])}var T=C[y];return C[y]=E,a.languages.DFS(a.languages,function(A,O){O===T&&A!=y&&(this[A]=E)}),E},DFS:function y(w,_,C,S){S=S||{};var E=a.util.objId;for(var j in w)if(w.hasOwnProperty(j)){_.call(w,j,w[j],C||j);var k=w[j],T=a.util.type(k);T==="Object"&&!S[E(k)]?(S[E(k)]=!0,y(k,_,null,S)):T==="Array"&&!S[E(k)]&&(S[E(k)]=!0,y(k,_,j,S))}}},plugins:{},highlightAll:function(y,w){a.highlightAllUnder(document,y,w)},highlightAllUnder:function(y,w,_){var C={callback:_,container:y,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",C),C.elements=Array.prototype.slice.apply(C.container.querySelectorAll(C.selector)),a.hooks.run("before-all-elements-highlight",C);for(var S=0,E;E=C.elements[S++];)a.highlightElement(E,w===!0,C.callback)},highlightElement:function(y,w,_){var C=a.util.getLanguage(y),S=a.languages[C];a.util.setLanguage(y,C);var E=y.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,C);var j=y.textContent,k={element:y,language:C,grammar:S,code:j};function T(O){k.highlightedCode=O,a.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,a.hooks.run("after-highlight",k),a.hooks.run("complete",k),_&&_.call(k.element)}if(a.hooks.run("before-sanity-check",k),E=k.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!k.code){a.hooks.run("complete",k),_&&_.call(k.element);return}if(a.hooks.run("before-highlight",k),!k.grammar){T(a.util.encode(k.code));return}if(w&&r.Worker){var A=new Worker(a.filename);A.onmessage=function(O){T(O.data)},A.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else T(a.highlight(k.code,k.grammar,k.language))},highlight:function(y,w,_){var C={code:y,grammar:w,language:_};if(a.hooks.run("before-tokenize",C),!C.grammar)throw new Error('The language "'+C.language+'" has no grammar.');return C.tokens=a.tokenize(C.code,C.grammar),a.hooks.run("after-tokenize",C),c.stringify(a.util.encode(C.tokens),C.language)},tokenize:function(y,w){var _=w.rest;if(_){for(var C in _)w[C]=_[C];delete w.rest}var S=new f;return p(S,S.head,y),d(y,S,w,S.head,0),v(S)},hooks:{all:{},add:function(y,w){var _=a.hooks.all;_[y]=_[y]||[],_[y].push(w)},run:function(y,w){var _=a.hooks.all[y];if(!(!_||!_.length))for(var C=0,S;S=_[C++];)S(w)}},Token:c};r.Prism=a;function c(y,w,_,C){this.type=y,this.content=w,this.alias=_,this.length=(C||"").length|0}c.stringify=function y(w,_){if(typeof w=="string")return w;if(Array.isArray(w)){var C="";return w.forEach(function(T){C+=y(T,_)}),C}var S={type:w.type,content:y(w.content,_),tag:"span",classes:["token",w.type],attributes:{},language:_},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(S.classes,E):S.classes.push(E)),a.hooks.run("wrap",S);var j="";for(var k in S.attributes)j+=" "+k+'="'+(S.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+j+">"+S.content+"</"+S.tag+">"};function u(y,w,_,C){y.lastIndex=w;var S=y.exec(_);if(S&&C&&S[1]){var E=S[1].length;S.index+=E,S[0]=S[0].slice(E)}return S}function d(y,w,_,C,S,E){for(var j in _)if(!(!_.hasOwnProperty(j)||!_[j])){var k=_[j];k=Array.isArray(k)?k:[k];for(var T=0;T<k.length;++T){if(E&&E.cause==j+","+T)return;var A=k[T],O=A.inside,P=!!A.lookbehind,D=!!A.greedy,R=A.alias;if(D&&!A.pattern.global){var $=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,$+"g")}for(var H=A.pattern||A,F=C.next,V=S;F!==w.tail&&!(E&&V>=E.reach);V+=F.value.length,F=F.next){var W=F.value;if(w.length>y.length)return;if(!(W instanceof c)){var z=1,q;if(D){if(q=u(H,V,y,P),!q||q.index>=y.length)break;var Y=q.index,oe=q.index+q[0].length,N=V;for(N+=F.value.length;Y>=N;)F=F.next,N+=F.value.length;if(N-=F.value.length,V=N,F.value instanceof c)continue;for(var G=F;G!==w.tail&&(N<oe||typeof G.value=="string");G=G.next)z++,N+=G.value.length;z--,W=y.slice(V,N),q.index-=V}else if(q=u(H,0,W,P),!q)continue;var Y=q.index,K=q[0],X=W.slice(0,Y),Q=W.slice(Y+K.length),Z=V+W.length;E&&Z>E.reach&&(E.reach=Z);var re=F.prev;X&&(re=p(w,re,X),V+=X.length),m(w,re,z);var ae=new c(j,O?a.tokenize(K,O):K,R,K);if(F=p(w,re,ae),Q&&p(w,F,Q),z>1){var me={cause:j+","+T,reach:Z};d(y,w,_,F.prev,V,me),E&&me.reach>E.reach&&(E.reach=me.reach)}}}}}}function f(){var y={value:null,prev:null,next:null},w={value:null,prev:y,next:null};y.next=w,this.head=y,this.tail=w,this.length=0}function p(y,w,_){var C=w.next,S={value:_,prev:w,next:C};return w.next=S,C.prev=S,y.length++,S}function m(y,w,_){for(var C=w.next,S=0;S<_&&C!==y.tail;S++)C=C.next;w.next=C,C.prev=w,y.length-=S}function v(y){for(var w=[],_=y.head.next;_!==y.tail;)w.push(_.value),_=_.next;return w}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(y){var w=JSON.parse(y.data),_=w.language,C=w.code,S=w.immediateClose;r.postMessage(a.highlight(C,a.languages[_],_)),S&&r.close()},!1)),a;var g=a.util.currentScript();g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0));function b(){a.manual||a.highlightAll()}if(!a.manual){var x=document.readyState;x==="loading"||x==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",b):window.requestAnimationFrame?window.requestAnimationFrame(b):window.setTimeout(b,16)}return a}(t);e.exports&&(e.exports=n),typeof ys<"u"&&(ys.Prism=n)})(twe);var aUe=twe.exports,lUe=_8;_8.displayName="markup";_8.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function _8(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var cUe=C8;C8.displayName="css";C8.aliases=[];function C8(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var uUe=S8;S8.displayName="clike";S8.aliases=[];function S8(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var nwe=E8;E8.displayName="javascript";E8.aliases=["js"];function E8(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const dUe=Pe(nwe);var py=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof ys=="object"?ys:{},fUe=TUe();py.Prism={manual:!0,disableWorkerMessageHandler:!0};var hUe=Tze,pUe=UHe,rwe=aUe,mUe=lUe,gUe=cUe,vUe=uUe,yUe=nwe;fUe();var k8={}.hasOwnProperty;function owe(){}owe.prototype=rwe;var ro=new owe,bUe=ro;ro.highlight=wUe;ro.register=lw;ro.alias=xUe;ro.registered=_Ue;ro.listLanguages=CUe;lw(mUe);lw(gUe);lw(vUe);lw(yUe);ro.util.encode=kUe;ro.Token.stringify=SUe;function lw(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");ro.languages[e.displayName]===void 0&&e(ro)}function xUe(e,t){var n=ro.languages,r=e,o,i,s,a;t&&(r={},r[e]=t);for(o in r)for(i=r[o],i=typeof i=="string"?[i]:i,s=i.length,a=-1;++a<s;)n[i[a]]=n[o]}function wUe(e,t){var n=rwe.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(ro.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(k8.call(ro.languages,t))r=ro.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function _Ue(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return k8.call(ro.languages,e)}function CUe(){var e=ro.languages,t=[],n;for(n in e)k8.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function SUe(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:ro.util.type(e)==="Array"?EUe(e,t):(r={type:e.type,content:ro.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),ro.hooks.run("wrap",r),hUe(r.tag+"."+r.classes.join("."),jUe(r.attributes),r.content))}function EUe(e,t){for(var n=[],r=e.length,o=-1,i;++o<r;)i=e[o],i!==""&&i!==null&&i!==void 0&&n.push(i);for(o=-1,r=n.length;++o<r;)i=n[o],n[o]=ro.Token.stringify(i,t,n);return n}function kUe(e){return e}function jUe(e){var t;for(t in e)e[t]=pUe(e[t]);return e}function TUe(){var e="Prism"in py,t=e?py.Prism:void 0;return n;function n(){e?py.Prism=t:delete py.Prism,e=void 0,t=void 0}}var iwe={},AUe=h;function OUe(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return AUe.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(swe(n+1)))}return e.value}function swe(e){return function(n,r){return OUe(n,r,e)}}iwe.depth=swe;var awe=lwe;function lwe(e){if(e==null)return RUe;if(typeof e=="string")return IUe(e);if(typeof e=="object")return"length"in e?DUe(e):PUe(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function PUe(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function DUe(e){for(var t=[],n=-1;++n<e.length;)t[n]=lwe(e[n]);return r;function r(){for(var o=-1;++o<t.length;)if(t[o].apply(this,arguments))return!0;return!1}}function IUe(e){return t;function t(n){return!!(n&&n.type===e)}}function RUe(){return!0}var $Ue=awe,MUe=LUe,FUe={}.hasOwnProperty;function LUe(e,t,n){var r=$Ue(n||t),o=t.cascade==null?!0:t.cascade;return i(e,null,null);function i(s,a,c){var u,d,f,p,m;if(!r(s,a,c))return null;if(s.children){for(u=[],d=-1;++d<s.children.length;)f=i(s.children[d],d,s),f&&u.push(f);if(o&&s.children.length&&!u.length)return null}p={};for(m in s)FUe.call(s,m)&&(p[m]=m==="children"?u:s[m]);return p}}var BUe=NUe;function NUe(e){return e}var zUe=CT,VUe=awe,HUe=BUe,cwe=!0,uwe="skip",QR=!1;CT.CONTINUE=cwe;CT.SKIP=uwe;CT.EXIT=QR;function CT(e,t,n,r){var o,i;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),i=VUe(t),o=r?-1:1,s(e,null,[])();function s(a,c,u){var d=typeof a=="object"&&a!==null?a:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+HUe(d.type+(f?"<"+f+">":""))+")"),p;function p(){var m=u.concat(a),v=[],g,b;if((!t||i(a,c,u[u.length-1]||null))&&(v=UUe(n(a,u)),v[0]===QR))return v;if(a.children&&v[0]!==uwe)for(b=(r?a.children.length:-1)+o;b>-1&&b<a.children.length;){if(g=s(a.children[b],b,m)(),g[0]===QR)return g;b=typeof g[1]=="number"?g[1]:b+o}return v}}}function UUe(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[cwe,e]:[e]}var WUe=typeof WeakMap=="function"?cw:uw;function cw(){this.map=new WeakMap}cw.prototype.has=function(e){return this.map.has(e)};cw.prototype.set=function(e,t){return this.map.set(e,t),this};cw.prototype.get=function(e){return this.map.get(e)};cw.prototype.clear=function(){};function uw(){this.keys=[],this.values=[]}uw.prototype.has=function(e){return this.keys.indexOf(e)!==-1};uw.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};uw.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};uw.prototype.clear=function(){this.keys=[],this.values=[]};var YUe=MUe,VU=zUe,MP=WUe;function dwe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var o=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=o,r.lineEnd=o,n.nodes.push(r),n;for(var i=r.value.split(`
`),s=0;s<i.length;s++){var a=s===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:s===i.length-1?i[s]:"".concat(i[s],`
`),lineStart:a,lineEnd:a})}return n.lineNumber=t.lineNumber,n}if(r.children){var c=dwe(r.children,t),u=c.nodes[0],d=c.nodes[c.nodes.length-1];return r.lineStart=u?u.lineStart:o,r.lineEnd=d?d.lineEnd:o,r.children=c.nodes,n.lineNumber=c.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function qUe(e,t){var n={type:"root",children:t},r=new MP,o=new MP,i=new MP,s=[];function a(f,p,m){s.push(p),m.forEach(function(y){f.has(y)||(f.set(y,Object.assign({},y,{children:[]})),y!==n&&s.push(y))});for(var v=m.length;v--;){var g=f.get(m[v]),b=m[v+1],x=f.get(b)||p;g.children.indexOf(x)===-1&&g.children.push(x)}}VU(n,function(f,p){if(!f.children){if(f.lineStart<e){a(r,f,p);return}if(f.lineStart===e){a(o,f,p);return}f.lineEnd>e&&s.some(function(m){return p.indexOf(m)!==-1})&&a(i,f,p)}});var c=YUe(n,function(f){return s.indexOf(f)===-1}),u=function(p){var m=p.get(n);return m?(VU(m,function(v,g){if(v.children){v.lineStart=0,v.lineEnd=0;return}g.forEach(function(b){b.lineStart=Math.max(b.lineStart,v.lineStart),b.lineEnd=Math.max(b.lineEnd,v.lineEnd)})}),m.children):[]},d=[].concat(u(r),u(o),u(i),c?c.children:[]);return r.clear(),o.clear(),i.clear(),d}function GUe(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function KUe(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(f,p){return qUe(p.line,f)},e),o=[],i=0,s=0;s<t.length;s++){for(var a=t[s],c=r[i];c&&c.lineEnd<a.line;c=r[++i])o.push(c);for(var u=[],d=r[i];d&&d.lineEnd===a.line;d=r[++i])u.push(d);u.length>0&&o.push(GUe(u,a,n))}for(;i<r.length;)o.push(r[i++]);return o}function ZUe(e,t){var n=t.markers.map(function(o){return o.line?o:{line:o}}).sort(function(o,i){return o.line-i.line}),r=dwe(e).nodes;return KUe(r,n,t)}var XUe=ZUe,QUe=h,Ds=$xe,j8=bUe,JUe=iwe,eWe=XUe,HU=QUe.createElement;function dw(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className,t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className);var o=j8.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(o=eWe(o,{markers:e.markers}));var i=o.length===0?e.value:o.map(JUe.depth(0)),s=HU("code",n,i);return e.inline?s:HU("pre",r,s)}dw.propTypes={className:Ds.string,inline:Ds.bool,language:Ds.string.isRequired,value:Ds.string.isRequired,markers:Ds.arrayOf(Ds.oneOfType([Ds.number,Ds.shape({line:Ds.number.isRequired,className:Ds.string,component:Ds.oneOfType([Ds.node,Ds.func])})]))};dw.defaultProps={className:"refractor",inline:!1};dw.registerLanguage=function(e){return j8.register(e)};dw.hasLanguage=function(e){return j8.registered(e)};var tWe=dw;const Ip=Pe(tWe),nWe=["top","right","bottom","left"],Ov=Math.min,mp=Math.max,ME=Math.round,P_=Math.floor,kf=e=>({x:e,y:e}),rWe={left:"right",right:"left",bottom:"top",top:"bottom"},oWe={start:"end",end:"start"};function JR(e,t,n){return mp(e,Ov(t,n))}function m0(e,t){return typeof e=="function"?e(t):e}function Rp(e){return e.split("-")[0]}function fw(e){return e.split("-")[1]}function fwe(e){return e==="x"?"y":"x"}function T8(e){return e==="y"?"height":"width"}function ST(e){return["top","bottom"].includes(Rp(e))?"y":"x"}function A8(e){return fwe(ST(e))}function iWe(e,t,n){n===void 0&&(n=!1);const r=fw(e),o=A8(e),i=T8(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=FE(s)),[s,FE(s)]}function sWe(e){const t=FE(e);return[e$(e),t,e$(t)]}function e$(e){return e.replace(/start|end/g,t=>oWe[t])}function aWe(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function lWe(e,t,n,r){const o=fw(e);let i=aWe(Rp(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(e$)))),i}function FE(e){return e.replace(/left|right|bottom|top/g,t=>rWe[t])}function cWe(e){return{top:0,right:0,bottom:0,left:0,...e}}function hwe(e){return typeof e!="number"?cWe(e):{top:e,right:e,bottom:e,left:e}}function LE(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function UU(e,t,n){let{reference:r,floating:o}=e;const i=ST(t),s=A8(t),a=T8(s),c=Rp(t),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(fw(t)){case"start":m[s]-=p*(n&&u?-1:1);break;case"end":m[s]+=p*(n&&u?-1:1);break}return m}const uWe=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=UU(u,r,c),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:b,fn:x}=a[g],{x:y,y:w,data:_,reset:C}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=y??d,f=w??f,m={...m,[b]:{...m[b],..._}},C&&v<=50){v++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(u=C.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):C.rects),{x:d,y:f}=UU(u,p,c)),g=-1;continue}}return{x:d,y:f,placement:p,strategy:o,middlewareData:m}};async function Db(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=m0(t,e),v=hwe(m),b=a[p?f==="floating"?"reference":"floating":f],x=LE(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},C=LE(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-C.top+v.top)/_.y,bottom:(C.bottom-x.bottom+v.bottom)/_.y,left:(x.left-C.left+v.left)/_.x,right:(C.right-x.right+v.right)/_.x}}const WU=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=m0(e,t)||{};if(u==null)return{};const f=hwe(d),p={x:n,y:r},m=A8(o),v=T8(m),g=await s.getDimensions(u),b=m==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[m]-p[m]-i.floating[v],C=p[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=S?S[w]:0;(!E||!await(s.isElement==null?void 0:s.isElement(S)))&&(E=a.floating[w]||i.floating[v]);const j=_/2-C/2,k=E/2-g[v]/2-1,T=Ov(f[x],k),A=Ov(f[y],k),O=T,P=E-g[v]-A,D=E/2-g[v]/2+j,R=JR(O,D,P),$=!c.arrow&&fw(o)!=null&&D!=R&&i.reference[v]/2-(D<O?T:A)-g[v]/2<0,H=$?D<O?D-O:D-P:0;return{[m]:p[m]+H,data:{[m]:R,centerOffset:D-R-H,...$&&{alignmentOffset:H}},reset:$}}}),pwe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=m0(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Rp(o),y=Rp(a)===a,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=p||(y||!g?[FE(a)]:sWe(a));!p&&v!=="none"&&_.push(...lWe(a,g,v,w));const C=[a,..._],S=await Db(t,b),E=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(S[x]),f){const O=iWe(o,s,w);E.push(S[O[0]],S[O[1]])}if(j=[...j,{placement:o,overflows:E}],!E.every(O=>O<=0)){var k,T;const O=(((k=i.flip)==null?void 0:k.index)||0)+1,P=C[O];if(P)return{data:{index:O,overflows:j},reset:{placement:P}};let D=(T=j.filter(R=>R.overflows[0]<=0).sort((R,$)=>R.overflows[1]-$.overflows[1])[0])==null?void 0:T.placement;if(!D)switch(m){case"bestFit":{var A;const R=(A=j.map($=>[$.placement,$.overflows.filter(H=>H>0).reduce((H,F)=>H+F,0)]).sort(($,H)=>$[1]-H[1])[0])==null?void 0:A[0];R&&(D=R);break}case"initialPlacement":D=a;break}if(o!==D)return{reset:{placement:D}}}return{}}}};function YU(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qU(e){return nWe.some(t=>e[t]>=0)}const dWe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=m0(e,t);switch(r){case"referenceHidden":{const i=await Db(t,{...o,elementContext:"reference"}),s=YU(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:qU(s)}}}case"escaped":{const i=await Db(t,{...o,altBoundary:!0}),s=YU(i,n.floating);return{data:{escapedOffsets:s,escaped:qU(s)}}}default:return{}}}}};async function fWe(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Rp(n),a=fw(n),c=ST(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,f=m0(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const mwe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await fWe(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},gwe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x,y}=b;return{x,y}}},...c}=m0(e,t),u={x:n,y:r},d=await Db(t,c),f=ST(Rp(o)),p=fwe(f);let m=u[p],v=u[f];if(i){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=m+d[b],w=m-d[x];m=JR(y,m,w)}if(s){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=v+d[b],w=v-d[x];v=JR(y,v,w)}const g=a.fn({...t,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}};function jf(e){return vwe(e)?(e.nodeName||"").toLowerCase():"#document"}function Zs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xu(e){var t;return(t=(vwe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vwe(e){return e instanceof Node||e instanceof Zs(e).Node}function ju(e){return e instanceof Element||e instanceof Zs(e).Element}function Cc(e){return e instanceof HTMLElement||e instanceof Zs(e).HTMLElement}function GU(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zs(e).ShadowRoot}function hw(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Fa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function hWe(e){return["table","td","th"].includes(jf(e))}function O8(e){const t=P8(),n=Fa(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function pWe(e){let t=Pv(e);for(;Cc(t)&&!ET(t);){if(O8(t))return t;t=Pv(t)}return null}function P8(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ET(e){return["html","body","#document"].includes(jf(e))}function Fa(e){return Zs(e).getComputedStyle(e)}function kT(e){return ju(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Pv(e){if(jf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||GU(e)&&e.host||Xu(e);return GU(t)?t.host:t}function ywe(e){const t=Pv(e);return ET(t)?e.ownerDocument?e.ownerDocument.body:e.body:Cc(t)&&hw(t)?t:ywe(t)}function Ib(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=ywe(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Zs(o);return i?t.concat(s,s.visualViewport||[],hw(o)?o:[],s.frameElement&&n?Ib(s.frameElement):[]):t.concat(o,Ib(o,[],n))}function bwe(e){const t=Fa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Cc(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=ME(n)!==i||ME(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function D8(e){return ju(e)?e:e.contextElement}function Yg(e){const t=D8(e);if(!Cc(t))return kf(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=bwe(t);let s=(i?ME(n.width):n.width)/r,a=(i?ME(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const mWe=kf(0);function xwe(e){const t=Zs(e);return!P8()||!t.visualViewport?mWe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gWe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Zs(e)?!1:t}function $p(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=D8(e);let s=kf(1);t&&(r?ju(r)&&(s=Yg(r)):s=Yg(e));const a=gWe(i,n,r)?xwe(i):kf(0);let c=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const p=Zs(i),m=r&&ju(r)?Zs(r):r;let v=p.frameElement;for(;v&&r&&m!==p;){const g=Yg(v),b=v.getBoundingClientRect(),x=Fa(v),y=b.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,w=b.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=y,u+=w,v=Zs(v).frameElement}}return LE({width:d,height:f,x:c,y:u})}function vWe(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Cc(n),i=Xu(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=kf(1);const c=kf(0);if((o||!o&&r!=="fixed")&&((jf(n)!=="body"||hw(i))&&(s=kT(n)),Cc(n))){const u=$p(n);a=Yg(n),c.x=u.x+n.clientLeft,c.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+c.x,y:t.y*a.y-s.scrollTop*a.y+c.y}}function yWe(e){return Array.from(e.getClientRects())}function wwe(e){return $p(Xu(e)).left+kT(e).scrollLeft}function bWe(e){const t=Xu(e),n=kT(e),r=e.ownerDocument.body,o=mp(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=mp(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+wwe(e);const a=-n.scrollTop;return Fa(r).direction==="rtl"&&(s+=mp(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function xWe(e,t){const n=Zs(e),r=Xu(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const u=P8();(!u||u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}function wWe(e,t){const n=$p(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Cc(e)?Yg(e):kf(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,u=r*i.y;return{width:s,height:a,x:c,y:u}}function KU(e,t,n){let r;if(t==="viewport")r=xWe(e,n);else if(t==="document")r=bWe(Xu(e));else if(ju(t))r=wWe(t,n);else{const o=xwe(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return LE(r)}function _we(e,t){const n=Pv(e);return n===t||!ju(n)||ET(n)?!1:Fa(n).position==="fixed"||_we(n,t)}function _We(e,t){const n=t.get(e);if(n)return n;let r=Ib(e,[],!1).filter(a=>ju(a)&&jf(a)!=="body"),o=null;const i=Fa(e).position==="fixed";let s=i?Pv(e):e;for(;ju(s)&&!ET(s);){const a=Fa(s),c=O8(s);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||hw(s)&&!c&&_we(e,s))?r=r.filter(d=>d!==s):o=a,s=Pv(s)}return t.set(e,r),r}function CWe(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?_We(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,d)=>{const f=KU(t,d,o);return u.top=mp(f.top,u.top),u.right=Ov(f.right,u.right),u.bottom=Ov(f.bottom,u.bottom),u.left=mp(f.left,u.left),u},KU(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function SWe(e){return bwe(e)}function EWe(e,t,n){const r=Cc(t),o=Xu(t),i=n==="fixed",s=$p(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=kf(0);if(r||!r&&!i)if((jf(t)!=="body"||hw(o))&&(a=kT(t)),r){const u=$p(t,!0,i,t);c.x=u.x+t.clientLeft,c.y=u.y+t.clientTop}else o&&(c.x=wwe(o));return{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function ZU(e,t){return!Cc(e)||Fa(e).position==="fixed"?null:t?t(e):e.offsetParent}function Cwe(e,t){const n=Zs(e);if(!Cc(e))return n;let r=ZU(e,t);for(;r&&hWe(r)&&Fa(r).position==="static";)r=ZU(r,t);return r&&(jf(r)==="html"||jf(r)==="body"&&Fa(r).position==="static"&&!O8(r))?n:r||pWe(e)||n}const kWe=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||Cwe,i=this.getDimensions;return{reference:EWe(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function jWe(e){return Fa(e).direction==="rtl"}const TWe={convertOffsetParentRelativeRectToViewportRelativeRect:vWe,getDocumentElement:Xu,getClippingRect:CWe,getOffsetParent:Cwe,getElementRects:kWe,getClientRects:yWe,getDimensions:SWe,getScale:Yg,isElement:ju,isRTL:jWe};function AWe(e,t){let n=null,r;const o=Xu(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const m=P_(d),v=P_(o.clientWidth-(u+f)),g=P_(o.clientHeight-(d+p)),b=P_(u),y={rootMargin:-m+"px "+-v+"px "+-g+"px "+-b+"px",threshold:mp(0,Ov(1,c))||1};let w=!0;function _(C){const S=C[0].intersectionRatio;if(S!==c){if(!w)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(_,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(_,y)}n.observe(e)}return s(!0),i}function Swe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=D8(e),d=o||i?[...u?Ib(u):[],...Ib(t)]:[];d.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?AWe(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let v,g=c?$p(e):null;c&&b();function b(){const x=$p(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,v=requestAnimationFrame(b)}return n(),()=>{d.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f&&f(),m&&m.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const OWe=(e,t,n)=>{const r=new Map,o={platform:TWe,...n},i={...o.platform,_c:r};return uWe(e,t,{...o,platform:i})};var Ewe={exports:{}},aa={},kwe={exports:{}},jwe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,V){var W=F.length;F.push(V);e:for(;0<W;){var z=W-1>>>1,q=F[z];if(0<o(q,V))F[z]=V,F[W]=q,W=z;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],W=F.pop();if(W!==V){F[0]=W;e:for(var z=0,q=F.length,oe=q>>>1;z<oe;){var N=2*(z+1)-1,G=F[N],Y=N+1,K=F[Y];if(0>o(G,W))Y<q&&0>o(K,G)?(F[z]=K,F[Y]=W,z=Y):(F[z]=G,F[N]=W,z=N);else if(Y<q&&0>o(K,W))F[z]=K,F[Y]=W,z=Y;else break e}}return V}function o(F,V){var W=F.sortIndex-V.sortIndex;return W!==0?W:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=F)r(u),V.sortIndex=V.expirationTime,t(c,V);else break;V=n(u)}}function _(F){if(g=!1,w(F),!v)if(n(c)!==null)v=!0,$(C);else{var V=n(u);V!==null&&H(_,V.startTime-F)}}function C(F,V){v=!1,g&&(g=!1,x(j),j=-1),m=!0;var W=p;try{for(w(V),f=n(c);f!==null&&(!(f.expirationTime>V)||F&&!A());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var q=z(f.expirationTime<=V);V=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(c)&&r(c),w(V)}else r(c);f=n(c)}if(f!==null)var oe=!0;else{var N=n(u);N!==null&&H(_,N.startTime-V),oe=!1}return oe}finally{f=null,p=W,m=!1}}var S=!1,E=null,j=-1,k=5,T=-1;function A(){return!(e.unstable_now()-T<k)}function O(){if(E!==null){var F=e.unstable_now();T=F;var V=!0;try{V=E(!0,F)}finally{V?P():(S=!1,E=null)}}else S=!1}var P;if(typeof y=="function")P=function(){y(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,R=D.port2;D.port1.onmessage=O,P=function(){R.postMessage(null)}}else P=function(){b(O,0)};function $(F){E=F,S||(S=!0,P())}function H(F,V){j=b(function(){F(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,$(C))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(F){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var W=p;p=V;try{return F()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=p;p=F;try{return V()}finally{p=W}},e.unstable_scheduleCallback=function(F,V,W){var z=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?z+W:z):W=z,F){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,F={id:d++,callback:V,priorityLevel:F,startTime:W,expirationTime:q,sortIndex:-1},W>z?(F.sortIndex=W,t(u,F),n(c)===null&&F===n(u)&&(g?(x(j),j=-1):g=!0,H(_,W-z))):(F.sortIndex=q,t(c,F),v||m||(v=!0,$(C))),F},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(F){var V=p;return function(){var W=p;p=V;try{return F.apply(this,arguments)}finally{p=W}}}})(jwe);kwe.exports=jwe;var PWe=kwe.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Twe=h,Js=PWe;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Awe=new Set,Rb={};function dm(e,t){Dv(e,t),Dv(e+"Capture",t)}function Dv(e,t){for(Rb[e]=t,e=0;e<t.length;e++)Awe.add(t[e])}var Tu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t$=Object.prototype.hasOwnProperty,DWe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XU={},QU={};function IWe(e){return t$.call(QU,e)?!0:t$.call(XU,e)?!1:DWe.test(e)?QU[e]=!0:(XU[e]=!0,!1)}function RWe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $We(e,t,n,r){if(t===null||typeof t>"u"||RWe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xi(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Jo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jo[e]=new Xi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jo[t]=new Xi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jo[e]=new Xi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jo[e]=new Xi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jo[e]=new Xi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jo[e]=new Xi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jo[e]=new Xi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jo[e]=new Xi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jo[e]=new Xi(e,5,!1,e.toLowerCase(),null,!1,!1)});var I8=/[\-:]([a-z])/g;function R8(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I8,R8);Jo[t]=new Xi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I8,R8);Jo[t]=new Xi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I8,R8);Jo[t]=new Xi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jo[e]=new Xi(e,1,!1,e.toLowerCase(),null,!1,!1)});Jo.xlinkHref=new Xi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jo[e]=new Xi(e,1,!1,e.toLowerCase(),null,!0,!0)});function $8(e,t,n,r){var o=Jo.hasOwnProperty(t)?Jo[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($We(t,n,o,r)&&(n=null),r||o===null?IWe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qu=Twe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D_=Symbol.for("react.element"),wg=Symbol.for("react.portal"),_g=Symbol.for("react.fragment"),M8=Symbol.for("react.strict_mode"),n$=Symbol.for("react.profiler"),Owe=Symbol.for("react.provider"),Pwe=Symbol.for("react.context"),F8=Symbol.for("react.forward_ref"),r$=Symbol.for("react.suspense"),o$=Symbol.for("react.suspense_list"),L8=Symbol.for("react.memo"),Ed=Symbol.for("react.lazy"),Dwe=Symbol.for("react.offscreen"),JU=Symbol.iterator;function x1(e){return e===null||typeof e!="object"?null:(e=JU&&e[JU]||e["@@iterator"],typeof e=="function"?e:null)}var Ar=Object.assign,FP;function my(e){if(FP===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);FP=t&&t[1]||""}return`
`+FP+e}var LP=!1;function BP(e,t){if(!e||LP)return"";LP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{LP=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?my(e):""}function MWe(e){switch(e.tag){case 5:return my(e.type);case 16:return my("Lazy");case 13:return my("Suspense");case 19:return my("SuspenseList");case 0:case 2:case 15:return e=BP(e.type,!1),e;case 11:return e=BP(e.type.render,!1),e;case 1:return e=BP(e.type,!0),e;default:return""}}function i$(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _g:return"Fragment";case wg:return"Portal";case n$:return"Profiler";case M8:return"StrictMode";case r$:return"Suspense";case o$:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pwe:return(e.displayName||"Context")+".Consumer";case Owe:return(e._context.displayName||"Context")+".Provider";case F8:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L8:return t=e.displayName||null,t!==null?t:i$(e.type)||"Memo";case Ed:t=e._payload,e=e._init;try{return i$(e(t))}catch{}}return null}function FWe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return i$(t);case 8:return t===M8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Iwe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LWe(e){var t=Iwe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function I_(e){e._valueTracker||(e._valueTracker=LWe(e))}function Rwe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Iwe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function BE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function s$(e,t){var n=t.checked;return Ar({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function eW(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $we(e,t){t=t.checked,t!=null&&$8(e,"checked",t,!1)}function a$(e,t){$we(e,t);var n=Tf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?l$(e,t.type,n):t.hasOwnProperty("defaultValue")&&l$(e,t.type,Tf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tW(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function l$(e,t,n){(t!=="number"||BE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gy=Array.isArray;function qg(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tf(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function c$(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Ar({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nW(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ee(92));if(gy(n)){if(1<n.length)throw Error(Ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tf(n)}}function Mwe(e,t){var n=Tf(t.value),r=Tf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rW(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fwe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function u$(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fwe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var R_,Lwe=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(R_=R_||document.createElement("div"),R_.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=R_.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $b(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BWe=["Webkit","ms","Moz","O"];Object.keys(Vy).forEach(function(e){BWe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vy[t]=Vy[e]})});function Bwe(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vy.hasOwnProperty(e)&&Vy[e]?(""+t).trim():t+"px"}function Nwe(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Bwe(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var NWe=Ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d$(e,t){if(t){if(NWe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function f$(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h$=null;function B8(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var p$=null,Gg=null,Kg=null;function oW(e){if(e=gw(e)){if(typeof p$!="function")throw Error(Ee(280));var t=e.stateNode;t&&(t=PT(t),p$(e.stateNode,e.type,t))}}function zwe(e){Gg?Kg?Kg.push(e):Kg=[e]:Gg=e}function Vwe(){if(Gg){var e=Gg,t=Kg;if(Kg=Gg=null,oW(e),t)for(e=0;e<t.length;e++)oW(t[e])}}function Hwe(e,t){return e(t)}function Uwe(){}var NP=!1;function Wwe(e,t,n){if(NP)return e(t,n);NP=!0;try{return Hwe(e,t,n)}finally{NP=!1,(Gg!==null||Kg!==null)&&(Uwe(),Vwe())}}function Mb(e,t){var n=e.stateNode;if(n===null)return null;var r=PT(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ee(231,t,typeof n));return n}var m$=!1;if(Tu)try{var w1={};Object.defineProperty(w1,"passive",{get:function(){m$=!0}}),window.addEventListener("test",w1,w1),window.removeEventListener("test",w1,w1)}catch{m$=!1}function zWe(e,t,n,r,o,i,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Hy=!1,NE=null,zE=!1,g$=null,VWe={onError:function(e){Hy=!0,NE=e}};function HWe(e,t,n,r,o,i,s,a,c){Hy=!1,NE=null,zWe.apply(VWe,arguments)}function UWe(e,t,n,r,o,i,s,a,c){if(HWe.apply(this,arguments),Hy){if(Hy){var u=NE;Hy=!1,NE=null}else throw Error(Ee(198));zE||(zE=!0,g$=u)}}function fm(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ywe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function iW(e){if(fm(e)!==e)throw Error(Ee(188))}function WWe(e){var t=e.alternate;if(!t){if(t=fm(e),t===null)throw Error(Ee(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return iW(o),e;if(i===r)return iW(o),t;i=i.sibling}throw Error(Ee(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(Ee(189))}}if(n.alternate!==r)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?e:t}function qwe(e){return e=WWe(e),e!==null?Gwe(e):null}function Gwe(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gwe(e);if(t!==null)return t;e=e.sibling}return null}var Kwe=Js.unstable_scheduleCallback,sW=Js.unstable_cancelCallback,YWe=Js.unstable_shouldYield,qWe=Js.unstable_requestPaint,Vr=Js.unstable_now,GWe=Js.unstable_getCurrentPriorityLevel,N8=Js.unstable_ImmediatePriority,Zwe=Js.unstable_UserBlockingPriority,VE=Js.unstable_NormalPriority,KWe=Js.unstable_LowPriority,Xwe=Js.unstable_IdlePriority,jT=null,mc=null;function ZWe(e){if(mc&&typeof mc.onCommitFiberRoot=="function")try{mc.onCommitFiberRoot(jT,e,void 0,(e.current.flags&128)===128)}catch{}}var yl=Math.clz32?Math.clz32:JWe,XWe=Math.log,QWe=Math.LN2;function JWe(e){return e>>>=0,e===0?32:31-(XWe(e)/QWe|0)|0}var $_=64,M_=4194304;function vy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function HE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=vy(a):(i&=s,i!==0&&(r=vy(i)))}else s=n&~o,s!==0?r=vy(s):i!==0&&(r=vy(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yl(t),o=1<<n,r|=e[n],t&=~o;return r}function eYe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tYe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-yl(i),a=1<<s,c=o[s];c===-1?(!(a&n)||a&r)&&(o[s]=eYe(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function v$(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qwe(){var e=$_;return $_<<=1,!($_&4194240)&&($_=64),e}function zP(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pw(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yl(t),e[t]=n}function nYe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-yl(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function z8(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yl(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var vn=0;function Jwe(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var e_e,V8,t_e,n_e,r_e,y$=!1,F_=[],nf=null,rf=null,of=null,Fb=new Map,Lb=new Map,Rd=[],rYe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aW(e,t){switch(e){case"focusin":case"focusout":nf=null;break;case"dragenter":case"dragleave":rf=null;break;case"mouseover":case"mouseout":of=null;break;case"pointerover":case"pointerout":Fb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lb.delete(t.pointerId)}}function _1(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=gw(t),t!==null&&V8(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function oYe(e,t,n,r,o){switch(t){case"focusin":return nf=_1(nf,e,t,n,r,o),!0;case"dragenter":return rf=_1(rf,e,t,n,r,o),!0;case"mouseover":return of=_1(of,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Fb.set(i,_1(Fb.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Lb.set(i,_1(Lb.get(i)||null,e,t,n,r,o)),!0}return!1}function o_e(e){var t=Xh(e.target);if(t!==null){var n=fm(t);if(n!==null){if(t=n.tag,t===13){if(t=Ywe(n),t!==null){e.blockedOn=t,r_e(e.priority,function(){t_e(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function O2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=b$(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);h$=r,n.target.dispatchEvent(r),h$=null}else return t=gw(n),t!==null&&V8(t),e.blockedOn=n,!1;t.shift()}return!0}function lW(e,t,n){O2(e)&&n.delete(t)}function iYe(){y$=!1,nf!==null&&O2(nf)&&(nf=null),rf!==null&&O2(rf)&&(rf=null),of!==null&&O2(of)&&(of=null),Fb.forEach(lW),Lb.forEach(lW)}function C1(e,t){e.blockedOn===t&&(e.blockedOn=null,y$||(y$=!0,Js.unstable_scheduleCallback(Js.unstable_NormalPriority,iYe)))}function Bb(e){function t(o){return C1(o,e)}if(0<F_.length){C1(F_[0],e);for(var n=1;n<F_.length;n++){var r=F_[n];r.blockedOn===e&&(r.blockedOn=null)}}for(nf!==null&&C1(nf,e),rf!==null&&C1(rf,e),of!==null&&C1(of,e),Fb.forEach(t),Lb.forEach(t),n=0;n<Rd.length;n++)r=Rd[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rd.length&&(n=Rd[0],n.blockedOn===null);)o_e(n),n.blockedOn===null&&Rd.shift()}var Zg=Qu.ReactCurrentBatchConfig,UE=!0;function sYe(e,t,n,r){var o=vn,i=Zg.transition;Zg.transition=null;try{vn=1,H8(e,t,n,r)}finally{vn=o,Zg.transition=i}}function aYe(e,t,n,r){var o=vn,i=Zg.transition;Zg.transition=null;try{vn=4,H8(e,t,n,r)}finally{vn=o,Zg.transition=i}}function H8(e,t,n,r){if(UE){var o=b$(e,t,n,r);if(o===null)XP(e,t,r,WE,n),aW(e,r);else if(oYe(o,e,t,n,r))r.stopPropagation();else if(aW(e,r),t&4&&-1<rYe.indexOf(e)){for(;o!==null;){var i=gw(o);if(i!==null&&e_e(i),i=b$(e,t,n,r),i===null&&XP(e,t,r,WE,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else XP(e,t,r,null,n)}}var WE=null;function b$(e,t,n,r){if(WE=null,e=B8(r),e=Xh(e),e!==null)if(t=fm(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ywe(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return WE=e,null}function i_e(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GWe()){case N8:return 1;case Zwe:return 4;case VE:case KWe:return 16;case Xwe:return 536870912;default:return 16}default:return 16}}var Bd=null,U8=null,P2=null;function s_e(){if(P2)return P2;var e,t=U8,n=t.length,r,o="value"in Bd?Bd.value:Bd.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return P2=o.slice(e,1<r?1-r:void 0)}function D2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function L_(){return!0}function cW(){return!1}function la(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?L_:cW,this.isPropagationStopped=cW,this}return Ar(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=L_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=L_)},persist:function(){},isPersistent:L_}),t}var g0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},W8=la(g0),mw=Ar({},g0,{view:0,detail:0}),lYe=la(mw),VP,HP,S1,TT=Ar({},mw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Y8,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==S1&&(S1&&e.type==="mousemove"?(VP=e.screenX-S1.screenX,HP=e.screenY-S1.screenY):HP=VP=0,S1=e),VP)},movementY:function(e){return"movementY"in e?e.movementY:HP}}),uW=la(TT),cYe=Ar({},TT,{dataTransfer:0}),uYe=la(cYe),dYe=Ar({},mw,{relatedTarget:0}),UP=la(dYe),fYe=Ar({},g0,{animationName:0,elapsedTime:0,pseudoElement:0}),hYe=la(fYe),pYe=Ar({},g0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mYe=la(pYe),gYe=Ar({},g0,{data:0}),dW=la(gYe),vYe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yYe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bYe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xYe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bYe[e])?!!t[e]:!1}function Y8(){return xYe}var wYe=Ar({},mw,{key:function(e){if(e.key){var t=vYe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=D2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yYe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Y8,charCode:function(e){return e.type==="keypress"?D2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?D2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_Ye=la(wYe),CYe=Ar({},TT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fW=la(CYe),SYe=Ar({},mw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Y8}),EYe=la(SYe),kYe=Ar({},g0,{propertyName:0,elapsedTime:0,pseudoElement:0}),jYe=la(kYe),TYe=Ar({},TT,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AYe=la(TYe),OYe=[9,13,27,32],q8=Tu&&"CompositionEvent"in window,Uy=null;Tu&&"documentMode"in document&&(Uy=document.documentMode);var PYe=Tu&&"TextEvent"in window&&!Uy,a_e=Tu&&(!q8||Uy&&8<Uy&&11>=Uy),hW=String.fromCharCode(32),pW=!1;function l_e(e,t){switch(e){case"keyup":return OYe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c_e(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cg=!1;function DYe(e,t){switch(e){case"compositionend":return c_e(t);case"keypress":return t.which!==32?null:(pW=!0,hW);case"textInput":return e=t.data,e===hW&&pW?null:e;default:return null}}function IYe(e,t){if(Cg)return e==="compositionend"||!q8&&l_e(e,t)?(e=s_e(),P2=U8=Bd=null,Cg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return a_e&&t.locale!=="ko"?null:t.data;default:return null}}var RYe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mW(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RYe[e.type]:t==="textarea"}function u_e(e,t,n,r){zwe(r),t=YE(t,"onChange"),0<t.length&&(n=new W8("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wy=null,Nb=null;function $Ye(e){w_e(e,0)}function AT(e){var t=kg(e);if(Rwe(t))return e}function MYe(e,t){if(e==="change")return t}var d_e=!1;if(Tu){var WP;if(Tu){var YP="oninput"in document;if(!YP){var gW=document.createElement("div");gW.setAttribute("oninput","return;"),YP=typeof gW.oninput=="function"}WP=YP}else WP=!1;d_e=WP&&(!document.documentMode||9<document.documentMode)}function vW(){Wy&&(Wy.detachEvent("onpropertychange",f_e),Nb=Wy=null)}function f_e(e){if(e.propertyName==="value"&&AT(Nb)){var t=[];u_e(t,Nb,e,B8(e)),Wwe($Ye,t)}}function FYe(e,t,n){e==="focusin"?(vW(),Wy=t,Nb=n,Wy.attachEvent("onpropertychange",f_e)):e==="focusout"&&vW()}function LYe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return AT(Nb)}function BYe(e,t){if(e==="click")return AT(t)}function NYe(e,t){if(e==="input"||e==="change")return AT(t)}function zYe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sl=typeof Object.is=="function"?Object.is:zYe;function zb(e,t){if(Sl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!t$.call(t,o)||!Sl(e[o],t[o]))return!1}return!0}function yW(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bW(e,t){var n=yW(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yW(n)}}function h_e(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h_e(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function p_e(){for(var e=window,t=BE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=BE(e.document)}return t}function G8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VYe(e){var t=p_e(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&h_e(n.ownerDocument.documentElement,n)){if(r!==null&&G8(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=bW(n,i);var s=bW(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HYe=Tu&&"documentMode"in document&&11>=document.documentMode,Sg=null,x$=null,Yy=null,w$=!1;function xW(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;w$||Sg==null||Sg!==BE(r)||(r=Sg,"selectionStart"in r&&G8(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yy&&zb(Yy,r)||(Yy=r,r=YE(x$,"onSelect"),0<r.length&&(t=new W8("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sg)))}function B_(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Eg={animationend:B_("Animation","AnimationEnd"),animationiteration:B_("Animation","AnimationIteration"),animationstart:B_("Animation","AnimationStart"),transitionend:B_("Transition","TransitionEnd")},qP={},m_e={};Tu&&(m_e=document.createElement("div").style,"AnimationEvent"in window||(delete Eg.animationend.animation,delete Eg.animationiteration.animation,delete Eg.animationstart.animation),"TransitionEvent"in window||delete Eg.transitionend.transition);function OT(e){if(qP[e])return qP[e];if(!Eg[e])return e;var t=Eg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in m_e)return qP[e]=t[n];return e}var g_e=OT("animationend"),v_e=OT("animationiteration"),y_e=OT("animationstart"),b_e=OT("transitionend"),x_e=new Map,wW="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uf(e,t){x_e.set(e,t),dm(t,[e])}for(var GP=0;GP<wW.length;GP++){var KP=wW[GP],UYe=KP.toLowerCase(),WYe=KP[0].toUpperCase()+KP.slice(1);Uf(UYe,"on"+WYe)}Uf(g_e,"onAnimationEnd");Uf(v_e,"onAnimationIteration");Uf(y_e,"onAnimationStart");Uf("dblclick","onDoubleClick");Uf("focusin","onFocus");Uf("focusout","onBlur");Uf(b_e,"onTransitionEnd");Dv("onMouseEnter",["mouseout","mouseover"]);Dv("onMouseLeave",["mouseout","mouseover"]);Dv("onPointerEnter",["pointerout","pointerover"]);Dv("onPointerLeave",["pointerout","pointerover"]);dm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dm("onBeforeInput",["compositionend","keypress","textInput","paste"]);dm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YYe=new Set("cancel close invalid load scroll toggle".split(" ").concat(yy));function _W(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,UWe(r,t,void 0,e),e.currentTarget=null}function w_e(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;_W(o,a,u),i=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;_W(o,a,u),i=c}}}if(zE)throw e=g$,zE=!1,g$=null,e}function Kn(e,t){var n=t[k$];n===void 0&&(n=t[k$]=new Set);var r=e+"__bubble";n.has(r)||(__e(t,e,2,!1),n.add(r))}function ZP(e,t,n){var r=0;t&&(r|=4),__e(n,e,r,t)}var N_="_reactListening"+Math.random().toString(36).slice(2);function Vb(e){if(!e[N_]){e[N_]=!0,Awe.forEach(function(n){n!=="selectionchange"&&(YYe.has(n)||ZP(n,!1,e),ZP(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[N_]||(t[N_]=!0,ZP("selectionchange",!1,t))}}function __e(e,t,n,r){switch(i_e(t)){case 1:var o=sYe;break;case 4:o=aYe;break;default:o=H8}n=o.bind(null,t,n,e),o=void 0,!m$||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function XP(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Xh(a),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Wwe(function(){var u=i,d=B8(n),f=[];e:{var p=x_e.get(e);if(p!==void 0){var m=W8,v=e;switch(e){case"keypress":if(D2(n)===0)break e;case"keydown":case"keyup":m=_Ye;break;case"focusin":v="focus",m=UP;break;case"focusout":v="blur",m=UP;break;case"beforeblur":case"afterblur":m=UP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=uW;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=uYe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=EYe;break;case g_e:case v_e:case y_e:m=hYe;break;case b_e:m=jYe;break;case"scroll":m=lYe;break;case"wheel":m=AYe;break;case"copy":case"cut":case"paste":m=mYe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=fW}var g=(t&4)!==0,b=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=Mb(y,x),_!=null&&g.push(Hb(y,_,w)))),b)break;y=y.return}0<g.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==h$&&(v=n.relatedTarget||n.fromElement)&&(Xh(v)||v[Au]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Xh(v):null,v!==null&&(b=fm(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=uW,_="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=fW,_="onPointerLeave",x="onPointerEnter",y="pointer"),b=m==null?p:kg(m),w=v==null?p:kg(v),p=new g(_,y+"leave",m,n,d),p.target=b,p.relatedTarget=w,_=null,Xh(d)===u&&(g=new g(x,y+"enter",v,n,d),g.target=w,g.relatedTarget=b,_=g),b=_,m&&v)t:{for(g=m,x=v,y=0,w=g;w;w=Vm(w))y++;for(w=0,_=x;_;_=Vm(_))w++;for(;0<y-w;)g=Vm(g),y--;for(;0<w-y;)x=Vm(x),w--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Vm(g),x=Vm(x)}g=null}else g=null;m!==null&&CW(f,p,m,g,!1),v!==null&&b!==null&&CW(f,b,v,g,!0)}}e:{if(p=u?kg(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=MYe;else if(mW(p))if(d_e)C=NYe;else{C=LYe;var S=FYe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=BYe);if(C&&(C=C(e,u))){u_e(f,C,n,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&l$(p,"number",p.value)}switch(S=u?kg(u):window,e){case"focusin":(mW(S)||S.contentEditable==="true")&&(Sg=S,x$=u,Yy=null);break;case"focusout":Yy=x$=Sg=null;break;case"mousedown":w$=!0;break;case"contextmenu":case"mouseup":case"dragend":w$=!1,xW(f,n,d);break;case"selectionchange":if(HYe)break;case"keydown":case"keyup":xW(f,n,d)}var E;if(q8)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Cg?l_e(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(a_e&&n.locale!=="ko"&&(Cg||j!=="onCompositionStart"?j==="onCompositionEnd"&&Cg&&(E=s_e()):(Bd=d,U8="value"in Bd?Bd.value:Bd.textContent,Cg=!0)),S=YE(u,j),0<S.length&&(j=new dW(j,e,null,n,d),f.push({event:j,listeners:S}),E?j.data=E:(E=c_e(n),E!==null&&(j.data=E)))),(E=PYe?DYe(e,n):IYe(e,n))&&(u=YE(u,"onBeforeInput"),0<u.length&&(d=new dW("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}w_e(f,t)})}function Hb(e,t,n){return{instance:e,listener:t,currentTarget:n}}function YE(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Mb(e,n),i!=null&&r.unshift(Hb(e,i,o)),i=Mb(e,t),i!=null&&r.push(Hb(e,i,o))),e=e.return}return r}function Vm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function CW(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,o?(c=Mb(n,i),c!=null&&s.unshift(Hb(n,c,a))):o||(c=Mb(n,i),c!=null&&s.push(Hb(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var qYe=/\r\n?/g,GYe=/\u0000|\uFFFD/g;function SW(e){return(typeof e=="string"?e:""+e).replace(qYe,`
`).replace(GYe,"")}function z_(e,t,n){if(t=SW(t),SW(e)!==t&&n)throw Error(Ee(425))}function qE(){}var _$=null,C$=null;function S$(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var E$=typeof setTimeout=="function"?setTimeout:void 0,KYe=typeof clearTimeout=="function"?clearTimeout:void 0,EW=typeof Promise=="function"?Promise:void 0,ZYe=typeof queueMicrotask=="function"?queueMicrotask:typeof EW<"u"?function(e){return EW.resolve(null).then(e).catch(XYe)}:E$;function XYe(e){setTimeout(function(){throw e})}function QP(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Bb(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Bb(t)}function sf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kW(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var v0=Math.random().toString(36).slice(2),sc="__reactFiber$"+v0,Ub="__reactProps$"+v0,Au="__reactContainer$"+v0,k$="__reactEvents$"+v0,QYe="__reactListeners$"+v0,JYe="__reactHandles$"+v0;function Xh(e){var t=e[sc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Au]||n[sc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kW(e);e!==null;){if(n=e[sc])return n;e=kW(e)}return t}e=n,n=e.parentNode}return null}function gw(e){return e=e[sc]||e[Au],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function PT(e){return e[Ub]||null}var j$=[],jg=-1;function Wf(e){return{current:e}}function Jn(e){0>jg||(e.current=j$[jg],j$[jg]=null,jg--)}function Nn(e,t){jg++,j$[jg]=e.current,e.current=t}var Af={},ki=Wf(Af),Cs=Wf(!1),Mp=Af;function Iv(e,t){var n=e.type.contextTypes;if(!n)return Af;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ss(e){return e=e.childContextTypes,e!=null}function GE(){Jn(Cs),Jn(ki)}function jW(e,t,n){if(ki.current!==Af)throw Error(Ee(168));Nn(ki,t),Nn(Cs,n)}function C_e(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Ee(108,FWe(e)||"Unknown",o));return Ar({},n,r)}function KE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Af,Mp=ki.current,Nn(ki,e),Nn(Cs,Cs.current),!0}function TW(e,t,n){var r=e.stateNode;if(!r)throw Error(Ee(169));n?(e=C_e(e,t,Mp),r.__reactInternalMemoizedMergedChildContext=e,Jn(Cs),Jn(ki),Nn(ki,e)):Jn(Cs),Nn(Cs,n)}var ou=null,DT=!1,JP=!1;function S_e(e){ou===null?ou=[e]:ou.push(e)}function eqe(e){DT=!0,S_e(e)}function Yf(){if(!JP&&ou!==null){JP=!0;var e=0,t=vn;try{var n=ou;for(vn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ou=null,DT=!1}catch(o){throw ou!==null&&(ou=ou.slice(e+1)),Kwe(N8,Yf),o}finally{vn=t,JP=!1}}return null}var Tg=[],Ag=0,ZE=null,XE=0,xa=[],wa=0,Fp=null,lu=1,cu="";function kh(e,t){Tg[Ag++]=XE,Tg[Ag++]=ZE,ZE=e,XE=t}function E_e(e,t,n){xa[wa++]=lu,xa[wa++]=cu,xa[wa++]=Fp,Fp=e;var r=lu;e=cu;var o=32-yl(r)-1;r&=~(1<<o),n+=1;var i=32-yl(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,lu=1<<32-yl(t)+o|n<<o|r,cu=i+e}else lu=1<<i|n<<o|r,cu=e}function K8(e){e.return!==null&&(kh(e,1),E_e(e,1,0))}function Z8(e){for(;e===ZE;)ZE=Tg[--Ag],Tg[Ag]=null,XE=Tg[--Ag],Tg[Ag]=null;for(;e===Fp;)Fp=xa[--wa],xa[wa]=null,cu=xa[--wa],xa[wa]=null,lu=xa[--wa],xa[wa]=null}var Xs=null,Ys=null,pr=!1,sl=null;function k_e(e,t){var n=ja(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function AW(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xs=e,Ys=sf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xs=e,Ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fp!==null?{id:lu,overflow:cu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ja(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xs=e,Ys=null,!0):!1;default:return!1}}function T$(e){return(e.mode&1)!==0&&(e.flags&128)===0}function A$(e){if(pr){var t=Ys;if(t){var n=t;if(!AW(e,t)){if(T$(e))throw Error(Ee(418));t=sf(n.nextSibling);var r=Xs;t&&AW(e,t)?k_e(r,n):(e.flags=e.flags&-4097|2,pr=!1,Xs=e)}}else{if(T$(e))throw Error(Ee(418));e.flags=e.flags&-4097|2,pr=!1,Xs=e}}}function OW(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xs=e}function V_(e){if(e!==Xs)return!1;if(!pr)return OW(e),pr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!S$(e.type,e.memoizedProps)),t&&(t=Ys)){if(T$(e))throw j_e(),Error(Ee(418));for(;t;)k_e(e,t),t=sf(t.nextSibling)}if(OW(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ys=sf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ys=null}}else Ys=Xs?sf(e.stateNode.nextSibling):null;return!0}function j_e(){for(var e=Ys;e;)e=sf(e.nextSibling)}function Rv(){Ys=Xs=null,pr=!1}function X8(e){sl===null?sl=[e]:sl.push(e)}var tqe=Qu.ReactCurrentBatchConfig;function ol(e,t){if(e&&e.defaultProps){t=Ar({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var QE=Wf(null),JE=null,Og=null,Q8=null;function J8(){Q8=Og=JE=null}function e9(e){var t=QE.current;Jn(QE),e._currentValue=t}function O$(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xg(e,t){JE=e,Q8=Og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bs=!0),e.firstContext=null)}function La(e){var t=e._currentValue;if(Q8!==e)if(e={context:e,memoizedValue:t,next:null},Og===null){if(JE===null)throw Error(Ee(308));Og=e,JE.dependencies={lanes:0,firstContext:e}}else Og=Og.next=e;return t}var Qh=null;function t9(e){Qh===null?Qh=[e]:Qh.push(e)}function T_e(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,t9(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ou(e,r)}function Ou(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kd=!1;function n9(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A_e(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function af(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Xt&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ou(e,n)}return o=r.interleaved,o===null?(t.next=t,t9(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ou(e,n)}function I2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,z8(e,n)}}function PW(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function e5(e,t,n,r){var o=e.updateQueue;kd=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=o.baseState;s=0,d=u=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(p=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Ar({},f,p);break e;case 2:kd=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Bp|=s,e.lanes=s,e.memoizedState=f}}function DW(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Ee(191,o));o.call(r)}}}var O_e=new Twe.Component().refs;function P$(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ar({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var IT={isMounted:function(e){return(e=e._reactInternals)?fm(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yi(),o=cf(e),i=gu(r,o);i.payload=t,n!=null&&(i.callback=n),t=af(e,i,o),t!==null&&(bl(t,e,o,r),I2(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yi(),o=cf(e),i=gu(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=af(e,i,o),t!==null&&(bl(t,e,o,r),I2(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yi(),r=cf(e),o=gu(n,r);o.tag=2,t!=null&&(o.callback=t),t=af(e,o,r),t!==null&&(bl(t,e,r,n),I2(t,e,r))}};function IW(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!zb(n,r)||!zb(o,i):!0}function P_e(e,t,n){var r=!1,o=Af,i=t.contextType;return typeof i=="object"&&i!==null?i=La(i):(o=Ss(t)?Mp:ki.current,r=t.contextTypes,i=(r=r!=null)?Iv(e,o):Af),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=IT,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function RW(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&IT.enqueueReplaceState(t,t.state,null)}function D$(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=O_e,n9(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=La(i):(i=Ss(t)?Mp:ki.current,o.context=Iv(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(P$(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&IT.enqueueReplaceState(o,o.state,null),e5(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function E1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ee(309));var r=n.stateNode}if(!r)throw Error(Ee(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;a===O_e&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ee(284));if(!n._owner)throw Error(Ee(290,e))}return e}function H_(e,t){throw e=Object.prototype.toString.call(t),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $W(e){var t=e._init;return t(e._payload)}function D_e(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function o(x,y){return x=uf(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,y,w,_){return y===null||y.tag!==6?(y=sD(w,x.mode,_),y.return=x,y):(y=o(y,w),y.return=x,y)}function c(x,y,w,_){var C=w.type;return C===_g?d(x,y,w.props.children,_,w.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ed&&$W(C)===y.type)?(_=o(y,w.props),_.ref=E1(x,y,w),_.return=x,_):(_=B2(w.type,w.key,w.props,null,x.mode,_),_.ref=E1(x,y,w),_.return=x,_)}function u(x,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=aD(w,x.mode,_),y.return=x,y):(y=o(y,w.children||[]),y.return=x,y)}function d(x,y,w,_,C){return y===null||y.tag!==7?(y=vp(w,x.mode,_,C),y.return=x,y):(y=o(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=sD(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case D_:return w=B2(y.type,y.key,y.props,null,x.mode,w),w.ref=E1(x,null,y),w.return=x,w;case wg:return y=aD(y,x.mode,w),y.return=x,y;case Ed:var _=y._init;return f(x,_(y._payload),w)}if(gy(y)||x1(y))return y=vp(y,x.mode,w,null),y.return=x,y;H_(x,y)}return null}function p(x,y,w,_){var C=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(x,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case D_:return w.key===C?c(x,y,w,_):null;case wg:return w.key===C?u(x,y,w,_):null;case Ed:return C=w._init,p(x,y,C(w._payload),_)}if(gy(w)||x1(w))return C!==null?null:d(x,y,w,_,null);H_(x,w)}return null}function m(x,y,w,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,a(y,x,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case D_:return x=x.get(_.key===null?w:_.key)||null,c(y,x,_,C);case wg:return x=x.get(_.key===null?w:_.key)||null,u(y,x,_,C);case Ed:var S=_._init;return m(x,y,w,S(_._payload),C)}if(gy(_)||x1(_))return x=x.get(w)||null,d(y,x,_,C,null);H_(y,_)}return null}function v(x,y,w,_){for(var C=null,S=null,E=y,j=y=0,k=null;E!==null&&j<w.length;j++){E.index>j?(k=E,E=null):k=E.sibling;var T=p(x,E,w[j],_);if(T===null){E===null&&(E=k);break}e&&E&&T.alternate===null&&t(x,E),y=i(T,y,j),S===null?C=T:S.sibling=T,S=T,E=k}if(j===w.length)return n(x,E),pr&&kh(x,j),C;if(E===null){for(;j<w.length;j++)E=f(x,w[j],_),E!==null&&(y=i(E,y,j),S===null?C=E:S.sibling=E,S=E);return pr&&kh(x,j),C}for(E=r(x,E);j<w.length;j++)k=m(E,x,j,w[j],_),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?j:k.key),y=i(k,y,j),S===null?C=k:S.sibling=k,S=k);return e&&E.forEach(function(A){return t(x,A)}),pr&&kh(x,j),C}function g(x,y,w,_){var C=x1(w);if(typeof C!="function")throw Error(Ee(150));if(w=C.call(w),w==null)throw Error(Ee(151));for(var S=C=null,E=y,j=y=0,k=null,T=w.next();E!==null&&!T.done;j++,T=w.next()){E.index>j?(k=E,E=null):k=E.sibling;var A=p(x,E,T.value,_);if(A===null){E===null&&(E=k);break}e&&E&&A.alternate===null&&t(x,E),y=i(A,y,j),S===null?C=A:S.sibling=A,S=A,E=k}if(T.done)return n(x,E),pr&&kh(x,j),C;if(E===null){for(;!T.done;j++,T=w.next())T=f(x,T.value,_),T!==null&&(y=i(T,y,j),S===null?C=T:S.sibling=T,S=T);return pr&&kh(x,j),C}for(E=r(x,E);!T.done;j++,T=w.next())T=m(E,x,j,T.value,_),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),y=i(T,y,j),S===null?C=T:S.sibling=T,S=T);return e&&E.forEach(function(O){return t(x,O)}),pr&&kh(x,j),C}function b(x,y,w,_){if(typeof w=="object"&&w!==null&&w.type===_g&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case D_:e:{for(var C=w.key,S=y;S!==null;){if(S.key===C){if(C=w.type,C===_g){if(S.tag===7){n(x,S.sibling),y=o(S,w.props.children),y.return=x,x=y;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ed&&$W(C)===S.type){n(x,S.sibling),y=o(S,w.props),y.ref=E1(x,S,w),y.return=x,x=y;break e}n(x,S);break}else t(x,S);S=S.sibling}w.type===_g?(y=vp(w.props.children,x.mode,_,w.key),y.return=x,x=y):(_=B2(w.type,w.key,w.props,null,x.mode,_),_.ref=E1(x,y,w),_.return=x,x=_)}return s(x);case wg:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(x,y.sibling),y=o(y,w.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=aD(w,x.mode,_),y.return=x,x=y}return s(x);case Ed:return S=w._init,b(x,y,S(w._payload),_)}if(gy(w))return v(x,y,w,_);if(x1(w))return g(x,y,w,_);H_(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(x,y.sibling),y=o(y,w),y.return=x,x=y):(n(x,y),y=sD(w,x.mode,_),y.return=x,x=y),s(x)):n(x,y)}return b}var $v=D_e(!0),I_e=D_e(!1),vw={},gc=Wf(vw),Wb=Wf(vw),Yb=Wf(vw);function Jh(e){if(e===vw)throw Error(Ee(174));return e}function r9(e,t){switch(Nn(Yb,t),Nn(Wb,e),Nn(gc,vw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:u$(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=u$(t,e)}Jn(gc),Nn(gc,t)}function Mv(){Jn(gc),Jn(Wb),Jn(Yb)}function R_e(e){Jh(Yb.current);var t=Jh(gc.current),n=u$(t,e.type);t!==n&&(Nn(Wb,e),Nn(gc,n))}function o9(e){Wb.current===e&&(Jn(gc),Jn(Wb))}var _r=Wf(0);function t5(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eD=[];function i9(){for(var e=0;e<eD.length;e++)eD[e]._workInProgressVersionPrimary=null;eD.length=0}var R2=Qu.ReactCurrentDispatcher,tD=Qu.ReactCurrentBatchConfig,Lp=0,jr=null,go=null,Ao=null,n5=!1,qy=!1,qb=0,nqe=0;function ci(){throw Error(Ee(321))}function s9(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sl(e[n],t[n]))return!1;return!0}function a9(e,t,n,r,o,i){if(Lp=i,jr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R2.current=e===null||e.memoizedState===null?sqe:aqe,e=n(r,o),qy){i=0;do{if(qy=!1,qb=0,25<=i)throw Error(Ee(301));i+=1,Ao=go=null,t.updateQueue=null,R2.current=lqe,e=n(r,o)}while(qy)}if(R2.current=r5,t=go!==null&&go.next!==null,Lp=0,Ao=go=jr=null,n5=!1,t)throw Error(Ee(300));return e}function l9(){var e=qb!==0;return qb=0,e}function Xl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ao===null?jr.memoizedState=Ao=e:Ao=Ao.next=e,Ao}function Ba(){if(go===null){var e=jr.alternate;e=e!==null?e.memoizedState:null}else e=go.next;var t=Ao===null?jr.memoizedState:Ao.next;if(t!==null)Ao=t,go=e;else{if(e===null)throw Error(Ee(310));go=e,e={memoizedState:go.memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},Ao===null?jr.memoizedState=Ao=e:Ao=Ao.next=e}return Ao}function Gb(e,t){return typeof t=="function"?t(e):t}function nD(e){var t=Ba(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=go,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,c=null,u=i;do{var d=u.lane;if((Lp&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,s=r):c=c.next=f,jr.lanes|=d,Bp|=d}u=u.next}while(u!==null&&u!==i);c===null?s=r:c.next=a,Sl(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,jr.lanes|=i,Bp|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rD(e){var t=Ba(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Sl(i,t.memoizedState)||(bs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function $_e(){}function M_e(e,t){var n=jr,r=Ba(),o=t(),i=!Sl(r.memoizedState,o);if(i&&(r.memoizedState=o,bs=!0),r=r.queue,c9(B_e.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ao!==null&&Ao.memoizedState.tag&1){if(n.flags|=2048,Kb(9,L_e.bind(null,n,r,o,t),void 0,null),Ro===null)throw Error(Ee(349));Lp&30||F_e(n,t,o)}return o}function F_e(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=jr.updateQueue,t===null?(t={lastEffect:null,stores:null},jr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function L_e(e,t,n,r){t.value=n,t.getSnapshot=r,N_e(t)&&z_e(e)}function B_e(e,t,n){return n(function(){N_e(t)&&z_e(e)})}function N_e(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sl(e,n)}catch{return!0}}function z_e(e){var t=Ou(e,1);t!==null&&bl(t,e,1,-1)}function MW(e){var t=Xl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gb,lastRenderedState:e},t.queue=e,e=e.dispatch=iqe.bind(null,jr,e),[t.memoizedState,e]}function Kb(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=jr.updateQueue,t===null?(t={lastEffect:null,stores:null},jr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function V_e(){return Ba().memoizedState}function $2(e,t,n,r){var o=Xl();jr.flags|=e,o.memoizedState=Kb(1|t,n,void 0,r===void 0?null:r)}function RT(e,t,n,r){var o=Ba();r=r===void 0?null:r;var i=void 0;if(go!==null){var s=go.memoizedState;if(i=s.destroy,r!==null&&s9(r,s.deps)){o.memoizedState=Kb(t,n,i,r);return}}jr.flags|=e,o.memoizedState=Kb(1|t,n,i,r)}function FW(e,t){return $2(8390656,8,e,t)}function c9(e,t){return RT(2048,8,e,t)}function H_e(e,t){return RT(4,2,e,t)}function U_e(e,t){return RT(4,4,e,t)}function W_e(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Y_e(e,t,n){return n=n!=null?n.concat([e]):null,RT(4,4,W_e.bind(null,t,e),n)}function u9(){}function q_e(e,t){var n=Ba();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&s9(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function G_e(e,t){var n=Ba();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&s9(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function K_e(e,t,n){return Lp&21?(Sl(n,t)||(n=Qwe(),jr.lanes|=n,Bp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n)}function rqe(e,t){var n=vn;vn=n!==0&&4>n?n:4,e(!0);var r=tD.transition;tD.transition={};try{e(!1),t()}finally{vn=n,tD.transition=r}}function Z_e(){return Ba().memoizedState}function oqe(e,t,n){var r=cf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},X_e(e))Q_e(t,n);else if(n=T_e(e,t,n,r),n!==null){var o=Yi();bl(n,e,r,o),J_e(n,t,r)}}function iqe(e,t,n){var r=cf(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(X_e(e))Q_e(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Sl(a,s)){var c=t.interleaved;c===null?(o.next=o,t9(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=T_e(e,t,o,r),n!==null&&(o=Yi(),bl(n,e,r,o),J_e(n,t,r))}}function X_e(e){var t=e.alternate;return e===jr||t!==null&&t===jr}function Q_e(e,t){qy=n5=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function J_e(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,z8(e,n)}}var r5={readContext:La,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useInsertionEffect:ci,useLayoutEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useMutableSource:ci,useSyncExternalStore:ci,useId:ci,unstable_isNewReconciler:!1},sqe={readContext:La,useCallback:function(e,t){return Xl().memoizedState=[e,t===void 0?null:t],e},useContext:La,useEffect:FW,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$2(4194308,4,W_e.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $2(4194308,4,e,t)},useInsertionEffect:function(e,t){return $2(4,2,e,t)},useMemo:function(e,t){var n=Xl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oqe.bind(null,jr,e),[r.memoizedState,e]},useRef:function(e){var t=Xl();return e={current:e},t.memoizedState=e},useState:MW,useDebugValue:u9,useDeferredValue:function(e){return Xl().memoizedState=e},useTransition:function(){var e=MW(!1),t=e[0];return e=rqe.bind(null,e[1]),Xl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=jr,o=Xl();if(pr){if(n===void 0)throw Error(Ee(407));n=n()}else{if(n=t(),Ro===null)throw Error(Ee(349));Lp&30||F_e(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,FW(B_e.bind(null,r,i,e),[e]),r.flags|=2048,Kb(9,L_e.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Xl(),t=Ro.identifierPrefix;if(pr){var n=cu,r=lu;n=(r&~(1<<32-yl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qb++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nqe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aqe={readContext:La,useCallback:q_e,useContext:La,useEffect:c9,useImperativeHandle:Y_e,useInsertionEffect:H_e,useLayoutEffect:U_e,useMemo:G_e,useReducer:nD,useRef:V_e,useState:function(){return nD(Gb)},useDebugValue:u9,useDeferredValue:function(e){var t=Ba();return K_e(t,go.memoizedState,e)},useTransition:function(){var e=nD(Gb)[0],t=Ba().memoizedState;return[e,t]},useMutableSource:$_e,useSyncExternalStore:M_e,useId:Z_e,unstable_isNewReconciler:!1},lqe={readContext:La,useCallback:q_e,useContext:La,useEffect:c9,useImperativeHandle:Y_e,useInsertionEffect:H_e,useLayoutEffect:U_e,useMemo:G_e,useReducer:rD,useRef:V_e,useState:function(){return rD(Gb)},useDebugValue:u9,useDeferredValue:function(e){var t=Ba();return go===null?t.memoizedState=e:K_e(t,go.memoizedState,e)},useTransition:function(){var e=rD(Gb)[0],t=Ba().memoizedState;return[e,t]},useMutableSource:$_e,useSyncExternalStore:M_e,useId:Z_e,unstable_isNewReconciler:!1};function Fv(e,t){try{var n="",r=t;do n+=MWe(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function oD(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function I$(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cqe=typeof WeakMap=="function"?WeakMap:Map;function eCe(e,t,n){n=gu(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){i5||(i5=!0,H$=r),I$(e,t)},n}function tCe(e,t,n){n=gu(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){I$(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){I$(e,t),typeof r!="function"&&(lf===null?lf=new Set([this]):lf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function LW(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cqe;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cqe.bind(null,e,t,n),t.then(e,e))}function BW(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function NW(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gu(-1,1),t.tag=2,af(n,t,1))),n.lanes|=1),e)}var uqe=Qu.ReactCurrentOwner,bs=!1;function zi(e,t,n,r){t.child=e===null?I_e(t,null,n,r):$v(t,e.child,n,r)}function zW(e,t,n,r,o){n=n.render;var i=t.ref;return Xg(t,o),r=a9(e,t,n,r,i,o),n=l9(),e!==null&&!bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Pu(e,t,o)):(pr&&n&&K8(t),t.flags|=1,zi(e,t,r,o),t.child)}function VW(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!y9(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,nCe(e,t,i,r,o)):(e=B2(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:zb,n(s,r)&&e.ref===t.ref)return Pu(e,t,o)}return t.flags|=1,e=uf(i,r),e.ref=t.ref,e.return=t,t.child=e}function nCe(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(zb(i,r)&&e.ref===t.ref)if(bs=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(bs=!0);else return t.lanes=e.lanes,Pu(e,t,o)}return R$(e,t,n,r,o)}function rCe(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nn(Dg,Ls),Ls|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nn(Dg,Ls),Ls|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Nn(Dg,Ls),Ls|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Nn(Dg,Ls),Ls|=r;return zi(e,t,o,n),t.child}function oCe(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function R$(e,t,n,r,o){var i=Ss(n)?Mp:ki.current;return i=Iv(t,i),Xg(t,o),n=a9(e,t,n,r,i,o),r=l9(),e!==null&&!bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Pu(e,t,o)):(pr&&r&&K8(t),t.flags|=1,zi(e,t,n,o),t.child)}function HW(e,t,n,r,o){if(Ss(n)){var i=!0;KE(t)}else i=!1;if(Xg(t,o),t.stateNode===null)M2(e,t),P_e(t,n,r),D$(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=La(u):(u=Ss(n)?Mp:ki.current,u=Iv(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&RW(t,s,r,u),kd=!1;var p=t.memoizedState;s.state=p,e5(t,r,s,o),c=t.memoizedState,a!==r||p!==c||Cs.current||kd?(typeof d=="function"&&(P$(t,n,d,r),c=t.memoizedState),(a=kd||IW(t,n,a,r,p,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,A_e(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ol(t.type,a),s.props=u,f=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=La(c):(c=Ss(n)?Mp:ki.current,c=Iv(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==c)&&RW(t,s,r,c),kd=!1,p=t.memoizedState,s.state=p,e5(t,r,s,o);var v=t.memoizedState;a!==f||p!==v||Cs.current||kd?(typeof m=="function"&&(P$(t,n,m,r),v=t.memoizedState),(u=kd||IW(t,n,u,r,p,v,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return $$(e,t,n,r,i,o)}function $$(e,t,n,r,o,i){oCe(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&TW(t,n,!1),Pu(e,t,i);r=t.stateNode,uqe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=$v(t,e.child,null,i),t.child=$v(t,null,a,i)):zi(e,t,a,i),t.memoizedState=r.state,o&&TW(t,n,!0),t.child}function iCe(e){var t=e.stateNode;t.pendingContext?jW(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jW(e,t.context,!1),r9(e,t.containerInfo)}function UW(e,t,n,r,o){return Rv(),X8(o),t.flags|=256,zi(e,t,n,r),t.child}var M$={dehydrated:null,treeContext:null,retryLane:0};function F$(e){return{baseLanes:e,cachePool:null,transitions:null}}function sCe(e,t,n){var r=t.pendingProps,o=_r.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Nn(_r,o&1),e===null)return A$(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=FT(s,r,0,null),e=vp(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=F$(n),t.memoizedState=M$,e):d9(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return dqe(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=uf(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=uf(a,i):(i=vp(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?F$(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=M$,r}return i=e.child,e=i.sibling,r=uf(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function d9(e,t){return t=FT({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function U_(e,t,n,r){return r!==null&&X8(r),$v(t,e.child,null,n),e=d9(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dqe(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=oD(Error(Ee(422))),U_(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=FT({mode:"visible",children:r.children},o,0,null),i=vp(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&$v(t,e.child,null,s),t.child.memoizedState=F$(s),t.memoizedState=M$,i);if(!(t.mode&1))return U_(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Ee(419)),r=oD(i,r,void 0),U_(e,t,s,r)}if(a=(s&e.childLanes)!==0,bs||a){if(r=Ro,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ou(e,o),bl(r,e,o,-1))}return v9(),r=oD(Error(Ee(421))),U_(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Sqe.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ys=sf(o.nextSibling),Xs=t,pr=!0,sl=null,e!==null&&(xa[wa++]=lu,xa[wa++]=cu,xa[wa++]=Fp,lu=e.id,cu=e.overflow,Fp=t),t=d9(t,r.children),t.flags|=4096,t)}function WW(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),O$(e.return,t,n)}function iD(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function aCe(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(zi(e,t,r.children,n),r=_r.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&WW(e,n,t);else if(e.tag===19)WW(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Nn(_r,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&t5(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),iD(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&t5(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}iD(t,!0,n,null,i);break;case"together":iD(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function M2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ee(153));if(t.child!==null){for(e=t.child,n=uf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=uf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fqe(e,t,n){switch(t.tag){case 3:iCe(t),Rv();break;case 5:R_e(t);break;case 1:Ss(t.type)&&KE(t);break;case 4:r9(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Nn(QE,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Nn(_r,_r.current&1),t.flags|=128,null):n&t.child.childLanes?sCe(e,t,n):(Nn(_r,_r.current&1),e=Pu(e,t,n),e!==null?e.sibling:null);Nn(_r,_r.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return aCe(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Nn(_r,_r.current),r)break;return null;case 22:case 23:return t.lanes=0,rCe(e,t,n)}return Pu(e,t,n)}var lCe,L$,cCe,uCe;lCe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};L$=function(){};cCe=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Jh(gc.current);var i=null;switch(n){case"input":o=s$(e,o),r=s$(e,r),i=[];break;case"select":o=Ar({},o,{value:void 0}),r=Ar({},r,{value:void 0}),i=[];break;case"textarea":o=c$(e,o),r=c$(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qE)}d$(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rb.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rb.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Kn("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};uCe=function(e,t,n,r){n!==r&&(t.flags|=4)};function k1(e,t){if(!pr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ui(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hqe(e,t,n){var r=t.pendingProps;switch(Z8(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(t),null;case 1:return Ss(t.type)&&GE(),ui(t),null;case 3:return r=t.stateNode,Mv(),Jn(Cs),Jn(ki),i9(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(V_(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sl!==null&&(Y$(sl),sl=null))),L$(e,t),ui(t),null;case 5:o9(t);var o=Jh(Yb.current);if(n=t.type,e!==null&&t.stateNode!=null)cCe(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ee(166));return ui(t),null}if(e=Jh(gc.current),V_(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[sc]=t,r[Ub]=i,e=(t.mode&1)!==0,n){case"dialog":Kn("cancel",r),Kn("close",r);break;case"iframe":case"object":case"embed":Kn("load",r);break;case"video":case"audio":for(o=0;o<yy.length;o++)Kn(yy[o],r);break;case"source":Kn("error",r);break;case"img":case"image":case"link":Kn("error",r),Kn("load",r);break;case"details":Kn("toggle",r);break;case"input":eW(r,i),Kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Kn("invalid",r);break;case"textarea":nW(r,i),Kn("invalid",r)}d$(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&z_(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&z_(r.textContent,a,e),o=["children",""+a]):Rb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Kn("scroll",r)}switch(n){case"input":I_(r),tW(r,i,!0);break;case"textarea":I_(r),rW(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qE)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fwe(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[sc]=t,e[Ub]=r,lCe(e,t,!1,!1),t.stateNode=e;e:{switch(s=f$(n,r),n){case"dialog":Kn("cancel",e),Kn("close",e),o=r;break;case"iframe":case"object":case"embed":Kn("load",e),o=r;break;case"video":case"audio":for(o=0;o<yy.length;o++)Kn(yy[o],e);o=r;break;case"source":Kn("error",e),o=r;break;case"img":case"image":case"link":Kn("error",e),Kn("load",e),o=r;break;case"details":Kn("toggle",e),o=r;break;case"input":eW(e,r),o=s$(e,r),Kn("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ar({},r,{value:void 0}),Kn("invalid",e);break;case"textarea":nW(e,r),o=c$(e,r),Kn("invalid",e);break;default:o=r}d$(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Nwe(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Lwe(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$b(e,c):typeof c=="number"&&$b(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rb.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Kn("scroll",e):c!=null&&$8(e,i,c,s))}switch(n){case"input":I_(e),tW(e,r,!1);break;case"textarea":I_(e),rW(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tf(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?qg(e,!!r.multiple,i,!1):r.defaultValue!=null&&qg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=qE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ui(t),null;case 6:if(e&&t.stateNode!=null)uCe(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ee(166));if(n=Jh(Yb.current),Jh(gc.current),V_(t)){if(r=t.stateNode,n=t.memoizedProps,r[sc]=t,(i=r.nodeValue!==n)&&(e=Xs,e!==null))switch(e.tag){case 3:z_(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&z_(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sc]=t,t.stateNode=r}return ui(t),null;case 13:if(Jn(_r),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pr&&Ys!==null&&t.mode&1&&!(t.flags&128))j_e(),Rv(),t.flags|=98560,i=!1;else if(i=V_(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ee(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ee(317));i[sc]=t}else Rv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ui(t),i=!1}else sl!==null&&(Y$(sl),sl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_r.current&1?bo===0&&(bo=3):v9())),t.updateQueue!==null&&(t.flags|=4),ui(t),null);case 4:return Mv(),L$(e,t),e===null&&Vb(t.stateNode.containerInfo),ui(t),null;case 10:return e9(t.type._context),ui(t),null;case 17:return Ss(t.type)&&GE(),ui(t),null;case 19:if(Jn(_r),i=t.memoizedState,i===null)return ui(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)k1(i,!1);else{if(bo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=t5(e),s!==null){for(t.flags|=128,k1(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Nn(_r,_r.current&1|2),t.child}e=e.sibling}i.tail!==null&&Vr()>Lv&&(t.flags|=128,r=!0,k1(i,!1),t.lanes=4194304)}else{if(!r)if(e=t5(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),k1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!pr)return ui(t),null}else 2*Vr()-i.renderingStartTime>Lv&&n!==1073741824&&(t.flags|=128,r=!0,k1(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Vr(),t.sibling=null,n=_r.current,Nn(_r,r?n&1|2:n&1),t):(ui(t),null);case 22:case 23:return g9(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ls&1073741824&&(ui(t),t.subtreeFlags&6&&(t.flags|=8192)):ui(t),null;case 24:return null;case 25:return null}throw Error(Ee(156,t.tag))}function pqe(e,t){switch(Z8(t),t.tag){case 1:return Ss(t.type)&&GE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mv(),Jn(Cs),Jn(ki),i9(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return o9(t),null;case 13:if(Jn(_r),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ee(340));Rv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jn(_r),null;case 4:return Mv(),null;case 10:return e9(t.type._context),null;case 22:case 23:return g9(),null;case 24:return null;default:return null}}var W_=!1,bi=!1,mqe=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Pg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rr(e,t,r)}else n.current=null}function B$(e,t,n){try{n()}catch(r){Rr(e,t,r)}}var YW=!1;function gqe(e,t){if(_$=UE,e=p_e(),G8(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===o&&(a=s),p===i&&++d===r&&(c=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(C$={focusedElem:e,selectionRange:n},UE=!1,Ve=t;Ve!==null;)if(t=Ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ve=e;else for(;Ve!==null;){t=Ve;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:ol(t.type,g),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(_){Rr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ve=e;break}Ve=t.return}return v=YW,YW=!1,v}function Gy(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&B$(t,n,i)}o=o.next}while(o!==r)}}function $T(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function N$(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function dCe(e){var t=e.alternate;t!==null&&(e.alternate=null,dCe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sc],delete t[Ub],delete t[k$],delete t[QYe],delete t[JYe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fCe(e){return e.tag===5||e.tag===3||e.tag===4}function qW(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fCe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function z$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qE));else if(r!==4&&(e=e.child,e!==null))for(z$(e,t,n),e=e.sibling;e!==null;)z$(e,t,n),e=e.sibling}function V$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(V$(e,t,n),e=e.sibling;e!==null;)V$(e,t,n),e=e.sibling}var Ho=null,il=!1;function pd(e,t,n){for(n=n.child;n!==null;)hCe(e,t,n),n=n.sibling}function hCe(e,t,n){if(mc&&typeof mc.onCommitFiberUnmount=="function")try{mc.onCommitFiberUnmount(jT,n)}catch{}switch(n.tag){case 5:bi||Pg(n,t);case 6:var r=Ho,o=il;Ho=null,pd(e,t,n),Ho=r,il=o,Ho!==null&&(il?(e=Ho,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ho.removeChild(n.stateNode));break;case 18:Ho!==null&&(il?(e=Ho,n=n.stateNode,e.nodeType===8?QP(e.parentNode,n):e.nodeType===1&&QP(e,n),Bb(e)):QP(Ho,n.stateNode));break;case 4:r=Ho,o=il,Ho=n.stateNode.containerInfo,il=!0,pd(e,t,n),Ho=r,il=o;break;case 0:case 11:case 14:case 15:if(!bi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&B$(n,t,s),o=o.next}while(o!==r)}pd(e,t,n);break;case 1:if(!bi&&(Pg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rr(n,t,a)}pd(e,t,n);break;case 21:pd(e,t,n);break;case 22:n.mode&1?(bi=(r=bi)||n.memoizedState!==null,pd(e,t,n),bi=r):pd(e,t,n);break;default:pd(e,t,n)}}function GW(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mqe),t.forEach(function(r){var o=Eqe.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function el(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ho=a.stateNode,il=!1;break e;case 3:Ho=a.stateNode.containerInfo,il=!0;break e;case 4:Ho=a.stateNode.containerInfo,il=!0;break e}a=a.return}if(Ho===null)throw Error(Ee(160));hCe(i,s,o),Ho=null,il=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){Rr(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pCe(t,e),t=t.sibling}function pCe(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(el(t,e),Vl(e),r&4){try{Gy(3,e,e.return),$T(3,e)}catch(g){Rr(e,e.return,g)}try{Gy(5,e,e.return)}catch(g){Rr(e,e.return,g)}}break;case 1:el(t,e),Vl(e),r&512&&n!==null&&Pg(n,n.return);break;case 5:if(el(t,e),Vl(e),r&512&&n!==null&&Pg(n,n.return),e.flags&32){var o=e.stateNode;try{$b(o,"")}catch(g){Rr(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&$we(o,i),f$(a,s);var u=f$(a,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?Nwe(o,f):d==="dangerouslySetInnerHTML"?Lwe(o,f):d==="children"?$b(o,f):$8(o,d,f,u)}switch(a){case"input":a$(o,i);break;case"textarea":Mwe(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?qg(o,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?qg(o,!!i.multiple,i.defaultValue,!0):qg(o,!!i.multiple,i.multiple?[]:"",!1))}o[Ub]=i}catch(g){Rr(e,e.return,g)}}break;case 6:if(el(t,e),Vl(e),r&4){if(e.stateNode===null)throw Error(Ee(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Rr(e,e.return,g)}}break;case 3:if(el(t,e),Vl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bb(t.containerInfo)}catch(g){Rr(e,e.return,g)}break;case 4:el(t,e),Vl(e);break;case 13:el(t,e),Vl(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(p9=Vr())),r&4&&GW(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(bi=(u=bi)||d,el(t,e),bi=u):el(t,e),Vl(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ve=e,d=e.child;d!==null;){for(f=Ve=d;Ve!==null;){switch(p=Ve,m=p.child,p.tag){case 0:case 11:case 14:case 15:Gy(4,p,p.return);break;case 1:Pg(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Rr(r,n,g)}}break;case 5:Pg(p,p.return);break;case 22:if(p.memoizedState!==null){ZW(f);continue}}m!==null?(m.return=p,Ve=m):ZW(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Bwe("display",s))}catch(g){Rr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Rr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:el(t,e),Vl(e),r&4&&GW(e);break;case 21:break;default:el(t,e),Vl(e)}}function Vl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fCe(n)){var r=n;break e}n=n.return}throw Error(Ee(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&($b(o,""),r.flags&=-33);var i=qW(e);V$(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=qW(e);z$(e,a,s);break;default:throw Error(Ee(161))}}catch(c){Rr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vqe(e,t,n){Ve=e,mCe(e)}function mCe(e,t,n){for(var r=(e.mode&1)!==0;Ve!==null;){var o=Ve,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||W_;if(!s){var a=o.alternate,c=a!==null&&a.memoizedState!==null||bi;a=W_;var u=bi;if(W_=s,(bi=c)&&!u)for(Ve=o;Ve!==null;)s=Ve,c=s.child,s.tag===22&&s.memoizedState!==null?XW(o):c!==null?(c.return=s,Ve=c):XW(o);for(;i!==null;)Ve=i,mCe(i),i=i.sibling;Ve=o,W_=a,bi=u}KW(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ve=i):KW(e)}}function KW(e){for(;Ve!==null;){var t=Ve;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bi||$T(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!bi)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ol(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&DW(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}DW(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Bb(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}bi||t.flags&512&&N$(t)}catch(p){Rr(t,t.return,p)}}if(t===e){Ve=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ve=n;break}Ve=t.return}}function ZW(e){for(;Ve!==null;){var t=Ve;if(t===e){Ve=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ve=n;break}Ve=t.return}}function XW(e){for(;Ve!==null;){var t=Ve;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$T(4,t)}catch(c){Rr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Rr(t,o,c)}}var i=t.return;try{N$(t)}catch(c){Rr(t,i,c)}break;case 5:var s=t.return;try{N$(t)}catch(c){Rr(t,s,c)}}}catch(c){Rr(t,t.return,c)}if(t===e){Ve=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ve=a;break}Ve=t.return}}var yqe=Math.ceil,o5=Qu.ReactCurrentDispatcher,f9=Qu.ReactCurrentOwner,Pa=Qu.ReactCurrentBatchConfig,Xt=0,Ro=null,no=null,Xo=0,Ls=0,Dg=Wf(0),bo=0,Zb=null,Bp=0,MT=0,h9=0,Ky=null,ps=null,p9=0,Lv=1/0,tu=null,i5=!1,H$=null,lf=null,Y_=!1,Nd=null,s5=0,Zy=0,U$=null,F2=-1,L2=0;function Yi(){return Xt&6?Vr():F2!==-1?F2:F2=Vr()}function cf(e){return e.mode&1?Xt&2&&Xo!==0?Xo&-Xo:tqe.transition!==null?(L2===0&&(L2=Qwe()),L2):(e=vn,e!==0||(e=window.event,e=e===void 0?16:i_e(e.type)),e):1}function bl(e,t,n,r){if(50<Zy)throw Zy=0,U$=null,Error(Ee(185));pw(e,n,r),(!(Xt&2)||e!==Ro)&&(e===Ro&&(!(Xt&2)&&(MT|=n),bo===4&&$d(e,Xo)),Es(e,r),n===1&&Xt===0&&!(t.mode&1)&&(Lv=Vr()+500,DT&&Yf()))}function Es(e,t){var n=e.callbackNode;tYe(e,t);var r=HE(e,e===Ro?Xo:0);if(r===0)n!==null&&sW(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sW(n),t===1)e.tag===0?eqe(QW.bind(null,e)):S_e(QW.bind(null,e)),ZYe(function(){!(Xt&6)&&Yf()}),n=null;else{switch(Jwe(r)){case 1:n=N8;break;case 4:n=Zwe;break;case 16:n=VE;break;case 536870912:n=Xwe;break;default:n=VE}n=CCe(n,gCe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gCe(e,t){if(F2=-1,L2=0,Xt&6)throw Error(Ee(327));var n=e.callbackNode;if(Qg()&&e.callbackNode!==n)return null;var r=HE(e,e===Ro?Xo:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=a5(e,r);else{t=r;var o=Xt;Xt|=2;var i=yCe();(Ro!==e||Xo!==t)&&(tu=null,Lv=Vr()+500,gp(e,t));do try{wqe();break}catch(a){vCe(e,a)}while(1);J8(),o5.current=i,Xt=o,no!==null?t=0:(Ro=null,Xo=0,t=bo)}if(t!==0){if(t===2&&(o=v$(e),o!==0&&(r=o,t=W$(e,o))),t===1)throw n=Zb,gp(e,0),$d(e,r),Es(e,Vr()),n;if(t===6)$d(e,r);else{if(o=e.current.alternate,!(r&30)&&!bqe(o)&&(t=a5(e,r),t===2&&(i=v$(e),i!==0&&(r=i,t=W$(e,i))),t===1))throw n=Zb,gp(e,0),$d(e,r),Es(e,Vr()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Ee(345));case 2:jh(e,ps,tu);break;case 3:if($d(e,r),(r&130023424)===r&&(t=p9+500-Vr(),10<t)){if(HE(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Yi(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=E$(jh.bind(null,e,ps,tu),t);break}jh(e,ps,tu);break;case 4:if($d(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-yl(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Vr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yqe(r/1960))-r,10<r){e.timeoutHandle=E$(jh.bind(null,e,ps,tu),r);break}jh(e,ps,tu);break;case 5:jh(e,ps,tu);break;default:throw Error(Ee(329))}}}return Es(e,Vr()),e.callbackNode===n?gCe.bind(null,e):null}function W$(e,t){var n=Ky;return e.current.memoizedState.isDehydrated&&(gp(e,t).flags|=256),e=a5(e,t),e!==2&&(t=ps,ps=n,t!==null&&Y$(t)),e}function Y$(e){ps===null?ps=e:ps.push.apply(ps,e)}function bqe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Sl(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $d(e,t){for(t&=~h9,t&=~MT,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yl(t),r=1<<n;e[n]=-1,t&=~r}}function QW(e){if(Xt&6)throw Error(Ee(327));Qg();var t=HE(e,0);if(!(t&1))return Es(e,Vr()),null;var n=a5(e,t);if(e.tag!==0&&n===2){var r=v$(e);r!==0&&(t=r,n=W$(e,r))}if(n===1)throw n=Zb,gp(e,0),$d(e,t),Es(e,Vr()),n;if(n===6)throw Error(Ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jh(e,ps,tu),Es(e,Vr()),null}function m9(e,t){var n=Xt;Xt|=1;try{return e(t)}finally{Xt=n,Xt===0&&(Lv=Vr()+500,DT&&Yf())}}function Np(e){Nd!==null&&Nd.tag===0&&!(Xt&6)&&Qg();var t=Xt;Xt|=1;var n=Pa.transition,r=vn;try{if(Pa.transition=null,vn=1,e)return e()}finally{vn=r,Pa.transition=n,Xt=t,!(Xt&6)&&Yf()}}function g9(){Ls=Dg.current,Jn(Dg)}function gp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KYe(n)),no!==null)for(n=no.return;n!==null;){var r=n;switch(Z8(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&GE();break;case 3:Mv(),Jn(Cs),Jn(ki),i9();break;case 5:o9(r);break;case 4:Mv();break;case 13:Jn(_r);break;case 19:Jn(_r);break;case 10:e9(r.type._context);break;case 22:case 23:g9()}n=n.return}if(Ro=e,no=e=uf(e.current,null),Xo=Ls=t,bo=0,Zb=null,h9=MT=Bp=0,ps=Ky=null,Qh!==null){for(t=0;t<Qh.length;t++)if(n=Qh[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Qh=null}return e}function vCe(e,t){do{var n=no;try{if(J8(),R2.current=r5,n5){for(var r=jr.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}n5=!1}if(Lp=0,Ao=go=jr=null,qy=!1,qb=0,f9.current=null,n===null||n.return===null){bo=1,Zb=t,no=null;break}e:{var i=e,s=n.return,a=n,c=t;if(t=Xo,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=BW(s);if(m!==null){m.flags&=-257,NW(m,s,a,i,t),m.mode&1&&LW(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){LW(i,u,t),v9();break e}c=Error(Ee(426))}}else if(pr&&a.mode&1){var b=BW(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),NW(b,s,a,i,t),X8(Fv(c,a));break e}}i=c=Fv(c,a),bo!==4&&(bo=2),Ky===null?Ky=[i]:Ky.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=eCe(i,c,t);PW(i,x);break e;case 1:a=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(lf===null||!lf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=tCe(i,a,t);PW(i,_);break e}}i=i.return}while(i!==null)}xCe(n)}catch(C){t=C,no===n&&n!==null&&(no=n=n.return);continue}break}while(1)}function yCe(){var e=o5.current;return o5.current=r5,e===null?r5:e}function v9(){(bo===0||bo===3||bo===2)&&(bo=4),Ro===null||!(Bp&268435455)&&!(MT&268435455)||$d(Ro,Xo)}function a5(e,t){var n=Xt;Xt|=2;var r=yCe();(Ro!==e||Xo!==t)&&(tu=null,gp(e,t));do try{xqe();break}catch(o){vCe(e,o)}while(1);if(J8(),Xt=n,o5.current=r,no!==null)throw Error(Ee(261));return Ro=null,Xo=0,bo}function xqe(){for(;no!==null;)bCe(no)}function wqe(){for(;no!==null&&!YWe();)bCe(no)}function bCe(e){var t=_Ce(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,t===null?xCe(e):no=t,f9.current=null}function xCe(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pqe(n,t),n!==null){n.flags&=32767,no=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bo=6,no=null;return}}else if(n=hqe(n,t,Ls),n!==null){no=n;return}if(t=t.sibling,t!==null){no=t;return}no=t=e}while(t!==null);bo===0&&(bo=5)}function jh(e,t,n){var r=vn,o=Pa.transition;try{Pa.transition=null,vn=1,_qe(e,t,n,r)}finally{Pa.transition=o,vn=r}return null}function _qe(e,t,n,r){do Qg();while(Nd!==null);if(Xt&6)throw Error(Ee(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ee(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(nYe(e,i),e===Ro&&(no=Ro=null,Xo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Y_||(Y_=!0,CCe(VE,function(){return Qg(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pa.transition,Pa.transition=null;var s=vn;vn=1;var a=Xt;Xt|=4,f9.current=null,gqe(e,n),pCe(n,e),VYe(C$),UE=!!_$,C$=_$=null,e.current=n,vqe(n),qWe(),Xt=a,vn=s,Pa.transition=i}else e.current=n;if(Y_&&(Y_=!1,Nd=e,s5=o),i=e.pendingLanes,i===0&&(lf=null),ZWe(n.stateNode),Es(e,Vr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(i5)throw i5=!1,e=H$,H$=null,e;return s5&1&&e.tag!==0&&Qg(),i=e.pendingLanes,i&1?e===U$?Zy++:(Zy=0,U$=e):Zy=0,Yf(),null}function Qg(){if(Nd!==null){var e=Jwe(s5),t=Pa.transition,n=vn;try{if(Pa.transition=null,vn=16>e?16:e,Nd===null)var r=!1;else{if(e=Nd,Nd=null,s5=0,Xt&6)throw Error(Ee(331));var o=Xt;for(Xt|=4,Ve=e.current;Ve!==null;){var i=Ve,s=i.child;if(Ve.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Ve=u;Ve!==null;){var d=Ve;switch(d.tag){case 0:case 11:case 15:Gy(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ve=f;else for(;Ve!==null;){d=Ve;var p=d.sibling,m=d.return;if(dCe(d),d===u){Ve=null;break}if(p!==null){p.return=m,Ve=p;break}Ve=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Ve=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ve=s;else e:for(;Ve!==null;){if(i=Ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gy(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ve=x;break e}Ve=i.return}}var y=e.current;for(Ve=y;Ve!==null;){s=Ve;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ve=w;else e:for(s=y;Ve!==null;){if(a=Ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$T(9,a)}}catch(C){Rr(a,a.return,C)}if(a===s){Ve=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Ve=_;break e}Ve=a.return}}if(Xt=o,Yf(),mc&&typeof mc.onPostCommitFiberRoot=="function")try{mc.onPostCommitFiberRoot(jT,e)}catch{}r=!0}return r}finally{vn=n,Pa.transition=t}}return!1}function JW(e,t,n){t=Fv(n,t),t=eCe(e,t,1),e=af(e,t,1),t=Yi(),e!==null&&(pw(e,1,t),Es(e,t))}function Rr(e,t,n){if(e.tag===3)JW(e,e,n);else for(;t!==null;){if(t.tag===3){JW(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lf===null||!lf.has(r))){e=Fv(n,e),e=tCe(t,e,1),t=af(t,e,1),e=Yi(),t!==null&&(pw(t,1,e),Es(t,e));break}}t=t.return}}function Cqe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Yi(),e.pingedLanes|=e.suspendedLanes&n,Ro===e&&(Xo&n)===n&&(bo===4||bo===3&&(Xo&130023424)===Xo&&500>Vr()-p9?gp(e,0):h9|=n),Es(e,t)}function wCe(e,t){t===0&&(e.mode&1?(t=M_,M_<<=1,!(M_&130023424)&&(M_=4194304)):t=1);var n=Yi();e=Ou(e,t),e!==null&&(pw(e,t,n),Es(e,n))}function Sqe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wCe(e,n)}function Eqe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ee(314))}r!==null&&r.delete(t),wCe(e,n)}var _Ce;_Ce=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cs.current)bs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bs=!1,fqe(e,t,n);bs=!!(e.flags&131072)}else bs=!1,pr&&t.flags&1048576&&E_e(t,XE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;M2(e,t),e=t.pendingProps;var o=Iv(t,ki.current);Xg(t,n),o=a9(null,t,r,e,o,n);var i=l9();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ss(r)?(i=!0,KE(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,n9(t),o.updater=IT,t.stateNode=o,o._reactInternals=t,D$(t,r,e,n),t=$$(null,t,r,!0,i,n)):(t.tag=0,pr&&i&&K8(t),zi(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(M2(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=jqe(r),e=ol(r,e),o){case 0:t=R$(null,t,r,e,n);break e;case 1:t=HW(null,t,r,e,n);break e;case 11:t=zW(null,t,r,e,n);break e;case 14:t=VW(null,t,r,ol(r.type,e),n);break e}throw Error(Ee(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ol(r,o),R$(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ol(r,o),HW(e,t,r,o,n);case 3:e:{if(iCe(t),e===null)throw Error(Ee(387));r=t.pendingProps,i=t.memoizedState,o=i.element,A_e(e,t),e5(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Fv(Error(Ee(423)),t),t=UW(e,t,r,n,o);break e}else if(r!==o){o=Fv(Error(Ee(424)),t),t=UW(e,t,r,n,o);break e}else for(Ys=sf(t.stateNode.containerInfo.firstChild),Xs=t,pr=!0,sl=null,n=I_e(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rv(),r===o){t=Pu(e,t,n);break e}zi(e,t,r,n)}t=t.child}return t;case 5:return R_e(t),e===null&&A$(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,S$(r,o)?s=null:i!==null&&S$(r,i)&&(t.flags|=32),oCe(e,t),zi(e,t,s,n),t.child;case 6:return e===null&&A$(t),null;case 13:return sCe(e,t,n);case 4:return r9(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$v(t,null,r,n):zi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ol(r,o),zW(e,t,r,o,n);case 7:return zi(e,t,t.pendingProps,n),t.child;case 8:return zi(e,t,t.pendingProps.children,n),t.child;case 12:return zi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Nn(QE,r._currentValue),r._currentValue=s,i!==null)if(Sl(i.value,s)){if(i.children===o.children&&!Cs.current){t=Pu(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=gu(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),O$(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Ee(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),O$(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}zi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Xg(t,n),o=La(o),r=r(o),t.flags|=1,zi(e,t,r,n),t.child;case 14:return r=t.type,o=ol(r,t.pendingProps),o=ol(r.type,o),VW(e,t,r,o,n);case 15:return nCe(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ol(r,o),M2(e,t),t.tag=1,Ss(r)?(e=!0,KE(t)):e=!1,Xg(t,n),P_e(t,r,o),D$(t,r,o,n),$$(null,t,r,!0,e,n);case 19:return aCe(e,t,n);case 22:return rCe(e,t,n)}throw Error(Ee(156,t.tag))};function CCe(e,t){return Kwe(e,t)}function kqe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(e,t,n,r){return new kqe(e,t,n,r)}function y9(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jqe(e){if(typeof e=="function")return y9(e)?1:0;if(e!=null){if(e=e.$$typeof,e===F8)return 11;if(e===L8)return 14}return 2}function uf(e,t){var n=e.alternate;return n===null?(n=ja(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function B2(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")y9(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case _g:return vp(n.children,o,i,t);case M8:s=8,o|=8;break;case n$:return e=ja(12,n,t,o|2),e.elementType=n$,e.lanes=i,e;case r$:return e=ja(13,n,t,o),e.elementType=r$,e.lanes=i,e;case o$:return e=ja(19,n,t,o),e.elementType=o$,e.lanes=i,e;case Dwe:return FT(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Owe:s=10;break e;case Pwe:s=9;break e;case F8:s=11;break e;case L8:s=14;break e;case Ed:s=16,r=null;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return t=ja(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function vp(e,t,n,r){return e=ja(7,e,r,t),e.lanes=n,e}function FT(e,t,n,r){return e=ja(22,e,r,t),e.elementType=Dwe,e.lanes=n,e.stateNode={isHidden:!1},e}function sD(e,t,n){return e=ja(6,e,null,t),e.lanes=n,e}function aD(e,t,n){return t=ja(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tqe(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zP(0),this.expirationTimes=zP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zP(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function b9(e,t,n,r,o,i,s,a,c){return e=new Tqe(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ja(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},n9(i),e}function Aqe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function SCe(e){if(!e)return Af;e=e._reactInternals;e:{if(fm(e)!==e||e.tag!==1)throw Error(Ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ss(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ee(171))}if(e.tag===1){var n=e.type;if(Ss(n))return C_e(e,n,t)}return t}function ECe(e,t,n,r,o,i,s,a,c){return e=b9(n,r,!0,e,o,i,s,a,c),e.context=SCe(null),n=e.current,r=Yi(),o=cf(n),i=gu(r,o),i.callback=t??null,af(n,i,o),e.current.lanes=o,pw(e,o,r),Es(e,r),e}function LT(e,t,n,r){var o=t.current,i=Yi(),s=cf(o);return n=SCe(n),t.context===null?t.context=n:t.pendingContext=n,t=gu(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=af(o,t,s),e!==null&&(bl(e,o,s,i),I2(e,o,s)),s}function l5(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eY(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function x9(e,t){eY(e,t),(e=e.alternate)&&eY(e,t)}function Oqe(){return null}var kCe=typeof reportError=="function"?reportError:function(e){console.error(e)};function w9(e){this._internalRoot=e}BT.prototype.render=w9.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ee(409));LT(e,t,null,null)};BT.prototype.unmount=w9.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Np(function(){LT(null,e,null,null)}),t[Au]=null}};function BT(e){this._internalRoot=e}BT.prototype.unstable_scheduleHydration=function(e){if(e){var t=n_e();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rd.length&&t!==0&&t<Rd[n].priority;n++);Rd.splice(n,0,e),n===0&&o_e(e)}};function _9(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function NT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tY(){}function Pqe(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=l5(s);i.call(u)}}var s=ECe(t,r,e,0,null,!1,!1,"",tY);return e._reactRootContainer=s,e[Au]=s.current,Vb(e.nodeType===8?e.parentNode:e),Np(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=l5(c);a.call(u)}}var c=b9(e,0,!1,null,null,!1,!1,"",tY);return e._reactRootContainer=c,e[Au]=c.current,Vb(e.nodeType===8?e.parentNode:e),Np(function(){LT(t,c,n,r)}),c}function zT(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var c=l5(s);a.call(c)}}LT(t,s,e,o)}else s=Pqe(n,t,e,o,r);return l5(s)}e_e=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vy(t.pendingLanes);n!==0&&(z8(t,n|1),Es(t,Vr()),!(Xt&6)&&(Lv=Vr()+500,Yf()))}break;case 13:Np(function(){var r=Ou(e,1);if(r!==null){var o=Yi();bl(r,e,1,o)}}),x9(e,1)}};V8=function(e){if(e.tag===13){var t=Ou(e,134217728);if(t!==null){var n=Yi();bl(t,e,134217728,n)}x9(e,134217728)}};t_e=function(e){if(e.tag===13){var t=cf(e),n=Ou(e,t);if(n!==null){var r=Yi();bl(n,e,t,r)}x9(e,t)}};n_e=function(){return vn};r_e=function(e,t){var n=vn;try{return vn=e,t()}finally{vn=n}};p$=function(e,t,n){switch(t){case"input":if(a$(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=PT(r);if(!o)throw Error(Ee(90));Rwe(r),a$(r,o)}}}break;case"textarea":Mwe(e,n);break;case"select":t=n.value,t!=null&&qg(e,!!n.multiple,t,!1)}};Hwe=m9;Uwe=Np;var Dqe={usingClientEntryPoint:!1,Events:[gw,kg,PT,zwe,Vwe,m9]},j1={findFiberByHostInstance:Xh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Iqe={bundleType:j1.bundleType,version:j1.version,rendererPackageName:j1.rendererPackageName,rendererConfig:j1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qwe(e),e===null?null:e.stateNode},findFiberByHostInstance:j1.findFiberByHostInstance||Oqe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var q_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!q_.isDisabled&&q_.supportsFiber)try{jT=q_.inject(Iqe),mc=q_}catch{}}aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dqe;aa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_9(t))throw Error(Ee(200));return Aqe(e,t,null,n)};aa.createRoot=function(e,t){if(!_9(e))throw Error(Ee(299));var n=!1,r="",o=kCe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=b9(e,1,!1,null,null,n,!1,r,o),e[Au]=t.current,Vb(e.nodeType===8?e.parentNode:e),new w9(t)};aa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ee(188)):(e=Object.keys(e).join(","),Error(Ee(268,e)));return e=qwe(t),e=e===null?null:e.stateNode,e};aa.flushSync=function(e){return Np(e)};aa.hydrate=function(e,t,n){if(!NT(t))throw Error(Ee(200));return zT(null,e,t,!0,n)};aa.hydrateRoot=function(e,t,n){if(!_9(e))throw Error(Ee(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=kCe;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=ECe(t,null,e,1,n??null,o,!1,i,s),e[Au]=t.current,Vb(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new BT(t)};aa.render=function(e,t,n){if(!NT(t))throw Error(Ee(200));return zT(null,e,t,!1,n)};aa.unmountComponentAtNode=function(e){if(!NT(e))throw Error(Ee(40));return e._reactRootContainer?(Np(function(){zT(null,null,e,!1,function(){e._reactRootContainer=null,e[Au]=null})}),!0):!1};aa.unstable_batchedUpdates=m9;aa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!NT(n))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return zT(e,t,n,!1,r)};aa.version="18.2.0-next-9e3b772b8-20220608";function jCe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jCe)}catch(e){console.error(e)}}jCe(),Ewe.exports=aa;var ac=Ewe.exports;const Rqe=Pe(ac),TCe=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?WU({element:t.current,padding:n}).fn(o):{}:t?WU({element:t,padding:n}).fn(o):{}}}};var N2=typeof document<"u"?h.useLayoutEffect:h.useEffect;function c5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!c5(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!c5(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function ACe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nY(e,t){const n=ACe(e);return Math.round(t*n)/n}function rY(e){const t=h.useRef(e);return N2(()=>{t.current=e}),t}function OCe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(r);c5(p,r)||m(r);const[v,g]=h.useState(null),[b,x]=h.useState(null),y=h.useCallback($=>{$!=S.current&&(S.current=$,g($))},[g]),w=h.useCallback($=>{$!==E.current&&(E.current=$,x($))},[x]),_=i||v,C=s||b,S=h.useRef(null),E=h.useRef(null),j=h.useRef(d),k=rY(c),T=rY(o),A=h.useCallback(()=>{if(!S.current||!E.current)return;const $={placement:t,strategy:n,middleware:p};T.current&&($.platform=T.current),OWe(S.current,E.current,$).then(H=>{const F={...H,isPositioned:!0};O.current&&!c5(j.current,F)&&(j.current=F,ac.flushSync(()=>{f(F)}))})},[p,t,n,T]);N2(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const O=h.useRef(!1);N2(()=>(O.current=!0,()=>{O.current=!1}),[]),N2(()=>{if(_&&(S.current=_),C&&(E.current=C),_&&C){if(k.current)return k.current(_,C,A);A()}},[_,C,A,k]);const P=h.useMemo(()=>({reference:S,floating:E,setReference:y,setFloating:w}),[y,w]),D=h.useMemo(()=>({reference:_,floating:C}),[_,C]),R=h.useMemo(()=>{const $={position:n,left:0,top:0};if(!D.floating)return $;const H=nY(D.floating,d.x),F=nY(D.floating,d.y);return a?{...$,transform:"translate("+H+"px, "+F+"px)",...ACe(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:F}},[n,a,D.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:P,elements:D,floatingStyles:R}),[d,A,P,D,R])}const PCe=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),VT=h.createContext({}),HT=h.createContext(null),UT=typeof document<"u",C9=UT?h.useLayoutEffect:h.useEffect,DCe=h.createContext({strict:!1});function $qe(e,t,n,r){const{visualElement:o}=h.useContext(VT),i=h.useContext(DCe),s=h.useContext(HT),a=h.useContext(PCe).reducedMotion,c=h.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;h.useInsertionEffect(()=>{u&&u.update(n,s)});const d=h.useRef(!!window.HandoffAppearAnimations);return C9(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,d.current=!1)}),u}function Ig(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Mqe(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ig(n)&&(n.current=r))},[t])}function Xb(e){return typeof e=="string"||Array.isArray(e)}function WT(e){return typeof e=="object"&&typeof e.start=="function"}const S9=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],E9=["initial",...S9];function YT(e){return WT(e.animate)||E9.some(t=>Xb(e[t]))}function ICe(e){return!!(YT(e)||e.variants)}function Fqe(e,t){if(YT(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Xb(n)?n:void 0,animate:Xb(r)?r:void 0}}return e.inherit!==!1?t:{}}function Lqe(e){const{initial:t,animate:n}=Fqe(e,h.useContext(VT));return h.useMemo(()=>({initial:t,animate:n}),[oY(t),oY(n)])}function oY(e){return Array.isArray(e)?e.join(" "):e}const iY={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qb={};for(const e in iY)Qb[e]={isEnabled:t=>iY[e].some(n=>!!t[n])};function Bqe(e){for(const t in e)Qb[t]={...Qb[t],...e[t]}}const k9=h.createContext({}),RCe=h.createContext({}),Nqe=Symbol.for("motionComponentSymbol");function zqe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&Bqe(e);function i(a,c){let u;const d={...h.useContext(PCe),...a,layoutId:Vqe(a)},{isStatic:f}=d,p=Lqe(a),m=r(a,f);if(!f&&UT){p.visualElement=$qe(o,m,d,t);const v=h.useContext(RCe),g=h.useContext(DCe).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,v))}return h.createElement(VT.Provider,{value:p},u&&p.visualElement?h.createElement(u,{visualElement:p.visualElement,...d}):null,n(o,a,Mqe(m,p.visualElement,c),m,f,p.visualElement))}const s=h.forwardRef(i);return s[Nqe]=o,s}function Vqe({layoutId:e}){const t=h.useContext(k9).id;return t&&e!==void 0?t+"-"+e:e}function Hqe(e){function t(r,o={}){return zqe(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const Uqe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function j9(e){return typeof e!="string"||e.includes("-")?!1:!!(Uqe.indexOf(e)>-1||/[A-Z]/.test(e))}const u5={};function Wqe(e){Object.assign(u5,e)}const yw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hm=new Set(yw);function $Ce(e,{layout:t,layoutId:n}){return hm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!u5[e]||e==="opacity")}const js=e=>!!(e&&e.getVelocity),Yqe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qqe=yw.length;function Gqe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<qqe;s++){const a=yw[s];if(e[a]!==void 0){const c=Yqe[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const MCe=e=>t=>typeof t=="string"&&t.startsWith(e),FCe=MCe("--"),q$=MCe("var(--"),Kqe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Zqe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Of=(e,t,n)=>Math.min(Math.max(n,e),t),pm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xy={...pm,transform:e=>Of(0,1,e)},G_={...pm,default:1},Qy=e=>Math.round(e*1e5)/1e5,qT=/(-)?([\d]*\.?[\d])+/g,LCe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Xqe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function bw(e){return typeof e=="string"}const xw=e=>({test:t=>bw(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wd=xw("deg"),vc=xw("%"),ot=xw("px"),Qqe=xw("vh"),Jqe=xw("vw"),sY={...vc,parse:e=>vc.parse(e)/100,transform:e=>vc.transform(e*100)},aY={...pm,transform:Math.round},BCe={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,radius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,size:ot,top:ot,right:ot,bottom:ot,left:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,rotate:wd,rotateX:wd,rotateY:wd,rotateZ:wd,scale:G_,scaleX:G_,scaleY:G_,scaleZ:G_,skew:wd,skewX:wd,skewY:wd,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:Xy,originX:sY,originY:sY,originZ:ot,zIndex:aY,fillOpacity:Xy,strokeOpacity:Xy,numOctaves:aY};function T9(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(FCe(f)){i[f]=p;continue}const m=BCe[f],v=Zqe(p,m);if(hm.has(f)){if(c=!0,s[f]=v,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):o[f]=v}if(t.transform||(c||r?o.transform=Gqe(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${p} ${m}`}}const A9=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NCe(e,t,n){for(const r in t)!js(t[r])&&!$Ce(r,n)&&(e[r]=t[r])}function eGe({transformTemplate:e},t,n){return h.useMemo(()=>{const r=A9();return T9(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function tGe(e,t,n){const r=e.style||{},o={};return NCe(o,r,e),Object.assign(o,eGe(e,t,n)),e.transformValues?e.transformValues(o):o}function nGe(e,t,n){const r={},o=tGe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const rGe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function d5(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||rGe.has(e)}let zCe=e=>!d5(e);function oGe(e){e&&(zCe=t=>t.startsWith("on")?!d5(t):e(t))}try{oGe(require("@emotion/is-prop-valid").default)}catch{}function iGe(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(zCe(o)||n===!0&&d5(o)||!t&&!d5(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function lY(e,t,n){return typeof e=="string"?e:ot.transform(t+n*e)}function sGe(e,t,n){const r=lY(t,e.x,e.width),o=lY(n,e.y,e.height);return`${r} ${o}`}const aGe={offset:"stroke-dashoffset",array:"stroke-dasharray"},lGe={offset:"strokeDashoffset",array:"strokeDasharray"};function cGe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?aGe:lGe;e[i.offset]=ot.transform(-r);const s=ot.transform(t),a=ot.transform(n);e[i.array]=`${s} ${a}`}function O9(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:c=0,...u},d,f,p){if(T9(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:g}=e;m.transform&&(g&&(v.transform=m.transform),delete m.transform),g&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=sGe(g,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&cGe(m,s,a,c,!1)}const VCe=()=>({...A9(),attrs:{}}),P9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function uGe(e,t,n,r){const o=h.useMemo(()=>{const i=VCe();return O9(i,t,{enableHardwareAcceleration:!1},P9(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};NCe(i,e.style,e),o.style={...i,...o.style}}return o}function dGe(e=!1){return(n,r,o,{latestValues:i},s)=>{const c=(j9(n)?uGe:nGe)(r,i,s,n),d={...iGe(r,typeof n=="string",e),...c,ref:o},{children:f}=r,p=h.useMemo(()=>js(f)?f.get():f,[f]);return h.createElement(n,{...d,children:p})}}const D9=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function HCe(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const UCe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WCe(e,t,n,r){HCe(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(UCe.has(o)?o:D9(o),t.attrs[o])}function I9(e,t){const{style:n}=e,r={};for(const o in n)(js(n[o])||t.style&&js(t.style[o])||$Ce(o,e))&&(r[o]=n[o]);return r}function YCe(e,t){const n=I9(e,t);for(const r in e)if(js(e[r])||js(t[r])){const o=yw.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function R9(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function qCe(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const f5=e=>Array.isArray(e),fGe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),hGe=e=>f5(e)?e[e.length-1]||0:e;function z2(e){const t=js(e)?e.get():e;return fGe(t)?t.toValue():t}function pGe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:mGe(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const GCe=e=>(t,n)=>{const r=h.useContext(VT),o=h.useContext(HT),i=()=>pGe(e,t,r,o);return n?i():qCe(i)};function mGe(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=z2(i[p]);let{initial:s,animate:a}=e;const c=YT(e),u=ICe(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;return f&&typeof f!="boolean"&&!WT(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=R9(e,m);if(!v)return;const{transitionEnd:g,transition:b,...x}=v;for(const y in x){let w=x[y];if(Array.isArray(w)){const _=d?w.length-1:0;w=w[_]}w!==null&&(o[y]=w)}for(const y in g)o[y]=g[y]}),o}const $r=e=>e;class cY{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function gGe(e){let t=new cY,n=new cY,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const f=d&&o,p=f?t:n;return u&&s.add(c),p.add(c)&&f&&o&&(r=t.order.length),c},cancel:c=>{n.remove(c),s.delete(c)},process:c=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),s.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(c))}};return a}const K_=["prepare","read","update","preRender","render","postRender"],vGe=40;function yGe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=K_.reduce((f,p)=>(f[p]=gGe(()=>n=!0),f),{}),s=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,vGe),1),o.timestamp=f,o.isProcessing=!0,K_.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:K_.reduce((f,p)=>{const m=i[p];return f[p]=(v,g=!1,b=!1)=>(n||c(),m.schedule(v,g,b)),f},{}),cancel:f=>K_.forEach(p=>i[p].cancel(f)),state:o,steps:i}}const{schedule:zn,cancel:Du,state:Eo,steps:lD}=yGe(typeof requestAnimationFrame<"u"?requestAnimationFrame:$r,!0),bGe={useVisualState:GCe({scrapeMotionValuesFromProps:YCe,createRenderState:VCe,onMount:(e,t,{renderState:n,latestValues:r})=>{zn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),zn.render(()=>{O9(n,r,{enableHardwareAcceleration:!1},P9(t.tagName),e.transformTemplate),WCe(t,n)})}})},xGe={useVisualState:GCe({scrapeMotionValuesFromProps:I9,createRenderState:A9})};function wGe(e,{forwardMotionProps:t=!1},n,r){return{...j9(e)?bGe:xGe,preloadedFeatures:n,useRender:dGe(t),createVisualElement:r,Component:e}}function uu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const KCe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function GT(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const _Ge=e=>t=>KCe(t)&&e(t,GT(t));function vu(e,t,n,r){return uu(e,t,_Ge(n),r)}const CGe=(e,t)=>n=>t(e(n)),df=(...e)=>e.reduce(CGe);function ZCe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const uY=ZCe("dragHorizontal"),dY=ZCe("dragVertical");function XCe(e){let t=!1;if(e==="y")t=dY();else if(e==="x")t=uY();else{const n=uY(),r=dY();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function QCe(){const e=XCe(!0);return e?(e(),!1):!0}class qf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function fY(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||QCe())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&zn.update(()=>a[r](i,s))};return vu(e.current,n,o,{passive:!e.getProps()[r]})}class SGe extends qf{mount(){this.unmount=df(fY(this.node,!0),fY(this.node,!1))}unmount(){}}class EGe extends qf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=df(uu(this.node.current,"focus",()=>this.onFocus()),uu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const JCe=(e,t)=>t?e===t?!0:JCe(e,t.parentElement):!1;function cD(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,GT(n))}class kGe extends qf{constructor(){super(...arguments),this.removeStartListeners=$r,this.removeEndListeners=$r,this.removeAccessibleListeners=$r,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=vu(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();zn.update(()=>{JCe(this.node.current,a.target)?u&&u(a,c):d&&d(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),s=vu(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=df(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||cD("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&zn.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=uu(this.node.current,"keyup",s),cD("down",(a,c)=>{this.startPress(a,c)})},n=uu(this.node.current,"keydown",t),r=()=>{this.isPressing&&cD("cancel",(i,s)=>this.cancelPress(i,s))},o=uu(this.node.current,"blur",r);this.removeAccessibleListeners=df(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&zn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!QCe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&zn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=vu(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=uu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=df(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const G$=new WeakMap,uD=new WeakMap,jGe=e=>{const t=G$.get(e.target);t&&t(e)},TGe=e=>{e.forEach(jGe)};function AGe({root:e,...t}){const n=e||document;uD.has(n)||uD.set(n,{});const r=uD.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(TGe,{root:e,...t})),r[o]}function OGe(e,t,n){const r=AGe(t);return G$.set(e,n),r.observe(e),()=>{G$.delete(e),r.unobserve(e)}}const PGe={some:0,all:1};class DGe extends qf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:PGe[o]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return OGe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(IGe(t,n))&&this.startObserver()}unmount(){}}function IGe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const RGe={inView:{Feature:DGe},tap:{Feature:kGe},focus:{Feature:EGe},hover:{Feature:SGe}};function e2e(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function $Ge(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function MGe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function KT(e,t,n){const r=e.getProps();return R9(r,t,n!==void 0?n:r.custom,$Ge(e),MGe(e))}const FGe="framerAppearId",LGe="data-"+D9(FGe);let BGe=$r,$9=$r;const ff=e=>e*1e3,yu=e=>e/1e3,NGe={current:!1},t2e=e=>Array.isArray(e)&&typeof e[0]=="number";function n2e(e){return!!(!e||typeof e=="string"&&r2e[e]||t2e(e)||Array.isArray(e)&&e.every(n2e))}const by=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,r2e={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:by([0,.65,.55,1]),circOut:by([.55,0,1,.45]),backIn:by([.31,.01,.66,-.59]),backOut:by([.33,1.53,.69,.99])};function o2e(e){if(e)return t2e(e)?by(e):Array.isArray(e)?e.map(o2e):r2e[e]}function zGe(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=o2e(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function VGe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const i2e=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,HGe=1e-7,UGe=12;function WGe(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=i2e(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>HGe&&++a<UGe);return s}function ww(e,t,n,r){if(e===t&&n===r)return $r;const o=i=>WGe(i,0,1,e,n);return i=>i===0||i===1?i:i2e(o(i),t,r)}const YGe=ww(.42,0,1,1),qGe=ww(0,0,.58,1),s2e=ww(.42,0,.58,1),GGe=e=>Array.isArray(e)&&typeof e[0]!="number",a2e=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,l2e=e=>t=>1-e(1-t),c2e=e=>1-Math.sin(Math.acos(e)),M9=l2e(c2e),KGe=a2e(M9),u2e=ww(.33,1.53,.69,.99),F9=l2e(u2e),ZGe=a2e(F9),XGe=e=>(e*=2)<1?.5*F9(e):.5*(2-Math.pow(2,-10*(e-1))),QGe={linear:$r,easeIn:YGe,easeInOut:s2e,easeOut:qGe,circIn:c2e,circInOut:KGe,circOut:M9,backIn:F9,backInOut:ZGe,backOut:u2e,anticipate:XGe},hY=e=>{if(Array.isArray(e)){$9(e.length===4);const[t,n,r,o]=e;return ww(t,n,r,o)}else if(typeof e=="string")return QGe[e];return e},L9=(e,t)=>n=>!!(bw(n)&&Xqe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),d2e=(e,t,n)=>r=>{if(!bw(r))return r;const[o,i,s,a]=r.match(qT);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},JGe=e=>Of(0,255,e),dD={...pm,transform:e=>Math.round(JGe(e))},ep={test:L9("rgb","red"),parse:d2e("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+dD.transform(e)+", "+dD.transform(t)+", "+dD.transform(n)+", "+Qy(Xy.transform(r))+")"};function eKe(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const K$={test:L9("#"),parse:eKe,transform:ep.transform},Rg={test:L9("hsl","hue"),parse:d2e("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+vc.transform(Qy(t))+", "+vc.transform(Qy(n))+", "+Qy(Xy.transform(r))+")"},Ni={test:e=>ep.test(e)||K$.test(e)||Rg.test(e),parse:e=>ep.test(e)?ep.parse(e):Rg.test(e)?Rg.parse(e):K$.parse(e),transform:e=>bw(e)?e:e.hasOwnProperty("red")?ep.transform(e):Rg.transform(e)},Sr=(e,t,n)=>-n*e+n*t+e;function fD(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tKe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;o=fD(c,a,e+1/3),i=fD(c,a,e),s=fD(c,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const hD=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},nKe=[K$,ep,Rg],rKe=e=>nKe.find(t=>t.test(e));function pY(e){const t=rKe(e);let n=t.parse(e);return t===Rg&&(n=tKe(n)),n}const f2e=(e,t)=>{const n=pY(e),r=pY(t),o={...n};return i=>(o.red=hD(n.red,r.red,i),o.green=hD(n.green,r.green,i),o.blue=hD(n.blue,r.blue,i),o.alpha=Sr(n.alpha,r.alpha,i),ep.transform(o))};function oKe(e){var t,n;return isNaN(e)&&bw(e)&&(((t=e.match(qT))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(LCe))===null||n===void 0?void 0:n.length)||0)>0}const h2e={regex:Kqe,countKey:"Vars",token:"${v}",parse:$r},p2e={regex:LCe,countKey:"Colors",token:"${c}",parse:Ni.parse},m2e={regex:qT,countKey:"Numbers",token:"${n}",parse:pm.parse};function pD(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function h5(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&pD(n,h2e),pD(n,p2e),pD(n,m2e),n}function g2e(e){return h5(e).values}function v2e(e){const{values:t,numColors:n,numVars:r,tokenised:o}=h5(e),i=t.length;return s=>{let a=o;for(let c=0;c<i;c++)c<r?a=a.replace(h2e.token,s[c]):c<r+n?a=a.replace(p2e.token,Ni.transform(s[c])):a=a.replace(m2e.token,Qy(s[c]));return a}}const iKe=e=>typeof e=="number"?0:e;function sKe(e){const t=g2e(e);return v2e(e)(t.map(iKe))}const Pf={test:oKe,parse:g2e,createTransformer:v2e,getAnimatableNone:sKe},y2e=(e,t)=>n=>`${n>0?t:e}`;function b2e(e,t){return typeof e=="number"?n=>Sr(e,t,n):Ni.test(e)?f2e(e,t):e.startsWith("var(")?y2e(e,t):w2e(e,t)}const x2e=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>b2e(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},aKe=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=b2e(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},w2e=(e,t)=>{const n=Pf.createTransformer(t),r=h5(e),o=h5(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?df(x2e(r.values,o.values),n):y2e(e,t)},Jb=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},mY=(e,t)=>n=>Sr(e,t,n);function lKe(e){return typeof e=="number"?mY:typeof e=="string"?Ni.test(e)?f2e:w2e:Array.isArray(e)?x2e:typeof e=="object"?aKe:mY}function cKe(e,t,n){const r=[],o=n||lKe(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||$r:t;a=df(c,a)}r.push(a)}return r}function _2e(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if($9(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=cKe(t,r,o),a=s.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Jb(e[d],e[d+1],u);return s[d](f)};return n?u=>c(Of(e[0],e[i-1],u)):c}function uKe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Jb(0,t,r);e.push(Sr(n,1,o))}}function dKe(e){const t=[0];return uKe(t,e.length-1),t}function fKe(e,t){return e.map(n=>n*t)}function hKe(e,t){return e.map(()=>t||s2e).splice(0,e.length-1)}function p5({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=GGe(r)?r.map(hY):hY(r),i={done:!1,value:t[0]},s=fKe(n&&n.length===t.length?n:dKe(t),e),a=_2e(s,t,{ease:Array.isArray(o)?o:hKe(t,o)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function C2e(e,t){return t?e*(1e3/t):0}const pKe=5;function S2e(e,t,n){const r=Math.max(t-pKe,0);return C2e(n-e(r),t-r)}const mD=.001,mKe=.01,gY=10,gKe=.05,vKe=1;function yKe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;BGe(e<=ff(gY));let s=1-t;s=Of(gKe,vKe,s),e=Of(mKe,gY,yu(e)),s<1?(o=u=>{const d=u*s,f=d*e,p=d-n,m=Z$(u,s),v=Math.exp(-f);return mD-p/m*v},i=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=Z$(Math.pow(u,2),s);return(-o(u)+mD>0?-1:1)*((p-m)*v)/g}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-mD+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,c=xKe(o,i,a);if(e=ff(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const bKe=12;function xKe(e,t,n){let r=n;for(let o=1;o<bKe;o++)r=r-e(r)/t(r);return r}function Z$(e,t){return e*Math.sqrt(1-t*t)}const wKe=["duration","bounce"],_Ke=["stiffness","damping","mass"];function vY(e,t){return t.some(n=>e[n]!==void 0)}function CKe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!vY(e,_Ke)&&vY(e,wKe)){const n=yKe(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function E2e({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:c,mass:u,velocity:d,duration:f,isResolvedFromDuration:p}=CKe(r),m=d?-yu(d):0,v=c/(2*Math.sqrt(a*u)),g=i-o,b=yu(Math.sqrt(a/u)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let y;if(v<1){const w=Z$(b,v);y=_=>{const C=Math.exp(-v*b*_);return i-C*((m+v*b*g)/w*Math.sin(w*_)+g*Math.cos(w*_))}}else if(v===1)y=w=>i-Math.exp(-b*w)*(g+(m+b*g)*w);else{const w=b*Math.sqrt(v*v-1);y=_=>{const C=Math.exp(-v*b*_),S=Math.min(w*_,300);return i-C*((m+v*b*g)*Math.sinh(S)+w*g*Math.cosh(S))/w}}return{calculatedDuration:p&&f||null,next:w=>{const _=y(w);if(p)s.done=w>=f;else{let C=m;w!==0&&(v<1?C=S2e(y,w,_):C=0);const S=Math.abs(C)<=n,E=Math.abs(i-_)<=t;s.done=S&&E}return s.value=s.done?i:_,s}}}function yY({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=j=>a!==void 0&&j<a||c!==void 0&&j>c,v=j=>a===void 0?c:c===void 0||Math.abs(a-j)<Math.abs(c-j)?a:c;let g=n*t;const b=f+g,x=s===void 0?b:s(b);x!==b&&(g=x-f);const y=j=>-g*Math.exp(-j/r),w=j=>x+y(j),_=j=>{const k=y(j),T=w(j);p.done=Math.abs(k)<=u,p.value=p.done?x:T};let C,S;const E=j=>{m(p.value)&&(C=j,S=E2e({keyframes:[p.value,v(p.value)],velocity:S2e(w,j,p.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:j=>{let k=!1;return!S&&C===void 0&&(k=!0,_(j),E(j)),C!==void 0&&j>C?S.next(j-C):(!k&&_(j),p)}}}const SKe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>zn.update(t,!0),stop:()=>Du(t),now:()=>Eo.isProcessing?Eo.timestamp:performance.now()}},bY=2e4;function xY(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<bY;)t+=n,r=e.next(t);return t>=bY?1/0:t}const EKe={decay:yY,inertia:yY,tween:p5,keyframes:p5,spring:E2e};function m5({autoplay:e=!0,delay:t=0,driver:n=SKe,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,v=!1,g,b;const x=()=>{b=new Promise(z=>{g=z})};x();let y;const w=EKe[o]||p5;let _;w!==p5&&typeof r[0]!="number"&&(_=_2e([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...p,keyframes:r});let S;a==="mirror"&&(S=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",j=null,k=null,T=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=xY(C));const{calculatedDuration:A}=C;let O=1/0,P=1/0;A!==null&&(O=A+s,P=O*(i+1)-s);let D=0;const R=z=>{if(k===null)return;m>0&&(k=Math.min(k,z)),m<0&&(k=Math.min(z-P/m,k)),j!==null?D=j:D=Math.round(z-k)*m;const q=D-t*(m>=0?1:-1),oe=m>=0?q<0:q>P;D=Math.max(q,0),E==="finished"&&j===null&&(D=P);let N=D,G=C;if(i){const Q=D/O;let Z=Math.floor(Q),re=Q%1;!re&&Q>=1&&(re=1),re===1&&Z--,Z=Math.min(Z,i+1);const ae=!!(Z%2);ae&&(a==="reverse"?(re=1-re,s&&(re-=s/O)):a==="mirror"&&(G=S));let me=Of(0,1,re);D>P&&(me=a==="reverse"&&ae?1:0),N=me*O}const Y=oe?{done:!1,value:r[0]}:G.next(N);_&&(Y.value=_(Y.value));let{done:K}=Y;!oe&&A!==null&&(K=m>=0?D>=P:D<=0);const X=j===null&&(E==="finished"||E==="running"&&K);return f&&f(Y.value),X&&F(),Y},$=()=>{y&&y.stop(),y=void 0},H=()=>{E="idle",$(),g(),x(),k=T=null},F=()=>{E="finished",d&&d(),$(),g()},V=()=>{if(v)return;y||(y=n(R));const z=y.now();c&&c(),j!==null?k=z-j:(!k||E==="finished")&&(k=z),E==="finished"&&x(),T=k,j=null,E="running",y.start()};e&&V();const W={then(z,q){return b.then(z,q)},get time(){return yu(D)},set time(z){z=ff(z),D=z,j!==null||!y||m===0?j=z:k=y.now()-z/m},get duration(){const z=C.calculatedDuration===null?xY(C):C.calculatedDuration;return yu(z)},get speed(){return m},set speed(z){z===m||!y||(m=z,W.time=yu(D))},get state(){return E},play:V,pause:()=>{E="paused",j=D},stop:()=>{v=!0,E!=="idle"&&(E="idle",u&&u(),H())},cancel:()=>{T!==null&&R(T),H()},complete:()=>{E="finished"},sample:z=>(k=0,R(z))};return W}function kKe(e){let t;return()=>(t===void 0&&(t=e()),t)}const jKe=kKe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),TKe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Z_=10,AKe=2e4,OKe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!n2e(t.ease);function PKe(e,t,{onUpdate:n,onComplete:r,...o}){if(!(jKe()&&TKe.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,c;const u=()=>{c=new Promise(y=>{a=y})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=o;if(OKe(t,o)){const y=m5({...o,repeat:0,delay:0});let w={done:!1,value:d[0]};const _=[];let C=0;for(;!w.done&&C<AKe;)w=y.sample(C),_.push(w.value),C+=Z_;m=void 0,d=_,f=C-Z_,p="linear"}const v=zGe(e.owner.current,t,d,{...o,duration:f,ease:p,times:m});o.syncStart&&(v.startTime=Eo.isProcessing?Eo.timestamp:document.timeline?document.timeline.currentTime:performance.now());const g=()=>v.cancel(),b=()=>{zn.update(g),a(),u()};return v.onfinish=()=>{e.set(VGe(d,o)),r&&r(),b()},{then(y,w){return c.then(y,w)},attachTimeline(y){return v.timeline=y,v.onfinish=null,$r},get time(){return yu(v.currentTime||0)},set time(y){v.currentTime=ff(y)},get speed(){return v.playbackRate},set speed(y){v.playbackRate=y},get duration(){return yu(f)},play:()=>{s||(v.play(),Du(g))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:y}=v;if(y){const w=m5({...o,autoplay:!1});e.setWithVelocity(w.sample(y-Z_).value,w.sample(y).value,Z_)}b()},complete:()=>v.finish(),cancel:b}}function DKe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:$r,pause:$r,stop:$r,then:i=>(i(),Promise.resolve()),cancel:$r,complete:$r});return t?m5({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const IKe={type:"spring",stiffness:500,damping:25,restSpeed:10},RKe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$Ke={type:"keyframes",duration:.8},MKe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FKe=(e,{keyframes:t})=>t.length>2?$Ke:hm.has(e)?e.startsWith("scale")?RKe(t[1]):IKe:MKe,X$=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pf.test(t)||t==="0")&&!t.startsWith("url(")),LKe=new Set(["brightness","contrast","saturate","opacity"]);function BKe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(qT)||[];if(!r)return e;const o=n.replace(r,"");let i=LKe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const NKe=/([a-z-]*)\(.*?\)/g,Q$={...Pf,getAnimatableNone:e=>{const t=e.match(NKe);return t?t.map(BKe).join(" "):e}},zKe={...BCe,color:Ni,backgroundColor:Ni,outlineColor:Ni,fill:Ni,stroke:Ni,borderColor:Ni,borderTopColor:Ni,borderRightColor:Ni,borderBottomColor:Ni,borderLeftColor:Ni,filter:Q$,WebkitFilter:Q$},B9=e=>zKe[e];function k2e(e,t){let n=B9(e);return n!==Q$&&(n=Pf),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const j2e=e=>/^0[^.\s]+$/.test(e);function VKe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||j2e(e)}function HKe(e,t,n,r){const o=X$(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),VKe(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=k2e(t,a)}return i}function UKe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function T2e(e,t){return e[t]||e.default||e}const N9=(e,t,n,r={})=>o=>{const i=T2e(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-ff(s);const c=HKe(t,e,n,i),u=c[0],d=c[c.length-1],f=X$(e,u),p=X$(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(UKe(i)||(m={...m,...FKe(e,m)}),m.duration&&(m.duration=ff(m.duration)),m.repeatDelay&&(m.repeatDelay=ff(m.repeatDelay)),!f||!p||NGe.current||i.type===!1)return DKe(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=PKe(t,e,m);if(v)return v}return m5(m)};function g5(e){return!!(js(e)&&e.add)}const A2e=e=>/^\-?\d*\.?\d+$/.test(e);function z9(e,t){e.indexOf(t)===-1&&e.push(t)}function V9(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class H9{constructor(){this.subscriptions=[]}add(t){return z9(this.subscriptions,t),()=>V9(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const WKe=e=>!isNaN(parseFloat(e));class YKe{constructor(t,n={}){this.version="10.16.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Eo;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,zn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>zn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=WKe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new H9);const r=this.events[t].add(n);return t==="change"?()=>{r(),zn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?C2e(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bv(e,t){return new YKe(e,t)}const O2e=e=>t=>t.test(e),qKe={test:e=>e==="auto",parse:e=>e},P2e=[pm,ot,vc,wd,Jqe,Qqe,qKe],T1=e=>P2e.find(O2e(e)),GKe=[...P2e,Ni,Pf],KKe=e=>GKe.find(O2e(e));function ZKe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bv(n))}function XKe(e,t){const n=KT(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=hGe(i[s]);ZKe(e,s,a)}}function QKe(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&o!==void 0?o:t[c]),d!=null&&(typeof d=="string"&&(A2e(d)||j2e(d))?d=parseFloat(d):!KKe(d)&&Pf.test(u)&&(d=k2e(c,u)),e.addValue(c,Bv(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function JKe(e,t){return t?(t[e]||t.default||t).from:void 0}function eZe(e,t,n){const r={};for(const o in e){const i=JKe(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function tZe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function D2e(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const p=e.getValue(f),m=a[f];if(!p||m===void 0||d&&tZe(d,f))continue;const v={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!p.hasAnimated){const b=e.getProps()[LGe];b&&(v.elapsed=window.HandoffAppearAnimations(b,f,p,zn),v.syncStart=!0)}p.start(N9(f,p,m,e.shouldReduceMotion&&hm.has(f)?{type:!1}:v));const g=p.animation;g5(c)&&(c.add(f),g.then(()=>c.remove(f))),u.push(g)}return s&&Promise.all(u).then(()=>{s&&XKe(e,s)}),u}function J$(e,t,n={}){const r=KT(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(D2e(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return nZe(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[c,u]=a==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function nZe(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,c=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(rZe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(J$(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function rZe(e,t){return e.sortNodePosition(t)}function oZe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>J$(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=J$(e,t,n);else{const o=typeof t=="function"?KT(e,t,n.custom):t;r=Promise.all(D2e(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const iZe=[...S9].reverse(),sZe=S9.length;function aZe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>oZe(e,n,r)))}function lZe(e){let t=aZe(e);const n=uZe();let r=!0;const o=(c,u)=>{const d=KT(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function i(c){t=c(e)}function s(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let v={},g=1/0;for(let x=0;x<sZe;x++){const y=iZe[x],w=n[y],_=d[y]!==void 0?d[y]:f[y],C=Xb(_),S=y===u?w.isActive:null;S===!1&&(g=x);let E=_===f[y]&&_!==d[y]&&C;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...v},!w.isActive&&S===null||!_&&!w.prevProp||WT(_)||typeof _=="boolean")continue;const j=cZe(w.prevProp,_);let k=j||y===u&&w.isActive&&!E&&C||x>g&&C;const T=Array.isArray(_)?_:[_];let A=T.reduce(o,{});S===!1&&(A={});const{prevResolvedValues:O={}}=w,P={...O,...A},D=R=>{k=!0,m.delete(R),w.needsAnimating[R]=!0};for(const R in P){const $=A[R],H=O[R];v.hasOwnProperty(R)||($!==H?f5($)&&f5(H)?!e2e($,H)||j?D(R):w.protectedKeys[R]=!0:$!==void 0?D(R):m.add(R):$!==void 0&&m.has(R)?D(R):w.protectedKeys[R]=!0)}w.prevProp=_,w.prevResolvedValues=A,w.isActive&&(v={...v,...A}),r&&e.blockInitialAnimation&&(k=!1),k&&!E&&p.push(...T.map(R=>({animation:R,options:{type:y,...c}})))}if(m.size){const x={};m.forEach(y=>{const w=e.getBaseTarget(y);w!==void 0&&(x[y]=w)}),p.push({animation:x})}let b=!!p.length;return r&&d.initial===!1&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function a(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const p=s(d,c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function cZe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!e2e(t,e):!1}function mh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uZe(){return{animate:mh(!0),whileInView:mh(),whileHover:mh(),whileTap:mh(),whileDrag:mh(),whileFocus:mh(),exit:mh()}}class dZe extends qf{constructor(t){super(t),t.animationState||(t.animationState=lZe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),WT(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let fZe=0;class hZe extends qf{constructor(){super(...arguments),this.id=fZe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const pZe={animation:{Feature:dZe},exit:{Feature:hZe}},wY=(e,t)=>Math.abs(e-t);function mZe(e,t){const n=wY(e.x,t.x),r=wY(e.y,t.y);return Math.sqrt(n**2+r**2)}class I2e{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=vD(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=mZe(u.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:p}=u,{timestamp:m}=Eo;this.history.push({...p,timestamp:m});const{onStart:v,onMove:g}=this.handlers;d||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=gD(d,this.transformPagePoint),zn.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,m=vD(u.type==="pointercancel"?this.lastMoveEventInfo:gD(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),p&&p(u,m)},!KCe(t))return;this.handlers=n,this.transformPagePoint=r;const o=GT(t),i=gD(o,this.transformPagePoint),{point:s}=i,{timestamp:a}=Eo;this.history=[{...s,timestamp:a}];const{onSessionStart:c}=n;c&&c(t,vD(i,this.history)),this.removeListeners=df(vu(window,"pointermove",this.handlePointerMove),vu(window,"pointerup",this.handlePointerUp),vu(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Du(this.updatePoint)}}function gD(e,t){return t?{point:t(e.point)}:e}function _Y(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vD({point:e},t){return{point:e,delta:_Y(e,R2e(t)),offset:_Y(e,gZe(t)),velocity:vZe(t,.1)}}function gZe(e){return e[0]}function R2e(e){return e[e.length-1]}function vZe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=R2e(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>ff(t)));)n--;if(!r)return{x:0,y:0};const i=yu(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ea(e){return e.max-e.min}function eM(e,t=0,n=.01){return Math.abs(e-t)<=n}function CY(e,t,n,r=.5){e.origin=r,e.originPoint=Sr(t.min,t.max,e.origin),e.scale=ea(n)/ea(t),(eM(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Sr(n.min,n.max,e.origin)-e.originPoint,(eM(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Jy(e,t,n,r){CY(e.x,t.x,n.x,r?r.originX:void 0),CY(e.y,t.y,n.y,r?r.originY:void 0)}function SY(e,t,n){e.min=n.min+t.min,e.max=e.min+ea(t)}function yZe(e,t,n){SY(e.x,t.x,n.x),SY(e.y,t.y,n.y)}function EY(e,t,n){e.min=t.min-n.min,e.max=e.min+ea(t)}function eb(e,t,n){EY(e.x,t.x,n.x),EY(e.y,t.y,n.y)}function bZe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Sr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Sr(n,e,r.max):Math.min(e,n)),e}function kY(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function xZe(e,{top:t,left:n,bottom:r,right:o}){return{x:kY(e.x,n,o),y:kY(e.y,t,r)}}function jY(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function wZe(e,t){return{x:jY(e.x,t.x),y:jY(e.y,t.y)}}function _Ze(e,t){let n=.5;const r=ea(e),o=ea(t);return o>r?n=Jb(t.min,t.max-r,e.min):r>o&&(n=Jb(e.min,e.max-o,t.min)),Of(0,1,n)}function CZe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const tM=.35;function SZe(e=tM){return e===!1?e=0:e===!0&&(e=tM),{x:TY(e,"left","right"),y:TY(e,"top","bottom")}}function TY(e,t,n){return{min:AY(e,t),max:AY(e,n)}}function AY(e,t){return typeof e=="number"?e:e[t]||0}const OY=()=>({translate:0,scale:1,origin:0,originPoint:0}),$g=()=>({x:OY(),y:OY()}),PY=()=>({min:0,max:0}),Kr=()=>({x:PY(),y:PY()});function Ql(e){return[e("x"),e("y")]}function $2e({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function EZe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kZe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yD(e){return e===void 0||e===1}function nM({scale:e,scaleX:t,scaleY:n}){return!yD(e)||!yD(t)||!yD(n)}function Th(e){return nM(e)||M2e(e)||e.z||e.rotate||e.rotateX||e.rotateY}function M2e(e){return DY(e.x)||DY(e.y)}function DY(e){return e&&e!=="0%"}function v5(e,t,n){const r=e-n,o=t*r;return n+o}function IY(e,t,n,r,o){return o!==void 0&&(e=v5(e,o,r)),v5(e,n,r)+t}function rM(e,t=0,n=1,r,o){e.min=IY(e.min,t,n,r,o),e.max=IY(e.max,t,n,r,o)}function F2e(e,{x:t,y:n}){rM(e.x,t.translate,t.scale,t.originPoint),rM(e.y,n.translate,n.scale,n.originPoint)}function jZe(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,F2e(e,s)),r&&Th(i.latestValues)&&Mg(e,i.latestValues))}t.x=RY(t.x),t.y=RY(t.y)}function RY(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function jd(e,t){e.min=e.min+t,e.max=e.max+t}function $Y(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=Sr(e.min,e.max,i);rM(e,t[n],t[r],s,t.scale)}const TZe=["x","scaleX","originX"],AZe=["y","scaleY","originY"];function Mg(e,t){$Y(e.x,t,TZe),$Y(e.y,t,AZe)}function L2e(e,t){return $2e(kZe(e.getBoundingClientRect(),t))}function OZe(e,t,n){const r=L2e(e,n),{scroll:o}=t;return o&&(jd(r.x,o.offset.x),jd(r.y,o.offset.y)),r}const PZe=new WeakMap;class DZe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=c=>{this.stopAnimation(),n&&this.snapToCursor(GT(c,"page").point)},i=(c,u)=>{const{drag:d,dragPropagation:f,onDragStart:p}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=XCe(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ql(v=>{let g=this.getAxisMotionValue(v).get()||0;if(vc.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[v];x&&(g=ea(x)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&zn.update(()=>p(c,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(c,u)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:v}=u;if(f&&this.currentDirection===null){this.currentDirection=IZe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(c,u)},a=(c,u)=>this.stop(c,u);this.panSession=new I2e(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&zn.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!X_(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=bZe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;t&&Ig(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=xZe(r.layoutBox,t):this.constraints=!1,this.elastic=SZe(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ql(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=CZe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ig(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=OZe(r,o.root,this.visualElement.getTransformPagePoint());let s=wZe(o.layout.layoutBox,i);if(n){const a=n(EZe(s));this.hasMutatedConstraints=!!a,a&&(s=$2e(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Ql(d=>{if(!X_(d,n,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(N9(t,r,0,n))}stopAnimation(){Ql(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ql(n=>{const{drag:r}=this.getProps();if(!X_(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-Sr(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ig(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ql(s=>{const a=this.getAxisMotionValue(s);if(a){const c=a.get();o[s]=_Ze({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ql(s=>{if(!X_(s,t,null))return;const a=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];a.set(Sr(c,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;PZe.set(this.visualElement,this);const t=this.visualElement.current,n=vu(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ig(c)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=uu(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ql(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=tM,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function X_(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function IZe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class RZe extends qf{constructor(t){super(t),this.removeGroupControls=$r,this.removeListeners=$r,this.controls=new DZe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$r}unmount(){this.removeGroupControls(),this.removeListeners()}}const MY=e=>(t,n)=>{e&&zn.update(()=>e(t,n))};class $Ze extends qf{constructor(){super(...arguments),this.removePointerDownListener=$r}onPointerDown(t){this.session=new I2e(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:MY(t),onStart:MY(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&zn.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=vu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function MZe(){const e=h.useContext(HT);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const V2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FY(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const A1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ot.test(e))e=parseFloat(e);else return e;const n=FY(e,t.target.x),r=FY(e,t.target.y);return`${n}% ${r}%`}},FZe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Pf.parse(e);if(o.length>5)return r;const i=Pf.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=c;const u=Sr(a,c,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};class LZe extends ne.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;Wqe(BZe),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),V2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||zn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function B2e(e){const[t,n]=MZe(),r=h.useContext(k9);return ne.createElement(LZe,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(RCe),isPresent:t,safeToRemove:n})}const BZe={borderRadius:{...A1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:A1,borderTopRightRadius:A1,borderBottomLeftRadius:A1,borderBottomRightRadius:A1,boxShadow:FZe},N2e=["TopLeft","TopRight","BottomLeft","BottomRight"],NZe=N2e.length,LY=e=>typeof e=="string"?parseFloat(e):e,BY=e=>typeof e=="number"||ot.test(e);function zZe(e,t,n,r,o,i){o?(e.opacity=Sr(0,n.opacity!==void 0?n.opacity:1,VZe(r)),e.opacityExit=Sr(t.opacity!==void 0?t.opacity:1,0,HZe(r))):i&&(e.opacity=Sr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<NZe;s++){const a=`border${N2e[s]}Radius`;let c=NY(t,a),u=NY(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||BY(c)===BY(u)?(e[a]=Math.max(Sr(LY(c),LY(u),r),0),(vc.test(u)||vc.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Sr(t.rotate||0,n.rotate||0,r))}function NY(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const VZe=z2e(0,.5,M9),HZe=z2e(.5,.95,$r);function z2e(e,t,n){return r=>r<e?0:r>t?1:n(Jb(e,t,r))}function zY(e,t){e.min=t.min,e.max=t.max}function fa(e,t){zY(e.x,t.x),zY(e.y,t.y)}function VY(e,t,n,r,o){return e-=t,e=v5(e,1/n,r),o!==void 0&&(e=v5(e,1/o,r)),e}function UZe(e,t=0,n=1,r=.5,o,i=e,s=e){if(vc.test(t)&&(t=parseFloat(t),t=Sr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Sr(i.min,i.max,r);e===i&&(a-=t),e.min=VY(e.min,t,n,a,o),e.max=VY(e.max,t,n,a,o)}function HY(e,t,[n,r,o],i,s){UZe(e,t[n],t[r],t[o],t.scale,i,s)}const WZe=["x","scaleX","originX"],YZe=["y","scaleY","originY"];function UY(e,t,n,r){HY(e.x,t,WZe,n?n.x:void 0,r?r.x:void 0),HY(e.y,t,YZe,n?n.y:void 0,r?r.y:void 0)}function WY(e){return e.translate===0&&e.scale===1}function V2e(e){return WY(e.x)&&WY(e.y)}function qZe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function H2e(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function YY(e){return ea(e.x)/ea(e.y)}class GZe{constructor(){this.members=[]}add(t){z9(this.members,t),t.scheduleRender()}remove(t){if(V9(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qY(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const KZe=(e,t)=>e.depth-t.depth;class ZZe{constructor(){this.children=[],this.isDirty=!1}add(t){z9(this.children,t),this.isDirty=!0}remove(t){V9(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(KZe),this.isDirty=!1,this.children.forEach(t)}}function XZe(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Du(r),e(i-t))};return zn.read(r,!0),()=>Du(r)}function QZe(e){window.MotionDebug&&window.MotionDebug.record(e)}function JZe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function eXe(e,t,n){const r=js(e)?e:Bv(e);return r.start(N9("",r,t,n)),r.animation}const GY=["","X","Y","Z"],KY=1e3;let tXe=0;const Ah={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function U2e({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=tXe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ah.totalNodes=Ah.resolvedTargetDeltas=Ah.recalculatedProjection=0,this.nodes.forEach(oXe),this.nodes.forEach(cXe),this.nodes.forEach(uXe),this.nodes.forEach(iXe),QZe(Ah)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZZe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new H9),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const c=this.eventHandlers.get(s);c&&c.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JZe(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=XZe(p,250),V2.hasAnimatedSinceResize&&(V2.hasAnimatedSinceResize=!1,this.nodes.forEach(XY))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||mXe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),y=!this.targetLayout||!H2e(this.targetLayout,v)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const _={...T2e(g,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else p||XY(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Du(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dXe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZY);return}this.isUpdating||this.nodes.forEach(aXe),this.isUpdating=!1,this.nodes.forEach(lXe),this.nodes.forEach(nXe),this.nodes.forEach(rXe),this.clearAllSnapshots();const a=performance.now();Eo.delta=Of(0,1e3/60,a-Eo.timestamp),Eo.timestamp=a,Eo.isProcessing=!0,lD.update.process(Eo),lD.preRender.process(Eo),lD.render.process(Eo),Eo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(sXe),this.sharedNodes.forEach(fXe)}scheduleUpdateProjection(){zn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){zn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!V2e(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||Th(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return s&&(c=this.removeTransform(c)),gXe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Kr();const a=s.measureViewportBox(),{scroll:c}=this.root;return c&&(jd(a.x,c.offset.x),jd(a.y,c.offset.y)),a}removeElementScroll(s){const a=Kr();fa(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){fa(a,s);const{scroll:p}=this.root;p&&(jd(a.x,-p.offset.x),jd(a.y,-p.offset.y))}jd(a.x,d.offset.x),jd(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const c=Kr();fa(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Mg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Th(d.latestValues)&&Mg(c,d.latestValues)}return Th(this.latestValues)&&Mg(c,this.latestValues),c}removeTransform(s){const a=Kr();fa(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Th(u.latestValues))continue;nM(u.latestValues)&&u.updateSnapshot();const d=Kr(),f=u.measurePageBox();fa(d,f),UY(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Th(this.latestValues)&&UY(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Eo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Eo.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kr(),this.relativeTargetOrigin=Kr(),eb(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),fa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Kr(),this.targetWithTransforms=Kr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yZe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fa(this.target,this.layout.layoutBox),F2e(this.target,this.targetDelta)):fa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kr(),this.relativeTargetOrigin=Kr(),eb(this.relativeTargetOrigin,this.target,m.target),fa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ah.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||nM(this.parent.latestValues)||M2e(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Eo.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;fa(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;jZe(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=$g(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=$g(),this.projectionDeltaWithTransform=$g());const g=this.projectionTransform;Jy(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=qY(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Ah.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=$g();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Kr(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,b=this.getStack(),x=!b||b.members.length<=1,y=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(pXe));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const C=_/1e3;QY(f.x,s.x,C),QY(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eb(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hXe(this.relativeTarget,this.relativeTargetOrigin,p,C),w&&qZe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Kr()),fa(w,this.relativeTarget)),g&&(this.animationValues=d,zZe(d,u,this.latestValues,C,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Du(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zn.update(()=>{V2.hasAnimatedSinceResize=!0,this.currentAnimation=eXe(0,KY,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=s;if(!(!a||!c||!u)){if(this!==s&&this.layout&&u&&W2e(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Kr();const f=ea(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const p=ea(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+p}fa(a,c),Mg(a,d),Jy(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new GZe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<GY.length;d++){const f="rotate"+GY[d];c[f]&&(u[f]=c[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s={}){var a,c;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=z2(s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=z2(s.pointerEvents)||""),this.hasProjected&&!Th(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=qY(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in u5){if(p[g]===void 0)continue;const{correct:b,applyTo:x}=u5[g],y=u.transform==="none"?p[g]:b(p[g],f);if(x){const w=x.length;for(let _=0;_<w;_++)u[x[_]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=f===this?z2(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ZY),this.root.sharedNodes.clear()}}}function nXe(e){e.updateLayout()}function rXe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?Ql(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ea(p);p.min=r[f].min,p.max=p.min+m}):W2e(i,n.layoutBox,r)&&Ql(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ea(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=$g();Jy(a,r,n.layoutBox);const c=$g();s?Jy(c,e.applyTransform(o,!0),n.measuredBox):Jy(c,r,n.layoutBox);const u=!V2e(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=Kr();eb(v,n.layoutBox,p.layoutBox);const g=Kr();eb(g,r,m.layoutBox),H2e(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function oXe(e){Ah.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iXe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sXe(e){e.clearSnapshot()}function ZY(e){e.clearMeasurements()}function aXe(e){e.isLayoutDirty=!1}function lXe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function XY(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cXe(e){e.resolveTargetDelta()}function uXe(e){e.calcProjection()}function dXe(e){e.resetRotation()}function fXe(e){e.removeLeadSnapshot()}function QY(e,t,n){e.translate=Sr(t.translate,0,n),e.scale=Sr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function JY(e,t,n,r){e.min=Sr(t.min,n.min,r),e.max=Sr(t.max,n.max,r)}function hXe(e,t,n,r){JY(e.x,t.x,n.x,r),JY(e.y,t.y,n.y,r)}function pXe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mXe={duration:.45,ease:[.4,0,.1,1]},eq=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),tq=eq("applewebkit/")&&!eq("chrome/")?Math.round:$r;function nq(e){e.min=tq(e.min),e.max=tq(e.max)}function gXe(e){nq(e.x),nq(e.y)}function W2e(e,t,n){return e==="position"||e==="preserve-aspect"&&!eM(YY(t),YY(n),.2)}const vXe=U2e({attachResizeListener:(e,t)=>uu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bD={current:void 0},Y2e=U2e({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bD.current){const e=new vXe({});e.mount(window),e.setOptions({layoutScroll:!0}),bD.current=e}return bD.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yXe={pan:{Feature:$Ze},drag:{Feature:RZe,ProjectionNode:Y2e,MeasureLayout:B2e}},bXe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xXe(e){const t=bXe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function oM(e,t,n=1){const[r,o]=xXe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return A2e(s)?parseFloat(s):s}else return q$(o)?oM(o,t,n+1):o}function wXe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!q$(i))return;const s=oM(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!q$(i))continue;const s=oM(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const _Xe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),q2e=e=>_Xe.has(e),CXe=e=>Object.keys(e).some(q2e),rq=e=>e===pm||e===ot,oq=(e,t)=>parseFloat(e.split(", ")[t]),iq=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return oq(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?oq(i[1],e):0}},SXe=new Set(["x","y","z"]),EXe=yw.filter(e=>!SXe.has(e));function kXe(e){const t=[];return EXe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Nv={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:iq(4,13),y:iq(5,14)};Nv.translateX=Nv.x;Nv.translateY=Nv.y;const jXe=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Nv[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=Nv[u](c,i)}),e},TXe=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(q2e);let i=[],s=!1;const a=[];if(o.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=T1(d);const p=t[c];let m;if(f5(p)){const v=p.length,g=p[0]===null?1:0;d=p[g],f=T1(d);for(let b=g;b<v&&p[b]!==null;b++)m?$9(T1(p[b])===m):m=T1(p[b])}else m=T1(p);if(f!==m)if(rq(f)&&rq(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&m===ot&&(t[c]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(p):(s||(i=kXe(e),s=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(p))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=jXe(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),UT&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function AXe(e,t,n,r){return CXe(t)?TXe(e,t,n,r):{target:t,transitionEnd:r}}const OXe=(e,t,n,r)=>{const o=wXe(e,t,r);return t=o.target,r=o.transitionEnd,AXe(e,t,n,r)},iM={current:null},G2e={current:!1};function PXe(){if(G2e.current=!0,!!UT)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>iM.current=e.matches;e.addListener(t),t()}else iM.current=!1}function DXe(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(js(i))e.addValue(o,i),g5(r)&&r.add(o);else if(js(s))e.addValue(o,Bv(i,{owner:e})),g5(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,Bv(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const sq=new WeakMap,K2e=Object.keys(Qb),IXe=K2e.length,aq=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],RXe=E9.length;class $Xe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>zn.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=YT(n),this.isVariantNode=ICe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&js(p)&&(p.set(a[f],!1),g5(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,sq.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),G2e.current||PXe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sq.delete(this.current),this.projection&&this.projection.unmount(),Du(this.notifyUpdate),Du(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=hm.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&zn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let c=0;c<IXe;c++){const u=K2e[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Qb[u];p&&(s=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Ig(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<aq.length;r++){const o=aq[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=DXe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<RXe;r++){const o=E9[r],i=this.props[o];(Xb(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Bv(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=R9(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!js(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new H9),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Z2e extends $Xe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=eZe(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){QKe(this,r,s);const a=OXe(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function MXe(e){return window.getComputedStyle(e)}class FXe extends Z2e{readValueFromInstance(t,n){if(hm.has(n)){const r=B9(n);return r&&r.default||0}else{const r=MXe(t),o=(FCe(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return L2e(t,n)}build(t,n,r,o){T9(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return I9(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;js(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){HCe(t,n,r,o)}}class LXe extends Z2e{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(hm.has(n)){const r=B9(n);return r&&r.default||0}return n=UCe.has(n)?n:D9(n),t.getAttribute(n)}measureInstanceViewportBox(){return Kr()}scrapeMotionValuesFromProps(t,n){return YCe(t,n)}build(t,n,r,o){O9(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){WCe(t,n,r,o)}mount(t){this.isSVGTag=P9(t.tagName),super.mount(t)}}const BXe=(e,t)=>j9(e)?new LXe(t,{enableHardwareAcceleration:!1}):new FXe(t,{enableHardwareAcceleration:!0}),NXe={layout:{ProjectionNode:Y2e,MeasureLayout:B2e}},zXe={...pZe,...RGe,...yXe,...NXe},Ju=Hqe((e,t)=>wGe(e,t,zXe,BXe));function X2e(){const e=h.useRef(!1);return C9(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function VXe(){const e=X2e(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>zn.postRender(r),[r]),t]}class HXe extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function UXe({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:c}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(HXe,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const xD=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=qCe(WXe),c=h.useId(),u=h.useMemo(()=>({id:c,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(UXe,{isPresent:n},e)),h.createElement(HT.Provider,{value:u},e)};function WXe(){return new Map}function YXe(e){return h.useEffect(()=>()=>e(),[])}const Oh=e=>e.key||"";function qXe(e,t){e.forEach(n=>{const r=Oh(n);t.set(r,n)})}function GXe(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const U9=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(k9).forceRender||VXe()[0],c=X2e(),u=GXe(e);let d=u;const f=h.useRef(new Map).current,p=h.useRef(d),m=h.useRef(new Map).current,v=h.useRef(!0);if(C9(()=>{v.current=!1,qXe(u,m),p.current=d}),YXe(()=>{v.current=!0,m.clear(),f.clear()}),v.current)return h.createElement(h.Fragment,null,d.map(y=>h.createElement(xD,{key:Oh(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},y)));d=[...d];const g=p.current.map(Oh),b=u.map(Oh),x=g.length;for(let y=0;y<x;y++){const w=g[y];b.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((y,w)=>{if(b.indexOf(w)!==-1)return;const _=m.get(w);if(!_)return;const C=g.indexOf(w);let S=y;if(!S){const E=()=>{f.delete(w);const j=Array.from(m.keys()).filter(k=>!b.includes(k));if(j.forEach(k=>m.delete(k)),p.current=u.filter(k=>{const T=Oh(k);return T===w||j.includes(T)}),!f.size){if(c.current===!1)return;a(),r&&r()}};S=h.createElement(xD,{key:Oh(_),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:s},_),f.set(w,S)}d.splice(C,0,S)}),d=d.map(y=>{const w=y.key;return f.has(w)?y:h.createElement(xD,{key:Oh(y),isPresent:!0,presenceAffectsLayout:i,mode:s},y)}),h.createElement(h.Fragment,null,f.size?d:d.map(y=>h.cloneElement(y)))},_w=[],hf={},Q2e={top:"bottom",right:"left",bottom:"top",left:"right"};function KXe(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function pe(e){return e===0?0:"".concat(e/16,"rem")}function ht(e,t,n){return((t==null?void 0:t.map(n))||[]).map((o,i)=>i===0?o:{["@media screen and (min-width: ".concat(e[i-1],"px)")]:o})}function ZXe(e,t){return e===void 0?t||_w:Array.isArray(e)?e:[e]}function hs(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_w;if(!Array.isArray(n))throw new Error("the property must be array of numbers");return n.length===0?null:ht(e.sanity.media,n,r=>KXe(t,pe(e.sanity.space[r])))}function zv(e,t){const{$size:n,$weight:r,theme:o}=t,{fonts:i,media:s}=o.sanity,{family:a,sizes:c,weights:u}=i[e],d=r&&u[r]||u.regular,f=c[2],p={position:"relative",fontFamily:a,fontWeight:d,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return zv.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:p}),zv.warned=!0),[p];const m=ht(s,n,v=>XXe(c[v]||f));return[p,...m]}function XXe(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:o,letterSpacing:i,lineHeight:s}=e,a=t+n,c=s-a,u=(c-o)/2,d=Math.floor(r*1.125/2)*2+1,f=(c-d)/2;return{fontSize:pe(r),lineHeight:"calc(".concat(s," / ").concat(r,")"),letterSpacing:pe(i),transform:"translateY(".concat(pe(n),")"),"&:before":{marginTop:"calc(".concat(pe(0-a)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(d," / 16 * 1rem)"),margin:pe(f)},"& [data-sanity-icon]":{fontSize:"calc(".concat(o," / 16 * 1rem)"),margin:pe(u)}}}function QXe(e){return zv("code",e)}function JXe(e){return zv("heading",e)}function eQe(e){return zv("label",e)}function W9(e){const{theme:t}=e;return ht(t.sanity.media,e.$align,n=>({textAlign:n}))}function tQe(e){return zv("text",e)}function ye(e,t){const n=h.useMemo(()=>JSON.stringify(e??t),[t,e]);return h.useMemo(()=>ZXe(e,t),[n])}function lq(e,t){const n=[e];for(const r of t)Array.isArray(r)?n.push(...r):n.push(r);return n.filter(Boolean)}function rr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_w,n=arguments.length>2?arguments[2]:void 0;const[r,o]=h.useState(null),[i,s]=h.useState(()=>lq(r,t)),a=h.useRef(i);return h.useEffect(()=>{const c=a.current,u=lq(r,t);if(c.length!==u.length){s(u),a.current=u;return}for(const d of c)if(!u.includes(d)){s(u),a.current=u;return}for(const d of u)if(!c.includes(d)){s(u),a.current=u;return}},[r,t]),h.useEffect(()=>{if(!e)return;const c=u=>{const d=u.target;if(d instanceof Node&&!(n&&!n.contains(d))){for(const f of i)if(d===f||f.contains(d))return;e(u)}};return window.addEventListener("mousedown",c),()=>{window.removeEventListener("mousedown",c)}},[n,e,i]),o}var yp=[],nQe=function(){return yp.some(function(e){return e.activeTargets.length>0})},rQe=function(){return yp.some(function(e){return e.skippedTargets.length>0})},cq="ResizeObserver loop completed with undelivered notifications.",oQe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:cq}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=cq),window.dispatchEvent(e)},ex;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ex||(ex={}));var bp=function(e){return Object.freeze(e)},iQe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,bp(this)}return e}(),J2e=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,bp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Y9=function(e){return e instanceof SVGElement&&"getBBox"in e},eSe=function(e){if(Y9(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},uq=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},sQe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},tb=typeof window<"u"?window:{},Q_=new WeakMap,dq=/auto|scroll/,aQe=/^tb|vertical/,lQe=/msie|trident/i.test(tb.navigator&&tb.navigator.userAgent),Hl=function(e){return parseFloat(e||"0")},Jg=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new iQe((n?t:e)||0,(n?e:t)||0)},fq=bp({devicePixelContentBoxSize:Jg(),borderBoxSize:Jg(),contentBoxSize:Jg(),contentRect:new J2e(0,0,0,0)}),tSe=function(e,t){if(t===void 0&&(t=!1),Q_.has(e)&&!t)return Q_.get(e);if(eSe(e))return Q_.set(e,fq),fq;var n=getComputedStyle(e),r=Y9(e)&&e.ownerSVGElement&&e.getBBox(),o=!lQe&&n.boxSizing==="border-box",i=aQe.test(n.writingMode||""),s=!r&&dq.test(n.overflowY||""),a=!r&&dq.test(n.overflowX||""),c=r?0:Hl(n.paddingTop),u=r?0:Hl(n.paddingRight),d=r?0:Hl(n.paddingBottom),f=r?0:Hl(n.paddingLeft),p=r?0:Hl(n.borderTopWidth),m=r?0:Hl(n.borderRightWidth),v=r?0:Hl(n.borderBottomWidth),g=r?0:Hl(n.borderLeftWidth),b=f+u,x=c+d,y=g+m,w=p+v,_=a?e.offsetHeight-w-e.clientHeight:0,C=s?e.offsetWidth-y-e.clientWidth:0,S=o?b+y:0,E=o?x+w:0,j=r?r.width:Hl(n.width)-S-C,k=r?r.height:Hl(n.height)-E-_,T=j+b+C+y,A=k+x+_+w,O=bp({devicePixelContentBoxSize:Jg(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:Jg(T,A,i),contentBoxSize:Jg(j,k,i),contentRect:new J2e(f,c,j,k)});return Q_.set(e,O),O},nSe=function(e,t,n){var r=tSe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case ex.DEVICE_PIXEL_CONTENT_BOX:return s;case ex.BORDER_BOX:return o;default:return i}},cQe=function(){function e(t){var n=tSe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=bp([n.borderBoxSize]),this.contentBoxSize=bp([n.contentBoxSize]),this.devicePixelContentBoxSize=bp([n.devicePixelContentBoxSize])}return e}(),rSe=function(e){if(eSe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},uQe=function(){var e=1/0,t=[];yp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new cQe(u.target),f=rSe(u.target);a.push(d),u.lastReportedSize=nSe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},hq=function(e){yp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(rSe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},dQe=function(){var e=0;for(hq(e);nQe();)e=uQe(),hq(e);return rQe()&&oQe(),e>0},wD,oSe=[],fQe=function(){return oSe.splice(0).forEach(function(e){return e()})},hQe=function(e){if(!wD){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return fQe()}).observe(n,r),wD=function(){n.textContent="".concat(t?t--:t++)}}oSe.push(e),wD()},pQe=function(e){hQe(function(){requestAnimationFrame(e)})},H2=0,mQe=function(){return!!H2},gQe=250,vQe={attributes:!0,characterData:!0,childList:!0,subtree:!0},pq=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],mq=function(e){return e===void 0&&(e=0),Date.now()+e},_D=!1,yQe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=gQe),!_D){_D=!0;var r=mq(t);pQe(function(){var o=!1;try{o=dQe()}finally{if(_D=!1,t=r-mq(),!mQe())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,vQe)};document.body?n():tb.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),pq.forEach(function(n){return tb.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),pq.forEach(function(n){return tb.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),sM=new yQe,gq=function(e){!H2&&e>0&&sM.start(),H2+=e,!H2&&sM.stop()},bQe=function(e){return!Y9(e)&&!sQe(e)&&getComputedStyle(e).display==="inline"},xQe=function(){function e(t,n){this.target=t,this.observedBox=n||ex.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=nSe(this.target,this.observedBox,!0);return bQe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),wQe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),J_=new WeakMap,vq=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},eC=function(){function e(){}return e.connect=function(t,n){var r=new wQe(t,n);J_.set(t,r)},e.observe=function(t,n,r){var o=J_.get(t),i=o.observationTargets.length===0;vq(o.observationTargets,n)<0&&(i&&yp.push(o),o.observationTargets.push(new xQe(n,r&&r.box)),gq(1),sM.schedule())},e.unobserve=function(t,n){var r=J_.get(t),o=vq(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&yp.splice(yp.indexOf(r),1),r.observationTargets.splice(o,1),gq(-1))},e.disconnect=function(t){var n=this,r=J_.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),_Qe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");eC.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!uq(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");eC.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!uq(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");eC.unobserve(this,t)},e.prototype.disconnect=function(){eC.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const iSe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:_Qe,CQe=EQe();function SQe(){return{subscribe(e,t){const n=new iSe(r=>{let[o]=r;t({_contentRect:o.contentRect,border:{width:o.borderBoxSize[0].inlineSize,height:o.borderBoxSize[0].blockSize},content:{width:o.contentRect.width,height:o.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function EQe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const o=t.get(n)||[];let i=e.get(n);return t.has(n)||(t.set(n,o),i=SQe().subscribe(n,a=>{for(const c of o)c(a)})),o.push(r),()=>{const s=o.indexOf(r);s>-1&&o.splice(s,1),o.length===0&&i&&i()}}}}function ZT(e){const[t,n]=h.useState(null);return h.useEffect(()=>{if(e)return CQe.subscribe(e,n)},[e]),t}function ed(e){const t=ZT(e);return(t==null?void 0:t._contentRect)||null}function Qi(e){return h.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function CD(e,t){return e*t}function kQe(e,t){return{r:Math.round(SD(CD(e.r/255,t.r/255)*255)),g:Math.round(SD(CD(e.g/255,t.g/255)*255)),b:Math.round(SD(CD(e.b/255,t.b/255)*255))}}function SD(e){return Math.max(Math.min(e,255),0)}function ED(e,t){return e+t-e*t}function jQe(e,t){return{r:Math.round(kD(ED(e.r/255,t.r/255)*255)),g:Math.round(kD(ED(e.g/255,t.g/255)*255)),b:Math.round(kD(ED(e.b/255,t.b/255)*255))}}function kD(e){return Math.max(Math.min(e,255),0)}function TQe(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function sSe(e){let{r:t,g:n,b:r}=e;return"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function AQe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e.h/60%2-1)),i=n-r/2;let s=0,a=0,c=0;return 0<=e.h&&e.h<60?(s=r,a=o,c=0):60<=e.h&&e.h<120?(s=o,a=r,c=0):120<=e.h&&e.h<180?(s=0,a=r,c=o):180<=e.h&&e.h<240?(s=0,a=o,c=r):240<=e.h&&e.h<300?(s=o,a=0,c=r):300<=e.h&&e.h<360&&(s=r,a=0,c=o),{r:Math.round((s+i)*255),g:Math.round((a+i)*255),b:Math.round((c+i)*255)}}const OQe="0123456789ABCDEFabcdef",PQe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function DQe(e){for(const t of e)if(OQe.indexOf(t)===-1)return!1;return!0}function IQe(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:DQe(e.slice(1))}function RQe(e){const t=PQe.exec(e);if(!t)throw new Error('parseHsl: string is not a HSL color: "'.concat(e,'"'));return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function tx(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(IQe(e))return TQe(e);if(e.startsWith("hsl("))return AQe(RQe(e));throw new Error('parseColor: unexpected color format: "'.concat(e,'"'))}function jt(e,t){const n=tx(e);return"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(t,")")}function jD(e,t,n,r,o,i){return{default:e.button({base:t,dark:n,solid:r.default,muted:o.default,mode:i}),primary:e.button({base:t,dark:n,solid:r.primary,muted:o.primary,mode:i}),positive:e.button({base:t,dark:n,solid:r.positive,muted:o.positive,mode:i}),caution:e.button({base:t,dark:n,solid:r.caution,muted:o.caution,mode:i}),critical:e.button({base:t,dark:n,solid:r.critical,muted:o.critical,mode:i})}}function $Qe(e,t,n,r,o){return{default:jD(e,t,n,r,o,"default"),ghost:jD(e,t,n,r,o,"ghost"),bleed:jD(e,t,n,r,o,"bleed")}}function MQe(e,t,n,r,o,i){return{enabled:e.card({base:t,dark:n,name:r,state:"enabled",solid:o,muted:i}),disabled:e.card({base:t,dark:n,name:r,state:"disabled",solid:o,muted:i}),hovered:e.card({base:t,dark:n,name:r,state:"hovered",solid:o,muted:i}),pressed:e.card({base:t,dark:n,name:r,state:"pressed",solid:o,muted:i}),selected:e.card({base:t,dark:n,name:r,state:"selected",solid:o,muted:i})}}const Se="hsl(0, 0%, 0%)",Hm="hsl(0, 0%, 100%)",mt={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},FQe={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},tC={transparent:{bg:[mt.transparent.darkest,mt.transparent.lightest],fg:[mt.transparent.lightest,mt.transparent.darkest],border:[mt.transparent.darker,mt.transparent.lighter],focusRing:[mt.transparent.base,mt.transparent.base]},primary:{bg:[mt.primary.darkest,mt.primary.lightest],fg:[mt.primary.lightest,mt.primary.darkest],border:[mt.primary.darker,mt.primary.lighter],focusRing:[mt.primary.base,mt.primary.base]},positive:{bg:[mt.positive.darkest,mt.positive.lightest],fg:[mt.positive.lightest,mt.positive.darkest],border:[mt.positive.darker,mt.positive.lighter],focusRing:[mt.positive.base,mt.positive.base]},caution:{bg:[mt.caution.darkest,mt.caution.lightest],fg:[mt.caution.lightest,mt.caution.darkest],border:[mt.caution.darker,mt.caution.lighter],focusRing:[mt.caution.base,mt.caution.base]},critical:{bg:[mt.critical.darkest,mt.critical.lightest],fg:[mt.critical.lightest,mt.critical.darkest],border:[mt.critical.darker,mt.critical.lighter],focusRing:[mt.critical.base,mt.critical.base]}},LQe={base:e=>{let{dark:t,name:n}=e;return n==="default"?{bg:t?Se:Hm,fg:t?Hm:Se,border:t?mt.default.darkest:mt.default.lightest,focusRing:mt.primary.base,shadow:{outline:Se,umbra:Se,penumbra:Se,ambient:Se},skeleton:{from:t?Hm:Se,to:t?Hm:Se}}:{bg:tC[n].bg[t?0:1],fg:tC[n].fg[t?0:1],border:tC[n].border[t?0:1],focusRing:tC[n].focusRing[t?0:1],shadow:{outline:Se,umbra:Se,penumbra:Se,ambient:Se},skeleton:{from:t?Hm:Se,to:t?Hm:Se}}},solid:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=mt[o];return r==="hovered"?{bg:n?i.light:i.dark,bg2:n?i.light:i.dark,border:n?i.lighter:i.darker,fg:n?i.darkest:i.lightest,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}:{bg:i.base,bg2:i.base,border:n?i.light:i.dark,fg:n?i.darkest:i.lightest,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}},muted:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=mt[o];return r==="hovered"?{bg:n?i.darker:i.lighter,bg2:n?i.darker:i.lighter,border:n?i.lighter:i.darker,fg:n?i.lightest:i.darkest,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}:{bg:n?i.darkest:i.lightest,bg2:n?i.darkest:i.lightest,border:n?i.darker:i.lighter,fg:n?i.lighter:i.darker,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{...r,enabled:{bg:"transparent",bg2:"transparent",fg:r.enabled.fg,border:"transparent",muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton},hovered:{bg:r.enabled.bg,bg2:r.enabled.bg,fg:r.hovered.fg,border:"transparent",muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}}:n==="ghost"?{...o,enabled:r.enabled}:o},card:e=>{let{base:t}=e;return{bg:Se,bg2:Se,fg:Se,border:Se,muted:{fg:Se},accent:{fg:Se},link:{fg:Se},code:{bg:Se,fg:Se},skeleton:t.skeleton}},input:()=>({bg:Se,fg:Se,border:Se,placeholder:Se}),selectable:e=>{let{muted:t,state:n,tone:r}=e;return t[r][n]},spot:e=>{let{key:t}=e;return FQe[t]},syntax:()=>({atrule:Se,attrName:Se,attrValue:Se,attribute:Se,boolean:Se,builtin:Se,cdata:Se,char:Se,class:Se,className:Se,comment:Se,constant:Se,deleted:Se,doctype:Se,entity:Se,function:Se,hexcode:Se,id:Se,important:Se,inserted:Se,keyword:Se,number:Se,operator:Se,prolog:Se,property:Se,pseudoClass:Se,pseudoElement:Se,punctuation:Se,regex:Se,selector:Se,string:Se,symbol:Se,tag:Se,unit:Se,url:Se,variable:Se})};function BQe(e,t,n,r,o){return{default:{enabled:e.input({base:t,dark:n,mode:"default",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"default",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"default",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"default",state:"readOnly",solid:r.default,muted:o.default})},invalid:{enabled:e.input({base:t,dark:n,mode:"invalid",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"invalid",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"invalid",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"invalid",state:"readOnly",solid:r.default,muted:o.default})}}}function NQe(e,t,n,r){return{default:{enabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function zQe(e,t,n,r,o){return{default:O1(e,t,n,r,o,"default"),primary:O1(e,t,n,r,o,"primary"),positive:O1(e,t,n,r,o,"positive"),caution:O1(e,t,n,r,o,"caution"),critical:O1(e,t,n,r,o,"critical")}}function O1(e,t,n,r,o,i){return{enabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"enabled",tone:i}),hovered:e.selectable({base:t,dark:n,solid:r,muted:o,state:"hovered",tone:i}),pressed:e.selectable({base:t,dark:n,solid:r,muted:o,state:"pressed",tone:i}),selected:e.selectable({base:t,dark:n,solid:r,muted:o,state:"selected",tone:i}),disabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"disabled",tone:i})}}function VQe(e,t,n,r){return{default:{enabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function HQe(e,t,n){return{gray:e.spot({base:t,dark:n,key:"gray"}),blue:e.spot({base:t,dark:n,key:"blue"}),purple:e.spot({base:t,dark:n,key:"purple"}),magenta:e.spot({base:t,dark:n,key:"magenta"}),red:e.spot({base:t,dark:n,key:"red"}),orange:e.spot({base:t,dark:n,key:"orange"}),yellow:e.spot({base:t,dark:n,key:"yellow"}),green:e.spot({base:t,dark:n,key:"green"}),cyan:e.spot({base:t,dark:n,key:"cyan"})}}function UQe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={...LQe,...e};return{light:yq(t,!1),dark:yq(t,!0)}}function yq(e,t){return{default:Um(e,t,"default"),transparent:Um(e,t,"transparent"),primary:Um(e,t,"primary"),positive:Um(e,t,"positive"),caution:Um(e,t,"caution"),critical:Um(e,t,"critical")}}function Um(e,t,n){const r=e.base({dark:t,name:n}),o=VQe(e,r,t,n),i=NQe(e,r,t,n);return{base:r,button:$Qe(e,r,t,o,i),card:MQe(e,r,t,n,o,i),dark:t,input:BQe(e,r,t,o,i),selectable:zQe(e,r,t,o,i),spot:HQe(e,r,t),syntax:e.syntax({base:r,dark:t}),solid:o,muted:i}}function gh(e,t){const n=tx(e),r=tx(t);return sSe(kQe(n,r))}function vh(e,t){const n=tx(e),r=tx(t);return sSe(jQe(n,r))}const Fi={default:fe.gray,transparent:fe.gray,primary:fe.blue,positive:fe.green,caution:fe.yellow,critical:fe.red},P1=["default","transparent"],WQe=UQe({base:e=>{let{dark:t,name:n}=e;if(n==="default"){const i=fe.gray,s=t?i[900].hex:i[100].hex;return{fg:t?ya.hex:tc.hex,bg:t?tc.hex:ya.hex,border:i[t?800:200].hex,focusRing:fe.blue[500].hex,shadow:{outline:jt(i[500].hex,.4),umbra:t?jt(i[950].hex,.4):jt(i[500].hex,.2),penumbra:t?jt(i[950].hex,.28):jt(i[500].hex,.14),ambient:t?jt(i[950].hex,.24):jt(i[500].hex,.12)},skeleton:{from:s,to:jt(s,.5)}}}if(n==="transparent"){const i=Fi.default,s=i[t?800:200].hex;return{fg:i[t?100:900].hex,bg:i[t?950:50].hex,border:i[t?800:300].hex,focusRing:fe.blue[500].hex,shadow:{outline:jt(i[500].hex,.4),umbra:t?jt(i[900].hex,.4):jt(i[500].hex,.2),penumbra:t?jt(i[900].hex,.28):jt(i[500].hex,.14),ambient:t?jt(i[900].hex,.24):jt(i[500].hex,.12)},skeleton:{from:s,to:jt(s,.5)}}}const r=Fi[n]||Fi.default,o=r[t?800:200].hex;return{fg:r[t?100:900].hex,bg:r[t?950:50].hex,border:r[t?800:200].hex,focusRing:r[500].hex,shadow:{outline:jt(r[500].hex,.4),umbra:t?jt(r[900].hex,.4):jt(r[500].hex,.2),penumbra:t?jt(r[900].hex,.28):jt(r[500].hex,.14),ambient:t?jt(r[900].hex,.24):jt(r[500].hex,.12)},skeleton:{from:o,to:jt(o,.5)}}},solid:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?vh:gh,a=n?gh:vh,c=Fi[r]||Fi.default,u=P1.includes(r)&&P1.includes(i);let d=Fi[i==="default"?r:i]||c;if(o==="disabled"){d=c;const m=s(t.bg,d[n?800:200].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?800:200].hex),fg:s(t.bg,n?tc.hex:ya.hex),muted:{fg:s(t.bg,d[n?950:50].hex)},accent:{fg:s(t.bg,d[n?950:50].hex)},link:{fg:s(t.bg,d[n?950:50].hex)},code:{bg:m,fg:s(t.bg,d[n?950:50].hex)},skeleton:{from:v,to:jt(v,.5)}}}if(o==="hovered"){const m=s(t.bg,d[n?300:600].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?300:600].hex),fg:s(t.bg,n?tc.hex:ya.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:jt(v,.5)}}}if(o==="pressed"){const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:s(t.bg,d[n?200:800].hex),bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?tc.hex:ya.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:jt(v,.5)}}}if(o==="selected"){u&&(d=Fi.primary);const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?tc.hex:ya.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:jt(v,.5)}}}const f=s(t.bg,d[n?400:500].hex),p=a(f,d[n?200:800].hex);return{bg:f,bg2:a(f,d[n?50:950].hex),border:s(t.bg,d[n?400:500].hex),fg:s(t.bg,n?tc.hex:ya.hex),muted:{fg:s(t.bg,d[n?900:100].hex)},accent:{fg:a(f,fe.red[n?900:100].hex)},link:{fg:a(f,fe.blue[n?900:100].hex)},code:{bg:s(f,d[n?950:50].hex),fg:s(t.bg,d[n?900:100].hex)},skeleton:{from:p,to:jt(p,.5)}}},muted:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?vh:gh,a=Fi[r]||Fi.default,c=P1.includes(r)&&P1.includes(i);let u=Fi[i==="default"?r:i]||a;if(o==="disabled"){u=a;const p=t.bg,m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?950:50].hex),fg:s(p,u[n?800:200].hex),muted:{fg:s(p,u[n?900:100].hex)},accent:{fg:s(p,u[n?900:100].hex)},link:{fg:s(p,u[n?900:100].hex)},code:{bg:p,fg:s(p,u[n?900:100].hex)},skeleton:{from:jt(m,.5),to:jt(m,.25)}}}if(o==="hovered"){const p=s(t.bg,u[n?950:50].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,fe.red[n?400:500].hex)},link:{fg:s(t.bg,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:jt(m,.5)}}}if(o==="pressed"){c&&(u=Fi.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,fe.red[n?400:500].hex)},link:{fg:s(p,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:jt(m,.5)}}}if(o==="selected"){c&&(u=Fi.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,fe.red[n?400:500].hex)},link:{fg:s(p,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:jt(m,.5)}}}const d=t.bg,f=s(d,u[n?900:100].hex);return{bg:d,bg2:s(d,u[n?950:50].hex),border:s(d,u[n?900:100].hex),fg:s(t.bg,u[n?300:700].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,fe.red[n?400:500].hex)},link:{fg:s(t.bg,fe.blue[n?400:600].hex)},code:{bg:s(t.bg,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:f,to:jt(f,.5)}}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{enabled:{...r.enabled,border:r.enabled.bg},hovered:{...r.hovered,border:r.hovered.bg},pressed:{...r.pressed,border:r.pressed.bg},selected:{...r.selected,border:r.selected.bg},disabled:{...r.disabled,border:r.disabled.bg}}:n==="ghost"?{...o,enabled:{...r.enabled,border:t.border},disabled:r.disabled}:o},card:e=>{let{base:t,dark:n,muted:r,name:o,solid:i,state:s}=e;if(s==="hovered")return r[o].hovered;if(s==="disabled")return r[o].disabled;const a=P1.includes(o),c=Fi[o]||Fi.default,u=n?vh:gh;if(s==="pressed")return a?r.primary.pressed:r[o].pressed;if(s==="selected")return a?i.primary.enabled:i[o].enabled;const d=t.bg,f=u(t.bg,c[n?900:100].hex);return{bg:d,bg2:u(d,c[n?950:50].hex),fg:t.fg,border:t.border,muted:{fg:u(t.bg,c[n?400:600].hex)},accent:{fg:u(t.bg,fe.red[n?400:500].hex)},link:{fg:u(t.bg,fe.blue[n?400:600].hex)},code:{bg:u(t.bg,c[n?950:50].hex),fg:c[n?400:600].hex},skeleton:{from:f,to:jt(f,.5)}}},input:e=>{let{base:t,dark:n,mode:r,state:o}=e;const i=n?vh:gh;if(r==="invalid"){const s=Fi.critical;return{bg:i(t.bg,s[n?950:50].hex),fg:i(t.bg,s[n?400:600].hex),border:i(t.bg,s[n?800:200].hex),placeholder:i(t.bg,s[n?600:400].hex)}}return o==="hovered"?{bg:t.bg,fg:t.fg,border:i(t.bg,fe.gray[n?700:300].hex),placeholder:i(t.bg,fe.gray[n?600:400].hex)}:o==="disabled"?{bg:i(t.bg,fe.gray[n?950:50].hex),fg:i(t.bg,fe.gray[n?700:300].hex),border:i(t.bg,fe.gray[n?900:100].hex),placeholder:i(t.bg,fe.gray[n?800:200].hex)}:o==="readOnly"?{bg:i(t.bg,fe.gray[n?950:50].hex),fg:i(t.bg,fe.gray[n?200:800].hex),border:i(t.bg,fe.gray[n?800:200].hex),placeholder:i(t.bg,fe.gray[n?600:400].hex)}:{bg:t.bg,fg:t.fg,border:t.border,placeholder:i(t.bg,fe.gray[n?600:400].hex)}},selectable:e=>{let{base:t,muted:n,tone:r,solid:o,state:i}=e;return i==="enabled"?{...n[r].enabled,bg:t.bg}:i==="pressed"?r==="default"?n.primary.pressed:n[r].pressed:i==="selected"?r==="default"?o.primary.enabled:o[r].enabled:i==="disabled"?{...n[r].disabled,bg:t.bg}:n[r][i]},spot:e=>{let{base:t,dark:n,key:r}=e;return(n?vh:gh)(t.bg,fe[r][n?400:500].hex)},syntax:e=>{let{base:t,dark:n}=e;const r=n?vh:gh,o=n?400:600,i=n?600:400;return{atrule:r(t.bg,fe.purple[o].hex),attrName:r(t.bg,fe.green[o].hex),attrValue:r(t.bg,fe.yellow[o].hex),attribute:r(t.bg,fe.yellow[o].hex),boolean:r(t.bg,fe.purple[o].hex),builtin:r(t.bg,fe.purple[o].hex),cdata:r(t.bg,fe.yellow[o].hex),char:r(t.bg,fe.yellow[o].hex),class:r(t.bg,fe.orange[o].hex),className:r(t.bg,fe.cyan[o].hex),comment:r(t.bg,fe.gray[i].hex),constant:r(t.bg,fe.purple[o].hex),deleted:r(t.bg,fe.red[o].hex),doctype:r(t.bg,fe.gray[i].hex),entity:r(t.bg,fe.red[o].hex),function:r(t.bg,fe.green[o].hex),hexcode:r(t.bg,fe.blue[o].hex),id:r(t.bg,fe.purple[o].hex),important:r(t.bg,fe.purple[o].hex),inserted:r(t.bg,fe.yellow[o].hex),keyword:r(t.bg,fe.magenta[o].hex),number:r(t.bg,fe.purple[o].hex),operator:r(t.bg,fe.magenta[o].hex),prolog:r(t.bg,fe.gray[i].hex),property:r(t.bg,fe.blue[o].hex),pseudoClass:r(t.bg,fe.yellow[o].hex),pseudoElement:r(t.bg,fe.yellow[o].hex),punctuation:r(t.bg,fe.gray[o].hex),regex:r(t.bg,fe.blue[o].hex),selector:r(t.bg,fe.red[o].hex),string:r(t.bg,fe.yellow[o].hex),symbol:r(t.bg,fe.purple[o].hex),tag:r(t.bg,fe.red[o].hex),unit:r(t.bg,fe.orange[o].hex),url:r(t.bg,fe.red[o].hex),variable:r(t.bg,fe.red[o].hex)}}}),YQe={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]},heading:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:12,iconSize:17,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:21,iconSize:33,lineHeight:27,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:27,iconSize:41,lineHeight:33,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:33,iconSize:49,lineHeight:39,letterSpacing:0},{ascenderHeight:9,descenderHeight:9,fontSize:38,iconSize:53,lineHeight:45,letterSpacing:0}]},label:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:9.8,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:11.25,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.75,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:14,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15.5,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]}},Df={avatar:{sizes:[{distance:-3,size:25},{distance:-6,size:35},{distance:-9,size:55}]},button:{textWeight:"medium"},color:WQe,container:[320,640,960,1280,1600,1920],focusRing:{offset:1,width:2},fonts:YQe,media:[360,600,900,1200,1800,2400],radius:[0,1,3,6,9,12,21],shadows:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-1],penumbra:[0,6,10,0],ambient:[0,1,18,0]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{checkbox:{size:17},radio:{size:17,markSize:9},switch:{width:33,height:17,padding:4,transitionDurationMs:150,transitionTimingFunction:"ease-out"},border:{width:1}}},qQe={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function GQe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Gt=GQe(),aM=Symbol.for("@sanity/ui/context/theme");Gt[aM]=Gt[aM]||h.createContext(null);const lM=Gt[aM];function y5(e){const t=h.useContext(lM),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:o=(t==null?void 0:t.theme)||null,tone:i=(t==null?void 0:t.tone)||"default"}=e,s=h.useMemo(()=>{if(!o)return null;const{color:c,layer:u,...d}=o,f=c[r]||c.light,p=f[i]||f.default;return{sanity:{...d,color:p,layer:u||qQe}}},[r,o,i]),a=h.useMemo(()=>o&&{version:0,theme:o,scheme:r,tone:i},[o,r,i]);return s?l.jsx(lM.Provider,{value:a,children:l.jsx(K9e,{theme:s,children:n})}):l.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function y0(e){return!!(e&&typeof e=="object")}function b0(){const e=h.useContext(lM);if(!e)throw new Error("useRootTheme(): missing context value");if(!y0(e)||e.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return e}function aSe(e){const{children:t,scheme:n,tone:r}=e,o=b0();return l.jsx(y5,{scheme:n||o.scheme,theme:o.theme,tone:r,children:t})}function Ts(){return Zbe()}const bq=new WeakMap;function KQe(e,t){return t===0?"screen and (max-width: ".concat(e[t]-1,"px)"):t===e.length?"screen and (min-width: ".concat(e[t-1],"px)"):"screen and (min-width: ".concat(e[t-1],"px) and (max-width: ").concat(e[t]-1,"px)")}function ZQe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let s=t;s>-1;s-=1){const a=KQe(e,s);n.push({index:s,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:s,mq:a}of r())if(a.matches)return s;return 0},subscribe:s=>{const a=[];for(const{mq:c}of r()){const u=()=>{c.matches&&s()};c.addEventListener("change",u),a.push(()=>c.removeEventListener("change",u))}return()=>{for(const c of a)c()}}}}function XQe(){return 0}function mm(){const e=Ts(),{media:t}=e.sanity;let n=bq.get(t);return n||(n=ZQe(t),bq.set(t,n)),h.useSyncExternalStore(n.subscribe,n.getSnapshot,XQe)}let TD;function lSe(){return TD||(TD=window.matchMedia("(prefers-color-scheme: dark)")),TD}function QQe(e){const t=lSe();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function JQe(){return lSe().matches}function eJe(){return!1}function tJe(){return h.useSyncExternalStore(QQe,JQe,eJe)}const nJe=typeof window<"u"?h.useLayoutEffect:h.useEffect;function or(e){const t=h.useRef(null);return nJe(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function Cw(e,t){h.useEffect(()=>{e.current&&e.current.setCustomValidity(t||"")},[t,e])}const Sw="1px solid var(--card-border-color)";function rJe(){return[oJe,iJe,sJe,aJe,lJe]}function oJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$border,r=>r?{"&&":{border:Sw}}:{"&&":{border:0}})}function iJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$borderTop,r=>r?{"&&":{borderTop:Sw}}:{"&&":{borderTop:0}})}function sJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$borderRight,r=>r?{"&&":{borderRight:Sw}}:{"&&":{borderRight:0}})}function aJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$borderBottom,r=>r?{"&&":{borderBottom:Sw}}:{"&&":{borderBottom:0}})}function lJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$borderLeft,r=>r?{"&&":{borderLeft:Sw}}:{"&&":{borderLeft:0}})}const cJe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},uJe={content:"content-box",border:"border-box"},dJe={stretch:"stretch",fill:"100%"};function fJe(){return cJe}function hJe(){return[mJe,gJe,vJe,pJe]}function pJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$display,r=>({"&:not([hidden])":{display:r}}))}function mJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$sizing,r=>({boxSizing:uJe[r]}))}function gJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$height,r=>({height:dJe[r]}))}function vJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$overflow,r=>({overflow:r}))}const yJe={"&&:not([hidden])":{display:"flex"}};function bJe(){return[yJe,xJe,wJe,_Je,CJe,SJe]}function xJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$align,r=>({alignItems:r}))}function wJe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return ht(n,e.$gap,o=>({gap:o?pe(r[o]):void 0}))}function _Je(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$wrap,r=>({flexWrap:r}))}function CJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$justify,r=>({justifyContent:r}))}function SJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$direction,r=>({flexDirection:r}))}const EJe={minWidth:0,minHeight:0};function cSe(){return[EJe,kJe]}function kJe(e){const{theme:t}=e,{media:n}=t.sanity;return e.$flex?ht(n,e.$flex,r=>({flex:r})):_w}function xo(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Sc(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&xo(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const jJe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},TJe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},AJe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function OJe(){return[jJe,PJe,DJe,IJe,RJe,$Je,MJe,FJe,LJe]}function PJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$autoFlow,r=>({gridAutoFlow:r}))}function DJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$autoRows,r=>({gridAutoRows:r&&AJe[r]}))}function IJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$autoCols,r=>({gridAutoColumns:r&&TJe[r]}))}function RJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$columns,r=>({gridTemplateColumns:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function $Je(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$rows,r=>({gridTemplateRows:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function MJe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return ht(n,e.$gap,o=>({gridGap:o?pe(r[o]):void 0}))}function FJe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return ht(n,e.$gapX,o=>({columnGap:o?pe(r[o]):void 0}))}function LJe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return ht(n,e.$gapY,o=>({rowGap:o?pe(r[o]):void 0}))}function BJe(){return[VJe,HJe,UJe,WJe,YJe,qJe]}const NJe={auto:"auto",full:"1 / -1"},zJe={auto:"auto",full:"1 / -1"};function VJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$row,r=>typeof r=="number"?{gridRow:"span ".concat(r," / span ").concat(r)}:{gridRow:NJe[r]})}function HJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$rowStart,r=>({gridRowStart:r}))}function UJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$rowEnd,r=>({gridRowEnd:r}))}function WJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$column,r=>typeof r=="number"?{gridColumn:"span ".concat(r," / span ").concat(r)}:{gridColumn:zJe[r]})}function YJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$columnStart,r=>({gridColumnStart:r}))}function qJe(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$columnEnd,r=>({gridColumnEnd:r}))}function q9(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:o,$space:i,theme:s}=e,{fonts:a,media:c,space:u}=s.sanity,d=Math.max(o.length,i.length,t.length),f=[],p=[],m=[];for(let v=0;v<d;v+=1)m[v]=t[v]===void 0?m[v-1]:t[v],f[v]=o[v]===void 0?f[v-1]:o[v],p[v]=i[v]===void 0?p[v-1]:i[v];return ht(c,f,(v,g)=>{const b=a.text.sizes[m[g]]||a.text.sizes[2],x=b.lineHeight-b.ascenderHeight-b.descenderHeight,y=u[f[g]],w=u[p[g]],_={paddingTop:pe(y-b.ascenderHeight),paddingRight:pe(y),paddingBottom:pe(y-b.descenderHeight),paddingLeft:pe(y)};return r&&(_.paddingRight=pe(y+x+w)),n&&(_.paddingLeft=pe(y+x+w)),_})}function GJe(e){return q9({...e,$iconRight:!0})}var xq=Object.freeze,KJe=Object.defineProperty,G9=(e,t)=>xq(KJe(e,"raw",{value:xq(t||e.slice())})),wq,_q,Cq;const ZJe=de(wq||(wq=G9([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function uSe(){return ZJe}function dSe(e){const{theme:t,$scheme:n,$tone:r,$weight:o}=e,i=t.sanity.fonts.text,s=t.sanity.color.input;return de(_q||(_q=G9([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chrome’s autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),i.family,o&&i.weights[o]||i.weights.regular,n,r,s.default.enabled.fg,s.default.enabled.placeholder,s.default.enabled.fg,s.default.enabled.placeholder,s.default.disabled.fg,s.default.disabled.placeholder,s.invalid.enabled.fg,s.invalid.enabled.placeholder,s.default.readOnly.fg,s.default.readOnly.placeholder)}function fSe(e){const{theme:t}=e,{fonts:n,media:r}=t.sanity;return ht(r,e.$fontSize,o=>{const i=n.text.sizes[o]||n.text.sizes[2];return{fontSize:pe(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function hSe(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:o,theme:i}=e,{focusRing:s,input:a}=i.sanity,c=i.sanity.color.input;return de(Cq||(Cq=G9([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),t?0:void 0,t?0:void 0,n?0:void 0,n?0:void 0,r,o,c.default.enabled.bg,c.default.enabled.fg,xo({color:c.default.enabled.border,width:a.border.width}),c.invalid.enabled.bg,c.invalid.enabled.fg,xo({color:c.invalid.enabled.border,width:a.border.width}),Sc({border:{color:c.default.enabled.border,width:a.border.width},focusRing:s}),Sc({focusRing:s}),c.default.disabled.bg,c.default.disabled.fg,xo({color:c.default.disabled.border,width:a.border.width}),c.default.readOnly.bg,c.default.readOnly.fg,c.default.hovered.bg,c.default.hovered.fg,xo({color:c.default.hovered.border,width:a.border.width}))}function XJe(e){const{theme:t}=e;return[hs(t,["margin"],e.$margin),hs(t,["marginLeft","marginRight"],e.$marginX),hs(t,["marginTop","marginBottom"],e.$marginY),hs(t,["marginTop"],e.$marginTop),hs(t,["marginRight"],e.$marginRight),hs(t,["marginBottom"],e.$marginBottom),hs(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function pSe(e){const{theme:t}=e;return[hs(t,["padding"],e.$padding),hs(t,["paddingLeft","paddingRight"],e.$paddingX),hs(t,["paddingTop","paddingBottom"],e.$paddingY),hs(t,["paddingTop"],e.$paddingTop),hs(t,["paddingRight"],e.$paddingRight),hs(t,["paddingBottom"],e.$paddingBottom),hs(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function td(e){const{theme:t}=e,{media:n,radius:r}=t.sanity;return ht(n,e.$radius,o=>({borderRadius:pe(r[o])}))}function AD(e,t){return"".concat(e.map(pe).join(" ")," ").concat(t)}function QJe(e){if(!e)return hf;const t="0 0 0 ".concat(pe(1)," var(--card-shadow-outline-color)"),n=AD(e.umbra,"var(--card-shadow-umbra-color)"),r=AD(e.penumbra,"var(--card-shadow-penumbra-color)"),o=AD(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(t,", ").concat(n,", ").concat(r,", ").concat(o)}}function JJe(e){const{theme:t}=e,{media:n,shadows:r}=t.sanity;return ht(n,e.$shadow,o=>QJe(r[o]))}var Sq=Object.freeze,eet=Object.defineProperty,OD=(e,t)=>Sq(eet(e,"raw",{value:Sq(t||e.slice())})),Eq,kq,jq;function tet(e){const{$accent:t,$muted:n,theme:r}=e,{weights:o}=r.sanity.fonts.text;return de(jq||(jq=OD([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(Eq||(Eq=OD([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(kq||(kq=OD([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family,o.bold)}var Tq=Object.freeze,net=Object.defineProperty,ret=(e,t)=>Tq(net(e,"raw",{value:Tq(t||e.slice())})),Aq;const oet=I.div(tQe,W9,tet),iet=I.span(Aq||(Aq=ret([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),B=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(iet,{children:f})),l.jsx(oet,{"data-ui":"Text",...d,$accent:r,$align:ye(o),$muted:s,ref:n,$size:ye(a),$weight:u,children:l.jsx("span",{children:f})})}),Ew={root:aet,arrow:set,bgStroke:det,stroke:fet,initials:uet};function set(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function aet(e){const{$color:t,theme:n}=e,{focusRing:r}=n.sanity;return{backgroundColor:t,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Sc({focusRing:r})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function cet(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return ht(r,e.$size,o=>{const i=n.sizes[o]||n.sizes[0];return{width:pe(i.size),height:pe(i.size),borderRadius:pe(i.size/2),"&>svg":{width:pe(i.size),height:pe(i.size),borderRadius:pe(i.size/2)}}})}function uet(e){const{theme:t}=e,{base:n}=t.sanity.color;return{width:"100%",height:"100%",color:n.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function det(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function fet(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const het=I.div(cet,Ew.root),pet=I.div(Ew.arrow),met=I.ellipse(Ew.bgStroke),get=I.ellipse(Ew.stroke),vet=I.div(Ew.initials),mSe=h.forwardRef(function(t,n){const{as:r,color:o="gray",src:i,title:s,initials:a,onImageLoadError:c,arrowPosition:u,animateArrowFrom:d,status:f="online",size:p=0,...m}=t,v=q8e.isValidElementType(r)?r:"div",g=ye(p),b=Ts(),x=b.sanity.color.spot[o]||b.sanity.color.spot.gray,w=(b.sanity.avatar.sizes[g[0]]||b.sanity.avatar.sizes[0]).size,_=w/2,C=h.useId(),[S,E]=h.useState(d||u||"inside"),[j,k]=h.useState(!1),T="avatar-image-".concat(C);h.useEffect(()=>{if(S===u)return;const P=requestAnimationFrame(()=>E(u));return()=>cancelAnimationFrame(P)},[S,u]),h.useEffect(()=>{i&&k(!1)},[i]);const A=h.useCallback(()=>{k(!0),c&&c(new Error("Avatar: the image failed to load"))},[c]),O=h.useMemo(()=>g.map(P=>P===0?0:P+1),[g]);return l.jsxs(het,{as:v,"data-as":typeof v=="string"?v:void 0,"data-ui":"Avatar",...m,$size:g,$color:x,"aria-label":s,"data-arrow-position":S,"data-status":f,ref:n,title:s,children:[l.jsx(pet,{children:l.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:l.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:x})})}),!j&&i&&l.jsxs("svg",{viewBox:"0 0 ".concat(w," ").concat(w),fill:"none",children:[l.jsx("defs",{children:l.jsx("pattern",{id:T,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:l.jsx("image",{href:i,width:"1",height:"1",onError:A})})}),l.jsx("circle",{cx:_,cy:_,r:_,fill:"url(#".concat(T,")")}),l.jsx(met,{cx:_,cy:_,rx:_,ry:_,vectorEffect:"non-scaling-stroke"}),l.jsx(get,{cx:_,cy:_,rx:_,ry:_,stroke:x,vectorEffect:"non-scaling-stroke"})]}),(j||!i)&&a&&l.jsx(l.Fragment,{children:l.jsx(vet,{children:l.jsx(B,{as:"span",size:O,children:l.jsx("strong",{children:a})})})})]})});var Oq=Object.freeze,yet=Object.defineProperty,bet=(e,t)=>Oq(yet(e,"raw",{value:Oq(t||e.slice())})),Pq;function xet(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return ht(r,e.$size,o=>{const i=n.sizes[o];return i?{borderRadius:pe(i.size/2),minWidth:pe(i.size),height:pe(i.size)}:hf})}function wet(e){const{theme:t}=e;return de(Pq||(Pq=bet([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),pe(t.sanity.space[2]))}const _et=I.div(xet,wet),cM=h.forwardRef(function(t,n){const{count:r,size:o=0}=t,i=ye(o),s=h.useMemo(()=>i.map(a=>a===0?0:a+1),[i]);return l.jsx(_et,{$size:i,"data-ui":"AvatarCounter",ref:n,children:l.jsx(B,{as:"span",size:s,children:l.jsx("strong",{children:r})})})});function gSe(e){return(Array.isArray(e)?e:[e]).filter(n=>vr.isElement(n)||vr.isFragment(n)||typeof n=="string")}var Dq=Object.freeze,Cet=Object.defineProperty,Eet=(e,t)=>Dq(Cet(e,"raw",{value:Dq(t||e.slice())})),Iq;const ket=de(Iq||(Iq=Eet([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function jet(){return ket}function Tet(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return ht(r,e.$size,o=>{const i=n.sizes[o];return i?{"& > div + div":{marginLeft:pe(i.distance)}}:hf})}const Aet=I.div(Tet,jet),XT=h.forwardRef(function(t,n){const{children:r,maxLength:o=4,size:i=0,...s}=t,a=gSe(r).filter(v=>typeof v!="string"),c=Math.max(o,0),u=ye(i),d=a.length,f=c-1,p=d-f,m=p>1?a.slice(p,d):a;return l.jsxs(Aet,{"data-ui":"AvatarStack",...s,ref:n,$size:u,children:[d===0&&l.jsx("div",{children:l.jsx(cM,{count:d})}),d!==0&&p>1&&l.jsx("div",{children:l.jsx(cM,{count:p,size:u})}),m.map((v,g)=>l.jsx("div",{children:h.cloneElement(v,{size:u})},String(g)))]})}),Oet=I.div(fJe,cSe,hJe,BJe,XJe,pSe),M=h.forwardRef(function(t,n){const{as:r="div",column:o,columnStart:i,columnEnd:s,display:a="block",flex:c,height:u,margin:d=0,marginX:f,marginY:p,marginTop:m,marginRight:v,marginBottom:g,marginLeft:b,overflow:x,padding:y=0,paddingX:w,paddingY:_,paddingTop:C,paddingRight:S,paddingBottom:E,paddingLeft:j,row:k,rowStart:T,rowEnd:A,sizing:O,...P}=t;return l.jsx(Oet,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...P,$column:ye(o),$columnStart:ye(i),$columnEnd:ye(s),$display:ye(a),$flex:ye(c),$height:ye(u),$margin:ye(d),$marginX:ye(f),$marginY:ye(p),$marginTop:ye(m),$marginRight:ye(v),$marginBottom:ye(g),$marginLeft:ye(b),$overflow:ye(x),$padding:ye(y),$paddingX:ye(w),$paddingY:ye(_),$paddingTop:ye(C),$paddingRight:ye(S),$paddingBottom:ye(E),$paddingLeft:ye(j),$row:ye(k),$rowStart:ye(T),$rowEnd:ye(A),$sizing:ye(O),as:r,ref:n,children:t.children})});var Rq=Object.freeze,Pet=Object.defineProperty,PD=(e,t)=>Rq(Pet(e,"raw",{value:Rq(t||e.slice())})),$q,Mq,Fq;function Det(e){const{$accent:t,$muted:n,theme:r}=e,{fonts:o}=r.sanity;return de(Fq||(Fq=PD([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de($q||($q=PD([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(Mq||(Mq=PD([`
      color: var(--card-muted-fg-color);
    `]))),o.code.family)}var Lq=Object.freeze,Iet=Object.defineProperty,Ret=(e,t)=>Lq(Iet(e,"raw",{value:Lq(t||e.slice())})),Bq;const $et=I.div(eQe,W9,Det),Met=I.span(Bq||(Bq=Ret([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Nt=h.forwardRef(function(t,n){const{accent:r,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"?f=l.jsx(Met,{children:f}):f=l.jsx("span",{children:f}),l.jsx($et,{"data-ui":"Label",...d,$accent:r,$align:ye(o),$muted:s,$size:ye(a),$weight:u,ref:n,children:f})});function Fet(e){const{$mode:t,$tone:n,theme:r}=e,o=r.sanity.color[t==="outline"?"muted":"solid"],i=o[n]||o.default;return{backgroundColor:i.enabled.bg,color:i.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(i.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const Let=I(M)(td,Fet),K9=h.forwardRef(function(t,n){const{children:r,fontSize:o,mode:i="default",padding:s=1,radius:a=2,tone:c="default",...u}=t;return l.jsx(Let,{"data-ui":"Badge",...u,$mode:i,$tone:c,$radius:ye(a),padding:ye(s),ref:n,children:l.jsx(Nt,{size:o,children:r})})}),Bet=I(M)(cSe,bJe),U=h.forwardRef(function(t,n){const{align:r,as:o,direction:i="row",gap:s,justify:a,wrap:c,...u}=t;return l.jsx(Bet,{"data-ui":"Flex",...u,$align:ye(r),$direction:ye(i),$gap:ye(s),$justify:ye(a),$wrap:ye(c),forwardedAs:o,ref:n})});var Nq=Object.freeze,Net=Object.defineProperty,vSe=(e,t)=>Nq(Net(e,"raw",{value:Nq(t||e.slice())})),zq,Vq;const zet=am(zq||(zq=vSe([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),Vet=I(B)(Vq||(Vq=vSe([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),zet),ir=h.forwardRef(function(t,n){return l.jsx(Vet,{"data-ui":"Spinner",...t,ref:n,children:l.jsx(sw,{})})});function Bt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,o,i,s,a,c,u,d;return{"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-focus-ring-color":e.focusRing,"--card-bg-color":t.bg,"--card-bg-image":n?"repeating-conic-gradient(".concat(t.bg," 0% 25%, ").concat(t.bg2||t.bg," 0% 50%)"):void 0,"--card-fg-color":t.fg,"--card-border-color":t.border,"--card-muted-fg-color":(r=t.muted)==null?void 0:r.fg,"--card-accent-fg-color":(o=t.accent)==null?void 0:o.fg,"--card-link-fg-color":(i=t.link)==null?void 0:i.fg,"--card-code-bg-color":(s=t.code)==null?void 0:s.bg,"--card-code-fg-color":(a=t.code)==null?void 0:a.fg,"--card-skeleton-color-from":(c=t.skeleton)==null?void 0:c.from,"--card-skeleton-color-to":(u=t.skeleton)==null?void 0:u.to,"--card-link-color":(d=t.link)==null?void 0:d.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}var Hq=Object.freeze,Het=Object.defineProperty,Uet=(e,t)=>Hq(Het(e,"raw",{value:Hq(t||e.slice())})),Uq;function Wet(){return de(Uq||(Uq=Uet([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const Yet={border:{width:1}};function qet(e){var t,n;const{$mode:r,theme:o}=e,{focusRing:i}=o.sanity,s=o.sanity.color.base,a=o.sanity.color.button[r]||o.sanity.color.button.default,c=a[e.$tone]||a.default,u={width:Yet.border.width,color:"var(--card-border-color)"};return[Bt(s,c.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:xo(u),'&:disabled, &[data-disabled="true"]':Bt(s,c.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:Sc({base:s,border:u,focusRing:i})},"&:focus:not(:focus-visible)":{boxShadow:xo(u)},"@media (hover: hover)":{"&:hover":Bt(s,c.hovered),"&:active":Bt(s,c.pressed),"&[data-hovered]":Bt(s,c.hovered)},"&[data-selected]":Bt(s,c.pressed)}},(n=(t=o.sanity.styles)==null?void 0:t.button)==null?void 0:n.root].filter(Boolean)}var Wq=Object.freeze,Get=Object.defineProperty,Ket=(e,t)=>Wq(Get(e,"raw",{value:Wq(t||e.slice())})),Yq;const Zet=I.button(td,Wet,qet),Xet=I.div(Yq||(Yq=Ket([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),ie=h.forwardRef(function(t,n){const{children:r,disabled:o,fontSize:i,icon:s,iconRight:a,justify:c="center",loading:u,mode:d="default",padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingBottom:g,paddingLeft:b,paddingRight:x,radius:y=2,selected:w,space:_=3,text:C,textAlign:S,tone:E="default",type:j="button",...k}=t,T=ye(c),A=ye(f),O=ye(p),P=ye(m),D=ye(v),R=ye(g),$=ye(b),H=ye(x),F=ye(y),V=ye(_),W=Ts(),z=h.useMemo(()=>({padding:A,paddingX:O,paddingY:P,paddingTop:D,paddingBottom:R,paddingLeft:$,paddingRight:H}),[A,O,P,D,R,$,H]);return l.jsxs(Zet,{"data-ui":"Button",...k,$mode:d,$radius:F,$tone:E,"data-disabled":!!(u||o),"data-selected":w?"":void 0,disabled:!!(u||o),ref:n,type:j,children:[!!u&&l.jsx(Xet,{children:l.jsx(ir,{})}),(s||C||a)&&l.jsx(M,{as:"span",...z,children:l.jsxs(U,{as:"span",justify:T,children:[s&&l.jsxs(B,{size:i,children:[h.isValidElement(s)&&s,vr.isValidElementType(s)&&h.createElement(s)]}),C&&l.jsx(M,{flex:a?1:void 0,marginLeft:s?V:void 0,marginRight:a?V:void 0,children:l.jsx(B,{align:S,size:i,textOverflow:"ellipsis",weight:W.sanity.button.textWeight,children:C})}),a&&l.jsxs(B,{size:i,children:[h.isValidElement(a)&&a,vr.isValidElementType(a)&&h.createElement(a)]})]})}),r&&l.jsx(M,{as:"span",...z,children:r})]})});var qq=Object.freeze,Qet=Object.defineProperty,uM=(e,t)=>qq(Qet(e,"raw",{value:qq(t||e.slice())})),Gq,Kq,Zq;function Jet(e){return[ett(e),ttt(e)]}function ett(e){const{$checkered:t,theme:n}=e,r=n.sanity.space;return de(Kq||(Kq=uM([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),t&&de(Gq||(Gq=uM([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),r[3],r[3]))}function ttt(e){var t,n;const{$checkered:r,$focusRing:o,theme:i}=e,{focusRing:s}=i.sanity,{base:a,card:c,dark:u}=i.sanity.color,d={width:0,color:"var(--card-border-color)"};return de(Zq||(Zq=uM([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",Bt(a,c.enabled,r),Bt(a,c.disabled,r),Bt(a,c.pressed,r),Bt(a,c.selected,r),Bt(a,c.hovered,r),Bt(a,c.pressed,r),o?Sc({base:a,border:d,focusRing:s}):void 0,o?xo(d):void 0,Bt(a,c.disabled,r),Bt(a,c.pressed,r),Bt(a,c.selected,r),Bt(a,c.hovered,r),Bt(a,c.pressed,r),o?Sc({base:a,border:d,focusRing:s}):void 0,o?xo(d):void 0,(n=(t=i.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const ntt=I(M)(rJe,td,JJe,Jet),J=h.forwardRef(function(t,n){const{__unstable_checkered:r=!1,__unstable_focusRing:o=!1,as:i,border:s,borderTop:a,borderRight:c,borderBottom:u,borderLeft:d,pressed:f,radius:p=0,scheme:m,selected:v,shadow:g,tone:b="default",...x}=t,y=vr.isValidElementType(i)?i:"div",w=b0(),_=b==="inherit"?w.tone:b;return l.jsx(aSe,{scheme:m,tone:_,children:l.jsx(ntt,{"data-as":typeof y=="string"?y:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":_,...x,$border:ye(s),$borderTop:ye(a),$borderRight:ye(c),$borderBottom:ye(u),$borderLeft:ye(d),$checkered:r,$focusRing:o,$radius:ye(p),$shadow:ye(g),$tone:_,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":v?"":void 0,forwardedAs:y,ref:n,selected:v})})});var Xq=Object.freeze,rtt=Object.defineProperty,ySe=(e,t)=>Xq(rtt(e,"raw",{value:Xq(t||e.slice())})),Qq,Jq;function ott(){return de(Qq||(Qq=ySe([`
    position: relative;
    display: inline-block;
  `])))}function itt(e){const{theme:t}=e,n=t.sanity.color.input,{focusRing:r,input:o,radius:i}=t.sanity;return de(Jq||(Jq=ySe([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),pe(o.checkbox.size),pe(o.checkbox.size),xo({color:n.default.enabled.border,width:o.border.width}),pe(i[2]),n.default.enabled.bg,Sc({border:{width:o.border.width,color:n.default.enabled.border},focusRing:r}),xo({color:n.default.enabled.border,width:o.border.width}),n.default.readOnly.bg,xo({width:o.border.width,color:n.default.readOnly.border}),n.default.readOnly.fg,n.default.disabled.bg,xo({width:o.border.width,color:n.default.disabled.border}),n.default.disabled.fg)}const stt=I.div(ott),att=I.input(itt),QT=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,customValidity:a,readOnly:c,style:u,...d}=t,f=or(n);return Cw(f,a),h.useEffect(()=>{f.current&&(f.current.indeterminate=s||!1)},[s,f]),l.jsxs(stt,{className:o,"data-ui":"Checkbox",style:u,children:[l.jsx(att,{"data-read-only":!i&&c?"":void 0,...d,checked:r,disabled:i||c,type:"checkbox",readOnly:c,ref:f}),l.jsxs("span",{children:[l.jsx(Ma,{}),l.jsx(kxe,{})]})]})});var eG=Object.freeze,ltt=Object.defineProperty,ctt=(e,t)=>eG(ltt(e,"raw",{value:eG(t||e.slice())})),tG;function utt(e){let{theme:t}=e;const n=t.sanity.color.syntax;return{"&.atrule":{color:n.atrule},"&.attr-name":{color:n.attrName},"&.attr-value":{color:n.attrValue},"&.attribute":{color:n.attribute},"&.boolean":{color:n.boolean},"&.builtin":{color:n.builtin},"&.cdata":{color:n.cdata},"&.char":{color:n.char},"&.class":{color:n.class},"&.class-name":{color:n.className},"&.comment":{color:n.comment},"&.constant":{color:n.constant},"&.deleted":{color:n.deleted},"&.doctype":{color:n.doctype},"&.entity":{color:n.entity},"&.function":{color:n.function},"&.hexcode":{color:n.hexcode},"&.id":{color:n.id},"&.important":{color:n.important},"&.inserted":{color:n.inserted},"&.keyword":{color:n.keyword},"&.number":{color:n.number},"&.operator":{color:n.operator},"&.prolog":{color:n.prolog},"&.property":{color:n.property},"&.pseudo-class":{color:n.pseudoClass},"&.pseudo-element":{color:n.pseudoElement},"&.punctuation":{color:n.punctuation},"&.regex":{color:n.regex},"&.selector":{color:n.selector},"&.string":{color:n.string},"&.symbol":{color:n.symbol},"&.tag":{color:n.tag},"&.unit":{color:n.unit},"&.url":{color:n.url},"&.variable":{color:n.variable}}}function dtt(){return de(tG||(tG=ctt([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),utt)}const ftt=I.pre(dtt,QXe),er=h.forwardRef(function(t,n){const{children:r,language:o,size:i=2,weight:s,...a}=t,c=typeof o=="string"?o:void 0,u=c?Ip.hasLanguage(c):!1;return l.jsxs(ftt,{"data-ui":"Code",...a,$size:ye(i),$weight:s,ref:n,children:[!(c&&u)&&l.jsx("code",{children:r}),c&&u&&l.jsx(Ip,{inline:!0,language:c,value:String(r)})]})}),htt={width:"100%",margin:"0 auto"};function ptt(){return htt}function mtt(e){const{theme:t}=e,{container:n,media:r}=t.sanity;return ht(r,e.$width,o=>({maxWidth:o==="auto"?"none":pe(n[o])}))}const gtt=I(M)(ptt,mtt),oo=h.forwardRef(function(t,n){const{as:r,width:o=2,...i}=t;return l.jsx(gtt,{"data-ui":"Container",...i,$width:ye(o),forwardedAs:r,ref:n})}),vtt=I(M)(OJe),en=h.forwardRef(function(t,n){const{as:r,autoRows:o,autoCols:i,autoFlow:s,columns:a,gap:c,gapX:u,gapY:d,rows:f,children:p,...m}=t;return l.jsx(vtt,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...m,$autoRows:ye(o),$autoCols:ye(i),$autoFlow:ye(s),$columns:ye(a),$gap:ye(c),$gapX:ye(u),$gapY:ye(d),$rows:ye(f),forwardedAs:r,ref:n,children:p})});var nG=Object.freeze,ytt=Object.defineProperty,DD=(e,t)=>nG(ytt(e,"raw",{value:nG(t||e.slice())})),rG,oG,iG;function btt(e){const{$accent:t,$muted:n,theme:r}=e;return de(iG||(iG=DD([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(rG||(rG=DD([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(oG||(oG=DD([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family)}var sG=Object.freeze,xtt=Object.defineProperty,wtt=(e,t)=>sG(xtt(e,"raw",{value:sG(t||e.slice())})),aG;const _tt=I.div(btt,W9,JXe),Ctt=I.span(aG||(aG=wtt([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Lo=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(Ctt,{children:f})),l.jsx(_tt,{"data-ui":"Heading",...d,$accent:r,$align:ye(o),$muted:s,$size:ye(a),$weight:u,ref:n,children:l.jsx("span",{children:f})})});function Stt(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function Ett(e){const{theme:t}=e;return ht(t.sanity.media,e.$space,n=>{const r=pe(t.sanity.space[n]);return{margin:"-".concat(r," 0 0 -").concat(r),"& > div":{padding:"".concat(r," 0 0 ").concat(r)}}})}const ktt=I(M)(Stt,Ett),Yt=h.forwardRef(function(t,n){const{as:r,children:o,space:i,...s}=t,a=h.useMemo(()=>gSe(o).filter(Boolean).map((c,u)=>l.jsx("div",{children:c},u)),[o]);return l.jsx(ktt,{"data-ui":"Inline",...s,$space:ye(i),forwardedAs:r,ref:n,children:a})});var lG=Object.freeze,jtt=Object.defineProperty,Ttt=(e,t)=>lG(jtt(e,"raw",{value:lG(t||e.slice())})),cG;function Att(){return de(cG||(cG=Ttt([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const Ott=I.kbd(td,Att),dM=h.forwardRef(function(t,n){const{children:r,fontSize:o=1,padding:i=1,radius:s=2,...a}=t;return l.jsx(Ott,{"data-ui":"KBD",...a,$radius:ye(s),ref:n,children:l.jsx(M,{as:"span",padding:i,children:l.jsx(er,{as:"span",muted:!0,size:o,children:r})})})}),fM=Symbol.for("@sanity/ui/context/boundaryElement");Gt[fM]=Gt[fM]||h.createContext(null);const bSe=Gt[fM];function Iu(e){const{children:t,element:n}=e,r=h.useMemo(()=>({version:0,element:n}),[n]);return l.jsx(bSe.Provider,{value:r,children:t})}const Ptt={version:0,element:null};function Gf(){const e=h.useContext(bSe);if(e&&(!y0(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||Ptt}function Dtt(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function Itt(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const Rtt=h.forwardRef(function(t,n){const r=Ts(),{children:o,media:i=r.sanity.media,...s}=t,a=or(n),[c,u]=h.useState(null),d=ZT(c),f=h.useMemo(()=>{var g;return(g=d==null?void 0:d.border.width)!=null?g:window.innerWidth},[d]),p=h.useMemo(()=>Dtt(i,f),[i,f]),m=h.useMemo(()=>Itt(i,f),[i,f]),v=h.useCallback(g=>{a.current=g,u(g)},[a]);return l.jsx("div",{"data-ui":"ElementQuery",...s,"data-eq-max":p.length?p.join(" "):void 0,"data-eq-min":m.length?m.join(" "):void 0,ref:v,children:o})});var $tt=Object.defineProperty,Mtt=(e,t,n)=>t in e?$tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ftt=(e,t,n)=>(Mtt(e,typeof t!="symbol"?t+"":t,n),n);class x0 extends h.Component{constructor(){super(...arguments),Ftt(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){this.props.onCatch({error:t,info:n})}render(){const{error:t}=this.state;if(t){const n=typeof(t==null?void 0:t.message)=="string"?t.message:"Error";return l.jsx(er,{children:n})}return this.props.children}}function xSe(e){if(!y0(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const hM=Symbol.for("@sanity/ui/context/layer");Gt[hM]=Gt[hM]||h.createContext(null);const pM=Gt[hM];function Ga(){const e=h.useContext(pM);if(!e)throw new Error("useLayer(): missing context value");try{return xSe(e)}catch(t){throw t instanceof Error?new Error("useLayer(): ".concat(t.message)):new Error("useLayer(): ".concat(t))}}function mM(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function Ltt(e){let t=null;const n=mM(()=>{t=mM(e)});return()=>{t&&t(),n()}}function Btt(e){return Z9(e)||X9(e)}function Oc(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function Z9(e){return Oc(e)&&e.nodeName==="A"}function Ntt(e){return Oc(e)&&e.nodeName==="INPUT"}function X9(e){return Oc(e)&&e.nodeName==="BUTTON"}function ztt(e){return Oc(e)&&e.nodeName==="SELECT"}function Vtt(e){return Oc(e)&&e.nodeName==="TEXTAREA"}function gM(e,t){return e.contains(t)||e===t}function Htt(e){return!!document.activeElement&&e.contains(document.activeElement)}function Utt(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:Z9(e)?!!e.href&&e.rel!=="ignore":Ntt(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:X9(e)||ztt(e)||Vtt(e)?!e.disabled:!1}function wSe(e){if(!Utt(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function Vv(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(Oc(n)&&(wSe(n)||Vv(n)))return!0}return!1}function _Se(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(Oc(n)&&(wSe(n)||_Se(n)))return!0}return!1}function Wtt(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function Ru(e){var t;const{children:n,zOffset:r=0}=e,o=h.useContext(pM),i=o&&xSe(o),s=i==null?void 0:i.registerChild,c=((t=i==null?void 0:i.level)!=null?t:0)+1,u=ye(r),d=u.length-1,f=Math.min(mm(),d),p=i?i.zIndex+u[f]:u[f],[,m]=h.useState({}),[v,g]=h.useState(0),b=v===0,x=h.useCallback(w=>{const _=s==null?void 0:s(w);return w!==void 0?m(C=>{var S;const E=(S=C[w])!=null?S:0,j={...C,[w]:E+1};return g(Object.keys(j).length),j}):g(C=>C+1),()=>{w!==void 0?m(C=>{const S={...C};return S[w]===1?(delete S[w],g(Object.keys(S).length)):S[w]-=1,S}):g(C=>C-1),_==null||_()}},[s]);h.useEffect(()=>s==null?void 0:s(c),[c,s]);const y=h.useMemo(()=>({version:0,isTopLayer:b,level:c,registerChild:x,size:v,zIndex:p}),[b,c,x,v,p]);return l.jsx(pM.Provider,{value:y,children:n})}const Ytt=I.div({position:"relative"}),qtt=h.forwardRef(function(t,n){const{children:r,onActivate:o,onFocus:i,style:s=hf,...a}=t,{zIndex:c,isTopLayer:u}=Ga(),d=h.useRef(null),f=or(n),p=h.useRef(u);h.useEffect(()=>{p.current!==u&&u&&(o==null||o({activeElement:d.current})),p.current=u},[u,o]);const m=h.useCallback(v=>{i==null||i(v);const g=f.current,b=document.activeElement;!u||!g||!b||Oc(b)&&gM(g,b)&&(d.current=b)},[f,u,i]);return l.jsx(Ytt,{...a,"data-ui":"Layer",onFocus:m,ref:f,style:{...s,zIndex:c},children:r})}),Ji=h.forwardRef(function(t,n){const{children:r,zOffset:o=1,...i}=t;return l.jsx(Ru,{zOffset:o,children:l.jsx(qtt,{...i,ref:n,children:r})})}),vM=Symbol.for("@sanity/ui/context/portal"),Ph=Symbol.for("@sanity/ui/context/portal/element");Gt[Ph]=null;const Gtt={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(Gt[Ph]||(Gt[Ph]=document.createElement("div"),Gt[Ph].setAttribute("data-portal",""),document.body.appendChild(Gt[Ph])),Gt[Ph])}};Gt[vM]=Gt[vM]||h.createContext(Gtt);const CSe=Gt[vM];function gm(){const e=h.useContext(CSe);if(!e)throw new Error("usePortal(): missing context value");if(!y0(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function vm(e){var t;const{children:n,__unstable_name:r}=e,o=gm(),i=(r?o.elements&&o.elements[r]:o.element)||((t=o.elements)==null?void 0:t.default);return i?ac.createPortal(n,i):null}function Ktt(e){const t=h.useRef(e);return Ztt(t.current,e)||(t.current=e),t.current}function Ztt(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>e[o]===t[o])}const Xtt=typeof document<"u";function nd(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:o}=e,i=Ktt(o),s=h.useMemo(()=>({version:0,boundaryElement:t||null,element:r||Xtt&&document.body||null,elements:i}),[t,r,i]);return l.jsx(CSe.Provider,{value:s,children:n})}var uG=Object.freeze,Qtt=Object.defineProperty,Jtt=(e,t)=>uG(Qtt(e,"raw",{value:uG(t||e.slice())})),dG;const ent=I.div(dG||(dG=Jtt([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));h.forwardRef(function(t,n){const{as:r,children:o}=t;return l.jsx(ent,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:n,children:o})});var fG=Object.freeze,tnt=Object.defineProperty,SSe=(e,t)=>fG(tnt(e,"raw",{value:fG(t||e.slice())})),hG,pG;const nnt=I.div(hG||(hG=SSe([`
  position: relative;
`]))),mG=I.div(pG||(pG=SSe([`
  position: absolute;
  left: 0;
  right: 0;
`])));h.forwardRef(function(t,n){const{as:r="div",gap:o=0,getItemKey:i,items:s=[],onChange:a,renderItem:c,...u}=t,{space:d}=Ts().sanity,f=or(n),p=h.useRef(null),[m,v]=h.useState(0),[g,b]=h.useState(0),[x,y]=h.useState(-1);h.useEffect(()=>{if(!p.current)return;const k=p.current.firstChild;k instanceof HTMLElement&&y(k.offsetHeight)},[c]),h.useEffect(()=>{if(!f.current)return;let k=f.current.parentNode;for(;k&&!Wtt(k);)k=k.parentNode;if(k){const O=k;if(!(O instanceof HTMLElement))return;const P=()=>{v(O.scrollTop)};O.addEventListener("scroll",P,{passive:!0});const D=new iSe(R=>{b(R[0].contentRect.height)});return D.observe(O),P(),()=>{O.removeEventListener("scroll",P),D.unobserve(O),D.disconnect()}}const T=()=>{v(window.scrollY)},A=()=>{b(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",A),b(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",A)}},[f]);const w=s.length,_=x?w*(x+d[o])-d[o]:0,C=_?Math.max(Math.floor(m/_*w)-2,0):0,S=_?Math.ceil((m+g)/_*w)+1:0;h.useEffect(()=>{a&&a({fromIndex:C,gap:d[o],itemHeight:x,scrollHeight:g,scrollTop:m,toIndex:S})},[C,o,x,a,g,m,d,S]);const E=h.useMemo(()=>!c||s.length===0?null:x===-1?[l.jsx(mG,{children:c(s[0])},0)]:s.slice(C,S).map((k,T)=>{const A=C+T,O=c(k),P=i?i(k,A):A;return l.jsx(mG,{style:{top:A*(x+d[o])},children:O},P)}),[C,o,i,x,s,c,d,S]),j=h.useMemo(()=>({height:_}),[_]);return l.jsx(nnt,{as:r,"data-ui":"VirtualList",...u,ref:f,children:l.jsx("div",{ref:p,style:j,children:E})})});const rnt=4,ag=4,Jl=27,ont=11,ESe=[0,0,0,0],int={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function snt(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(o){const{elements:i,placement:s,platform:a,rects:c}=o,{floating:u,reference:d}=c,f=await Db(o,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const v=u.width,g=u.height;s.includes("top")&&(p=v-(f.left+f.right),m=g-f.top),s.includes("right")&&(p=v-f.right,m=g-(f.top+f.bottom)),s.includes("bottom")&&(p=v-(f.left+f.right),m=g-f.bottom),s.includes("left")&&(p=v-f.left,m=g-(f.top+f.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:i,referenceWidth:d.width-n[1]-n[3]});const b=await a.getDimensions(i.floating),x=b.height,y=b.width;return v!==y||g!==x?{reset:{rects:!0}}:{}}}}function ant(e){const{mediaIndex:t,theme:n,width:r}=e,o=r[t],i=o===void 0?r[r.length-1]:o;return typeof i=="number"?n.sanity.container[i]:void 0}function lnt(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-ag*2)}var gG=Object.freeze,cnt=Object.defineProperty,Q9=(e,t)=>gG(cnt(e,"raw",{value:gG(t||e.slice())})),vG,yG,bG;const unt=I.div(vG||(vG=Q9([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),Jl,Jl,Jl/2,Jl/2,Jl,Jl,Jl,Jl),dnt=I.path(yG||(yG=Q9([`
  fill: var(--card-shadow-outline-color);
`]))),fnt=I.path(bG||(bG=Q9([`
  fill: var(--card-bg-color);
`]))),hnt=h.forwardRef(function(t,n){return l.jsx(unt,{"data-ui":"Popover__arrow",...t,ref:n,children:l.jsxs("svg",{width:Jl,height:ont,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx(dnt,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),l.jsx(fnt,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),pnt=I(J)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),kSe=h.memo(h.forwardRef(function(t,n){const{__unstable_margins:r,arrow:o,arrowRef:i,arrowX:s,arrowY:a,children:c,padding:u,placement:d,overflow:f,radius:p,scheme:m,shadow:v,strategy:g,style:b,tone:x,width:y,x:w,y:_,...C}=t,{zIndex:S}=Ga(),E=h.useMemo(()=>r||ESe,[r]),j=(w??0)+E[3],k=(_??0)+E[0],T=h.useMemo(()=>({position:g,top:k,left:j,width:y,zIndex:S,...b}),[g,b,y,j,k,S]),A=d&&Q2e[d.split("-")[0]],O=h.useMemo(()=>{const P={left:s!==null?s:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0};return A&&(P[A]=0-Jl),P},[s,a,A]);return l.jsxs(pnt,{"data-ui":"Popover",...C,"data-placement":d,radius:p,ref:n,scheme:m,shadow:v,sizing:"border",style:T,tone:x,children:[l.jsx(U,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:f,children:l.jsx(U,{direction:"column",flex:1,padding:u,children:c})}),o&&l.jsx(hnt,{ref:i,style:O})]})}));kSe.displayName="PopoverCard";const nn=h.memo(h.forwardRef(function(t,n){var r,o,i,s,a,c,u,d,f;const p=Ts(),m=Gf(),{__unstable_margins:v=ESe,arrow:g=!0,boundaryElement:b=m.element,children:x,constrainSize:y=!1,content:w,disabled:_,fallbackPlacements:C=(o=t.fallbackPlacements)!=null?o:int[(r=t.placement)!=null?r:"bottom"],matchReferenceWidth:S,floatingBoundary:E=(i=t.boundaryElement)!=null?i:m.element,open:j,overflow:k="hidden",padding:T,placement:A="bottom",portal:O,preventOverflow:P=!0,radius:D=3,referenceBoundary:R=(s=t.boundaryElement)!=null?s:m.element,referenceElement:$,scheme:H,shadow:F=3,tone:V="inherit",width:W="auto",zOffset:z=(a=p.sanity.layer)==null?void 0:a.popover.zOffset,updateRef:q,...oe}=t,N=(c=ZT(b))==null?void 0:c.border,G=ye(T),Y=ye(D),K=ye(F),X=ye(W),Q=ye(z),Z=or(n),re=h.useRef(null),ae="viewport",me=mm(),ce=y||P?N==null?void 0:N.width:void 0,Te=ant({mediaIndex:me,theme:p,width:X}),je=h.useRef(Te);h.useEffect(()=>{je.current=Te},[Te]);const be=lnt({boundaryWidth:ce,currentWidth:Te}),ge=h.useRef(be);h.useEffect(()=>{ge.current=be},[be]);const De=h.useRef();h.useEffect(()=>{const Ut=Z.current;if(!j||!Ut)return;const Nr=De.current;S?Nr!==void 0&&(Ut.style.width="".concat(Nr,"px")):Te!==void 0&&(Ut.style.width="".concat(Te,"px")),typeof be=="number"&&(Ut.style.maxWidth="".concat(be,"px"))},[Te,Z,S,be,j]);const Re=h.useMemo(()=>{const Ut=[];return(y||P)&&Ut.push(pwe({boundary:E||void 0,fallbackPlacements:C,padding:ag,rootBoundary:ae})),Ut.push(mwe({mainAxis:g?rnt:0})),(y||S)&&Ut.push(snt({apply(Nr){let{availableWidth:Nl,availableHeight:Ja,elements:si,referenceWidth:Dn}=Nr;De.current=Dn;const Dr=je.current,Yr=ge.current;S?si.floating.style.width="".concat(Dn,"px"):Dr!==void 0&&(si.floating.style.width="".concat(Dr,"px")),y&&(si.floating.style.maxWidth="".concat(Math.min(Nl,Yr??1/0),"px"),si.floating.style.maxHeight="".concat(Ja,"px"))},boundaryElement:E||void 0,constrainSize:y,margins:v,matchReferenceWidth:S,padding:ag})),P&&Ut.push(gwe({boundary:E||void 0,rootBoundary:ae,padding:ag})),g&&Ut.push(TCe({element:re,padding:ag})),Ut.push(dWe({boundary:R||void 0,padding:ag,strategy:"referenceHidden"})),Ut},[g,y,C,E,v,S,P,R]),{x:at,y:rt,middlewareData:Mt,placement:un,refs:xe,strategy:qe,update:Ze}=OCe({middleware:Re,placement:A,whileElementsMounted:Swe}),Ne=(u=Mt.hide)==null?void 0:u.referenceHidden,pt=(d=Mt.arrow)==null?void 0:d.x,Oe=(f=Mt.arrow)==null?void 0:f.y,Me=h.useCallback(Ut=>{re.current=Ut},[]),Xe=h.useCallback(Ut=>{Z.current=Ut,xe.setFloating(Ut)},[Z,xe]),zo=h.useCallback(Ut=>{xe.setReference(Ut);const Nr=x==null?void 0:x.ref;typeof Nr=="function"?Nr(Ut):Nr&&(Nr.current=Ut)},[x,xe]),os=h.useMemo(()=>!x||$?null:h.cloneElement(x,{ref:zo}),[x,$,zo]);if(h.useEffect(()=>{q&&(typeof q=="function"?q(Ze):q&&(q.current=Ze))},[Ze,q]),h.useEffect(()=>{xe.setReference($||null)},[$,xe]),_)return x||l.jsx(l.Fragment,{});const Os=l.jsx(Ru,{zOffset:Q,children:l.jsx(kSe,{...oe,__unstable_margins:v,arrow:g,arrowRef:Me,arrowX:pt,arrowY:Oe,hidden:Ne,overflow:k,padding:G,placement:un,radius:Y,ref:Xe,scheme:H,shadow:K,strategy:qe,tone:V,width:S?De.current:Te,x:at,y:rt,children:w})});return l.jsxs(l.Fragment,{children:[j&&l.jsx(l.Fragment,{children:O?l.jsx(vm,{__unstable_name:typeof O=="string"?O:void 0,children:Os}):Os}),os]})}));nn.displayName="Popover";var xG=Object.freeze,mnt=Object.defineProperty,jSe=(e,t)=>xG(mnt(e,"raw",{value:xG(t||e.slice())})),wG,_G;function gnt(){return de(wG||(wG=jSe([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function vnt(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input,i=(r.radio.size-r.radio.markSize)/2;return de(_G||(_G=jSe([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),pe(r.radio.size/2),pe(r.radio.size),pe(r.radio.size),pe(r.radio.size/2),o.default.enabled.bg,xo({color:o.default.enabled.border,width:r.border.width}),pe(i),pe(i),pe(r.radio.markSize),pe(r.radio.markSize),pe(r.radio.markSize/2),o.default.enabled.fg,Sc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),xo({color:o.default.enabled.border,width:r.border.width}),o.default.readOnly.border,o.default.readOnly.bg,o.default.readOnly.fg,o.default.disabled.border,o.default.disabled.bg,o.default.disabled.fg)}const ynt=I.div(gnt),bnt=I.input(vnt),xnt=h.forwardRef(function(t,n){const{className:r,disabled:o,style:i,customValidity:s,readOnly:a,...c}=t,u=or(n);return Cw(u,s),l.jsxs(ynt,{className:r,"data-ui":"Radio",style:i,children:[l.jsx(bnt,{"data-read-only":!o&&a?"":void 0,...c,disabled:o||a,readOnly:a,ref:u,type:"radio"}),l.jsx("span",{})]})});var CG=Object.freeze,wnt=Object.defineProperty,JT=(e,t)=>CG(wnt(e,"raw",{value:CG(t||e.slice())})),SG,EG,kG,jG;function _nt(){return de(SG||(SG=JT([`
    position: relative;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function Cnt(e){const{theme:t}=e,n=t.sanity.fonts.text;return de(EG||(EG=JT([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),n.family)}function Snt(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input;return de(kG||(kG=JT([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,xo({color:o.default.enabled.border,width:r.border.width}),o.default.hovered.bg,o.default.hovered.fg,xo({color:o.default.hovered.border,width:r.border.width}),Sc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),o.default.readOnly.bg,o.default.readOnly.fg,xo({color:o.default.readOnly.border,width:r.border.width}),o.default.disabled.bg,o.default.disabled.fg,xo({color:o.default.disabled.border,width:r.border.width}))}function Ent(e){return{fontSize:pe(e.fontSize),lineHeight:pe(e.lineHeight)}}function knt(e){const{theme:t,$fontSize:n}=e,{sizes:r}=t.sanity.fonts.text;return ht(t.sanity.media,n,o=>Ent(r[o]||r[2]))}function jnt(){return[td,Cnt,Snt,knt,GJe]}function Tnt(e){const{theme:t}=e,n=t.sanity.color.input;return de(jG||(jG=JT([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),n.default.enabled.fg,n.default.hovered.fg,n.default.disabled.fg,n.default.readOnly.fg)}const J9={root:_nt,input:jnt,iconBox:Tnt},Ant=I.div(J9.root),Ont=I.select(J9.input),Pnt=I(M)(J9.iconBox),If=h.forwardRef(function(t,n){const{children:r,customValidity:o,disabled:i,fontSize:s=2,padding:a=3,radius:c=1,readOnly:u,space:d=3,...f}=t,p=or(n);return Cw(p,o),l.jsxs(Ant,{"data-ui":"Select",children:[l.jsx(Ont,{"data-read-only":!i&&u?"":void 0,"data-ui":"Select",...f,$fontSize:ye(s),$padding:ye(a),$radius:ye(c),$space:ye(d),disabled:i||u,ref:p,children:r}),l.jsx(Pnt,{padding:a,children:l.jsx(B,{size:s,children:l.jsx(Il,{})})})]})}),Dnt={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function Int(){return Dnt}function Rnt(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return ht(n,e.$space,o=>({gridGap:pe(r[o])}))}const $nt=I(M)(Int,Rnt),te=h.forwardRef(function(t,n){const{as:r,space:o,...i}=t;return l.jsx($nt,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...i,$space:ye(o),forwardedAs:r,ref:n})});var TG=Object.freeze,Mnt=Object.defineProperty,xp=(e,t)=>TG(Mnt(e,"raw",{value:TG(t||e.slice())})),AG,OG,PG,DG,IG,RG,$G;function Fnt(){return de(AG||(AG=xp([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function Lnt(){return de(OG||(OG=xp([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function Bnt(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.button.default;return de(PG||(PG=xp([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure it’s not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,pe(r.switch.width),pe(r.switch.height),pe(r.switch.height/2),Sc({focusRing:n}),o.positive.enabled.bg,o.positive.enabled.fg,o.default.hovered.bg,o.default.hovered.fg,o.positive.hovered.bg,o.positive.hovered.fg,o.default.disabled.bg,o.default.disabled.fg)}function Nnt(e){const{theme:t}=e,{input:n}=t.sanity;return de(DG||(DG=xp([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),pe(n.switch.width),pe(n.switch.height),pe(n.switch.height/2))}function znt(e){const{$indeterminate:t,theme:n}=e,{input:r}=n.sanity,o=r.switch.width,i=r.switch.height,s=r.switch.padding,a=i-r.switch.padding*2,c=o-s*2-a,u=o/2-a/2-s,d=t!==!0&&e.$checked===!0;return de($G||($G=xp([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),pe(s),pe(s),pe(a),pe(a),pe(a/2),r.switch.transitionDurationMs,r.switch.transitionTimingFunction,d&&de(IG||(IG=xp([`
      transform: translate3d(`,`px, 0, 0);
    `])),c),t&&de(RG||(RG=xp([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const Vnt=I.span(Fnt),Hnt=I.input(Lnt),Unt=I.span(Bnt),Wnt=I.span(Nnt),Ynt=I.span(znt),TSe=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,readOnly:a,style:c,...u}=t,d=or(n);return h.useEffect(()=>{d.current&&(d.current.indeterminate=s||!1)},[s,d]),l.jsxs(Vnt,{className:o,"data-ui":"Switch",style:c,children:[l.jsx(Hnt,{"data-read-only":!i&&a?"":void 0,...u,checked:s!==!0&&r,disabled:i||a,type:"checkbox",ref:d}),l.jsxs(Unt,{"aria-hidden":!0,"data-name":"representation",children:[l.jsx(Wnt,{}),l.jsx(Ynt,{$checked:r,$indeterminate:s})]})]})});var MG=Object.freeze,qnt=Object.defineProperty,Gnt=(e,t)=>MG(qnt(e,"raw",{value:MG(t||e.slice())})),FG;const Knt=I.span(uSe),Znt=I.span(FG||(FG=Gnt([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),Xnt=I.textarea(q9,dSe,fSe),Qnt=I.div(td,hSe),ASe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i=!1,fontSize:s=2,padding:a=3,radius:c=1,weight:u,...d}=t,f=or(n),p=b0();return Cw(f,o),l.jsx(Knt,{"data-ui":"TextArea",children:l.jsxs(Znt,{children:[l.jsx(Xnt,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:ye(s),$padding:ye(a),$scheme:p.scheme,$space:ye(0),$tone:p.tone,$weight:u,disabled:i,ref:f}),l.jsx(Qnt,{$radius:ye(c),$scheme:p.scheme,$tone:p.tone,"data-border":r?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});var LG=Object.freeze,Jnt=Object.defineProperty,w0=(e,t)=>LG(Jnt(e,"raw",{value:LG(t||e.slice())})),BG,NG,zG,VG,HG,UG;const ert={zIndex:2},trt=I(J).attrs({forwardedAs:"span"})(uSe),nrt=I.span(BG||(BG=w0([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),rrt=I(J).attrs({forwardedAs:"span"})(NG||(NG=w0([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),ort=I(J).attrs({forwardedAs:"span"})(zG||(zG=w0([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),irt=I.input(q9,dSe,fSe),srt=I.span(td,hSe),art=I(M)(VG||(VG=w0([`
  position: absolute;
  top: 0;
  left: 0;
`]))),lrt=I(M)(HG||(HG=w0([`
  position: absolute;
  top: 0;
  right: 0;
`]))),crt=I(J)(UG||(UG=w0([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),urt=I(ie)({"&:not([hidden])":{display:"block"}}),Or=h.forwardRef(function(t,n){const{border:r=!0,clearButton:o,disabled:i=!1,fontSize:s=2,icon:a,iconRight:c,onClear:u,padding:d=3,prefix:f,radius:p=1,readOnly:m,space:v=3,suffix:g,customValidity:b,type:x="text",weight:y,...w}=t,_=or(n),C=b0(),S=ye(s),E=ye(d),j=ye(p),k=ye(v),T=!!o,A=!!a,O=!!c,P=!!g,D=!!f;Cw(_,b);const R=h.useCallback(N=>{N.preventDefault(),N.stopPropagation()},[]),$=h.useCallback(N=>{var G;N.preventDefault(),N.stopPropagation(),u&&u(),(G=_.current)==null||G.focus()},[u,_]),H=h.useMemo(()=>f&&l.jsx(rrt,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:f})}),[f,j]),F=h.useMemo(()=>l.jsxs(srt,{$hasPrefix:D,$hasSuffix:P,$radius:j,$scheme:C.scheme,$tone:C.tone,"data-border":r?"":void 0,"data-scheme":C.scheme,"data-tone":C.tone,children:[a&&l.jsx(art,{padding:E,children:l.jsxs(B,{size:S,children:[h.isValidElement(a)&&a,vr.isValidElementType(a)&&h.createElement(a)]})}),!T&&c&&l.jsx(lrt,{padding:E,children:l.jsxs(B,{size:S,children:[h.isValidElement(c)&&c,vr.isValidElementType(c)&&h.createElement(c)]})})]}),[r,S,a,c,E,j,C,T,D,P]),V=h.useMemo(()=>E.map(N=>N===0?0:N===1||N===2?1:N-2),[E]),W=h.useMemo(()=>E.map(N=>N===0||N===1?0:N===2?1:N-1),[E]),z=h.useMemo(()=>typeof o=="object"?o:hf,[o]),q=h.useMemo(()=>!i&&!m&&o&&l.jsx(crt,{forwardedAs:"span",padding:V,style:ert,tone:b?"critical":"inherit",children:l.jsx(urt,{"aria-label":"Clear","data-qa":"clear-button",fontSize:S,icon:Ei,mode:"bleed",padding:W,radius:j,...z,onClick:$,onMouseDown:R})}),[o,V,W,z,b,i,S,$,R,j,m]),oe=h.useMemo(()=>g&&l.jsx(ort,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:g})}),[j,g]);return l.jsxs(trt,{"data-ui":"TextInput",tone:C.tone,children:[H,l.jsxs(nrt,{children:[l.jsx(irt,{"data-as":"input","data-scheme":C.scheme,"data-tone":C.tone,...w,$fontSize:S,$iconLeft:A,$iconRight:O||T,$padding:E,$scheme:C.scheme,$space:k,$tone:C.tone,$weight:y,disabled:i,readOnly:m,ref:_,type:x}),F,q]}),oe]})});function yM(e){const[t,n]=h.useState(e),r=h.useRef(),o=h.useCallback((i,s)=>{const a=()=>{n(i)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!s)return a();r.current=setTimeout(a,s)},[]);return[t,o]}const ID=4,drt={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};var WG=Object.freeze,frt=Object.defineProperty,e7=(e,t)=>WG(frt(e,"raw",{value:WG(t||e.slice())})),YG,qG,GG;const hrt=I.div(YG||(YG=e7([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),prt=I.path(qG||(qG=e7([`
  fill: var(--card-shadow-outline-color);
`]))),mrt=I.path(GG||(GG=e7([`
  fill: var(--card-bg-color);
`]))),grt=h.forwardRef(function(t,n){const{...r}=t;return l.jsx(hrt,{"data-ui":"Tooltip__arrow",...r,ref:n,children:l.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[l.jsx(prt,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),l.jsx(mrt,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})}),bM=Symbol.for("@sanity/ui/context/tooltipDelayGroup");Gt[bM]=Gt[bM]||h.createContext(null);const OSe=Gt[bM];function PSe(){return h.useContext(OSe)}function vrt(e){const{children:t,delay:n}=e,[r,o]=yM(!1),[i,s]=yM(null);if(PSe())throw new Error("TooltipDelayGroupProvider cannot be nested inside another TooltipDelayGroupProvider");const c=typeof n=="number"?n:(n==null?void 0:n.open)||0,u=typeof n=="number"?n:(n==null?void 0:n.close)||0,d=h.useMemo(()=>({isGroupActive:r,setIsGroupActive:o,openTooltipId:i,setOpenTooltipId:s,openDelay:r?1:c,closeDelay:u}),[u,r,c,i,o,s]);return l.jsx(OSe.Provider,{value:d,children:t})}var KG=Object.freeze,yrt=Object.defineProperty,brt=(e,t)=>KG(yrt(e,"raw",{value:KG(t||e.slice())})),ZG;const xrt=I(Ji)(ZG||(ZG=brt([`
  pointer-events: none;
  max-width: `,`px;
`])),e=>{let{$maxWidth:t}=e;return t}),st=h.forwardRef(function(t,n){var r,o,i,s,a,c;const u=Gf(),d=Ts(),{boundaryElement:f=u==null?void 0:u.element,children:p,content:m,disabled:v,fallbackPlacements:g=(o=t.fallbackPlacements)!=null?o:drt[(r=t.placement)!=null?r:"bottom"],padding:b,placement:x="bottom",portal:y,scheme:w,shadow:_=2,zOffset:C=(i=d.sanity.layer)==null?void 0:i.tooltip.zOffset,delay:S,...E}=t,j=ye(g),k=or(n),[T,A]=h.useState(null),O=h.useRef(null),P="viewport",D=gm(),R=typeof y=="string"?((s=D.elements)==null?void 0:s[y])||null:D.element,$=h.useMemo(()=>{const Oe=[...f?[f.offsetWidth]:[],(R==null?void 0:R.offsetWidth)||document.body.offsetWidth];return Math.min(...Oe)-ID*2},[f,R==null?void 0:R.offsetWidth]),H=h.useMemo(()=>{const Oe=[];return Oe.push(pwe({boundary:f||void 0,fallbackPlacements:j,padding:ID,rootBoundary:P})),Oe.push(mwe({mainAxis:3})),Oe.push(gwe({boundary:f||void 0,rootBoundary:P,padding:ID})),Oe.push(TCe({element:O,padding:2})),Oe},[f,j]),{floatingStyles:F,placement:V,middlewareData:W,refs:z,update:q}=OCe({middleware:H,placement:x,whileElementsMounted:Swe}),oe=V&&Q2e[V.split("-")[0]],N=(a=W.arrow)==null?void 0:a.x,G=(c=W.arrow)==null?void 0:c.y,Y=h.useMemo(()=>{const Oe={left:N!==null?N:void 0,top:G!==null?G:void 0,right:void 0,bottom:void 0};return oe&&(Oe[oe]=-15),Oe},[N,G,oe]),K=h.useId(),[X,Q]=yM(!1),Z=PSe(),re=X||(Z==null?void 0:Z.openTooltipId)===K,ae=Z!==null,me=typeof S=="number"?S:(S==null?void 0:S.open)||0,ce=typeof S=="number"?S:(S==null?void 0:S.close)||0,Te=ae?Z.openDelay:me,je=ae?Z.closeDelay:ce,be=h.useCallback((Oe,Me)=>{if(ae)if(Oe){const Xe=Me?0:Te;Z.setIsGroupActive(Oe,Xe),Z.setOpenTooltipId(K,Xe)}else{const zo=je>200?je:200;Z.setIsGroupActive(Oe,zo),Z.setOpenTooltipId(null,Me?0:je)}else Q(Oe,Me?0:Oe?Te:je)},[ae,Z,Te,K,je,Q]),ge=h.useCallback(Oe=>{var Me,Xe;be(!1),(Xe=(Me=p==null?void 0:p.props)==null?void 0:Me.onBlur)==null||Xe.call(Me,Oe)},[p==null?void 0:p.props,be]),De=h.useCallback(Oe=>{var Me,Xe;be(!1,!0),(Xe=p==null?void 0:(Me=p.props).onClick)==null||Xe.call(Me,Oe)},[p==null?void 0:p.props,be]),Re=h.useCallback(Oe=>{var Me,Xe;be(!1,!0),(Xe=p==null?void 0:(Me=p.props).onContextMenu)==null||Xe.call(Me,Oe)},[p==null?void 0:p.props,be]),at=h.useCallback(Oe=>{var Me,Xe;be(!0),(Xe=(Me=p==null?void 0:p.props)==null?void 0:Me.onFocus)==null||Xe.call(Me,Oe)},[p==null?void 0:p.props,be]),rt=h.useCallback(Oe=>{var Me,Xe;be(!0),(Xe=(Me=p==null?void 0:p.props)==null?void 0:Me.onMouseEnter)==null||Xe.call(Me,Oe)},[p==null?void 0:p.props,be]),Mt=h.useCallback(Oe=>{var Me,Xe;be(!1),(Xe=(Me=p==null?void 0:p.props)==null?void 0:Me.onMouseLeave)==null||Xe.call(Me,Oe)},[p==null?void 0:p.props,be]);h.useEffect(()=>{if(!X)return;function Oe(Me){if(!T)return;T===Me.target||Me.target instanceof Node&&T.contains(Me.target)||(be(!1),window.removeEventListener("mousemove",Oe))}return window.addEventListener("mousemove",Oe),()=>{window.removeEventListener("mousemove",Oe)}},[X,T,be]),h.useEffect(()=>{v&&be(!1)},[v,be]),h.useEffect(()=>{m||be(!1)},[m,be]),h.useEffect(()=>z.setReference(T),[T,z]),h.useEffect(()=>{if(!re)return;function Oe(Me){Me.key==="Escape"&&be(!1,!0)}return window.addEventListener("keydown",Oe),()=>{window.removeEventListener("keydown",Oe)}},[be,re]);const un=h.useCallback(Oe=>{O.current=Oe,q()},[q]),xe=h.useCallback(Oe=>{k.current=Oe,z.setFloating(Oe)},[k,z]),qe=p==null?void 0:p.ref,Ze=h.useCallback(Oe=>{typeof qe=="function"?qe(Oe):qe&&(qe.current=Oe),A(Oe)},[qe]),Ne=h.useMemo(()=>p?h.cloneElement(p,{onBlur:ge,onFocus:at,onMouseEnter:rt,onMouseLeave:Mt,onClick:De,onContextMenu:Re,ref:Ze}):null,[p,ge,De,Re,at,rt,Mt,Ze]);if(!Ne)return l.jsx(l.Fragment,{});if(v)return Ne;const pt=l.jsx(xrt,{"data-ui":"Tooltip",...E,ref:xe,style:F,zOffset:C,$maxWidth:$,children:l.jsxs(J,{"data-ui":"Tooltip__card","data-placement":V,padding:b,radius:2,scheme:w,shadow:_,children:[m,l.jsx(grt,{ref:un,style:Y})]})});return l.jsxs(l.Fragment,{children:[Ne,re&&l.jsx(l.Fragment,{children:y?l.jsx(vm,{__unstable_name:typeof y=="string"?y:void 0,children:pt}):pt})]})});var XG=Object.freeze,wrt=Object.defineProperty,eA=(e,t)=>XG(wrt(e,"raw",{value:XG(t||e.slice())})),QG,JG,eK,tK;const _rt=I.div(QG||(QG=eA([`
  line-height: 0;
`]))),Crt=I(M)(JG||(JG=eA([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),Srt=am(eK||(eK=eA([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),Ert=I(sw)(tK||(tK=eA([`
  animation: `,` 500ms linear infinite;
`])),Srt);function krt(e){const{children:t,id:n,onSelect:r,selected:o,value:i}=e,s=h.useCallback(()=>{setTimeout(()=>{r(i)},0)},[r,i]),a=h.useCallback(c=>{c.key==="Enter"&&!Btt(c.currentTarget)&&s()},[s]);return l.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:s,onKeyDown:a,children:t})}function jrt(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const Trt=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],Art="bottom-start",Ort=["bottom-start","top-start"],Prt=(e,t)=>t?t.value:e,Drt=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,Irt=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i,filterOption:s,fontSize:a=2,icon:c,id:u,listBox:d=hf,loading:f,onBlur:p,onChange:m,onFocus:v,onQueryChange:g,onSelect:b,openButton:x,options:y,padding:w=3,popover:_=hf,prefix:C,radius:S=3,readOnly:E,relatedElements:j,renderOption:k,renderPopover:T,renderValue:A=Prt,suffix:O,value:P,...D}=t,[R,$]=h.useReducer(jrt,{activeValue:P||null,focused:!1,listFocused:!1,query:null,value:P||null}),{activeValue:H,focused:F,listFocused:V,query:W,value:z}=R,q=h.useCallback(He=>{let{value:yt}=He;return l.jsx(J,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:l.jsx(B,{size:a,textOverflow:"ellipsis",children:yt})})},[a,w]),oe=typeof k=="function"?k:q,N=typeof s=="function"?s:Drt,G=h.useRef(null),Y=h.useRef(null),K=h.useRef(null),X=h.useRef(null),Q=h.useRef(!1),Z=h.useRef(z),re=h.useRef(P),ae=h.useRef(!1),me=or(n),ce="".concat(u,"-listbox"),Te=Array.isArray(y)?y:_w,je=ye(w),be=h.useMemo(()=>z!==null?Te.find(He=>He.value===z):void 0,[Te,z]),ge=h.useMemo(()=>Te.filter(He=>W?N(W,He):!0),[N,Te,W]),De=ge.length,Re=H?"".concat(u,"-option-").concat(H):void 0,at=W!==null&&f||F&&W!==null,rt=h.useCallback(He=>{setTimeout(()=>{if(ae.current)return;const yt=(j||[]).concat(G.current?[G.current]:[],Y.current?[Y.current]:[]);let Yn=!1;if(document.activeElement){for(const dn of yt)if(dn===document.activeElement||dn.contains(document.activeElement)){Yn=!0;break}}Yn===!1&&($({type:"root/blur"}),ae.current=!1,g&&g(null),p&&p(He))},0)},[p,g,j]),Mt=h.useCallback(He=>{const yt=X.current,Yn=He.target instanceof HTMLElement?He.target:null,dn=(yt==null?void 0:yt.contains(Yn))||!1;dn!==Q.current&&(Q.current=dn,$({type:"root/setListFocused",listFocused:dn}))},[]),un=h.useCallback(He=>{var yt;$({type:"value/change",value:He}),ae.current=!1,b&&b(He),Z.current=He,m&&m(He),g&&g(null),(yt=K.current)==null||yt.focus()},[m,b,g]),xe=h.useCallback(He=>{var yt,Yn;if(He.key==="ArrowDown"){if(He.preventDefault(),!De)return;const fo=ge.find(zl=>zl.value===H),is=fo?ge.indexOf(fo):-1,Ps=ge[(is+1)%De];Ps&&$({type:"root/setActiveValue",value:Ps.value,listFocused:!0});return}if(He.key==="ArrowUp"){if(He.preventDefault(),!De)return;const fo=ge.find(zl=>zl.value===H),is=fo?ge.indexOf(fo):-1,Ps=ge[is===-1?De-1:(De+is-1)%De];Ps&&$({type:"root/setActiveValue",value:Ps.value,listFocused:!0});return}if(He.key==="Escape"){$({type:"root/escape"}),ae.current=!1,g&&g(null),(yt=K.current)==null||yt.focus();return}const dn=He.target,ai=X.current;if((ai===dn||ai!=null&&ai.contains(dn))&&!Trt.includes(He.key)){(Yn=K.current)==null||Yn.focus();return}},[H,ge,De,g]),qe=h.useCallback(He=>{const yt=He.currentTarget.value;$({type:"input/change",query:yt}),g&&g(yt)},[g]),Ze=h.useCallback(He=>{F||($({type:"input/focus"}),v&&v(He))},[F,v]),Ne=h.useCallback(()=>{ae.current=!0},[]),pt=h.useCallback(()=>{ae.current=!1},[]),Oe=h.useCallback(()=>{var He;$({type:"root/clear"}),Z.current="",m&&m(""),g&&g(null),(He=K.current)==null||He.focus()},[m,g]),Me=h.useCallback(()=>{$({type:"input/focus"})},[]);h.useEffect(()=>{if(P!==re.current){re.current=P,P!==void 0&&($({type:"value/change",value:P}),Z.current=P);return}P!==Z.current&&(Z.current=P||null,$({type:"value/change",value:P||null}))},[P]),h.useEffect(()=>{!F&&Z.current&&$({type:"root/setActiveValue",value:Z.current})},[F]),h.useEffect(()=>{const He=X.current;if(!He)return;const yt=ge.find(Yn=>Yn.value===H);if(yt){const Yn=ge.indexOf(yt),dn=He.childNodes[Yn];if(dn){if(Htt(dn))return;Vv(dn)}}},[H,ge]);const Xe=h.useCallback(He=>{K.current=He,me.current=He},[me]),zo=h.useMemo(()=>{if(!f&&!i&&z)return{"aria-label":"Clear",onFocus:Me}},[i,Me,f,z]),os=h.useMemo(()=>je.map(He=>He===0?0:He===1||He===2?1:He-2),[je]),Os=h.useMemo(()=>je.map(He=>Math.max(He-1,0)),[je]),Ut=h.useMemo(()=>typeof x=="object"?x:hf,[x]),Nr=h.useCallback(He=>{$({type:"root/open",query:z?A(z,be):""}),Ut.onClick&&Ut.onClick(He),mM(()=>{var yt;return(yt=K.current)==null?void 0:yt.focus()})},[be,Ut,A,z]),Nl=h.useMemo(()=>!i&&!E&&x?l.jsx(M,{"aria-hidden":at,padding:os,children:l.jsx(ie,{"aria-label":"Open",disabled:at,fontSize:a,icon:Ya,mode:"bleed",padding:Os,...Ut,onClick:Nr})}):void 0,[i,at,a,Nr,x,os,Os,Ut,E]),Ja=h.useMemo(()=>W===null?z!==null?A(z,be):"":W,[be,W,A,z]),si=l.jsx(Or,{...D,"aria-activedescendant":Re,"aria-autocomplete":"list","aria-expanded":at,"aria-owns":ce,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:zo,customValidity:o,disabled:i,fontSize:a,icon:c,iconRight:f&&Ert,id:u,inputMode:"search",onChange:qe,onClear:Oe,onFocus:Ze,padding:je,prefix:C,radius:S,readOnly:E,ref:Xe,role:"combobox",spellCheck:!1,suffix:O||Nl,value:Ja}),Dn=h.useCallback(He=>{var yt;He.key==="Tab"&&V&&((yt=K.current)==null||yt.focus())},[V]),Dr=h.useMemo(()=>ge.length===0?null:l.jsx(Crt,{"data-ui":"AutoComplete__results",onKeyDown:Dn,padding:1,...d,tabIndex:-1,children:l.jsx(te,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:ce,ref:X,role:"listbox",space:1,children:ge.map(He=>{const yt=H!==null?He.value===H:be===He;return l.jsx(krt,{id:"".concat(u,"-option-").concat(He.value),onSelect:un,selected:yt,value:He.value,children:h.cloneElement(oe(He),{disabled:f,selected:yt,tabIndex:V&&yt?0:-1})},He.value)})})}),[H,be,ge,un,Dn,u,d,ce,V,f,oe]),Yr=h.useMemo(()=>T?T({content:Dr,hidden:!at,inputElement:K.current,onMouseEnter:Ne,onMouseLeave:pt},Y):De===0?null:l.jsx(nn,{arrow:!1,constrainSize:!0,content:Dr,fallbackPlacements:Ort,matchReferenceWidth:!0,onMouseEnter:Ne,onMouseLeave:pt,open:at,overflow:"auto",placement:Art,portal:!0,radius:S,ref:Y,referenceElement:K.current,..._}),[Dr,at,De,Ne,pt,_,S,T]);return l.jsxs(_rt,{"data-ui":"Autocomplete",onBlur:rt,onFocus:Mt,onKeyDown:xe,ref:G,children:[si,Yr]})}),t7=Irt;var nK=Object.freeze,Rrt=Object.defineProperty,DSe=(e,t)=>nK(Rrt(e,"raw",{value:nK(t||e.slice())})),rK,oK;const $rt=I.ol(rK||(rK=DSe([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),Mrt=I(ie)(oK||(oK=DSe([`
  appearance: none;
  margin: -4px;
`]))),n7=h.forwardRef(function(t,n){const{children:r,maxLength:o,separator:i,space:s=2,...a}=t,c=ye(s),[u,d]=h.useState(!1),[f,p]=h.useState(null),[m,v]=h.useState(null),g=h.useCallback(()=>d(!1),[]),b=h.useCallback(()=>d(!0),[]);rr(g,[f,m]);const x=h.useMemo(()=>h.Children.toArray(r).filter(w=>h.isValidElement(w)),[r]),y=h.useMemo(()=>{const w=x.length;if(o&&w>o){const _=Math.ceil(o/2),C=Math.floor(o/2);return[...x.slice(0,_-1),l.jsx(nn,{constrainSize:!0,content:l.jsx(te,{as:"ol",overflow:"auto",padding:c,space:c,children:x.slice(_-1,w-C)}),open:u,placement:"top",portal:!0,ref:v,children:l.jsx(Mrt,{fontSize:1,mode:"bleed",onClick:u?g:b,padding:1,ref:p,selected:u,text:"…"})},"button"),...x.slice(w-C)]}return x},[g,b,o,u,x,c]);return l.jsx($rt,{"data-ui":"Breadcrumbs",...a,ref:n,children:y.map((w,_)=>l.jsxs(h.Fragment,{children:[_>0&&l.jsx(M,{"aria-hidden":!0,as:"li",paddingX:c,children:i||l.jsx(B,{muted:!0,children:"/"})}),l.jsx(M,{as:"li",children:w})]},_))})});function Frt(e){let{theme:t}=e;const n=t.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.shadow.umbra}}function Lrt(e){const{theme:t}=e,{media:n}=t.sanity;return ht(n,e.$position,r=>({"&&":{position:r}}))}const xM=Symbol.for("@sanity/ui/context/dialog");Gt[xM]=Gt[xM]||h.createContext({version:0});const ISe=Gt[xM];function Brt(){return h.useContext(ISe)}var iK=Object.freeze,Nrt=Object.defineProperty,_0=(e,t)=>iK(Nrt(e,"raw",{value:iK(t||e.slice())})),sK,aK,lK,cK,uK,dK;function wM(e,t,n){return!e||!t?!0:gM(e,n)||gM(t,n)}const zrt=I(Ji)(pSe,Frt,Lrt),Vrt=I(oo)(sK||(sK=_0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),Hrt=I(J)(aK||(aK=_0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),Urt=I(U)(lK||(lK=_0([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),Wrt=I(J)(cK||(cK=_0([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),Yrt=I(M)(uK||(uK=_0([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),qrt=I(M)(dK||(dK=_0([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),Grt=h.forwardRef(function(t,n){var r;const{__unstable_autoFocus:o,__unstable_hideCloseButton:i,children:s,contentRef:a,footer:c,header:u,id:d,onClickOutside:f,onClose:p,portal:m,radius:v,scheme:g,shadow:b,width:x}=t,y=gm(),w=m?((r=y.elements)==null?void 0:r[m])||null:y.element,_=Gf().element,C=ye(v),S=ye(b),E=ye(x),j=or(n),[k,T]=h.useState(null),A=h.useRef(null),O=Ga(),{isTopLayer:P}=O,D="".concat(d,"_label"),R=!!p&&i===!1,$=!!u||R;h.useEffect(()=>{o&&j.current&&Vv(j.current)},[o,j]),Qi(h.useCallback(V=>{if(!P||!p)return;const W=document.activeElement;W&&!wM(_,w,W)||V.key==="Escape"&&(V.preventDefault(),V.stopPropagation(),p())},[_,P,p,w])),rr(h.useCallback(V=>{if(!P||!f)return;const W=V.target;W&&!wM(_,w,W)||f()},[_,P,f,w]),[k]);const H=h.useCallback(V=>{T(V),j.current=V},[j]),F=h.useCallback(V=>{A.current=V,typeof a=="function"?a(V):a&&(a.current=V)},[a]);return l.jsx(Vrt,{"data-ui":"DialogCard",width:E,children:l.jsx(Hrt,{radius:C,ref:H,scheme:g,shadow:S,children:l.jsxs(Urt,{direction:"column",children:[$&&l.jsx(Wrt,{children:l.jsxs(U,{children:[l.jsx(M,{flex:1,padding:4,children:u&&l.jsx(B,{id:D,weight:"semibold",children:u})}),R&&l.jsx(M,{padding:2,children:l.jsx(ie,{"aria-label":"Close dialog",disabled:!p,icon:Ei,mode:"bleed",onClick:p,padding:3})})]})}),l.jsx(Yrt,{flex:1,ref:F,tabIndex:-1,children:s}),c&&l.jsx(qrt,{children:c})]})})})}),Pi=h.forwardRef(function(t,n){var r,o;const i=Brt(),s=Ts(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:c=!1,cardRadius:u=3,cardShadow:d=4,children:f,contentRef:p,footer:m,header:v,id:g,onActivate:b,onClickOutside:x,onClose:y,onFocus:w,padding:_=4,portal:C,position:S=i.position||"fixed",scheme:E,width:j=0,zOffset:k=i.zOffset||((r=s.sanity.layer)==null?void 0:r.dialog.zOffset),...T}=t,A=gm(),O=C?((o=A.elements)==null?void 0:o[C])||null:A.element,P=Gf().element,D=ye(u),R=ye(_),$=ye(S),H=ye(j),F=ye(k),V=h.useRef(null),W=h.useRef(null),z=h.useRef(null),q=h.useRef(null),oe=h.useCallback(K=>{w==null||w(K);const X=K.target,Q=z.current;if(Q&&X===V.current){_Se(Q);return}if(Q&&X===W.current){Vv(Q);return}Oc(K.target)&&(q.current=K.target)},[w]),N="".concat(g,"_label"),G=h.useRef(),Y=h.useCallback(()=>{G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{const K=document.activeElement;if(K&&!wM(P,O,K)){const X=q.current;if(!X||!document.body.contains(X)){const Q=z.current;Q&&Vv(Q);return}X.focus()}},0)},[P,O]);return l.jsx(vm,{__unstable_name:C,children:l.jsxs(zrt,{...T,$padding:R,$position:$,"aria-labelledby":N,"aria-modal":!0,"data-ui":"Dialog",id:g,onActivate:b,onClick:Y,onFocus:oe,ref:n,role:"dialog",zOffset:F,children:[l.jsx("div",{ref:V,tabIndex:0}),l.jsx(Grt,{__unstable_autoFocus:a,__unstable_hideCloseButton:c,contentRef:p,footer:m,header:v,id:g,onClickOutside:x,onClose:y,portal:C,radius:D,ref:z,scheme:E,shadow:d,width:H,children:f}),l.jsx("div",{ref:W,tabIndex:0})]})})});function _M(e){const{children:t,position:n,zOffset:r}=e,o=h.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return l.jsx(ISe.Provider,{value:o,children:t})}var fK=Object.freeze,Krt=Object.defineProperty,RSe=(e,t)=>fK(Krt(e,"raw",{value:fK(t||e.slice())})),hK,pK;const Zrt=I.kbd(hK||(hK=RSe([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),Xrt=I(dM)(pK||(pK=RSe([`
  &:not([hidden]) {
    display: block;
  }
`]))),r7=h.forwardRef(function(t,n){const{fontSize:r,keys:o,padding:i,radius:s,space:a=1,...c}=t,u=ye(a);return!o||o.length===0?l.jsx(l.Fragment,{}):l.jsx(Zrt,{"data-ui":"Hotkeys",...c,ref:n,children:l.jsx(Yt,{as:"span",space:u,children:o.map((d,f)=>l.jsx(Xrt,{fontSize:r,padding:i,radius:s,children:d},f))})})}),CM=Symbol.for("@sanity/ui/context/menu");Gt[CM]=Gt[CM]||h.createContext(null);const $Se=Gt[CM];function Qrt(e){return Z9(e)&&e.getAttribute("data-disabled")!=="true"||X9(e)&&!e.disabled}function Wm(e){return e.filter(Qrt)}function Jrt(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const mK=[];function eot(e,t){if(!e)return;const n=new WeakMap;for(const o of t)n.set(o,Jrt(e,o));const r=(o,i)=>{const s=n.get(o)||mK,a=n.get(i)||mK,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function tot(e){const{onKeyDown:t,originElement:n,shouldFocus:r}=e,o=h.useRef([]),[i,s]=h.useState(null),[a,c]=h.useState(-1),u=h.useRef(a),d=o.current[a]||null,f=!!i,p=h.useCallback(x=>{c(x),u.current=x},[]),m=h.useCallback((x,y)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),eot(i,o.current)),y){const w=o.current.indexOf(x);p(w)}return()=>{const w=o.current.indexOf(x);w>-1&&o.current.splice(w,1)}},[i,p]),v=h.useCallback(x=>{if(x.key==="Tab"){n&&n.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const w=Wm(o.current)[0];if(!w)return;const _=o.current.indexOf(w);p(_);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const y=Wm(o.current),w=y[y.length-1];if(!w)return;const _=o.current.indexOf(w);p(_);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const y=Wm(o.current),w=y.length;if(w===0)return;const _=o.current[u.current];let C=y.indexOf(_);C=(C-1+w)%w;const S=y[C],E=o.current.indexOf(S);p(E);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const y=Wm(o.current),w=y.length;if(w===0)return;const _=o.current[u.current];let C=y.indexOf(_);C=(C+1)%w;const S=y[C],E=o.current.indexOf(S);p(E);return}t&&t(x)},[t,n,p]),g=h.useCallback(x=>{const y=x.currentTarget,w=o.current.indexOf(y);p(w)},[p]),b=h.useCallback(()=>{p(-2),i==null||i.focus()},[p,i]);return h.useEffect(()=>{if(!f)return;const x=window.requestAnimationFrame(()=>{const y=u.current;if(y===-1){if(r==="first"){const C=Wm(o.current)[0];if(C){const S=o.current.indexOf(C);p(S),u.current=S}}if(r==="last"){const _=Wm(o.current),C=_[_.length-1];if(C){const S=o.current.indexOf(C);p(S),u.current=S}}return}const w=o.current[y]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(x)}},[a,f,p,r]),{activeElement:d,activeIndex:a,handleItemMouseEnter:g,handleItemMouseLeave:b,handleKeyDown:v,mount:m,rootElement:i,setRootElement:s}}var gK=Object.freeze,not=Object.defineProperty,rot=(e,t)=>gK(not(e,"raw",{value:gK(t||e.slice())})),vK;const oot=I(M)(vK||(vK=rot([`
  outline: none;
  overflow: auto;
`]))),Ft=h.forwardRef(function(t,n){const{children:r,focusFirst:o,focusLast:i,onClickOutside:s,onEscape:a,onItemClick:c,onItemSelect:u,onKeyDown:d,originElement:f,padding:p=1,registerElement:m,shouldFocus:v=t.focusFirst&&"first"||t.focusLast&&"last"||null,space:g=1,...b}=t,x=or(n),{isTopLayer:y}=Ga(),{activeElement:w,activeIndex:_,handleItemMouseEnter:C,handleItemMouseLeave:S,handleKeyDown:E,mount:j,rootElement:k,setRootElement:T}=tot({onKeyDown:d,originElement:f,shouldFocus:v}),A=h.useCallback(P=>{T(P),x.current=P},[x,T]);h.useEffect(()=>{u&&u(_)},[_,u]),rr(h.useCallback(P=>y&&s&&s(P),[y,s]),[k]),Qi(h.useCallback(P=>{y&&P.key==="Escape"&&(P.stopPropagation(),a&&a())},[y,a])),h.useEffect(()=>{if(!(!k||!m))return m(k)},[m,k]);const O=h.useMemo(()=>({version:0,activeElement:w,activeIndex:_,mount:j,onClickOutside:s,onEscape:a,onItemClick:c,onItemMouseEnter:C,onItemMouseLeave:S,registerElement:m,onMouseEnter:C,onMouseLeave:S}),[w,_,j,C,S,s,a,c,m]);return l.jsx($Se.Provider,{value:O,children:l.jsx(oot,{"data-ui":"Menu",...b,onKeyDown:E,padding:p,ref:A,role:"menu",tabIndex:-1,children:l.jsx(te,{space:g,children:r})})})}),Kt=h.forwardRef(function(t,n){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:o,button:i,id:s,menu:a,onClose:c,onOpen:u,placement:d,popoverScheme:f,portal:p=!0,popover:m,popoverRadius:v,preventOverflow:g}=t,[b,x]=h.useState(!1),[y,w]=h.useState(null),[_,C]=h.useState(null),[S,E]=h.useState([]),j=h.useRef(b);h.useEffect(()=>{u&&b&&!j.current&&u()},[u,b]),h.useEffect(()=>{c&&!b&&j.current&&c()},[c,b]),h.useEffect(()=>{j.current=b},[b]);const k=h.useCallback(()=>{x(z=>!z),w(null)},[]),T=h.useCallback(z=>{if(z.key==="ArrowDown"||z.key==="Enter"||z.key===" "){z.preventDefault(),x(!0),w("first");return}if(z.key==="ArrowUp"){z.preventDefault(),x(!0),w("last");return}},[]),A=h.useCallback(z=>{const q=z.target;if(q instanceof Node&&!(_&&(q===_||_.contains(q)))){for(const oe of S)if(q===oe||oe.contains(q))return;x(!1)}},[_,S]),O=h.useCallback(()=>{x(!1),!r&&_&&_.focus()},[_,r]),P=h.useCallback(z=>{const q=z.relatedTarget;if(q instanceof Node){for(const oe of S)if(oe===q||oe.contains(q))return;x(!1)}},[S]),D=h.useCallback(()=>{x(!1),!r&&_&&_.focus()},[_,r]),R=h.useCallback(z=>(E(q=>q.concat([z])),()=>{E(q=>q.filter(oe=>oe!==z))}),[]),$=h.useMemo(()=>({"aria-labelledby":s,onBlurCapture:P,onClickOutside:A,onEscape:O,onItemClick:D,originElement:_,registerElement:R,shouldFocus:y}),[_,A,O,D,s,P,R,y]),H=vr.isElement(a)?h.cloneElement(a,$):null,F=h.useCallback(z=>{typeof n=="function"?n(z):n&&(n.current=z),C(z)},[n]),V=h.useMemo(()=>vr.isElement(i)?h.cloneElement(i,{"data-ui":"MenuButton",id:s,onClick:k,onKeyDown:T,"aria-haspopup":!0,"aria-expanded":b,ref:F,selected:b}):null,[i,k,T,s,b,F]),W=h.useMemo(()=>({boundaryElement:o,overflow:"auto",placement:d,portal:p,preventOverflow:g,radius:v,scheme:f,...m||{}}),[o,d,v,f,p,g,m]);return l.jsx(nn,{"data-ui":"MenuButton__popover",...W,content:H,open:b,children:V||l.jsx(l.Fragment,{})})});var yK=Object.freeze,iot=Object.defineProperty,sot=(e,t)=>yK(iot(e,"raw",{value:yK(t||e.slice())})),bK;const kr=I.hr(bK||(bK=sot([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var xK=Object.freeze,aot=Object.defineProperty,MSe=(e,t)=>xK(aot(e,"raw",{value:xK(t||e.slice())})),wK,_K;function lot(){return de(wK||(wK=MSe([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function cot(e){var t,n;const{$tone:r,theme:o}=e,{base:i,muted:s,selectable:a}=o.sanity.color,c=a?a[r]||a.default:s[r]||s.default;return de(_K||(_K=MSe([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),Bt(i,c.enabled),Bt(i,c.disabled),Bt(i,c.pressed),Bt(i,c.selected),Bt(i,c.hovered),Bt(i,c.pressed),Bt(i,c.disabled),Bt(i,c.pressed),Bt(i,c.selected),Bt(i,c.hovered),Bt(i,c.pressed),(n=(t=o.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const FSe=I(M)(td,lot,cot);function LSe(){const e=h.useContext($Se);if(!e)throw new Error("useMenu(): missing context value");if(!y0(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function o7(e){const{as:t="button",children:n,fontSize:r,icon:o,onClick:i,padding:s=3,popover:a,radius:c=2,space:u=3,text:d,tone:f="default",...p}=e,m=LSe(),{activeElement:v,mount:g,onClickOutside:b,onEscape:x,onItemClick:y,onItemMouseEnter:w=m.onMouseEnter,registerElement:_}=m,[C,S]=h.useState(null),[E,j]=h.useState(!1),k=h.useRef(null),T=!!v&&v===C,[A,O]=h.useState(!1),P=h.useCallback(W=>{O(!1),w(W),j(!0)},[w]),D=h.useCallback(W=>{W.key==="ArrowLeft"&&(W.stopPropagation(),j(!1),requestAnimationFrame(()=>{C==null||C.focus()}))},[C]),R=h.useCallback(W=>{i&&i(W),k.current="first",j(!0),requestAnimationFrame(()=>{k.current=null})},[i]),$=h.useCallback(()=>{j(!1),y&&y()},[y]),H=h.useCallback(()=>O(!0),[]);h.useEffect(()=>g(C),[g,C]),h.useEffect(()=>{T||j(!1)},[T]),h.useEffect(()=>{E||O(!1)},[E]);const F=l.jsx(Ft,{onClickOutside:b,onEscape:x,onItemClick:$,onKeyDown:D,onMouseEnter:H,registerElement:_,shouldFocus:k.current,children:n}),V=h.useCallback(W=>{const z=W.currentTarget;if(document.activeElement===z&&W.key==="ArrowRight"){k.current="first",j(!0),O(!0),requestAnimationFrame(()=>{k.current=null});return}},[]);return l.jsx(nn,{...a,content:F,"data-ui":"MenuGroup__popover",open:E,children:l.jsx(FSe,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?A:void 0,"data-pressed":t!=="button"?A:void 0,"data-selected":!A&&T?"":void 0,$radius:ye(c),$tone:f,onClick:R,onKeyDown:V,onMouseEnter:P,ref:S,tabIndex:-1,type:t==="button"?"button":void 0,children:l.jsx(M,{padding:s,children:l.jsxs(U,{children:[o&&l.jsxs(B,{size:r,children:[h.isValidElement(o)&&o,vr.isValidElementType(o)&&h.createElement(o)]}),l.jsx(M,{flex:1,marginLeft:o?u:void 0,children:l.jsx(B,{size:r,textOverflow:"ellipsis",children:d})}),l.jsx(M,{marginLeft:u,children:l.jsx(B,{size:r,children:l.jsx(Tc,{})})})]})})})})}const Be=h.forwardRef(function(t,n){const{as:r="button",children:o,disabled:i,fontSize:s=2,hotkeys:a,icon:c,iconRight:u,onClick:d,padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:b,paddingLeft:x,pressed:y,radius:w=2,selected:_,space:C=3,text:S,tone:E="default",...j}=t,k=LSe(),{activeElement:T,mount:A,onItemClick:O,onItemMouseEnter:P=k.onMouseEnter,onItemMouseLeave:D=k.onMouseLeave}=k,[R,$]=h.useState(null),H=!!T&&T===R;h.useEffect(()=>A(R,_),[A,R,_]);const F=or(n),V=h.useCallback(q=>{i||(d&&d(q),O&&O())},[i,d,O]),W=h.useMemo(()=>({padding:f,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:b,paddingLeft:x}),[f,p,m,v,g,b,x]),z=h.useCallback(q=>{F.current=q,$(q)},[F]);return l.jsxs(FSe,{"data-ui":"MenuItem",...j,"aria-pressed":r==="button"&&y,"data-pressed":r!=="button"&&y?"":void 0,"data-selected":H?"":void 0,"data-disabled":i?"":void 0,forwardedAs:r,$radius:ye(w),$padding:ye(0),$tone:E,disabled:i,onClick:V,onMouseEnter:P,onMouseLeave:D,ref:z,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(c||S||u)&&l.jsx(M,{as:"span",...W,children:l.jsxs(U,{as:"span",children:[c&&l.jsxs(B,{size:s,children:[h.isValidElement(c)&&c,vr.isValidElementType(c)&&h.createElement(c)]}),S&&l.jsx(M,{flex:1,marginLeft:c?C:void 0,marginRight:u?C:void 0,children:l.jsx(B,{size:s,textOverflow:"ellipsis",children:S})}),a&&l.jsx(M,{marginLeft:C,style:{marginTop:-4,marginBottom:-4},children:l.jsx(r7,{fontSize:s,keys:a})}),u&&l.jsxs(B,{size:s,children:[h.isValidElement(u)&&u,vr.isValidElementType(u)&&h.createElement(u)]})]})}),o&&l.jsx(M,{as:"span",...W,children:o})]})});var CK=Object.freeze,uot=Object.defineProperty,b5=(e,t)=>CK(uot(e,"raw",{value:CK(t||e.slice())})),SK,EK,kK,jK;const dot=am(SK||(SK=b5([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),fot=de(EK||(EK=b5([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),dot),hot=de(jK||(jK=b5([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),e=>{let{$visible:t}=e;return t?1:0},e=>{let{$animated:t}=e;return t?fot:de(kK||(kK=b5([`
            background-color: var(--card-skeleton-color-from);
          `])))}),pot=I(M)(td,hot),C0=h.forwardRef(function(t,n){const{animated:r=!1,delay:o,radius:i,...s}=t,[a,c]=h.useState(!o);return h.useEffect(()=>{if(!o)return c(!0);const u=setTimeout(()=>{c(!0)},o);return()=>{clearTimeout(u)}},[o]),l.jsx(pot,{...s,$animated:r,$radius:ye(i),$visible:a,ref:n})}),tA=I(C0)(e=>{let{$size:t,$style:n,theme:r}=e;const{media:o}=r.sanity,i=r.sanity.fonts[n];return ht(o,t,a=>{const c=i.sizes[a];return{height:c.lineHeight-c.ascenderHeight-c.descenderHeight}})}),ji=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(tA,{...o,$size:i,ref:n,$style:"text"})}),x5=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(tA,{...o,$size:i,ref:n,$style:"label"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(tA,{...o,$size:i,ref:n,$style:"heading"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(tA,{...o,$size:i,ref:n,$style:"code"})});var TK=Object.freeze,mot=Object.defineProperty,got=(e,t)=>TK(mot(e,"raw",{value:TK(t||e.slice())})),AK;const vot=I(ie)(AK||(AK=got([`
  max-width: 100%;
`]))),nx=h.forwardRef(function(t,n){const{icon:r,id:o,focused:i,fontSize:s,label:a,onClick:c,onFocus:u,padding:d=2,selected:f,...p}=t,m=h.useRef(null),v=h.useRef(!1),g=h.useCallback(()=>{v.current=!1},[]),b=h.useCallback(w=>{v.current=!0,u&&u(w)},[u]),x=or(n);h.useEffect(()=>{i&&!v.current&&(m.current&&m.current.focus(),v.current=!0)},[i]);const y=w=>{m.current=w,x.current=w};return l.jsx(vot,{"data-ui":"Tab",...p,"aria-selected":f?"true":"false",fontSize:s,icon:r,id:o,mode:"bleed",onClick:c,onBlur:g,onFocus:b,padding:d,ref:y,role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});var OK=Object.freeze,yot=Object.defineProperty,bot=(e,t)=>OK(yot(e,"raw",{value:OK(t||e.slice())})),PK;function xot(e){return!!e}const wot=I(Yt)(PK||(PK=bot([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),nA=h.forwardRef(function(t,n){const{children:r,...o}=t,[i,s]=h.useState(-1),c=h.useMemo(()=>r.filter(xot),[r]).map((p,m)=>h.cloneElement(p,{focused:i===m,key:m,onFocus:()=>d(m)})),u=c.length,d=h.useCallback(p=>{s(p)},[]),f=h.useCallback(p=>{p.key==="ArrowLeft"&&s(m=>(m+u-1)%u),p.key==="ArrowRight"&&s(m=>(m+1)%u)},[u]);return l.jsx(wot,{"data-ui":"TabList",...o,onKeyDown:f,ref:n,role:"tablist",children:c})}),BSe=h.forwardRef(function(t,n){const{flex:r,...o}=t;return l.jsx(M,{"data-ui":"TabPanel",...o,flex:r,ref:n,role:"tabpanel",tabIndex:t.tabIndex===void 0?0:t.tabIndex,children:t.children})});var DK=Object.freeze,_ot=Object.defineProperty,NSe=(e,t)=>DK(_ot(e,"raw",{value:DK(t||e.slice())})),IK,RK;const Cot={error:"critical",warning:"caution",success:"positive",info:"primary"},Sot={error:"alert",warning:"alert",success:"alert",info:"alert"},Eot=I(J)(IK||(IK=NSe([`
  pointer-events: all;
`]))),kot=I(U)(RK||(RK=NSe([`
  overflow-x: auto;
`])));function jot(e){const{closable:t,description:n,onClose:r,title:o,status:i,...s}=e,a=i?Cot[i]:"default",c=i?Sot[i]:"status";return l.jsx(Eot,{"data-ui":"Toast",role:c,...s,marginTop:3,radius:2,shadow:2,tone:a,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(kot,{flex:1,padding:3,children:l.jsxs(te,{space:3,children:[o&&l.jsx(B,{weight:"semibold",children:o}),n&&l.jsx(B,{muted:!0,size:1,children:n})]})}),t&&l.jsx(M,{padding:1,children:l.jsx(ie,{as:"button",icon:Ei,mode:"bleed",padding:2,onClick:r,style:{verticalAlign:"top"}})})]})})}function Tot(){const[e,t]=h.useReducer(()=>!0,!1);return h.useEffect(t,[t]),e}const SM=Symbol.for("@sanity/ui/context/toast");Gt[SM]=Gt[SM]||h.createContext(null);const zSe=Gt[SM];var $K=Object.freeze,Aot=Object.defineProperty,VSe=(e,t)=>$K(Aot(e,"raw",{value:$K(t||e.slice())})),MK,FK;const Oot=I(Ji)(MK||(MK=VSe([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`]))),Pot=I.div(FK||(FK=VSe([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));let Dot=0;function i7(e){const{children:t,padding:n=4,paddingX:r,paddingY:o,zOffset:i}=e,[s,a]=h.useState([]),c=h.useRef({}),u=h.useCallback(p=>{const m=x=>h.startTransition(()=>a(x)),v=p.id||String(Dot++),g=p.duration||5e3,b=()=>{var x;const y=(x=c.current[v])==null?void 0:x.timeoutId;m(w=>{const _=w.findIndex(C=>C.id===v);if(_>-1){const C=w.slice(0);return C.splice(_,1),C}return w}),y!==void 0&&(clearTimeout(y),delete c.current[v])};return m(x=>x.filter(y=>y.id!==v).concat([{dismiss:b,id:v,params:{...p,duration:g}}])),c.current[v]&&(clearTimeout(c.current[v].timeoutId),delete c.current[v]),c.current[v]={timeoutId:setTimeout(b,g)},v},[]);h.useEffect(()=>()=>{for(const{timeoutId:p}of Object.values(c.current))clearTimeout(p);c.current={}},[]);const d=h.useMemo(()=>({version:0,push:u}),[u]),f=Tot();return l.jsxs(zSe.Provider,{value:d,children:[t,f&&l.jsx(Oot,{"data-ui":"ToastProvider",zOffset:i,children:l.jsx(Pot,{children:l.jsx(M,{padding:n,paddingX:r,paddingY:o,children:l.jsx(U9,{initial:!1,children:s.map(p=>{let{dismiss:m,id:v,params:g}=p;return l.jsx(Ju.div,{animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},initial:{opacity:0,y:32,scale:.25},layout:"position",transition:{type:"spring",damping:30,stiffness:400},children:l.jsx(jot,{closable:g.closable,description:g.description,onClose:m,status:g.status,title:g.title})},v)})})})})})]})}function Bo(){const e=h.useContext(zSe);if(!e)throw new Error("useToast(): missing context value");if(!y0(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function Iot(e,t,n){var r;const o=t.indexOf(n),i=t.slice(0,o),s=i.length;for(let a=s-1;a>=0;a-=1){const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function Rot(e,t,n){var r;const o=t.indexOf(n),i=t.slice(o),s=t.length;for(let a=1;a<s;a+=1){if(!i[a])continue;const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function LK(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const EM=Symbol.for("@sanity/ui/context/tree");Gt[EM]=Gt[EM]||h.createContext(null);const w5=Gt[EM],HSe=h.memo(h.forwardRef(function(t,n){const{children:r,space:o=1,onFocus:i,...s}=t,a=or(n),[c,u]=h.useState(null),d=h.useRef(c),f=h.useMemo(()=>[],[]),[p,m]=h.useState([]),[v,g]=h.useState({}),b=h.useRef(v);h.useEffect(()=>{d.current=c},[c]),h.useEffect(()=>{b.current=v},[v]);const x=h.useCallback((S,E,j,k)=>(g(T=>({...T,[E]:{element:S,expanded:j}})),k&&u(S),()=>{g(T=>{const A={...T};return delete A[E],A})}),[]),y=h.useCallback((S,E)=>{g(j=>{const k=j[S];return k?{...j,[S]:{...k,expanded:E}}:j})},[]),w=h.useMemo(()=>({version:0,focusedElement:c||p[0]||null,level:0,path:f,registerItem:x,setExpanded:y,setFocusedElement:u,space:o,state:v}),[c,p,f,x,y,o,v]),_=h.useCallback(S=>{var E;if(d.current){if(S.key==="ArrowDown"){S.preventDefault();const j=Rot(b.current,p,d.current);j&&(LK(j),u(j));return}if(S.key==="ArrowUp"){S.preventDefault();const j=Iot(b.current,p,d.current);j&&(LK(j),u(j));return}if(S.key==="ArrowLeft"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;const k=b.current[j];if(!k)return;if(k.expanded)g(T=>{const A=T[j];return A?{...T,[j]:{...A,expanded:!1}}:T});else{const T=j.split("/");T.pop();const A=T.join("/"),O=A&&b.current[A];O&&(O.element.focus(),u(O.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;(E=b.current[j])!=null&&E.expanded||g(k=>{const T=k[j];return T?{...k,[j]:{...T,expanded:!0}}:k});return}}},[p]),C=h.useCallback(S=>{u(S.target),i==null||i(S)},[i]);return h.useEffect(()=>{if(!a.current)return;const S=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));m(S)},[r,a]),l.jsx(w5.Provider,{value:w,children:l.jsx(te,{as:"ul","data-ui":"Tree",...s,onFocus:C,onKeyDown:_,ref:a,role:"tree",space:o,children:r})})}));HSe.displayName="Tree";var BK=Object.freeze,$ot=Object.defineProperty,s7=(e,t)=>BK($ot(e,"raw",{value:BK(t||e.slice())})),NK,zK,VK;function Mot(){return de(NK||(NK=s7([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function Fot(e){const{theme:t}=e,n="default",{base:r,muted:o,selectable:i}=t.sanity.color,s=i?i[n]||i.default:o[n]||o.default;return de(zK||(zK=s7([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),Bt(r,s.enabled),Bt(r,s.pressed),Bt(r,s.hovered),Bt(r,s.selected),Bt(r,s.enabled),Bt(r,s.pressed),Bt(r,s.hovered),Bt(r,s.selected))}function Lot(e){const{$level:t,theme:n}=e,{space:r}=n.sanity;return de(VK||(VK=s7([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),pe(r[2]*t))}function USe(){const e=h.useContext(w5);if(!e)throw new Error("Tree: missing context value");return e}const HK=h.memo(function(t){const{children:n,expanded:r=!1,...o}=t,i=USe();return l.jsx(te,{as:"ul","data-ui":"TreeGroup",...o,hidden:!r,marginTop:i.space,role:"group",space:i.space,children:n})});var UK=Object.freeze,Bot=Object.defineProperty,Not=(e,t)=>UK(Bot(e,"raw",{value:UK(t||e.slice())})),WK;const YK=h.memo(I.li(Mot,Fot)),qK=I(M).attrs({forwardedAs:"a"})(Lot),zot=I(B)(WK||(WK=Not([`
  & > svg {
    transition: transform 100ms;
  }
`]))),rx=h.memo(function(t){const{children:n,expanded:r=!1,fontSize:o,href:i,icon:s,id:a,linkAs:c,muted:u,onClick:d,padding:f=3,selected:p=!1,space:m=2,text:v,weight:g,...b}=t,x=h.useRef(null),y=h.useRef(null),w=USe(),{path:_,registerItem:C,setExpanded:S,setFocusedElement:E}=w,j=h.useId(),k=a||j,T=h.useMemo(()=>_.concat([k||""]),[k,_]),A=T.join("/"),O=w.state[A],P=w.focusedElement===x.current,D=(O==null?void 0:O.expanded)===void 0?r:(O==null?void 0:O.expanded)||!1,R=w.focusedElement&&w.focusedElement===x.current?0:-1,$=h.useMemo(()=>({...w,level:w.level+1,path:T}),[T,w]),H=h.useCallback(W=>{d&&d(W);const z=W.target;z instanceof HTMLElement&&(z.getAttribute("data-ui")==="TreeItem"||z.closest('[data-ui="TreeItem__box"]'))&&(W.stopPropagation(),S(A,!D),E(x.current))},[D,A,d,S,E]),F=h.useCallback(W=>{if(P&&W.key==="Enter"){const z=y.current||x.current;z==null||z.click()}},[P]);h.useEffect(()=>{if(x.current)return C(x.current,T.join("/"),D,p)},[D,T,C,p]);const V=l.jsxs(U,{padding:f,children:[l.jsxs(M,{marginRight:m,style:{visibility:s||n?"visible":"hidden",pointerEvents:"none"},children:[s&&l.jsx(B,{muted:u,size:o,weight:g,children:h.createElement(s)}),!s&&l.jsx(zot,{muted:u,size:o,weight:g,children:l.jsx(bT,{style:{transform:D?"rotate(90deg)":void 0}})})]}),l.jsx(M,{flex:1,children:l.jsx(B,{muted:u,size:o,textOverflow:"ellipsis",weight:g,children:v})})]});return i?l.jsxs(YK,{"data-selected":p?"":void 0,"data-tree-id":k,"data-tree-key":A,"data-ui":"TreeItem",...b,onClick:H,ref:x,role:"none",children:[l.jsx(qK,{$level:w.level,"aria-expanded":D,as:c,"data-ui":"TreeItem__box",href:i,ref:y,role:"treeitem",tabIndex:R,children:V}),l.jsx(w5.Provider,{value:$,children:n&&l.jsx(HK,{hidden:!D,children:n})})]}):l.jsxs(YK,{"data-selected":p?"":void 0,"data-ui":"TreeItem","data-tree-id":k,"data-tree-key":A,...b,"aria-expanded":D,onClick:H,onKeyDown:F,ref:x,role:"treeitem",tabIndex:R,children:[l.jsx(qK,{$level:w.level,as:"div","data-ui":"TreeItem__box",children:V}),l.jsx(w5.Provider,{value:$,children:n&&l.jsx(HK,{expanded:D,children:n})})]})});function $t(e){return typeof e=="function"}function a7(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var RD=a7(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function _5(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var zp=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Pp(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if($t(d))try{d()}catch(g){i=g instanceof RD?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Pp(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{GK(v)}catch(g){i=i??[],g instanceof RD?i=Qo(Qo([],Ra(i)),Ra(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new RD(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)GK(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&_5(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&_5(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),WSe=zp.EMPTY;function YSe(e){return e instanceof zp||e&&"closed"in e&&$t(e.remove)&&$t(e.add)&&$t(e.unsubscribe)}function GK(e){$t(e)?e():e.unsubscribe()}var qSe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kM={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=kM.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,Qo([e,t],Ra(n))):setTimeout.apply(void 0,Qo([e,t],Ra(n)))},clearTimeout:function(e){var t=kM.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function GSe(e){kM.setTimeout(function(){throw e})}function Rf(){}function U2(e){e()}var l7=function(e){ia(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,YSe(n)&&n.add(r)):r.destination=Wot,r}return t.create=function(n,r,o){return new ox(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(zp),Vot=Function.prototype.bind;function $D(e,t){return Vot.call(e,t)}var Hot=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){nC(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){nC(r)}else nC(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){nC(n)}},e}(),ox=function(e){ia(t,e);function t(n,r,o){var i=e.call(this)||this,s;if($t(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;i&&qSe.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&$D(n.next,a),error:n.error&&$D(n.error,a),complete:n.complete&&$D(n.complete,a)}):s=n}return i.destination=new Hot(s),i}return t}(l7);function nC(e){GSe(e)}function Uot(e){throw e}var Wot={closed:!0,next:Rf,error:Uot,complete:Rf},c7=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function rd(e){return e}function Yot(e){return e.length===0?rd:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var ft=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=Got(t)?t:new ox(t,n,r);return U2(function(){var s=o,a=s.operator,c=s.source;i.add(a?a.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=KK(n),new n(function(o,i){var s=new ox({next:function(a){try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[c7]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Yot(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=KK(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function KK(e){var t;return(t=e??qSe.Promise)!==null&&t!==void 0?t:Promise}function qot(e){return e&&$t(e.next)&&$t(e.error)&&$t(e.complete)}function Got(e){return e&&e instanceof l7||qot(e)&&YSe(e)}function KSe(e){return $t(e==null?void 0:e.lift)}function ln(e){return function(t){if(KSe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Vt(e,t,n,r,o){return new ZSe(e,t,n,r,o)}var ZSe=function(e){ia(t,e);function t(n,r,o,i,s,a){var c=e.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(l7);function dl(){return ln(function(e,t){var n=null;e._refCount++;var r=Vt(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Kot=function(e){ia(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,KSe(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new zp;var o=this.getSubject();r.add(this.source.subscribe(Vt(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=zp.EMPTY)}return r},t.prototype.refCount=function(){return dl()(this)},t}(ft),Zot=a7(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),gr=function(e){ia(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new ZK(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Zot},t.prototype.next=function(n){var r=this;U2(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Pp(r.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;U2(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;U2(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?WSe:(this.currentObservers=null,a.push(n),new zp(function(){r.currentObservers=null,_5(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new ft;return n.source=this,n},t.create=function(n,r){return new ZK(n,r)},t}(ft),ZK=function(e){ia(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:WSe},t}(gr),rA=function(e){ia(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(gr),u7={now:function(){return(u7.delegate||Date).now()},delegate:void 0},XSe=function(e){ia(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=u7);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;o||(i.push(n),!s&&i.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),c=0;c<a.length&&!n.closed;c+=i?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var c=o.now(),u=0,d=1;d<i.length&&i[d]<=c;d+=2)u=d;u&&i.splice(0,u+1)}},t}(gr),Xot=function(e){ia(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(zp),C5={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=C5.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,Qo([e,t],Ra(n))):setInterval.apply(void 0,Qo([e,t],Ra(n)))},clearInterval:function(e){var t=C5.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},QSe=function(e){ia(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),C5.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&C5.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,_5(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Xot),Qot=1,MD,jM={};function XK(e){return e in jM?(delete jM[e],!0):!1}var JSe={setImmediate:function(e){var t=Qot++;return jM[t]=!0,MD||(MD=Promise.resolve()),MD.then(function(){return XK(t)&&e()}),t},clearImmediate:function(e){XK(e)}},Jot=JSe.setImmediate,eit=JSe.clearImmediate,S5={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=S5.delegate;return((n==null?void 0:n.setImmediate)||Jot).apply(void 0,Qo([],Ra(e)))},clearImmediate:function(e){var t=S5.delegate;return((t==null?void 0:t.clearImmediate)||eit)(e)},delegate:void 0},tit=function(e){ia(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=S5.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var s=n.actions;r!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==r&&(S5.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(QSe),QK=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=u7.now,e}(),eEe=function(e){ia(t,e);function t(n,r){r===void 0&&(r=QK.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(QK),nit=function(e){ia(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(eEe),rit=new nit(tit),El=new eEe(QSe),oit=El,Un=new ft(function(e){return e.complete()});function iit(e){return e?sit(e):Un}function sit(e){return new ft(function(t){return e.schedule(function(){return t.complete()})})}function tEe(e){return e&&$t(e.schedule)}function d7(e){return e[e.length-1]}function f7(e){return $t(d7(e))?e.pop():void 0}function kw(e){return tEe(d7(e))?e.pop():void 0}function ait(e,t){return typeof d7(e)=="number"?e.pop():t}var h7=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function nEe(e){return $t(e==null?void 0:e.then)}function rEe(e){return $t(e[c7])}function oEe(e){return Symbol.asyncIterator&&$t(e==null?void 0:e[Symbol.asyncIterator])}function iEe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function lit(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sEe=lit();function aEe(e){return $t(e==null?void 0:e[sEe])}function lEe(e){return K8e(this,arguments,function(){var n,r,o,i;return Abe(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Wg(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,Wg(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Wg(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function cEe(e){return $t(e==null?void 0:e.getReader)}function yn(e){if(e instanceof ft)return e;if(e!=null){if(rEe(e))return cit(e);if(h7(e))return uit(e);if(nEe(e))return dit(e);if(oEe(e))return uEe(e);if(aEe(e))return fit(e);if(cEe(e))return hit(e)}throw iEe(e)}function cit(e){return new ft(function(t){var n=e[c7]();if($t(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uit(e){return new ft(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function dit(e){return new ft(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,GSe)})}function fit(e){return new ft(function(t){var n,r;try{for(var o=Pp(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function uEe(e){return new ft(function(t){pit(e,t).catch(function(n){return t.error(n)})})}function hit(e){return uEe(lEe(e))}function pit(e,t){var n,r,o,i;return G8e(this,void 0,void 0,function(){var s,a;return Abe(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Z8e(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function bu(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function dEe(e,t){return t===void 0&&(t=0),ln(function(n,r){n.subscribe(Vt(r,function(o){return bu(r,e,function(){return r.next(o)},t)},function(){return bu(r,e,function(){return r.complete()},t)},function(o){return bu(r,e,function(){return r.error(o)},t)}))})}function fEe(e,t){return t===void 0&&(t=0),ln(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function mit(e,t){return yn(e).pipe(fEe(t),dEe(t))}function git(e,t){return yn(e).pipe(fEe(t),dEe(t))}function vit(e,t){return new ft(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function yit(e,t){return new ft(function(n){var r;return bu(n,t,function(){r=e[sEe](),bu(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),function(){return $t(r==null?void 0:r.return)&&r.return()}})}function hEe(e,t){if(!e)throw new Error("Iterable cannot be null");return new ft(function(n){bu(n,t,function(){var r=e[Symbol.asyncIterator]();bu(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function bit(e,t){return hEe(lEe(e),t)}function pEe(e,t){if(e!=null){if(rEe(e))return mit(e,t);if(h7(e))return vit(e,t);if(nEe(e))return git(e,t);if(oEe(e))return hEe(e,t);if(aEe(e))return yit(e,t);if(cEe(e))return bit(e,t)}throw iEe(e)}function yr(e,t){return t?pEe(e,t):yn(e)}function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=kw(e);return yr(e,n)}function $u(e,t){var n=$t(e)?e:function(){return e},r=function(o){return o.error(n())};return new ft(t?function(o){return t.schedule(r,0,o)}:r)}function xit(e){return!!e&&(e instanceof ft||$t(e.lift)&&$t(e.subscribe))}var oA=a7(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function mo(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,s;e.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?r(s):n?r(t.defaultValue):o(new oA)}})})}function wit(e){return e instanceof Date&&!isNaN(e)}function le(e,t){return ln(function(n,r){var o=0;n.subscribe(Vt(r,function(i){r.next(e.call(t,i,o++))}))})}var _it=Array.isArray;function Cit(e,t){return _it(t)?e.apply(void 0,Qo([],Ra(t))):e(t)}function p7(e){return le(function(t){return Cit(e,t)})}var Sit=Array.isArray,Eit=Object.getPrototypeOf,kit=Object.prototype,jit=Object.keys;function mEe(e){if(e.length===1){var t=e[0];if(Sit(t))return{args:t,keys:null};if(Tit(t)){var n=jit(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Tit(e){return e&&typeof e=="object"&&Eit(e)===kit}function gEe(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function $o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=kw(e),r=f7(e),o=mEe(e),i=o.args,s=o.keys;if(i.length===0)return yr([],n);var a=new ft(Ait(i,n,s?function(c){return gEe(s,c)}:rd));return r?a.pipe(p7(r)):a}function Ait(e,t,n){return n===void 0&&(n=rd),function(r){JK(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,c=function(d){JK(t,function(){var f=yr(e[d],t),p=!1;f.subscribe(Vt(r,function(m){i[d]=m,p||(p=!0,a--),a||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<o;u++)c(u)},r)}}function JK(e,t,n){e?bu(n,e,t):t()}function Oit(e,t,n,r,o,i,s,a){var c=[],u=0,d=0,f=!1,p=function(){f&&!c.length&&!u&&t.complete()},m=function(g){return u<r?v(g):c.push(g)},v=function(g){i&&t.next(g),u++;var b=!1;yn(n(g,d++)).subscribe(Vt(t,function(x){o==null||o(x),i?m(x):t.next(x)},function(){b=!0},void 0,function(){if(b)try{u--;for(var x=function(){var y=c.shift();s?bu(t,s,function(){return v(y)}):v(y)};c.length&&u<r;)x();p()}catch(y){t.error(y)}}))};return e.subscribe(Vt(t,m,function(){f=!0,p()})),function(){a==null||a()}}function ct(e,t,n){return n===void 0&&(n=1/0),$t(t)?ct(function(r,o){return le(function(i,s){return t(r,i,o,s)})(yn(e(r,o)))},n):(typeof t=="number"&&(n=t),ln(function(r,o){return Oit(r,o,e,n)}))}function iA(e){return e===void 0&&(e=1/0),ct(rd,e)}function Pit(){return iA(1)}function Fr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Pit()(yr(e,kw(e)))}function io(e){return new ft(function(t){yn(e()).subscribe(t)})}function Dit(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=f7(e),r=mEe(e),o=r.args,i=r.keys,s=new ft(function(a){var c=o.length;if(!c){a.complete();return}for(var u=new Array(c),d=c,f=c,p=function(v){var g=!1;yn(o[v]).subscribe(Vt(a,function(b){g||(g=!0,f--),u[v]=b},function(){return d--},void 0,function(){(!d||!g)&&(f||a.next(i?gEe(i,u):u),a.complete())}))},m=0;m<c;m++)p(m)});return n?s.pipe(p7(n)):s}var Iit=["addListener","removeListener"],Rit=["addEventListener","removeEventListener"],$it=["on","off"];function Ti(e,t,n,r){if($t(n)&&(r=n,n=void 0),r)return Ti(e,t,n).pipe(p7(r));var o=Ra(Lit(e)?Rit.map(function(a){return function(c){return e[a](t,c,n)}}):Mit(e)?Iit.map(eZ(e,t)):Fit(e)?$it.map(eZ(e,t)):[],2),i=o[0],s=o[1];if(!i&&h7(e))return ct(function(a){return Ti(a,t,n)})(yn(e));if(!i)throw new TypeError("Invalid event target");return new ft(function(a){var c=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return i(c),function(){return s(c)}})}function eZ(e,t){return function(n){return function(r){return e[n](t,r)}}}function Mit(e){return $t(e.addListener)&&$t(e.removeListener)}function Fit(e){return $t(e.on)&&$t(e.off)}function Lit(e){return $t(e.addEventListener)&&$t(e.removeEventListener)}function Bit(e,t,n){return io(function(){return e()?t:n})}function Mo(e,t,n){e===void 0&&(e=0),n===void 0&&(n=oit);var r=-1;return t!=null&&(tEe(t)?n=t:r=t),new ft(function(o){var i=wit(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function Qt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=kw(e),r=ait(e,1/0),o=e;return o.length?o.length===1?yn(o[0]):iA(r)(yr(o,n)):Un}var m7=new ft(Rf),Nit=Array.isArray;function zit(e){return e.length===1&&Nit(e[0])?e[0]:e}function Vit(e,t){return function(n,r){return!e.call(t,n,r)}}function dt(e,t){return ln(function(n,r){var o=0;n.subscribe(Vt(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function g7(e,t,n){return[dt(t,n)(yn(e)),dt(Vit(t,n))(yn(e))]}function Hit(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=zit(e),e.length===1?yn(e[0]):new ft(Uit(e))}function Uit(e){return function(t){for(var n=[],r=function(i){n.push(yn(e[i]).subscribe(Vt(t,function(s){if(n){for(var a=0;a<n.length;a++)a!==i&&n[a].unsubscribe();n=null}t.next(s)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}function Wit(e,t){return new ft(function(n){var r=e(),o=t(r),i=o?yn(o):Un;return i.subscribe(n),function(){r&&r.unsubscribe()}})}function Yit(e){return ln(function(t,n){var r=!1,o=null,i=null,s=!1,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var u=o;o=null,n.next(u)}s&&n.complete()},c=function(){i=null,s&&n.complete()};t.subscribe(Vt(n,function(u){r=!0,o=u,i||yn(e(u)).subscribe(i=Vt(n,a,c))},function(){s=!0,(!r||!i||i.closed)&&n.complete()}))})}function qit(e,t){return t===void 0&&(t=El),Yit(function(){return Mo(e,t)})}function jn(e){return ln(function(t,n){var r=null,o=!1,i;r=t.subscribe(Vt(n,void 0,void 0,function(s){i=yn(e(s,jn(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function vEe(e,t,n,r,o){return function(i,s){var a=n,c=t,u=0;i.subscribe(Vt(s,function(d){var f=u++;c=a?e(c,d,f):(a=!0,d),r&&s.next(c)},o&&function(){a&&s.next(c),s.complete()}))}}function yEe(e,t){return ln(vEe(e,t,arguments.length>=2,!1,!0))}var Git=function(e,t){return e.push(t),e};function bEe(){return ln(function(e,t){yEe(Git,[])(e).subscribe(t)})}function TM(e,t){return $t(t)?ct(e,t,1):ct(e,1)}function Kit(e){return new ft(function(t){return e.subscribe(t)})}var Zit={connector:function(){return new gr}};function Xit(e,t){t===void 0&&(t=Zit);var n=t.connector;return ln(function(r,o){var i=n();yn(e(Kit(i))).subscribe(o),o.add(r.subscribe(i))})}function v7(e){return ln(function(t,n){var r=!1,o=null,i=null,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var a=o;o=null,n.next(a)}};t.subscribe(Vt(n,function(a){i==null||i.unsubscribe(),r=!0,o=a,i=Vt(n,s,Rf),yn(e(a)).subscribe(i)},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function y7(e,t){return t===void 0&&(t=El),ln(function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,r.next(u)}};function c(){var u=s+e,d=t.now();if(d<u){o=this.schedule(void 0,u-d),r.add(o);return}a()}n.subscribe(Vt(r,function(u){i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function xEe(e){return ln(function(t,n){var r=!1;t.subscribe(Vt(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}function _i(e){return e<=0?function(){return Un}:ln(function(t,n){var r=0;t.subscribe(Vt(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Qit(){return ln(function(e,t){e.subscribe(Vt(t,Rf))})}function sA(e){return le(function(){return e})}function wEe(e,t){return t?function(n){return Fr(t.pipe(_i(1),Qit()),n.pipe(wEe(e)))}:ct(function(n,r){return yn(e(n,r)).pipe(_i(1),sA(n))})}function _Ee(e,t){t===void 0&&(t=El);var n=Mo(e,t);return wEe(function(){return n})}function Jit(e,t){return ln(function(n,r){var o=new Set;n.subscribe(Vt(r,function(i){var s=e?e(i):i;o.has(s)||(o.add(s),r.next(i))})),t&&yn(t).subscribe(Vt(r,function(){return o.clear()},Rf))})}function Wn(e,t){return t===void 0&&(t=rd),e=e??est,ln(function(n,r){var o,i=!0;n.subscribe(Vt(r,function(s){var a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function est(e,t){return e===t}function CEe(e){return e===void 0&&(e=tst),ln(function(t,n){var r=!1;t.subscribe(Vt(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}function tst(){return new oA}function SEe(e,t){return t?function(n){return n.pipe(SEe(function(r,o){return yn(e(r,o)).pipe(le(function(i,s){return t(r,i,o,s)}))}))}:ln(function(n,r){var o=0,i=null,s=!1;n.subscribe(Vt(r,function(a){i||(i=Vt(r,void 0,function(){i=null,s&&r.complete()}),yn(e(a,o++)).subscribe(i))},function(){s=!0,!i&&r.complete()}))})}function EEe(e){return ln(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function kEe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?dt(function(o,i){return e(o,i,r)}):rd,_i(1),n?xEe(t):CEe(function(){return new oA}))}}function jEe(e,t,n,r){return ln(function(o,i){var s;!t||typeof t=="function"?s=t:(n=t.duration,s=t.element,r=t.connector);var a=new Map,c=function(v){a.forEach(v),v(i)},u=function(v){return c(function(g){return g.error(v)})},d=0,f=!1,p=new ZSe(i,function(v){try{var g=e(v),b=a.get(g);if(!b){a.set(g,b=r?r():new gr);var x=m(g,b);if(i.next(x),n){var y=Vt(b,function(){b.complete(),y==null||y.unsubscribe()},void 0,void 0,function(){return a.delete(g)});p.add(yn(n(x)).subscribe(y))}}b.next(s?s(v):v)}catch(w){u(w)}},function(){return c(function(v){return v.complete()})},u,function(){return a.clear()},function(){return f=!0,d===0});o.subscribe(p);function m(v,g){var b=new ft(function(x){d++;var y=g.subscribe(x);return function(){y.unsubscribe(),--d===0&&f&&p.unsubscribe()}});return b.key=v,b}})}function nst(e){return e<=0?function(){return Un}:ln(function(t,n){var r=[];t.subscribe(Vt(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var s=Pp(r),a=s.next();!a.done;a=s.next()){var c=a.value;n.next(c)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}function rst(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?dt(function(o,i){return e(o,i,r)}):rd,nst(1),n?xEe(t):CEe(function(){return new oA}))}}var ost=ct;function Vp(e,t,n){return n===void 0&&(n=1/0),$t(t)?ct(function(){return e},t,n):(typeof t=="number"&&(n=t),ct(function(){return e},n))}function ist(e,t){var n=$t(e)?e:function(){return e};return $t(t)?Xit(t,{connector:n}):function(r){return new Kot(r,n)}}function fl(e,t,n,r){n&&!$t(n)&&(r=n);var o=$t(n)?n:void 0;return function(i){return ist(new XSe(e,t,r),o)(i)}}function ta(e,t){return ln(vEe(e,t,arguments.length>=2,!0))}function na(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new gr}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var d,f,p,m=0,v=!1,g=!1,b=function(){f==null||f.unsubscribe(),f=void 0},x=function(){b(),d=p=void 0,v=g=!1},y=function(){var w=d;x(),w==null||w.unsubscribe()};return ln(function(w,_){m++,!g&&!v&&b();var C=p=p??n();_.add(function(){m--,m===0&&!g&&!v&&(f=FD(y,c))}),C.subscribe(_),!d&&m>0&&(d=new ox({next:function(S){return C.next(S)},error:function(S){g=!0,b(),f=FD(x,o,S),C.error(S)},complete:function(){v=!0,b(),f=FD(x,s),C.complete()}}),yn(w).subscribe(d))})(u)}}function FD(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new ox({next:function(){o.unsubscribe(),e()}});return yn(t.apply(void 0,Qo([],Ra(n)))).subscribe(o)}}function _o(e,t,n){var r,o,i,s,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):s=e??1/0,na({connector:function(){return new XSe(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function TEe(e){return dt(function(t,n){return e<=n})}function ei(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=kw(e);return ln(function(r,o){(n?Fr(e,r,n):Fr(e,r)).subscribe(o)})}function nt(e,t){return ln(function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(Vt(r,function(c){o==null||o.unsubscribe();var u=0,d=i++;yn(e(c,d)).subscribe(o=Vt(r,function(f){return r.next(t?t(c,f,d,u++):f)},function(){o=null,a()}))},function(){s=!0,a()}))})}function sst(e,t){return $t(t)?nt(function(){return e},t):nt(function(){return e})}function b7(e){return ln(function(t,n){yn(e).subscribe(Vt(n,function(){return n.complete()},Rf)),!n.closed&&t.subscribe(n)})}function mn(e,t,n){var r=$t(e)||t||n?{next:e,error:t,complete:n}:e;return r?ln(function(o,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;o.subscribe(Vt(i,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},function(c){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},function(){var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):rd}function AEe(e,t){return ln(function(n,r){var o=t??{},i=o.leading,s=i===void 0?!0:i,a=o.trailing,c=a===void 0?!1:a,u=!1,d=null,f=null,p=!1,m=function(){f==null||f.unsubscribe(),f=null,c&&(b(),p&&r.complete())},v=function(){f=null,p&&r.complete()},g=function(x){return f=yn(e(x)).subscribe(Vt(r,m,v))},b=function(){if(u){u=!1;var x=d;d=null,r.next(x),!p&&g(x)}};n.subscribe(Vt(r,function(x){u=!0,d=x,!(f&&!f.closed)&&(s?b():g(x))},function(){p=!0,!(c&&u&&f&&!f.closed)&&r.complete()}))})}function ix(e,t,n){t===void 0&&(t=El);var r=Mo(e,t);return AEe(function(){return r},n)}function nb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=f7(e);return ln(function(r,o){for(var i=e.length,s=new Array(i),a=e.map(function(){return!1}),c=!1,u=function(f){yn(e[f]).subscribe(Vt(o,function(p){s[f]=p,!c&&!a[f]&&(a[f]=!0,(c=a.every(rd))&&(a=null))},Rf))},d=0;d<i;d++)u(d);r.subscribe(Vt(o,function(f){if(c){var p=Qo([f],Ra(s));o.next(n?n.apply(void 0,Qo([],Ra(p))):p)}}))})}function ast(e,t){var n=h.useCallback(function(){var s=new rA(e),a=s.asObservable().pipe(Wn());return[t?a.pipe(t):a,s]},[]),r=h.useRef();r.current||(r.current=n());var o=r.current[0];h.useEffect(function(){if(r.current){var s=r.current,a=s[1];a.next(e)}},[e,r]);var i=h.useRef(!1);return h.useEffect(function(){return i.current&&(r.current||(r.current=n()),i.current=!1),function(){if(r.current){i.current=!0;var s=r.current,a=s[1];a.complete(),r.current=void 0}}},[]),o}var OEe={exports:{}},PEe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv=h;function lst(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cst=typeof Object.is=="function"?Object.is:lst,ust=Hv.useState,dst=Hv.useEffect,fst=Hv.useLayoutEffect,hst=Hv.useDebugValue;function pst(e,t){var n=t(),r=ust({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return fst(function(){o.value=n,o.getSnapshot=t,LD(o)&&i({inst:o})},[e,n,t]),dst(function(){return LD(o)&&i({inst:o}),e(function(){LD(o)&&i({inst:o})})},[e]),hst(n),n}function LD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cst(e,n)}catch{return!0}}function mst(e,t){return t()}var gst=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mst:pst;PEe.useSyncExternalStore=Hv.useSyncExternalStore!==void 0?Hv.useSyncExternalStore:gst;OEe.exports=PEe;var vst=OEe.exports;function AM(e){return typeof e=="function"?e():e}var BD=new WeakMap;function tZ(e,t){if(!BD.has(e)){var n={currentValue:t};n.observable=e.pipe(_o({refCount:!0,bufferSize:1}),mn(function(r){return n.currentValue=r})),n.subscription=n.observable.subscribe(),BD.set(e,n)}return BD.get(e)}function yst(e,t){var n=h.useMemo(function(){var s=tZ(e,AM(t));return s.subscription.closed&&(s.subscription=s.observable.subscribe()),[function(){return s.currentValue},function(c){var u=s.observable.subscribe(c);return function(){u.unsubscribe()}}]},[e]),r=n[0],o=n[1],i=h.useRef(!1);return h.useEffect(function(){var s=tZ(e,AM(t));return i.current&&(s.subscription.closed&&(s.subscription=s.observable.subscribe()),i.current=!1),function(){i.current=!s.subscription.closed,s.subscription.unsubscribe()}},[e]),vst.useSyncExternalStore(o,r)}function co(e,t,n){return yst(h.useMemo(function(){return AM(e)},t),n)}var bst=function(e){return e};function DEe(e){e===void 0&&(e=bst);var t=new gr;return[t.pipe(e),function(n){return t.next(n)}]}var xst=[];function aA(e,t){t===void 0&&(t=xst);var n=h.useRef();n.current||(n.current=DEe());var r=n.current,o=r[0],i=r[1],s=h.useCallback(e,t);return h.useEffect(function(){var a=o.pipe(s).subscribe();return function(){a.unsubscribe()}},[o,i,s]),i}function wst(){this.__data__=[],this.size=0}var _st=wst;function Cst(e,t){return e===t||e!==e&&t!==t}var lA=Cst,Sst=lA;function Est(e,t){for(var n=e.length;n--;)if(Sst(e[n][0],t))return n;return-1}var cA=Est,kst=cA,jst=Array.prototype,Tst=jst.splice;function Ast(e){var t=this.__data__,n=kst(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Tst.call(t,n,1),--this.size,!0}var Ost=Ast,Pst=cA;function Dst(e){var t=this.__data__,n=Pst(t,e);return n<0?void 0:t[n][1]}var Ist=Dst,Rst=cA;function $st(e){return Rst(this.__data__,e)>-1}var Mst=$st,Fst=cA;function Lst(e,t){var n=this.__data__,r=Fst(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Bst=Lst,Nst=_st,zst=Ost,Vst=Ist,Hst=Mst,Ust=Bst;function S0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}S0.prototype.clear=Nst;S0.prototype.delete=zst;S0.prototype.get=Vst;S0.prototype.has=Hst;S0.prototype.set=Ust;var uA=S0,Wst=uA;function Yst(){this.__data__=new Wst,this.size=0}var qst=Yst;function Gst(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Kst=Gst;function Zst(e){return this.__data__.get(e)}var Xst=Zst;function Qst(e){return this.__data__.has(e)}var Jst=Qst,eat=Vf,tat=Ha,nat="[object AsyncFunction]",rat="[object Function]",oat="[object GeneratorFunction]",iat="[object Proxy]";function sat(e){if(!tat(e))return!1;var t=eat(e);return t==rat||t==oat||t==nat||t==iat}var IEe=sat,aat=Dl,lat=aat["__core-js_shared__"],cat=lat,ND=cat,nZ=function(){var e=/[^.]+$/.exec(ND&&ND.keys&&ND.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function uat(e){return!!nZ&&nZ in e}var dat=uat,fat=Function.prototype,hat=fat.toString;function pat(e){if(e!=null){try{return hat.call(e)}catch{}try{return e+""}catch{}}return""}var REe=pat,mat=IEe,gat=dat,vat=Ha,yat=REe,bat=/[\\^$.*+?()[\]{}|]/g,xat=/^\[object .+?Constructor\]$/,wat=Function.prototype,_at=Object.prototype,Cat=wat.toString,Sat=_at.hasOwnProperty,Eat=RegExp("^"+Cat.call(Sat).replace(bat,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kat(e){if(!vat(e)||gat(e))return!1;var t=mat(e)?Eat:xat;return t.test(yat(e))}var jat=kat;function Tat(e,t){return e==null?void 0:e[t]}var Aat=Tat,Oat=jat,Pat=Aat;function Dat(e,t){var n=Pat(e,t);return Oat(n)?n:void 0}var ym=Dat,Iat=ym,Rat=Dl,$at=Iat(Rat,"Map"),x7=$at,Mat=ym,Fat=Mat(Object,"create"),dA=Fat,rZ=dA;function Lat(){this.__data__=rZ?rZ(null):{},this.size=0}var Bat=Lat;function Nat(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var zat=Nat,Vat=dA,Hat="__lodash_hash_undefined__",Uat=Object.prototype,Wat=Uat.hasOwnProperty;function Yat(e){var t=this.__data__;if(Vat){var n=t[e];return n===Hat?void 0:n}return Wat.call(t,e)?t[e]:void 0}var qat=Yat,Gat=dA,Kat=Object.prototype,Zat=Kat.hasOwnProperty;function Xat(e){var t=this.__data__;return Gat?t[e]!==void 0:Zat.call(t,e)}var Qat=Xat,Jat=dA,elt="__lodash_hash_undefined__";function tlt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jat&&t===void 0?elt:t,this}var nlt=tlt,rlt=Bat,olt=zat,ilt=qat,slt=Qat,alt=nlt;function E0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}E0.prototype.clear=rlt;E0.prototype.delete=olt;E0.prototype.get=ilt;E0.prototype.has=slt;E0.prototype.set=alt;var llt=E0,oZ=llt,clt=uA,ult=x7;function dlt(){this.size=0,this.__data__={hash:new oZ,map:new(ult||clt),string:new oZ}}var flt=dlt;function hlt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var plt=hlt,mlt=plt;function glt(e,t){var n=e.__data__;return mlt(t)?n[typeof t=="string"?"string":"hash"]:n.map}var fA=glt,vlt=fA;function ylt(e){var t=vlt(this,e).delete(e);return this.size-=t?1:0,t}var blt=ylt,xlt=fA;function wlt(e){return xlt(this,e).get(e)}var _lt=wlt,Clt=fA;function Slt(e){return Clt(this,e).has(e)}var Elt=Slt,klt=fA;function jlt(e,t){var n=klt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Tlt=jlt,Alt=flt,Olt=blt,Plt=_lt,Dlt=Elt,Ilt=Tlt;function k0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}k0.prototype.clear=Alt;k0.prototype.delete=Olt;k0.prototype.get=Plt;k0.prototype.has=Dlt;k0.prototype.set=Ilt;var w7=k0,Rlt=uA,$lt=x7,Mlt=w7,Flt=200;function Llt(e,t){var n=this.__data__;if(n instanceof Rlt){var r=n.__data__;if(!$lt||r.length<Flt-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Mlt(r)}return n.set(e,t),this.size=n.size,this}var Blt=Llt,Nlt=uA,zlt=qst,Vlt=Kst,Hlt=Xst,Ult=Jst,Wlt=Blt;function j0(e){var t=this.__data__=new Nlt(e);this.size=t.size}j0.prototype.clear=zlt;j0.prototype.delete=Vlt;j0.prototype.get=Hlt;j0.prototype.has=Ult;j0.prototype.set=Wlt;var _7=j0,Ylt="__lodash_hash_undefined__";function qlt(e){return this.__data__.set(e,Ylt),this}var Glt=qlt;function Klt(e){return this.__data__.has(e)}var Zlt=Klt,Xlt=w7,Qlt=Glt,Jlt=Zlt;function E5(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Xlt;++t<n;)this.add(e[t])}E5.prototype.add=E5.prototype.push=Qlt;E5.prototype.has=Jlt;var hA=E5;function ect(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var tct=ect;function nct(e,t){return e.has(t)}var pA=nct,rct=hA,oct=tct,ict=pA,sct=1,act=2;function lct(e,t,n,r,o,i){var s=n&sct,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=n&act?new rct:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var v=e[f],g=t[f];if(r)var b=s?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(b!==void 0){if(b)continue;p=!1;break}if(m){if(!oct(t,function(x,y){if(!ict(m,y)&&(v===x||o(v,x,n,r,i)))return m.push(y)})){p=!1;break}}else if(!(v===g||o(v,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var $Ee=lct,cct=Dl,uct=cct.Uint8Array,MEe=uct;function dct(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var fct=dct;function hct(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var C7=hct,iZ=c0,sZ=MEe,pct=lA,mct=$Ee,gct=fct,vct=C7,yct=1,bct=2,xct="[object Boolean]",wct="[object Date]",_ct="[object Error]",Cct="[object Map]",Sct="[object Number]",Ect="[object RegExp]",kct="[object Set]",jct="[object String]",Tct="[object Symbol]",Act="[object ArrayBuffer]",Oct="[object DataView]",aZ=iZ?iZ.prototype:void 0,zD=aZ?aZ.valueOf:void 0;function Pct(e,t,n,r,o,i,s){switch(n){case Oct:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Act:return!(e.byteLength!=t.byteLength||!i(new sZ(e),new sZ(t)));case xct:case wct:case Sct:return pct(+e,+t);case _ct:return e.name==t.name&&e.message==t.message;case Ect:case jct:return e==t+"";case Cct:var a=gct;case kct:var c=r&yct;if(a||(a=vct),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=bct,s.set(e,t);var d=mct(a(e),a(t),r,o,i,s);return s.delete(e),d;case Tct:if(zD)return zD.call(e)==zD.call(t)}return!1}var Dct=Pct;function Ict(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var S7=Ict,Rct=Array.isArray,Wr=Rct,$ct=S7,Mct=Wr;function Fct(e,t,n){var r=t(e);return Mct(e)?r:$ct(r,n(e))}var FEe=Fct;function Lct(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}var LEe=Lct;function Bct(){return[]}var BEe=Bct,Nct=LEe,zct=BEe,Vct=Object.prototype,Hct=Vct.propertyIsEnumerable,lZ=Object.getOwnPropertySymbols,Uct=lZ?function(e){return e==null?[]:(e=Object(e),Nct(lZ(e),function(t){return Hct.call(e,t)}))}:zct,E7=Uct;function Wct(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Yct=Wct,qct=Vf,Gct=Ua,Kct="[object Arguments]";function Zct(e){return Gct(e)&&qct(e)==Kct}var Xct=Zct,cZ=Xct,Qct=Ua,NEe=Object.prototype,Jct=NEe.hasOwnProperty,eut=NEe.propertyIsEnumerable,tut=cZ(function(){return arguments}())?cZ:function(e){return Qct(e)&&Jct.call(e,"callee")&&!eut.call(e,"callee")},mA=tut,k5={exports:{}};function nut(){return!1}var rut=nut;k5.exports;(function(e,t){var n=Dl,r=rut,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;e.exports=u})(k5,k5.exports);var gA=k5.exports,out=9007199254740991,iut=/^(?:0|[1-9]\d*)$/;function sut(e,t){var n=typeof e;return t=t??out,!!t&&(n=="number"||n!="symbol"&&iut.test(e))&&e>-1&&e%1==0&&e<t}var vA=sut,aut=9007199254740991;function lut(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=aut}var k7=lut,cut=Vf,uut=k7,dut=Ua,fut="[object Arguments]",hut="[object Array]",put="[object Boolean]",mut="[object Date]",gut="[object Error]",vut="[object Function]",yut="[object Map]",but="[object Number]",xut="[object Object]",wut="[object RegExp]",_ut="[object Set]",Cut="[object String]",Sut="[object WeakMap]",Eut="[object ArrayBuffer]",kut="[object DataView]",jut="[object Float32Array]",Tut="[object Float64Array]",Aut="[object Int8Array]",Out="[object Int16Array]",Put="[object Int32Array]",Dut="[object Uint8Array]",Iut="[object Uint8ClampedArray]",Rut="[object Uint16Array]",$ut="[object Uint32Array]",Zn={};Zn[jut]=Zn[Tut]=Zn[Aut]=Zn[Out]=Zn[Put]=Zn[Dut]=Zn[Iut]=Zn[Rut]=Zn[$ut]=!0;Zn[fut]=Zn[hut]=Zn[Eut]=Zn[put]=Zn[kut]=Zn[mut]=Zn[gut]=Zn[vut]=Zn[yut]=Zn[but]=Zn[xut]=Zn[wut]=Zn[_ut]=Zn[Cut]=Zn[Sut]=!1;function Mut(e){return dut(e)&&uut(e.length)&&!!Zn[cut(e)]}var Fut=Mut;function Lut(e){return function(t){return e(t)}}var T0=Lut,j5={exports:{}};j5.exports;(function(e,t){var n=_be,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i&&n.process,a=function(){try{var c=o&&o.require&&o.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(j5,j5.exports);var j7=j5.exports,But=Fut,Nut=T0,uZ=j7,dZ=uZ&&uZ.isTypedArray,zut=dZ?Nut(dZ):But,T7=zut,Vut=Yct,Hut=mA,Uut=Wr,Wut=gA,Yut=vA,qut=T7,Gut=Object.prototype,Kut=Gut.hasOwnProperty;function Zut(e,t){var n=Uut(e),r=!n&&Hut(e),o=!n&&!r&&Wut(e),i=!n&&!r&&!o&&qut(e),s=n||r||o||i,a=s?Vut(e.length,String):[],c=a.length;for(var u in e)(t||Kut.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Yut(u,c)))&&a.push(u);return a}var zEe=Zut,Xut=Object.prototype;function Qut(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Xut;return e===n}var yA=Qut;function Jut(e,t){return function(n){return e(t(n))}}var VEe=Jut,edt=VEe,tdt=edt(Object.keys,Object),ndt=tdt,rdt=yA,odt=ndt,idt=Object.prototype,sdt=idt.hasOwnProperty;function adt(e){if(!rdt(e))return odt(e);var t=[];for(var n in Object(e))sdt.call(e,n)&&n!="constructor"&&t.push(n);return t}var HEe=adt,ldt=IEe,cdt=k7;function udt(e){return e!=null&&cdt(e.length)&&!ldt(e)}var Kf=udt,ddt=zEe,fdt=HEe,hdt=Kf;function pdt(e){return hdt(e)?ddt(e):fdt(e)}var Zf=pdt,mdt=FEe,gdt=E7,vdt=Zf;function ydt(e){return mdt(e,vdt,gdt)}var UEe=ydt,fZ=UEe,bdt=1,xdt=Object.prototype,wdt=xdt.hasOwnProperty;function _dt(e,t,n,r,o,i){var s=n&bdt,a=fZ(e),c=a.length,u=fZ(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var p=a[f];if(!(s?p in t:wdt.call(t,p)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var b=s;++f<c;){p=a[f];var x=e[p],y=t[p];if(r)var w=s?r(y,x,p,t,e,i):r(x,y,p,e,t,i);if(!(w===void 0?x===y||o(x,y,n,r,i):w)){g=!1;break}b||(b=p=="constructor")}if(g&&!b){var _=e.constructor,C=t.constructor;_!=C&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof C=="function"&&C instanceof C)&&(g=!1)}return i.delete(e),i.delete(t),g}var Cdt=_dt,Sdt=ym,Edt=Dl,kdt=Sdt(Edt,"DataView"),jdt=kdt,Tdt=ym,Adt=Dl,Odt=Tdt(Adt,"Promise"),Pdt=Odt,Ddt=ym,Idt=Dl,Rdt=Ddt(Idt,"Set"),WEe=Rdt,$dt=ym,Mdt=Dl,Fdt=$dt(Mdt,"WeakMap"),YEe=Fdt,OM=jdt,PM=x7,DM=Pdt,IM=WEe,RM=YEe,qEe=Vf,A0=REe,hZ="[object Map]",Ldt="[object Object]",pZ="[object Promise]",mZ="[object Set]",gZ="[object WeakMap]",vZ="[object DataView]",Bdt=A0(OM),Ndt=A0(PM),zdt=A0(DM),Vdt=A0(IM),Hdt=A0(RM),Dh=qEe;(OM&&Dh(new OM(new ArrayBuffer(1)))!=vZ||PM&&Dh(new PM)!=hZ||DM&&Dh(DM.resolve())!=pZ||IM&&Dh(new IM)!=mZ||RM&&Dh(new RM)!=gZ)&&(Dh=function(e){var t=qEe(e),n=t==Ldt?e.constructor:void 0,r=n?A0(n):"";if(r)switch(r){case Bdt:return vZ;case Ndt:return hZ;case zdt:return pZ;case Vdt:return mZ;case Hdt:return gZ}return t});var jw=Dh,VD=_7,Udt=$Ee,Wdt=Dct,Ydt=Cdt,yZ=jw,bZ=Wr,xZ=gA,qdt=T7,Gdt=1,wZ="[object Arguments]",_Z="[object Array]",rC="[object Object]",Kdt=Object.prototype,CZ=Kdt.hasOwnProperty;function Zdt(e,t,n,r,o,i){var s=bZ(e),a=bZ(t),c=s?_Z:yZ(e),u=a?_Z:yZ(t);c=c==wZ?rC:c,u=u==wZ?rC:u;var d=c==rC,f=u==rC,p=c==u;if(p&&xZ(e)){if(!xZ(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new VD),s||qdt(e)?Udt(e,t,n,r,o,i):Wdt(e,t,c,n,r,o,i);if(!(n&Gdt)){var m=d&&CZ.call(e,"__wrapped__"),v=f&&CZ.call(t,"__wrapped__");if(m||v){var g=m?e.value():e,b=v?t.value():t;return i||(i=new VD),o(g,b,n,r,i)}}return p?(i||(i=new VD),Ydt(e,t,n,r,o,i)):!1}var Xdt=Zdt,Qdt=Xdt,SZ=Ua;function GEe(e,t,n,r,o){return e===t?!0:e==null||t==null||!SZ(e)&&!SZ(t)?e!==e&&t!==t:Qdt(e,t,n,r,GEe,o)}var A7=GEe,Jdt=A7;function eft(e,t){return Jdt(e,t)}var tft=eft;const zt=Pe(tft);var wp=[],nft=function(){return wp.some(function(e){return e.activeTargets.length>0})},rft=function(){return wp.some(function(e){return e.skippedTargets.length>0})},EZ="ResizeObserver loop completed with undelivered notifications.",oft=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:EZ}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=EZ),window.dispatchEvent(e)},sx;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(sx||(sx={}));var _p=function(e){return Object.freeze(e)},ift=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,_p(this)}return e}(),KEe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,_p(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),O7=function(e){return e instanceof SVGElement&&"getBBox"in e},ZEe=function(e){if(O7(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},kZ=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},sft=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},rb=typeof window<"u"?window:{},oC=new WeakMap,jZ=/auto|scroll/,aft=/^tb|vertical/,lft=/msie|trident/i.test(rb.navigator&&rb.navigator.userAgent),Ul=function(e){return parseFloat(e||"0")},ev=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new ift((n?t:e)||0,(n?e:t)||0)},TZ=_p({devicePixelContentBoxSize:ev(),borderBoxSize:ev(),contentBoxSize:ev(),contentRect:new KEe(0,0,0,0)}),XEe=function(e,t){if(t===void 0&&(t=!1),oC.has(e)&&!t)return oC.get(e);if(ZEe(e))return oC.set(e,TZ),TZ;var n=getComputedStyle(e),r=O7(e)&&e.ownerSVGElement&&e.getBBox(),o=!lft&&n.boxSizing==="border-box",i=aft.test(n.writingMode||""),s=!r&&jZ.test(n.overflowY||""),a=!r&&jZ.test(n.overflowX||""),c=r?0:Ul(n.paddingTop),u=r?0:Ul(n.paddingRight),d=r?0:Ul(n.paddingBottom),f=r?0:Ul(n.paddingLeft),p=r?0:Ul(n.borderTopWidth),m=r?0:Ul(n.borderRightWidth),v=r?0:Ul(n.borderBottomWidth),g=r?0:Ul(n.borderLeftWidth),b=f+u,x=c+d,y=g+m,w=p+v,_=a?e.offsetHeight-w-e.clientHeight:0,C=s?e.offsetWidth-y-e.clientWidth:0,S=o?b+y:0,E=o?x+w:0,j=r?r.width:Ul(n.width)-S-C,k=r?r.height:Ul(n.height)-E-_,T=j+b+C+y,A=k+x+_+w,O=_p({devicePixelContentBoxSize:ev(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:ev(T,A,i),contentBoxSize:ev(j,k,i),contentRect:new KEe(f,c,j,k)});return oC.set(e,O),O},QEe=function(e,t,n){var r=XEe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case sx.DEVICE_PIXEL_CONTENT_BOX:return s;case sx.BORDER_BOX:return o;default:return i}},cft=function(){function e(t){var n=XEe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=_p([n.borderBoxSize]),this.contentBoxSize=_p([n.contentBoxSize]),this.devicePixelContentBoxSize=_p([n.devicePixelContentBoxSize])}return e}(),JEe=function(e){if(ZEe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},uft=function(){var e=1/0,t=[];wp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new cft(u.target),f=JEe(u.target);a.push(d),u.lastReportedSize=QEe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},AZ=function(e){wp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(JEe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},dft=function(){var e=0;for(AZ(e);nft();)e=uft(),AZ(e);return rft()&&oft(),e>0},HD,e5e=[],fft=function(){return e5e.splice(0).forEach(function(e){return e()})},hft=function(e){if(!HD){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return fft()}).observe(n,r),HD=function(){n.textContent="".concat(t?t--:t++)}}e5e.push(e),HD()},pft=function(e){hft(function(){requestAnimationFrame(e)})},W2=0,mft=function(){return!!W2},gft=250,vft={attributes:!0,characterData:!0,childList:!0,subtree:!0},OZ=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],PZ=function(e){return e===void 0&&(e=0),Date.now()+e},UD=!1,yft=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=gft),!UD){UD=!0;var r=PZ(t);pft(function(){var o=!1;try{o=dft()}finally{if(UD=!1,t=r-PZ(),!mft())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,vft)};document.body?n():rb.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),OZ.forEach(function(n){return rb.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),OZ.forEach(function(n){return rb.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),$M=new yft,DZ=function(e){!W2&&e>0&&$M.start(),W2+=e,!W2&&$M.stop()},bft=function(e){return!O7(e)&&!sft(e)&&getComputedStyle(e).display==="inline"},xft=function(){function e(t,n){this.target=t,this.observedBox=n||sx.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=QEe(this.target,this.observedBox,!0);return bft(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),wft=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),iC=new WeakMap,IZ=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},sC=function(){function e(){}return e.connect=function(t,n){var r=new wft(t,n);iC.set(t,r)},e.observe=function(t,n,r){var o=iC.get(t),i=o.observationTargets.length===0;IZ(o.observationTargets,n)<0&&(i&&wp.push(o),o.observationTargets.push(new xft(n,r&&r.box)),DZ(1),$M.schedule())},e.unobserve=function(t,n){var r=iC.get(t),o=IZ(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&wp.splice(wp.indexOf(r),1),r.observationTargets.splice(o,1),DZ(-1))},e.disconnect=function(t){var n=this,r=iC.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),t5e=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");sC.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!kZ(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");sC.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!kZ(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");sC.unobserve(this,t)},e.prototype.disconnect=function(){sC.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),_ft=kbe,Cft=Ha,Sft="Expected a function";function Eft(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(Sft);return Cft(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),_ft(e,t,{leading:r,maxWait:t,trailing:o})}var kft=Eft;const bA=Pe(kft);var RZ=c0,jft=mA,Tft=Wr,$Z=RZ?RZ.isConcatSpreadable:void 0;function Aft(e){return Tft(e)||jft(e)||!!($Z&&e&&e[$Z])}var Oft=Aft,Pft=S7,Dft=Oft;function n5e(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=Dft),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?n5e(a,t-1,n,r,o):Pft(o,a):r||(o[o.length]=a)}return o}var O0=n5e;function Ift(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Pc=Ift,Rft=Wr,$ft=sm,Mft=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fft=/^\w*$/;function Lft(e,t){if(Rft(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||$ft(e)?!0:Fft.test(e)||!Mft.test(e)||t!=null&&e in Object(t)}var P7=Lft,r5e=w7,Bft="Expected a function";function D7(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Bft);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(D7.Cache||r5e),n}D7.Cache=r5e;var o5e=D7;const xA=Pe(o5e);var Nft=o5e,zft=500;function Vft(e){var t=Nft(e,function(r){return n.size===zft&&n.clear(),r}),n=t.cache;return t}var Hft=Vft,Uft=Hft,Wft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yft=/\\(\\)?/g,qft=Uft(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Wft,function(n,r,o,i){t.push(o?i.replace(Yft,"$1"):r||n)}),t}),i5e=qft,MZ=c0,Gft=Pc,Kft=Wr,Zft=sm,Xft=1/0,FZ=MZ?MZ.prototype:void 0,LZ=FZ?FZ.toString:void 0;function s5e(e){if(typeof e=="string")return e;if(Kft(e))return Gft(e,s5e)+"";if(Zft(e))return LZ?LZ.call(e):"";var t=e+"";return t=="0"&&1/e==-Xft?"-0":t}var a5e=s5e,Qft=a5e;function Jft(e){return e==null?"":Qft(e)}var Dc=Jft,eht=Wr,tht=P7,nht=i5e,rht=Dc;function oht(e,t){return eht(e)?e:tht(e,t)?[e]:nht(rht(e))}var P0=oht,iht=sm,sht=1/0;function aht(e){if(typeof e=="string"||iht(e))return e;var t=e+"";return t=="0"&&1/e==-sht?"-0":t}var bm=aht,lht=P0,cht=bm;function uht(e,t){t=lht(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[cht(t[n++])];return n&&n==r?e:void 0}var Tw=uht,dht=_7,fht=A7,hht=1,pht=2;function mht(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var c=a[0],u=e[c],d=a[1];if(s&&a[2]){if(u===void 0&&!(c in e))return!1}else{var f=new dht;if(r)var p=r(u,d,c,e,t,f);if(!(p===void 0?fht(d,u,hht|pht,r,f):p))return!1}}return!0}var ght=mht,vht=Ha;function yht(e){return e===e&&!vht(e)}var l5e=yht,bht=l5e,xht=Zf;function wht(e){for(var t=xht(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,bht(o)]}return t}var _ht=wht;function Cht(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var c5e=Cht,Sht=ght,Eht=_ht,kht=c5e;function jht(e){var t=Eht(e);return t.length==1&&t[0][2]?kht(t[0][0],t[0][1]):function(n){return n===e||Sht(n,e,t)}}var Tht=jht,Aht=Tw;function Oht(e,t,n){var r=e==null?void 0:Aht(e,t);return r===void 0?n:r}var u5e=Oht;const Fn=Pe(u5e);function Pht(e,t){return e!=null&&t in Object(e)}var Dht=Pht,Iht=P0,Rht=mA,$ht=Wr,Mht=vA,Fht=k7,Lht=bm;function Bht(e,t,n){t=Iht(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var s=Lht(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&Fht(o)&&Mht(s,o)&&($ht(e)||Rht(e)))}var Nht=Bht,zht=Dht,Vht=Nht;function Hht(e,t){return e!=null&&Vht(e,t,zht)}var d5e=Hht,Uht=A7,Wht=u5e,Yht=d5e,qht=P7,Ght=l5e,Kht=c5e,Zht=bm,Xht=1,Qht=2;function Jht(e,t){return qht(e)&&Ght(t)?Kht(Zht(e),t):function(n){var r=Wht(n,e);return r===void 0&&r===t?Yht(n,e):Uht(t,r,Xht|Qht)}}var ept=Jht;function tpt(e){return e}var xm=tpt;const f5e=Pe(xm);function npt(e){return function(t){return t==null?void 0:t[e]}}var rpt=npt,opt=Tw;function ipt(e){return function(t){return opt(t,e)}}var spt=ipt,apt=rpt,lpt=spt,cpt=P7,upt=bm;function dpt(e){return cpt(e)?apt(upt(e)):lpt(e)}var fpt=dpt,hpt=Tht,ppt=ept,mpt=xm,gpt=Wr,vpt=fpt;function ypt(e){return typeof e=="function"?e:e==null?mpt:typeof e=="object"?gpt(e)?ppt(e[0],e[1]):hpt(e):vpt(e)}var Xf=ypt;function bpt(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var c=s[e?a:++o];if(n(i[c],c,i)===!1)break}return t}}var xpt=bpt,wpt=xpt,_pt=wpt(),Cpt=_pt,Spt=Cpt,Ept=Zf;function kpt(e,t){return e&&Spt(e,t,Ept)}var jpt=kpt,Tpt=Kf;function Apt(e,t){return function(n,r){if(n==null)return n;if(!Tpt(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var Opt=Apt,Ppt=jpt,Dpt=Opt,Ipt=Dpt(Ppt),h5e=Ipt,Rpt=h5e,$pt=Kf;function Mpt(e,t){var n=-1,r=$pt(e)?Array(e.length):[];return Rpt(e,function(o,i,s){r[++n]=t(o,i,s)}),r}var p5e=Mpt;function Fpt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Lpt=Fpt,BZ=sm;function Bpt(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=BZ(e),s=t!==void 0,a=t===null,c=t===t,u=BZ(t);if(!a&&!u&&!i&&e>t||i&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!c)return-1}return 0}var Npt=Bpt,zpt=Npt;function Vpt(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var c=zpt(o[r],i[r]);if(c){if(r>=a)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Hpt=Vpt,WD=Pc,Upt=Tw,Wpt=Xf,Ypt=p5e,qpt=Lpt,Gpt=T0,Kpt=Hpt,Zpt=xm,Xpt=Wr;function Qpt(e,t,n){t.length?t=WD(t,function(i){return Xpt(i)?function(s){return Upt(s,i.length===1?i[0]:i)}:i}):t=[Zpt];var r=-1;t=WD(t,Gpt(Wpt));var o=Ypt(e,function(i,s,a){var c=WD(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return qpt(o,function(i,s){return Kpt(i,s,n)})}var m5e=Qpt;function Jpt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var emt=Jpt,tmt=emt,NZ=Math.max;function nmt(e,t,n){return t=NZ(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=NZ(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),tmt(e,this,a)}}var g5e=nmt;function rmt(e){return function(){return e}}var omt=rmt,imt=ym,smt=function(){try{var e=imt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),v5e=smt,amt=omt,zZ=v5e,lmt=xm,cmt=zZ?function(e,t){return zZ(e,"toString",{configurable:!0,enumerable:!1,value:amt(t),writable:!0})}:lmt,umt=cmt,dmt=800,fmt=16,hmt=Date.now;function pmt(e){var t=0,n=0;return function(){var r=hmt(),o=fmt-(r-n);if(n=r,o>0){if(++t>=dmt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var mmt=pmt,gmt=umt,vmt=mmt,ymt=vmt(gmt),y5e=ymt,bmt=xm,xmt=g5e,wmt=y5e;function _mt(e,t){return wmt(xmt(e,t,bmt),e+"")}var D0=_mt,Cmt=lA,Smt=Kf,Emt=vA,kmt=Ha;function jmt(e,t,n){if(!kmt(n))return!1;var r=typeof t;return(r=="number"?Smt(n)&&Emt(t,n.length):r=="string"&&t in n)?Cmt(n[t],e):!1}var I7=jmt,Tmt=O0,Amt=m5e,Omt=D0,VZ=I7,Pmt=Omt(function(e,t){if(e==null)return[];var n=t.length;return n>1&&VZ(e,t[0],t[1])?t=[]:n>2&&VZ(t[0],t[1],t[2])&&(t=[t[0]]),Amt(e,Tmt(t,1),[])}),Dmt=Pmt;const wm=Pe(Dmt);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T5(){return T5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T5.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A5(){return A5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A5.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ym(e,t,n){var r,o=(r=n.initialDeps)!=null?r:[],i;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var a=e(),c=a.length!==o.length||a.some(function(v,g){return o[g]!==v});if(!c)return i;o=a;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),i=t.apply(void 0,a),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,m=function(g,b){for(g=String(g);g.length<b;)g=" "+g;return g};console.info("%c⏱ "+m(f,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(i),i}}function YD(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var Imt=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rmt=function(t){return t},b5e=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),o=[],i=n;i<=r;i++)o.push(i);return o},$mt=function(t,n){var r=t.scrollElement;if(r){var o=function(a){var c=a.width,u=a.height;n({width:Math.round(c),height:Math.round(u)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(s){var a=s[0];if(a!=null&&a.borderBoxSize){var c=a.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}},Mmt=function(t,n){var r=t.scrollElement;if(r){var o=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}},Fmt=function(t,n,r){if(n!=null&&n.borderBoxSize){var o=n.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},x5e=function(t,n,r){var o,i,s=n.adjustments,a=s===void 0?0:s,c=n.behavior,u=t+a;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=u,i.behavior=c,i))},Lmt=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(a){n._measureElement(a.target,a)})}):null)};return{disconnect:function(){var s;return(s=o())==null?void 0:s.disconnect()},observe:function(s){var a;return(a=o())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:function(s){var a;return(a=o())==null?void 0:a.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],s=o[1];typeof s>"u"&&delete r[i]}),n.options=A5({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Rmt,rangeExtractor:b5e,onChange:function(){},measureElement:Fmt,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(o){var i=n.scrollRect;n.scrollRect=o,(n.options.horizontal?o.width!==i.width:o.height!==i.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(o){n.scrollAdjustments=0,n.scrollOffset!==o&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<o?"forward":"backward",n.scrollOffset=o,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=Ym(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,o,i,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,s=new Map,a=o-1;a>=0;a--){var c=r[a];if(!i.has(c.lane)){var u=s.get(c.lane);if(u==null||c.end>u.end?s.set(c.lane,c):c.end<u.end&&i.set(c.lane,!0),i.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=Ym(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,o){var i=r.count,s=r.paddingStart,a=r.scrollMargin,c=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<i;f++){var p=c(f),m=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),v=m?m.end:s+a,g=o.get(p),b=typeof g=="number"?g:n.options.estimateSize(f),x=v+b,y=m?m.lane:f%n.options.lanes;d[f]={index:f,start:v,size:b,end:x,key:p,lane:y}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=Ym(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,o,i){return n.range=Bmt({measurements:r,outerSize:o,scrollOffset:i})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=Ym(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=Ym(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,o,i,s){return r(A5({},o,{overscan:i,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var o=n.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(r,o){var i,s=n.indexFromElement(r),a=n.measurementsCache[s];if(a){var c=n.measureElementCache.get(a.key);if(!r.isConnected){n.observer.unobserve(r),r===c&&n.measureElementCache.delete(a.key);return}c!==r&&(c&&n.observer.unobserve(c),n.observer.observe(r),n.measureElementCache.set(a.key,r));var u=n.options.measureElement(r,o,n),d=(i=n.itemSizeCache.get(a.key))!=null?i:a.size,f=u-d;f!==0&&(a.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(a.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=Ym(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,o){for(var i=[],s=0,a=r.length;s<a;s++){var c=r[s],u=o[c];i.push(u)}return i},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var o=n.getMeasurements();return YD(o[w5e(0,o.length-1,function(i){return YD(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=n.getSize();o==="auto"&&(r<=n.scrollOffset?o="start":r>=n.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",a=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,c=a-n.getSize();return Math.max(Math.min(c,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var i=YD(n.getMeasurements()[r]);if(o==="auto")if(i.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)o="end";else if(i.start<=n.scrollOffset+n.options.scrollPaddingStart)o="start";else return[n.scrollOffset,o];var s=o==="end"?i.end+n.options.scrollPaddingEnd:i.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,o),o]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"start":s,c=i.behavior;n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:c})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"auto":s,c=i.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,a),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:c}),c!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,f),v=m[0];Imt(v,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:c})}else n.scrollToIndex(r,{align:f,behavior:c})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,s=i.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,s=o.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:i},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},w5e=function(t,n,r,o){for(;t<=n;){var i=(t+n)/2|0,s=r(i);if(s<o)t=i+1;else if(s>o)n=i-1;else return i}return t>0?t-1:0};function Bmt(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=function(u){return t[u].start},s=w5e(0,o,i,r),a=s;a<o&&t[a].end<r+n;)a++;return{startIndex:s,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nmt=typeof document<"u"?h.useLayoutEffect:h.useEffect;function zmt(e){var t=h.useReducer(function(){return{}},{})[1],n=T5({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=h.useState(function(){return new Lmt(n)}),o=r[0];return o.setOptions(n),h.useEffect(function(){return o._didMount()},[]),Nmt(function(){return o._willUpdate()}),o}function _5e(e){return zmt(T5({observeElementRect:$mt,observeElementOffset:Mmt,scrollToFn:x5e},e))}var Vmt=Hmt;function Hmt(e,t,n){var r=e===null,o=t===null;if(r!==o)return!1;var i=Array.isArray(e),s=Array.isArray(t);if(i!==s)return!1;var a=typeof e,c=typeof t;return a!==c?!1:Ymt(a)?n?n(e,t):e===t:i?Umt(e,t,n):Wmt(e,t,n)}function Umt(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1}else for(var o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}function Wmt(e,t,n){var r=0,o=0;if(n)for(var i in e){if(e.hasOwnProperty(i)&&!n(e[i],t[i]))return!1;r++}else for(var i in e){if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;r++}for(var i in t)t.hasOwnProperty(i)&&o++;return r===o}function Ymt(e){return e!=="function"&&e!=="object"}const Mu=Pe(Vmt);var MM={exports:{}},qD,HZ;function qmt(){if(HZ)return qD;HZ=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;qD=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return qD}function Gmt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=qmt(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,b=Number(new Date),x=b-(d||b);g.diff=x,g.prev=d,g.curr=b,d=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(_,C){if(_==="%%")return _;y++;var S=n.formatters[C];if(typeof S=="function"){var E=m[y];_=S.call(g,E),m.splice(y,1),y--}return _}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var Kmt=Gmt;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=Kmt(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(MM,MM.exports);var Zmt=MM.exports;const xs=Pe(Zmt);function Xmt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var C5e=Xmt;function Qmt(e){return e!==e}var Jmt=Qmt;function egt(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var tgt=egt,ngt=C5e,rgt=Jmt,ogt=tgt;function igt(e,t,n){return t===t?ogt(e,t,n):ngt(e,rgt,n)}var R7=igt,sgt=R7;function agt(e,t){var n=e==null?0:e.length;return!!n&&sgt(e,t,0)>-1}var $7=agt;function lgt(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var M7=lgt,cgt=hA,ugt=$7,dgt=M7,fgt=Pc,hgt=T0,pgt=pA,mgt=200;function ggt(e,t,n,r){var o=-1,i=ugt,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=fgt(t,hgt(n))),r?(i=dgt,s=!1):t.length>=mgt&&(i=pgt,s=!1,t=new cgt(t));e:for(;++o<a;){var d=e[o],f=n==null?d:n(d);if(d=r||d!==0?d:0,s&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;c.push(d)}else i(t,f,r)||c.push(d)}return c}var S5e=ggt,vgt=Kf,ygt=Ua;function bgt(e){return ygt(e)&&vgt(e)}var wA=bgt,xgt=S5e,wgt=O0,_gt=D0,UZ=wA,Cgt=_gt(function(e,t){return UZ(e)?xgt(e,wgt(t,1,UZ,!0)):[]}),Sgt=Cgt;const ax=Pe(Sgt);var Egt=hA,kgt=$7,jgt=M7,Tgt=Pc,Agt=T0,WZ=pA,Ogt=Math.min;function Pgt(e,t,n){for(var r=n?jgt:kgt,o=e[0].length,i=e.length,s=i,a=Array(i),c=1/0,u=[];s--;){var d=e[s];s&&t&&(d=Tgt(d,Agt(t))),c=Ogt(d.length,c),a[s]=!n&&(t||o>=120&&d.length>=120)?new Egt(s&&d):void 0}d=e[0];var f=-1,p=a[0];e:for(;++f<o&&u.length<c;){var m=d[f],v=t?t(m):m;if(m=n||m!==0?m:0,!(p?WZ(p,v):r(u,v,n))){for(s=i;--s;){var g=a[s];if(!(g?WZ(g,v):r(e[s],v,n)))continue e}p&&p.push(v),u.push(m)}}return u}var Dgt=Pgt,Igt=wA;function Rgt(e){return Igt(e)?e:[]}var $gt=Rgt,Mgt=Pc,Fgt=Dgt,Lgt=D0,Bgt=$gt,Ngt=Lgt(function(e){var t=Mgt(e,Bgt);return t.length&&t[0]===e[0]?Fgt(t):[]}),zgt=Ngt;const O5=Pe(zgt);var Vgt=VEe,Hgt=Vgt(Object.getPrototypeOf,Object),F7=Hgt,Ugt=Vf,Wgt=F7,Ygt=Ua,qgt="[object Object]",Ggt=Function.prototype,Kgt=Object.prototype,E5e=Ggt.toString,Zgt=Kgt.hasOwnProperty,Xgt=E5e.call(Object);function Qgt(e){if(!Ygt(e)||Ugt(e)!=qgt)return!1;var t=Wgt(e);if(t===null)return!0;var n=Zgt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&E5e.call(n)==Xgt}var k5e=Qgt;const br=Pe(k5e);var YZ=v5e;function Jgt(e,t,n){t=="__proto__"&&YZ?YZ(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var _A=Jgt,evt=_A,tvt=lA,nvt=Object.prototype,rvt=nvt.hasOwnProperty;function ovt(e,t,n){var r=e[t];(!(rvt.call(e,t)&&tvt(r,n))||n===void 0&&!(t in e))&&evt(e,t,n)}var L7=ovt,ivt=L7,svt=P0,avt=vA,qZ=Ha,lvt=bm;function cvt(e,t,n,r){if(!qZ(e))return e;t=svt(t,e);for(var o=-1,i=t.length,s=i-1,a=e;a!=null&&++o<i;){var c=lvt(t[o]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(o!=s){var d=a[c];u=r?r(d,c,a):void 0,u===void 0&&(u=qZ(d)?d:avt(t[o+1])?[]:{})}ivt(a,c,u),a=a[c]}return e}var uvt=cvt,dvt=Tw,fvt=uvt,hvt=P0;function pvt(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=dvt(e,s);n(a,s)&&fvt(i,hvt(s,e),a)}return i}var j5e=pvt,mvt=j5e,gvt=d5e;function vvt(e,t){return mvt(e,t,function(n,r){return gvt(e,r)})}var yvt=vvt,bvt=O0;function xvt(e){var t=e==null?0:e.length;return t?bvt(e,1):[]}var T5e=xvt;const En=Pe(T5e);var wvt=T5e,_vt=g5e,Cvt=y5e;function Svt(e){return Cvt(_vt(e,void 0,wvt),e+"")}var B7=Svt,Evt=yvt,kvt=B7,jvt=kvt(function(e,t){return e==null?{}:Evt(e,t)}),Tvt=jvt;const wt=Pe(Tvt),N7=ne.createContext(null);function Ic(){const e=h.useContext(N7);if(!e)throw new Error("Router: missing context value");return e}function Avt(e){return e.button===0}function Ovt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function z7(e){const{onClick:t,href:n,target:r,replace:o=!1}=e,{navigateUrl:i}=Ic();return{onClick:h.useCallback(a=>{a.isDefaultPrevented()||n&&(t&&t(a),!(Ovt(a)||!Avt(a))&&(r||(a.preventDefault(),i({path:n,replace:o}))))},[n,i,t,o,r])}}function Aw(e){const{intent:t,onClick:n,params:r,replace:o,target:i}=e,{resolveIntentLink:s}=Ic(),a=h.useMemo(()=>s(t,r),[t,r,s]),{onClick:c}=z7({href:a,onClick:n,replace:o,target:i});return{onClick:c,href:a}}const _m=h.forwardRef(function(t,n){const{intent:r,params:o,target:i,...s}=t,{onClick:a,href:c}=Aw({intent:r,params:o,target:i,onClick:t.onClick});return l.jsx("a",{...s,href:c,onClick:a,ref:n,target:i})});h.forwardRef(function(t,n){const{onClick:r,href:o,target:i,replace:s,...a}=t,{onClick:c}=z7({onClick:r,href:o,target:i,replace:s});return l.jsx("a",{...a,onClick:c,href:o,target:i,ref:n})});const GZ=Object.prototype.hasOwnProperty,Pvt=GZ.call.bind(GZ);function Dvt(e){for(const t in e)if(Pvt(e,t))return!1;return!0}function KZ(e,t,n){return n&&{...e,[t]:n}}function Ivt(e){const{children:t,scope:n}=e,r=Ic(),{resolvePathFromState:o,navigate:i}=r,s=h.useCallback(u=>{const d=Dvt(u)?{}:KZ(r.state,n,u);return o(d)},[o,r.state,n]),a=h.useCallback((u,d)=>{const f=KZ(r.state,n,u);i(f,d)},[i,r.state,n]),c=h.useMemo(()=>({...r,navigate:a,resolvePathFromState:s,state:r.state[n]}),[a,r,s,n]);return l.jsx(N7.Provider,{value:c,children:t})}function Rvt(e){const{onNavigate:t,router:n,state:r}=e,o=h.useCallback((u,d)=>{const[f,p]=Array.isArray(d)?d:[d];return n.encode({intent:u,params:f,payload:p})},[n]),i=h.useCallback(u=>n.encode(u),[n]),s=h.useCallback(function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t({path:i(u),replace:d.replace})},[t,i]),a=h.useCallback(function(u,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t({path:o(u,d),replace:f.replace})},[t,o]),c=h.useMemo(()=>({navigate:s,navigateIntent:a,navigateUrl:t,resolveIntentLink:o,resolvePathFromState:i,state:r}),[s,a,t,o,i,r]);return l.jsx(N7.Provider,{value:c,children:e.children})}const ZZ={};function A5e(e){const{onClick:t,replace:n,state:r,target:o,toIndex:i=!1}=e;if(r&&i)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!i&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:s}=Ic(),a=h.useMemo(()=>s(i?ZZ:r||ZZ),[s,r,i]),{onClick:c}=z7({href:a,onClick:t,replace:n,target:o});return{onClick:c,href:a}}const CA=h.forwardRef(function(t,n){const{onClick:r,replace:o,state:i,target:s,toIndex:a=!1,...c}=t,{onClick:u,href:d}=A5e({onClick:r,replace:o,state:i,target:s,toIndex:a});return l.jsx("a",{...c,href:d,onClick:u,ref:n})}),$vt=/^[a-zA-Z0-9_-]+$/;function Mvt(e){if(!e)return null;if(e.startsWith(":")){const t=e.substring(1);if(!$vt.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(e,'" includes invalid characters.').concat(n)))}return{type:"param",name:t}}return{type:"dir",name:e}}function Fvt(e){const[t]=e.split("?"),n=t.split("/").map(Mvt).filter(Boolean);return{raw:e,segments:n}}const FM=xs("state-router");function O5e(e){return Array.isArray(e)?e:e?[e]:[]}function Lvt(e){return e.map(t=>{let[n,r]=t;return[Bvt(n),r]})}const GD=1,XZ=0;function Bvt(e){const t=[];let n=0,r=XZ;for(;n<e.length;){const o=e.indexOf("[",n);if(o===-1){t.push(e.slice(n,e.length));break}if(r===GD)throw new Error("Nested brackets not supported");r=GD,o>n&&(t.push(e.slice(n,o)),n=o);const i=e.indexOf("]",o);if(i===-1){if(r===GD)throw new Error("Unclosed bracket");break}r=XZ,t.push(e.slice(n+1,i)),n=i+1}return t}function P5e(e,t,n){const r=t.split("/").filter(Boolean),o=e.route.segments.length;if(r.length<o)return null;const i={};if(!e.route.segments.every((m,v)=>{if(m.type==="dir")return m.name===r[v];const g=e.transform&&e.transform[m.name];return i[m.name]=g?g.toState(r[v]):r[v],!0}))return null;const a=r.slice(o);let c=null;const u=typeof e.children=="function"?O5e(e.children(i)):e.children,d=zvt(e.scope,n);if(u.some(m=>{if(m){const v=m.scope?d.filter(g=>{let[b]=g;return m.scope===b[0]}):d;return c=P5e(m,a.join("/"),v),c}}),a.length>0&&!c)return null;const f=d.flatMap(m=>{let[v,g]=m;return v.length===1?[[v[0],g]]:[]}),p={...i,...c||{},...f.length>0?{_searchParams:f}:{}};return e.scope?{[e.scope]:p}:p}function Nvt(e,t){FM("resolving state from path %s",t);const[n,r]=t.split("?"),o=Array.from(new URLSearchParams(r).entries()),i=P5e(e,n,Lvt(o));return FM("resolved: %o",i||null),i||null}function zvt(e,t){return e?t.map(n=>{let[r,o]=n;return[r[0]===e?r.slice(1):r,o]}):t}function QZ(e){return br(e)}function KD(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function ZD(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function D5e(e,t){if(!t)return ZD(e,{},[]);const n=e.scope?t[e.scope]:t,{_searchParams:r=[],...o}=n||{},i=e.route.segments.filter(b=>b.type==="param").map(b=>b.name),s=QZ(o)?Object.keys(o):[],a=O5(s,i),c=ax(i,a),u=ax(s,a);if(c.length>0)return KD(e,c,[]);const d=r.map(b=>{let[x,y]=b;return[[x],y]}),f=wt(o,a);if(u.length===0)return ZD(e,f,d);const p=O5e((typeof e.children=="function"?e.children(QZ(o)?o:{}):e.children)||[]);if(u.length>0&&p.length===0)return KD(e,[],u);const m=wt(o,u),g=p.map(b=>D5e(b,m)).find(b=>b.type==="ok");return g?ZD(e,f,d,g):KD(e,[],u)}function Vvt(e,t){FM("Resolving path from state %o",t);const n=D5e(e,t);if(n.type==="error"){const s=n.unmappableStateKeys;if(s.length>0)throw new Error("Unable to find matching route for state. Could not map the following state key".concat(s.length==1?"":"s"," to a valid url: ").concat(s.map(JZ).join(", ")));const a=n.missingKeys;throw new Error("Unable to find matching route for state. State object is missing the following key".concat(a.length==1?"":"s"," defined in route: ").concat(a.map(JZ).join(", ")))}const{path:r,searchParams:o}=I5e(n),i=o.length>0?new URLSearchParams(Wvt(o)).toString():"";return"/".concat(r.join("/")).concat(i?"?".concat(i):"")}function Hvt(e){return"[".concat(e,"]")}function Uvt(e){const[t,...n]=e;return n.length>0?[t,...n.map(Hvt)].join(""):t}function Wvt(e){return e.map(t=>{let[n,r]=t;return[Uvt(n),r]})}function I5e(e){const t=e.matchedState,n=e.node.route.segments.map(i=>{if(i.type==="dir")return i.name;const s=e.node.transform&&e.node.transform[i.name];return s?s.toPath(t[i.name]):t[i.name]}),r=e.child?I5e(e.child):void 0,o=r!=null&&r.searchParams?[...e.searchParams,...r.searchParams]:e.searchParams;return{searchParams:Yvt(e.node,o),path:[...n||[],...(r==null?void 0:r.path)||[]]}}function Yvt(e,t){const n=e.scope;return n?t.map(r=>{let[o,i]=r;return[[n,...o],i]}):t}function JZ(e){return'"'.concat(e,'"')}function qvt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function Gvt(e){return e?btoa(JSON.stringify(e)):""}function Kvt(e){return e.split(";").reduce((t,n)=>{const[r,o]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(o),t},{})}function Zvt(e){return Object.entries(e).filter(t=>{let[,n]=t;return n!=null}).map(t=>{let[n,r]=t;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(";")}const vi={create:(e,t,n)=>rX(tX(e,t,n)),intents:e=>{const t=Qvt(e).join("/");return vi.create("".concat(t,"/:intent"),[vi.create(":params",{transform:{params:{toState:Kvt,toPath:Zvt}}},[vi.create(":payload",{transform:{payload:{toState:qvt,toPath:Gvt}}})])])},scope:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=tX(...n);return rX({...o,scope:e})}};function eX(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function Xvt(e){return e&&"_isRoute"in e}function tX(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||Xvt(t)?{path:e,children:eX(t)}:n?{path:e,...t,children:eX(n)}:{path:e,...t}}function Qvt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o.split("/")),[]).filter(Boolean)}const Jvt={};function nX(e){return e.split("/").every(t=>!t)}function rX(e){const{path:t,scope:n,transform:r,children:o}=e;if(!t)throw new TypeError("Missing path");const i=Fvt(t);return{_isRoute:!0,scope:n,route:i,children:o||[],transform:r,encode(s){return Vvt(this,s)},decode(s){return Nvt(this,s)},isRoot:nX,isNotFound(s){return this.decode(s)===null},getBasePath(){return this.encode(Jvt)},getRedirectBase(s){if(nX(s)){const a=this.getBasePath();if(s!==a)return a}return null}}}function SA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f5e;const{state:t}=Ic();return h.useMemo(()=>e(t),[e,t])}function e0t(e){function t(n){const r=Ic();return l.jsx(e,{...n,router:r})}return t.displayName="withRouter(".concat(e.displayName||e.name,")"),t}e0t(e=>e.children(e.router));function t0t(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fu.apply(this,arguments)}var LM="data-focus-lock",R5e="data-focus-lock-disabled",n0t="data-no-focus-lock",r0t="data-autofocus-inside",o0t="data-no-autofocus";function i0t(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function s0t(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function a0t(e,t){return s0t(t||null,function(n){return e.forEach(function(r){return i0t(r,n)})})}var XD={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function $5e(e){return e}function M5e(e,t){t===void 0&&(t=$5e);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function V7(e,t){return t===void 0&&(t=$5e),M5e(e,t)}function l0t(e){e===void 0&&(e={});var t=M5e(null);return t.options=yo({async:!0,ssr:!1},e),t}var F5e=V7({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),L5e=V7(),c0t=V7(),u0t=l0t({async:!0}),d0t=[],H7=h.forwardRef(function(t,n){var r,o=h.useState(),i=o[0],s=o[1],a=h.useRef(),c=h.useRef(!1),u=h.useRef(null),d=t.children,f=t.disabled,p=t.noFocusGuards,m=t.persistentFocus,v=t.crossFrame,g=t.autoFocus;t.allowTextSelection;var b=t.group,x=t.className,y=t.whiteList,w=t.hasPositiveIndices,_=t.shards,C=_===void 0?d0t:_,S=t.as,E=S===void 0?"div":S,j=t.lockProps,k=j===void 0?{}:j,T=t.sideCar,A=t.returnFocus,O=t.focusOptions,P=t.onActivation,D=t.onDeactivation,R=h.useState({}),$=R[0],H=h.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&P&&P(a.current),c.current=!0},[P]),F=h.useCallback(function(){c.current=!1,D&&D(a.current)},[D]);h.useEffect(function(){f||(u.current=null)},[]);var V=h.useCallback(function(K){var X=u.current;if(X&&X.focus){var Q=typeof A=="function"?A(X):A;if(Q){var Z=typeof Q=="object"?Q:void 0;u.current=null,K?Promise.resolve().then(function(){return X.focus(Z)}):X.focus(Z)}}},[A]),W=h.useCallback(function(K){c.current&&F5e.useMedium(K)},[]),z=L5e.useMedium,q=h.useCallback(function(K){a.current!==K&&(a.current=K,s(K))},[]),oe=Fu((r={},r[R5e]=f&&"disabled",r[LM]=b,r),k),N=p!==!0,G=N&&p!=="tail",Y=a0t([n,q]);return h.createElement(h.Fragment,null,N&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:XD}),w?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:XD}):null],!f&&h.createElement(T,{id:$,sideCar:u0t,observed:i,disabled:f,persistentFocus:m,crossFrame:v,autoFocus:g,whiteList:y,shards:C,onActivation:H,onDeactivation:F,returnFocus:V,focusOptions:O}),h.createElement(E,Fu({ref:Y},oe,{className:x,onBlur:z,onFocus:W}),d),G&&h.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:XD}))});H7.propTypes={};H7.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const B5e=H7;function BM(e,t){return BM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},BM(e,t)}function f0t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,BM(e,t)}function lx(e){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lx(e)}function h0t(e,t){if(lx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p0t(e){var t=h0t(e,"string");return lx(t)==="symbol"?t:String(t)}function m0t(e,t,n){return t=p0t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g0t(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var i=[],s;function a(){s=e(i.map(function(u){return u.props})),t(s)}var c=function(u){f0t(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return s};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return ne.createElement(o,this.props)},d}(h.PureComponent);return m0t(c,"displayName","SideEffect("+n(o)+")"),c}}var Rc=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},NM=function(e){return Array.isArray(e)?e:[e]},v0t=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},N5e=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},z5e=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},y0t=function(e,t){return!e||z5e(e)||!v0t(e)&&t(N5e(e))},V5e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=y0t(t,V5e.bind(void 0,e));return e.set(t,r),r},b0t=function(e,t){return e&&!z5e(e)?_0t(e)?t(N5e(e)):!1:!0},H5e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=b0t(t,H5e.bind(void 0,e));return e.set(t,r),r},U5e=function(e){return e.dataset},x0t=function(e){return e.tagName==="BUTTON"},W5e=function(e){return e.tagName==="INPUT"},Y5e=function(e){return W5e(e)&&e.type==="radio"},w0t=function(e){return!((W5e(e)||x0t(e))&&(e.type==="hidden"||e.disabled))},_0t=function(e){var t=e.getAttribute(o0t);return![!0,"true",""].includes(t)},U7=function(e){var t;return!!(e&&(!((t=U5e(e))===null||t===void 0)&&t.focusGuard))},P5=function(e){return!U7(e)},C0t=function(e){return!!e},S0t=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},q5e=function(e,t,n){return Rc(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(S0t)},E0t=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],W7=E0t.join(","),k0t="".concat(W7,", [data-focus-guard]"),G5e=function(e,t){var n;return Rc(((n=e.shadowRoot)===null||n===void 0?void 0:n.children)||e.children).reduce(function(r,o){return r.concat(o.matches(t?k0t:W7)?[o]:[],G5e(o))},[])},Y7=function(e,t){return e.reduce(function(n,r){return n.concat(G5e(r,t),r.parentNode?Rc(r.parentNode.querySelectorAll(W7)).filter(function(o){return o===r}):[])},[])},j0t=function(e){var t=e.querySelectorAll("[".concat(r0t,"]"));return Rc(t).map(function(n){return Y7([n])}).reduce(function(n,r){return n.concat(r)},[])},q7=function(e,t){return Rc(e).filter(function(n){return V5e(t,n)}).filter(function(n){return w0t(n)})},oX=function(e,t){return t===void 0&&(t=new Map),Rc(e).filter(function(n){return H5e(t,n)})},zM=function(e,t,n){return q5e(q7(Y7(e,n),t),!0,n)},iX=function(e,t){return q5e(q7(Y7(e),t),!1)},T0t=function(e,t){return q7(j0t(e),t)},cx=function(e,t){return e.shadowRoot?cx(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Rc(e.children).some(function(n){return cx(n,t)})},A0t=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},K5e=function(e){return e.parentNode?K5e(e.parentNode):e},G7=function(e){var t=NM(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(LM);return n.push.apply(n,o?A0t(Rc(K5e(r).querySelectorAll("[".concat(LM,'="').concat(o,'"]:not([').concat(R5e,'="disabled"])')))):[r]),n},[])},Z5e=function(e){return e.activeElement?e.activeElement.shadowRoot?Z5e(e.activeElement.shadowRoot):e.activeElement:void 0},K7=function(){return document.activeElement?document.activeElement.shadowRoot?Z5e(document.activeElement.shadowRoot):document.activeElement:void 0},O0t=function(e){return e===document.activeElement},P0t=function(e){return!!Rc(e.querySelectorAll("iframe")).some(function(t){return O0t(t)})},X5e=function(e){var t=document&&K7();return!t||t.dataset&&t.dataset.focusGuard?!1:G7(e).some(function(n){return cx(n,t)||P0t(n)})},D0t=function(){var e=document&&K7();return e?Rc(document.querySelectorAll("[".concat(n0t,"]"))).some(function(t){return cx(t,e)}):!1},I0t=function(e,t){return t.filter(Y5e).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},Z7=function(e,t){return Y5e(e)&&e.name?I0t(e,t):e},R0t=function(e){var t=new Set;return e.forEach(function(n){return t.add(Z7(n,e))}),e.filter(function(n){return t.has(n)})},sX=function(e){return e[0]&&e.length>1?Z7(e[0],e):e[0]},aX=function(e,t){return e.length>1?e.indexOf(Z7(e[t],e)):t},Q5e="NEW_FOCUS",$0t=function(e,t,n,r){var o=e.length,i=e[0],s=e[o-1],a=U7(n);if(!(n&&e.indexOf(n)>=0)){var c=n!==void 0?t.indexOf(n):-1,u=r?t.indexOf(r):c,d=r?e.indexOf(r):-1,f=c-u,p=t.indexOf(i),m=t.indexOf(s),v=R0t(t),g=n!==void 0?v.indexOf(n):-1,b=g-(r?v.indexOf(r):c),x=aX(e,0),y=aX(e,o-1);if(c===-1||d===-1)return Q5e;if(!f&&d>=0)return d;if(c<=p&&a&&Math.abs(f)>1)return y;if(c>=m&&a&&Math.abs(f)>1)return x;if(f&&Math.abs(b)>1)return d;if(c<=p)return y;if(c>m)return x;if(f)return Math.abs(f)>1?d:(o+d+f)%o}},M0t=function(e){return function(t){var n,r=(n=U5e(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},F0t=function(e,t,n){var r=e.map(function(i){var s=i.node;return s}),o=oX(r.filter(M0t(n)));return o&&o.length?sX(o):sX(oX(t))},VM=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&VM(e.parentNode.host||e.parentNode,t),t},QD=function(e,t){for(var n=VM(e),r=VM(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},J5e=function(e,t,n){var r=NM(e),o=NM(t),i=r[0],s=!1;return o.filter(Boolean).forEach(function(a){s=QD(s||a,a)||s,n.filter(Boolean).forEach(function(c){var u=QD(i,c);u&&(!s||cx(u,s)?s=u:s=QD(u,s))})}),s},L0t=function(e,t){return e.reduce(function(n,r){return n.concat(T0t(r,t))},[])},B0t=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(C0t)},N0t=function(e,t){var n=document&&K7(),r=G7(e).filter(P5),o=J5e(n||e,e,r),i=new Map,s=iX(r,i),a=zM(r,i).filter(function(m){var v=m.node;return P5(v)});if(!(!a[0]&&(a=s,!a[0]))){var c=iX([o],i).map(function(m){var v=m.node;return v}),u=B0t(c,a),d=u.map(function(m){var v=m.node;return v}),f=$0t(d,c,n,t);if(f===Q5e){var p=F0t(s,d,L0t(r,i));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},z0t=function(e){var t=G7(e).filter(P5),n=J5e(e,e,t),r=new Map,o=zM([n],r,!0),i=zM(t,r).filter(function(s){var a=s.node;return P5(a)}).map(function(s){var a=s.node;return a});return o.map(function(s){var a=s.node,c=s.index;return{node:a,index:c,lockItem:i.indexOf(a)>=0,guard:U7(a)}})},V0t=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},JD=0,eI=!1,eke=function(e,t,n){n===void 0&&(n={});var r=N0t(e,t);if(!eI&&r){if(JD>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),eI=!0,setTimeout(function(){eI=!1},1);return}JD++,V0t(r.node,n.focusOptions),JD--}};function tke(e){var t=window,n=t.setImmediate;typeof n<"u"?n(e):setTimeout(e,1)}var H0t=function(){return document&&document.activeElement===document.body},U0t=function(){return H0t()||D0t()},tv=null,Fg=null,nv=null,ux=!1,W0t=function(){return!0},Y0t=function(t){return(tv.whiteList||W0t)(t)},q0t=function(t,n){nv={observerNode:t,portaledElement:n}},G0t=function(t){return nv&&nv.portaledElement===t};function lX(e,t,n,r){var o=null,i=e;do{var s=r[i];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(i!==e)return;o=null}else break}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var K0t=function(t){return t&&"current"in t?t.current:t},Z0t=function(t){return t?!!ux:ux==="meanwhile"},X0t=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},Q0t=function(t,n){return n.some(function(r){return X0t(t,r,r)})},D5=function(){var t=!1;if(tv){var n=tv,r=n.observed,o=n.persistentFocus,i=n.autoFocus,s=n.shards,a=n.crossFrame,c=n.focusOptions,u=r||nv&&nv.portaledElement,d=document&&document.activeElement;if(u){var f=[u].concat(s.map(K0t).filter(Boolean));if((!d||Y0t(d))&&(o||Z0t(a)||!U0t()||!Fg&&i)&&(u&&!(X5e(f)||d&&Q0t(d,f)||G0t(d))&&(document&&!Fg&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=eke(f,Fg,{focusOptions:c}),nv={})),ux=!1,Fg=document&&document.activeElement),document){var p=document&&document.activeElement,m=z0t(f),v=m.map(function(g){var b=g.node;return b}).indexOf(p);v>-1&&(m.filter(function(g){var b=g.guard,x=g.node;return b&&x.dataset.focusAutoGuard}).forEach(function(g){var b=g.node;return b.removeAttribute("tabIndex")}),lX(v,m.length,1,m),lX(v,-1,-1,m))}}}return t},nke=function(t){D5()&&t&&(t.stopPropagation(),t.preventDefault())},X7=function(){return tke(D5)},J0t=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||q0t(r,n)},e1t=function(){return null},rke=function(){ux="just",setTimeout(function(){ux="meanwhile"},0)},t1t=function(){document.addEventListener("focusin",nke),document.addEventListener("focusout",X7),window.addEventListener("blur",rke)},n1t=function(){document.removeEventListener("focusin",nke),document.removeEventListener("focusout",X7),window.removeEventListener("blur",rke)};function r1t(e){return e.filter(function(t){var n=t.disabled;return!n})}function o1t(e){var t=e.slice(-1)[0];t&&!tv&&t1t();var n=tv,r=n&&t&&t.id===n.id;tv=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var i=o.id;return i===n.id}).length||n.returnFocus(!t)),t?(Fg=null,(!r||n.observed!==t.observed)&&t.onActivation(),D5(),tke(D5)):(n1t(),Fg=null)}F5e.assignSyncMedium(J0t);L5e.assignMedium(X7);c0t.assignMedium(function(e){return e({moveFocusInside:eke,focusInside:X5e})});const i1t=g0t(r1t,o1t)(e1t);var oke=h.forwardRef(function(t,n){return h.createElement(B5e,Fu({sideCar:i1t,ref:n},t))}),ike=B5e.propTypes||{};ike.sideCar;t0t(ike,["sideCar"]);oke.propTypes={};const od=oke;var ske={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var c in i)t.call(i,c)&&i[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(ske);var s1t=ske.exports;const a1t=Pe(s1t);function Cm(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}const l1t="modulepreload",c1t=function(e){return"/"+e},cX={},Q7=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=c1t(i),i in cX)return;cX[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":l1t,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},u1t=typeof navigator>"u"?!1:navigator.product==="ReactNative",ake={timeout:u1t?6e4:12e4},d1t=function(t){const n={...ake,...typeof t=="string"?{url:t}:t},{searchParams:r}=new URL(n.url,"http://localhost");if(n.timeout=lke(n.timeout),n.query){for(const[s,a]of Object.entries(n.query))if(a!==void 0)if(Array.isArray(a))for(const c of a)r.append(s,c);else r.append(s,a)}const[o]=n.url.split("?"),i=r.toString();return i&&(n.url="".concat(o,"?").concat(i)),n.method=n.body&&!n.method?"POST":(n.method||"GET").toUpperCase(),n};function lke(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?lke(ake.timeout):{connect:t,socket:t}}const f1t=/^https?:\/\//i,h1t=function(t){if(!f1t.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};var tI=function(e){return e.replace(/^\s+|\s+$/g,"")},p1t=function(e){return Object.prototype.toString.call(e)==="[object Array]"},m1t=function(e){if(!e)return{};for(var t={},n=tI(e).split(`
`),r=0;r<n.length;r++){var o=n[r],i=o.indexOf(":"),s=tI(o.slice(0,i)).toLowerCase(),a=tI(o.slice(i+1));typeof t[s]>"u"?t[s]=a:p1t(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};const g1t=Pe(m1t),v1t=e=>function(n,r){const o=n==="onError";let i=r;for(var s=arguments.length,a=new Array(s>2?s-2:0),c=2;c<s;c++)a[c-2]=arguments[c];for(let u=0;u<e[n].length;u++){const d=e[n][u];if(i=d(i,...a),o&&!i)break}return i};function y1t(){const e=Object.create(null);let t=0;function n(o){const i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(const i in e)e[i](o)}return{publish:r,subscribe:n}}const b1t=["request","response","progress","error","abort"],uX=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function cke(e,t){const n=[],r=uX.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[d1t],validateOptions:[h1t]});function o(i){const s=(v,g,b)=>{let x=v,y=g;if(!x)try{y=c("onResponse",g,b)}catch(w){y=null,x=w}x=x&&c("onError",x,b),x?a.error.publish(x):y&&a.response.publish(y)},a=b1t.reduce((v,g)=>(v[g]=y1t(),v),{}),c=v1t(r),u=c("processOptions",i);c("validateOptions",u);const d={options:u,channels:a,applyMiddleware:c};let f;const p=a.request.subscribe(v=>{f=t(v,(g,b)=>s(g,b,v))});a.abort.subscribe(()=>{p(),f&&f.abort()});const m=c("onReturn",a,d);return m===a&&a.request.publish(d),m}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return uX.forEach(a=>{s[a]&&r[a].push(s[a])}),n.push(s),o},o.clone=()=>cke(n,t),e.forEach(o.use),o}var uke=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ha=(e,t,n)=>(uke(e,t,"read from private field"),n?n.call(e):t.get(e)),yh=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},md=(e,t,n,r)=>(uke(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Y2,q2,lg,G2,_d,K2,Z2;class dke{constructor(){this.readyState=0,this.responseType="",yh(this,Y2,void 0),yh(this,q2,void 0),yh(this,lg,void 0),yh(this,G2,{}),yh(this,_d,void 0),yh(this,K2,{}),yh(this,Z2,void 0)}open(t,n,r){md(this,Y2,t),md(this,q2,n),md(this,lg,""),this.readyState=1,this.onreadystatechange(),md(this,_d,void 0)}abort(){ha(this,_d)&&ha(this,_d).abort()}getAllResponseHeaders(){return ha(this,lg)}setRequestHeader(t,n){ha(this,G2)[t]=n}setInit(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;md(this,K2,t),md(this,Z2,n)}send(t){const n=this.responseType!=="arraybuffer",r={...ha(this,K2),method:ha(this,Y2),headers:ha(this,G2),body:t};typeof AbortController=="function"&&ha(this,Z2)&&(md(this,_d,new AbortController),typeof EventTarget<"u"&&ha(this,_d).signal instanceof EventTarget&&(r.signal=ha(this,_d).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(ha(this,q2),r).then(o=>(o.headers.forEach((i,s)=>{md(this,lg,ha(this,lg)+"".concat(s,": ").concat(i,`\r
`))}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,n?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange()}).catch(o=>{var i;if(o.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,o)})}}Y2=new WeakMap;q2=new WeakMap;lg=new WeakMap;G2=new WeakMap;_d=new WeakMap;K2=new WeakMap;Z2=new WeakMap;const HM=typeof XMLHttpRequest=="function"?"xhr":"fetch",x1t=HM==="xhr"?XMLHttpRequest:dke,w1t=(e,t)=>{var n;const r=e.options,o=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:HM,context:e});if(s){const _=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(_)}}let a=new x1t;a instanceof dke&&typeof o.fetch=="object"&&a.setInit(o.fetch,(n=o.useAbortSignal)!=null?n:!0);const c=o.headers,u=o.timeout;let d=!1,f=!1,p=!1;if(a.onerror=_=>{x(new Error("Request error while attempting to reach ".concat(o.url).concat(_.lengthComputable?"(".concat(_.loaded," of ").concat(_.total," bytes transferred)"):"")))},a.ontimeout=_=>{x(new Error("Request timeout while attempting to reach ".concat(o.url).concat(_.lengthComputable?"(".concat(_.loaded," of ").concat(_.total," bytes transferred)"):"")))},a.onabort=()=>{b(!0),d=!0},a.onreadystatechange=()=>{g(),!(d||a.readyState!==4)&&a.status!==0&&w()},a.open(o.method,o.url,!0),a.withCredentials=!!o.withCredentials,c&&a.setRequestHeader)for(const _ in c)c.hasOwnProperty(_)&&a.setRequestHeader(_,c[_]);return o.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:o,adapter:HM,request:a,context:e}),a.send(o.body||null),u&&(i.connect=setTimeout(()=>v("ETIMEDOUT"),u.connect)),{abort:m};function m(){d=!0,a&&a.abort()}function v(_){p=!0,a.abort();const C=new Error(_==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(o.url):"Connection timed out on request to ".concat(o.url));C.code=_,e.channels.error.publish(C)}function g(){u&&(b(),i.socket=setTimeout(()=>v("ESOCKETTIMEDOUT"),u.socket))}function b(_){(_||d||a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(_){if(f)return;b(!0),f=!0,a=null;const C=_||new Error("Network error while attempting to reach ".concat(o.url));C.isNetworkError=!0,C.request=o,t(C)}function y(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:o.url,method:o.method,headers:g1t(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function w(){if(!(d||f||p)){if(a.status===0){x(new Error("Unknown XHR error"));return}b(),f=!0,t(null,y())}}},_1t=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w1t;return cke(e,t)};var dX={exports:{}},nI,fX;function C1t(){if(fX)return nI;fX=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;nI=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return nI}function S1t(e){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=o,n.enabled=s,n.humanize=C1t(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,p=null,m,v;function g(...b){if(!g.enabled)return;const x=g,y=Number(new Date),w=y-(f||y);x.diff=w,x.prev=f,x.curr=y,f=y,b[0]=n.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let _=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(S,E)=>{if(S==="%%")return"%";_++;const j=n.formatters[E];if(typeof j=="function"){const k=b[_];S=j.call(x,k),b.splice(_,1),_--}return S}),n.formatArgs.call(x,b),(x.log||n.log).apply(x,b)}return g.namespace=d,g.useColors=n.useColors(),g.color=n.selectColor(d),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,v=n.enabled(d)),v),set:b=>{p=b}}),typeof n.init=="function"&&n.init(g),g}function r(d,f){const p=n(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function o(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(d))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var E1t=S1t;(function(e,t){t.formatArgs=r,t.save=o,t.load=i,t.useColors=n,t.storage=s(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let d=0,f=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),c.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function i(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function s(){try{return localStorage}catch{}}e.exports=E1t(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(dX,dX.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function hX(e){return Object.prototype.toString.call(e)==="[object Object]"}function Yo(e){var t,n;return hX(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(hX(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}const k1t=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e),j1t=["boolean","string","number"];function T1t(){return{processOptions:e=>{const t=e.body;return!t||!(!(typeof t.pipe=="function")&&!k1t(t)&&(j1t.indexOf(typeof t)!==-1||Array.isArray(t)||Yo(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function A1t(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",o=e&&e.force||r.indexOf("application/json")!==-1;return!n.body||!r||!o?n:Object.assign({},n,{body:t(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message="Failed to parsed response body as JSON: ".concat(r.message),r}}}let xy={};typeof globalThis<"u"?xy=globalThis:typeof window<"u"?xy=window:typeof global<"u"?xy=global:typeof self<"u"&&(xy=self);var O1t=xy;function P1t(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||O1t.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(o=>(n.error.subscribe(i=>o.error(i)),n.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),n.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function D1t(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"));function r(o){return i=>{const s=i.lengthComputable?i.loaded/i.total*100:-1;n.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}class I1t{constructor(t){this.__CANCEL__=!0,this.message=t}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const pX=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n=null;this.promise=new Promise(r=>{n=r}),t(r=>{this.reason||(this.reason=new I1t(r),n(this.reason))})}};pX.source=()=>{let e;return{token:new pX(n=>{e=n}),cancel:e}};var fke=(e,t,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:e.isNetworkError||!1;const R1t=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";var $1t=e=>{const t=e.maxRetries||5,n=e.retryDelay||M1t,r=e.shouldRetry;return{onError:(o,i)=>{const s=i.options,a=s.maxRetries||t,c=s.shouldRetry||r,u=s.attemptNumber||0;if(R1t(s.body)||!c(o,u,s)||u>=a)return o;const d=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:u+1})});return setTimeout(()=>i.channels.request.publish(d),n(u)),null}}};function M1t(e){return 100*Math.pow(2,e)+Math.random()*100}const J7=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return $1t({shouldRetry:fke,...e})};J7.shouldRetry=fke;const rI=5;class F1t extends Error{constructor(t){const n=hke(t);super(n.message),this.statusCode=400,Object.assign(this,n)}}class L1t extends Error{constructor(t){const n=hke(t);super(n.message),this.statusCode=500,Object.assign(this,n)}}function hke(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:z1t(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message="".concat(t.error," - ").concat(t.message),n;if(B1t(t)){const r=t.error.items||[],o=r.slice(0,rI).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let i=o.length?`:
- `.concat(o.join(`
- `)):"";return r.length>rI&&(i+=`
...and `.concat(r.length-rI," more")),n.message="".concat(t.error.description).concat(i),n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||N1t(e),n)}function B1t(e){return mX(e)&&mX(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function mX(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function N1t(e){const t=e.statusMessage?" ".concat(e.statusMessage):"";return"".concat(e.method,"-request to ").concat(e.url," resulted in HTTP ").concat(e.statusCode).concat(t)}function z1t(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const V1t={onResponse:e=>{if(e.statusCode>=500)throw new L1t(e);if(e.statusCode>=400)throw new F1t(e);return e}},H1t={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(r=>console.warn(r)),e}};function gX(e,t){let{maxRetries:n=5,retryDelay:r}=t;const o=_1t([n>0?J7({retryDelay:r,maxRetries:n,shouldRetry:U1t}):{},...e,H1t,T1t(),A1t(),D1t(),V1t,P1t({implementation:ft})]);function i(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:o)({maxRedirects:0,...s})}return i.defaultRequester=o,i}function U1t(e,t,n){const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&s?!0:J7.shouldRetry(e,t,n)}function pke(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const vX=["image","file"],yX=["before","after","replace"],mke=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},W1t=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Y1t=e=>{if(vX.indexOf(e)===-1)throw new Error("Invalid asset type: ".concat(e,". Must be one of ").concat(vX.join(", ")))},ob=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(e,"() takes an object of properties"))},gke=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(e,'(): "').concat(t,'" is not a valid document ID'))},I5=(e,t)=>{if(!t._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));gke(e,t._id)},q1t=(e,t,n)=>{const r="insert(at, selector, items)";if(yX.indexOf(e)===-1){const o=yX.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(r,' takes an "at"-argument which is one of: ').concat(o))}if(typeof t!="string")throw new Error("".concat(r,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(r,' takes an "items"-argument which must be an array'))},vke=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},yke=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};var bke=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},rv=(e,t,n)=>(bke(e,t,"read from private field"),n?n.call(e):t.get(e)),xke=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},wke=(e,t,n,r)=>(bke(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),cg,ug;class _ke{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return ob("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return q1t(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after","".concat(t,"[-1]"),n)}prepend(t,n){return this.insert("before","".concat(t,"[0]"),n)}splice(t,n,r,o){const i=typeof r>"u"||r===-1,s=n<0?n-1:n,a=i?-1:Math.max(0,n+r),c=s<0&&a>=0?"":a,u="".concat(t,"[").concat(s,":").concat(c,"]");return this.insert("replace",u,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...pke(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return ob(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}const G1t=class Cke extends _ke{constructor(t,n,r){super(t,n),xke(this,cg,void 0),wke(this,cg,r)}clone(){return new Cke(this.selection,{...this.operations},rv(this,cg))}commit(t){if(!rv(this,cg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return rv(this,cg).mutate({patch:this.serialize()},r)}};cg=new WeakMap;let ib=G1t;const K1t=class Ske extends _ke{constructor(t,n,r){super(t,n),xke(this,ug,void 0),wke(this,ug,r)}clone(){return new Ske(this.selection,{...this.operations},rv(this,ug))}commit(t){if(!rv(this,ug))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return rv(this,ug).mutate({patch:this.serialize()},r)}};ug=new WeakMap;let sb=K1t;var Eke=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},zd=(e,t,n)=>(Eke(e,t,"read from private field"),n?n.call(e):t.get(e)),kke=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},jke=(e,t,n,r)=>(Eke(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ih,Rh;const Tke={returnDocuments:!1};class Ake{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.operations=t,this.trxId=n}create(t){return ob("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return ob(n,t),I5(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return ob(n,t),I5(n,t),this._add({[n]:t})}delete(t){return gke("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const Z1t=class Oke extends Ake{constructor(t,n,r){super(t,r),kke(this,Ih,void 0),jke(this,Ih,n)}clone(){return new Oke([...this.operations],zd(this,Ih),this.trxId)}commit(t){if(!zd(this,Ih))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return zd(this,Ih).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Tke,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof sb)return this._add({patch:t.serialize()});if(r){const i=n(new sb(t,{},zd(this,Ih)));if(!(i instanceof sb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Ih=new WeakMap;let Pke=Z1t;const X1t=class Dke extends Ake{constructor(t,n,r){super(t,r),kke(this,Rh,void 0),jke(this,Rh,n)}clone(){return new Dke([...this.operations],zd(this,Rh),this.trxId)}commit(t){if(!zd(this,Rh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return zd(this,Rh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Tke,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof ib)return this._add({patch:t.serialize()});if(r){const i=n(new ib(t,{},zd(this,Rh)));if(!(i instanceof ib))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Rh=new WeakMap;let Ike=X1t;const Q1t="https://www.sanity.io/help/";function eB(e){return Q1t+e}function J1t(e){let t=!1,n;return function(){return t||(n=e(...arguments),t=!0),n}}const EA=e=>J1t(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.warn(e.join(" "),...n)}),eyt=EA(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),tyt=EA(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),nyt=EA(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(eB("js-client-browser-token")," for more information and how to hide this warning.")]),ryt=EA(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(eB("js-client-api-version"))]),oyt="apicdn.sanity.io",R5={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},iyt=["localhost","127.0.0.1","0.0.0.0"],syt=e=>iyt.indexOf(e)!==-1,ayt=function(t){if(t==="1"||t==="X")return;const n=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&n instanceof Date&&n.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},Rke=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},$ke=(e,t)=>{const n=Object.assign({},t,e);n.apiVersion||ryt();const r=Object.assign({},R5,n),o=r.useProjectHostname;if(typeof Promise>"u"){const f=eB("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&Rke(r.perspective),"encodeSourceMapAtPath"in r||"encodeSourceMap"in r||"studioUrl"in r||"logger"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");if("stega"in r&&r.stega!==void 0)throw new Error("It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'undefined'.");const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&syt(window.location.hostname);i&&s&&r.token&&r.ignoreBrowserTokenWarning!==!0?nyt():typeof r.useCdn>"u"&&eyt(),o&&W1t(r.projectId),r.dataset&&mke(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?yke(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===R5.apiHost,r.useCdn=r.useCdn!==!1&&!r.withCredentials,ayt(r.apiVersion);const a=r.apiHost.split("://",2),c=a[0],u=a[1],d=r.isDefaultApi?oyt:u;return r.useProjectHostname?(r.url="".concat(c,"://").concat(r.projectId,".").concat(u,"/v").concat(r.apiVersion),r.cdnUrl="".concat(c,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r},lyt="X-Sanity-Project-ID";function cyt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},r=t.token||e.token;r&&(n.Authorization="Bearer ".concat(r)),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[lyt]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const Mke=e=>{let{query:t,params:n={},options:r={}}=e;const o=new URLSearchParams,{tag:i,...s}=r;i&&o.append("tag",i),o.append("query",t);for(const[a,c]of Object.entries(n))o.append("$".concat(a),JSON.stringify(c));for(const[a,c]of Object.entries(s))c&&o.append(a,"".concat(c));return"?".concat(o)},uyt=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,dyt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:uyt(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},tB=e=>e.type==="response",fyt=e=>e.body,hyt=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),pyt=11264;function Fke(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=o.filterResponse===!1?d=>d:d=>d.result,{cache:s,next:a,...c}={useAbortSignal:typeof o.signal<"u",...o},u=typeof s<"u"||typeof a<"u"?{...c,fetch:{cache:s,next:a}}:c;return Ow(e,t,"query",{query:n,params:r},u).pipe(le(i))}function Lke(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:I0(e,"doc",n),json:!0,tag:r.tag};return Pw(e,t,o).pipe(dt(tB),le(i=>i.body.documents&&i.body.documents[0]))}function Bke(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:I0(e,"doc",n.join(",")),json:!0,tag:r.tag};return Pw(e,t,o).pipe(dt(tB),le(i=>{const s=hyt(i.body.documents||[],a=>a._id);return n.map(a=>s[a]||null)}))}function Nke(e,t,n,r){return I5("createIfNotExists",n),kA(e,t,n,"createIfNotExists",r)}function zke(e,t,n,r){return I5("createOrReplace",n),kA(e,t,n,"createOrReplace",r)}function Vke(e,t,n,r){return Ow(e,t,"mutate",{mutations:[{delete:pke(n)}]},r)}function Hke(e,t,n,r){let o;n instanceof sb||n instanceof ib?o={patch:n.serialize()}:n instanceof Pke||n instanceof Ike?o=n.serialize():o=n;const i=Array.isArray(o)?o:[o],s=r&&r.transactionId||void 0;return Ow(e,t,"mutate",{mutations:i,transactionId:s},r)}function Ow(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=n==="mutate",s=n==="query",a=i?"":Mke(r),c=!i&&a.length<pyt,u=c?a:"",d=o.returnFirst,{timeout:f,token:p,tag:m,headers:v}=o,g=I0(e,n,u),b={method:c?"GET":"POST",uri:g,json:!0,body:c?void 0:r,query:i&&dyt(o),timeout:f,headers:v,token:p,tag:m,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:s,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal};return Pw(e,t,b).pipe(dt(tB),le(fyt),le(x=>{if(!i)return x;const y=x.results||[];if(o.returnDocuments)return d?y[0]&&y[0].document:y.map(C=>C.document);const w=d?"documentId":"documentIds",_=d?y[0]&&y[0].id:y.map(C=>C.id);return{transactionId:x.transactionId,results:y,[w]:_}}))}function kA(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[r]:n},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return Ow(e,t,"mutate",{mutations:[i]},s)}function Pw(e,t,n){var r;const o=n.url||n.uri,i=e.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/")===0:n.canUseCdn;let a=i.useCdn&&s;const c=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(c&&n.tag!==null&&(n.query={tag:yke(c),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/query/")===0){const f=(r=n.resultSourceMap)!=null?r:i.resultSourceMap;f!==void 0&&f!==!1&&(n.query={resultSourceMap:f,...n.query});const p=n.perspective||i.perspective;typeof p=="string"&&p!=="raw"&&(Rke(p),n.query={perspective:p,...n.query},p==="previewDrafts"&&a&&(a=!1,tyt()))}const u=cyt(i,Object.assign({},n,{url:nB(e,o,a)})),d=new ft(f=>t(u,i.requester).subscribe(f));return n.signal?d.pipe(myt(n.signal)):d}function kl(e,t,n){return Pw(e,t,n).pipe(dt(o=>o.type==="response"),le(o=>o.body))}function I0(e,t,n){const r=e.config(),o=vke(r),i="/".concat(t,"/").concat(o),s=n?"".concat(i,"/").concat(n):i;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function nB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:r,cdnUrl:o}=e.config(),i=n?o:r;return"".concat(i,"/").concat(t.replace(/^\//,""))}function myt(e){return t=>new ft(n=>{const r=()=>n.error(vyt(e));if(e&&e.aborted){r();return}const o=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),o.unsubscribe()}})}const gyt=!!globalThis.DOMException;function vyt(e){var t,n;if(gyt)return new DOMException((t=e==null?void 0:e.reason)!=null?t:"The operation was aborted.","AbortError");const r=new Error((n=e==null?void 0:e.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var Uke=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},$5=(e,t,n)=>(Uke(e,t,"read from private field"),n?n.call(e):t.get(e)),M5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},F5=(e,t,n,r)=>(Uke(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),X2,Q2,J2,eS;class yyt{constructor(t,n){M5(this,X2,void 0),M5(this,Q2,void 0),F5(this,X2,t),F5(this,Q2,n)}upload(t,n,r){return Wke($5(this,X2),$5(this,Q2),t,n,r)}}X2=new WeakMap;Q2=new WeakMap;class byt{constructor(t,n){M5(this,J2,void 0),M5(this,eS,void 0),F5(this,J2,t),F5(this,eS,n)}upload(t,n,r){const o=Wke($5(this,J2),$5(this,eS),t,n,r);return mo(o.pipe(dt(i=>i.type==="response"),le(i=>i.body.document)))}}J2=new WeakMap;eS=new WeakMap;function Wke(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};Y1t(n);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=vke(e.config()),a=n==="image"?"images":"files",c=xyt(o,r),{tag:u,label:d,title:f,description:p,creditLine:m,filename:v,source:g}=c,b={label:d,title:f,description:p,filename:v,meta:i,creditLine:m};return g&&(b.sourceId=g.id,b.sourceName=g.name,b.sourceUrl=g.url),Pw(e,t,{tag:u,method:"POST",timeout:c.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:c.contentType?{"Content-Type":c.contentType}:{},query:b,body:r})}function xyt(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var wyt=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const _yt=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),Cyt=16e3-1200,Syt=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],Eyt={includeResult:!0};function Yke(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:r,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=n.tag&&s?[s,n.tag].join("."):n.tag,c={...wyt(n,Eyt),tag:a},u=_yt(c,Syt),d=Mke({query:e,params:t,options:{tag:a,...u}}),f="".concat(r).concat(I0(this,"listen",d));if(f.length>Cyt)return new ft(g=>g.error(new Error("Query too large for listener")));const p=c.events?c.events:["mutation"],m=p.indexOf("reconnect")!==-1,v={};return(o||i)&&(v.withCredentials=!0),o&&(v.headers={Authorization:"Bearer ".concat(o)}),new ft(g=>{let b;k().then(O=>{b=O}).catch(O=>{g.error(O),A()});let x,y=!1;function w(){y||(j(),!y&&b.readyState===b.CLOSED&&(E(),clearTimeout(x),x=setTimeout(T,100)))}function _(O){g.error(kyt(O))}function C(O){const P=qke(O);return P instanceof Error?g.error(P):g.next(P)}function S(){y=!0,E(),g.complete()}function E(){b&&(b.removeEventListener("error",w),b.removeEventListener("channelError",_),b.removeEventListener("disconnect",S),p.forEach(O=>b.removeEventListener(O,C)),b.close())}function j(){m&&g.next({type:"reconnect"})}async function k(){const{default:O}=await Q7(()=>import("./browser-42db8cfb.js").then(D=>D.b),[]),P=new O(f,v);return P.addEventListener("error",w),P.addEventListener("channelError",_),P.addEventListener("disconnect",S),p.forEach(D=>P.addEventListener(D,C)),P}function T(){k().then(O=>{b=O}).catch(O=>{g.error(O),A()})}function A(){y=!0,E()}return A})}function qke(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function kyt(e){if(e instanceof Error)return e;const t=qke(e);return t instanceof Error?t:new Error(jyt(t))}function jyt(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var Gke=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},gi=(e,t,n)=>(Gke(e,t,"read from private field"),n?n.call(e):t.get(e)),L5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},B5=(e,t,n,r)=>(Gke(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$h,Mh,Fh,Lh;class Tyt{constructor(t,n){L5(this,$h,void 0),L5(this,Mh,void 0),B5(this,$h,t),B5(this,Mh,n)}create(t,n){return ov(gi(this,$h),gi(this,Mh),"PUT",t,n)}edit(t,n){return ov(gi(this,$h),gi(this,Mh),"PATCH",t,n)}delete(t){return ov(gi(this,$h),gi(this,Mh),"DELETE",t)}list(){return kl(gi(this,$h),gi(this,Mh),{uri:"/datasets",tag:null})}}$h=new WeakMap;Mh=new WeakMap;class Ayt{constructor(t,n){L5(this,Fh,void 0),L5(this,Lh,void 0),B5(this,Fh,t),B5(this,Lh,n)}create(t,n){return mo(ov(gi(this,Fh),gi(this,Lh),"PUT",t,n))}edit(t,n){return mo(ov(gi(this,Fh),gi(this,Lh),"PATCH",t,n))}delete(t){return mo(ov(gi(this,Fh),gi(this,Lh),"DELETE",t))}list(){return mo(kl(gi(this,Fh),gi(this,Lh),{uri:"/datasets",tag:null}))}}Fh=new WeakMap;Lh=new WeakMap;function ov(e,t,n,r,o){return mke(r),kl(e,t,{method:n,uri:"/datasets/".concat(r),body:o,tag:null})}var Kke=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Vd=(e,t,n)=>(Kke(e,t,"read from private field"),n?n.call(e):t.get(e)),N5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},z5=(e,t,n,r)=>(Kke(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),wy,_y,Cy,Sy;class Oyt{constructor(t,n){N5(this,wy,void 0),N5(this,_y,void 0),z5(this,wy,t),z5(this,_y,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return kl(Vd(this,wy),Vd(this,_y),{uri:n})}getById(t){return kl(Vd(this,wy),Vd(this,_y),{uri:"/projects/".concat(t)})}}wy=new WeakMap;_y=new WeakMap;class Pyt{constructor(t,n){N5(this,Cy,void 0),N5(this,Sy,void 0),z5(this,Cy,t),z5(this,Sy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return mo(kl(Vd(this,Cy),Vd(this,Sy),{uri:n}))}getById(t){return mo(kl(Vd(this,Cy),Vd(this,Sy),{uri:"/projects/".concat(t)}))}}Cy=new WeakMap;Sy=new WeakMap;var Zke=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},V5=(e,t,n)=>(Zke(e,t,"read from private field"),n?n.call(e):t.get(e)),H5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},U5=(e,t,n,r)=>(Zke(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),tS,nS,rS,oS;class Dyt{constructor(t,n){H5(this,tS,void 0),H5(this,nS,void 0),U5(this,tS,t),U5(this,nS,n)}getById(t){return kl(V5(this,tS),V5(this,nS),{uri:"/users/".concat(t)})}}tS=new WeakMap;nS=new WeakMap;class Iyt{constructor(t,n){H5(this,rS,void 0),H5(this,oS,void 0),U5(this,rS,t),U5(this,oS,n)}getById(t){return mo(kl(V5(this,rS),V5(this,oS),{uri:"/users/".concat(t)}))}}rS=new WeakMap;oS=new WeakMap;var Xke=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Tt=(e,t,n)=>(Xke(e,t,"read from private field"),n?n.call(e):t.get(e)),W5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Y5=(e,t,n,r)=>(Xke(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Bh,So,Nh,po;const Ryt=class UM{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R5;W5(this,Bh,void 0),W5(this,So,void 0),this.listen=Yke,this.config(n),Y5(this,So,t),this.assets=new yyt(this,Tt(this,So)),this.datasets=new Tyt(this,Tt(this,So)),this.projects=new Oyt(this,Tt(this,So)),this.users=new Dyt(this,Tt(this,So))}clone(){return new UM(Tt(this,So),this.config())}config(t){if(t===void 0)return{...Tt(this,Bh)};if(Tt(this,Bh)&&Tt(this,Bh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return Y5(this,Bh,$ke(t,Tt(this,Bh)||{})),this}withConfig(t){return new UM(Tt(this,So),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Fke(this,Tt(this,So),t,n,r)}getDocument(t,n){return Lke(this,Tt(this,So),t,n)}getDocuments(t,n){return Bke(this,Tt(this,So),t,n)}create(t,n){return kA(this,Tt(this,So),t,"create",n)}createIfNotExists(t,n){return Nke(this,Tt(this,So),t,n)}createOrReplace(t,n){return zke(this,Tt(this,So),t,n)}delete(t,n){return Vke(this,Tt(this,So),t,n)}mutate(t,n){return Hke(this,Tt(this,So),t,n)}patch(t,n){return new ib(t,n,this)}transaction(t){return new Ike(t,this)}request(t){return kl(this,Tt(this,So),t)}getUrl(t,n){return nB(this,t,n)}getDataUrl(t,n){return I0(this,t,n)}};Bh=new WeakMap;So=new WeakMap;let $yt=Ryt;const Myt=class WM{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R5;W5(this,Nh,void 0),W5(this,po,void 0),this.listen=Yke,this.config(n),Y5(this,po,t),this.assets=new byt(this,Tt(this,po)),this.datasets=new Ayt(this,Tt(this,po)),this.projects=new Pyt(this,Tt(this,po)),this.users=new Iyt(this,Tt(this,po)),this.observable=new $yt(t,n)}clone(){return new WM(Tt(this,po),this.config())}config(t){if(t===void 0)return{...Tt(this,Nh)};if(Tt(this,Nh)&&Tt(this,Nh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),Y5(this,Nh,$ke(t,Tt(this,Nh)||{})),this}withConfig(t){return new WM(Tt(this,po),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return mo(Fke(this,Tt(this,po),t,n,r))}getDocument(t,n){return mo(Lke(this,Tt(this,po),t,n))}getDocuments(t,n){return mo(Bke(this,Tt(this,po),t,n))}create(t,n){return mo(kA(this,Tt(this,po),t,"create",n))}createIfNotExists(t,n){return mo(Nke(this,Tt(this,po),t,n))}createOrReplace(t,n){return mo(zke(this,Tt(this,po),t,n))}delete(t,n){return mo(Vke(this,Tt(this,po),t,n))}mutate(t,n){return mo(Hke(this,Tt(this,po),t,n))}patch(t,n){return new sb(t,n,this)}transaction(t){return new Pke(t,this)}request(t){return mo(kl(this,Tt(this,po),t))}dataRequest(t,n,r){return mo(Ow(this,Tt(this,po),t,n,r))}getUrl(t,n){return nB(this,t,n)}getDataUrl(t,n){return I0(this,t,n)}};Nh=new WeakMap;po=new WeakMap;let Fyt=Myt;function Lyt(e,t){return{requester:gX(e,{}).defaultRequester,createClient:i=>new t(gX(e,{maxRetries:i.maxRetries,retryDelay:i.retryDelay}),i)}}var Byt=[];const Nyt=Lyt(Byt,Fyt),Qke=Nyt.createClient;var zyt=Vf,Vyt=Wr,Hyt=Ua,Uyt="[object String]";function Wyt(e){return typeof e=="string"||!Vyt(e)&&Hyt(e)&&zyt(e)==Uyt}var Yyt=Wyt;const jA=Pe(Yyt);function qyt(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}var Gyt=qyt;function Kyt(e){return function(t){return e==null?void 0:e[t]}}var Zyt=Kyt,Xyt=Zyt,Qyt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Jyt=Xyt(Qyt),ebt=Jyt,tbt=ebt,nbt=Dc,rbt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,obt="\\u0300-\\u036f",ibt="\\ufe20-\\ufe2f",sbt="\\u20d0-\\u20ff",abt=obt+ibt+sbt,lbt="["+abt+"]",cbt=RegExp(lbt,"g");function ubt(e){return e=nbt(e),e&&e.replace(rbt,tbt).replace(cbt,"")}var Jke=ubt;const bX=Pe(Jke);var dbt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function fbt(e){return e.match(dbt)||[]}var hbt=fbt,pbt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function mbt(e){return pbt.test(e)}var gbt=mbt,eje="\\ud800-\\udfff",vbt="\\u0300-\\u036f",ybt="\\ufe20-\\ufe2f",bbt="\\u20d0-\\u20ff",xbt=vbt+ybt+bbt,tje="\\u2700-\\u27bf",nje="a-z\\xdf-\\xf6\\xf8-\\xff",wbt="\\xac\\xb1\\xd7\\xf7",_bt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Cbt="\\u2000-\\u206f",Sbt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rje="A-Z\\xc0-\\xd6\\xd8-\\xde",Ebt="\\ufe0e\\ufe0f",oje=wbt+_bt+Cbt+Sbt,ije="['’]",xX="["+oje+"]",kbt="["+xbt+"]",sje="\\d+",jbt="["+tje+"]",aje="["+nje+"]",lje="[^"+eje+oje+sje+tje+nje+rje+"]",Tbt="\\ud83c[\\udffb-\\udfff]",Abt="(?:"+kbt+"|"+Tbt+")",Obt="[^"+eje+"]",cje="(?:\\ud83c[\\udde6-\\uddff]){2}",uje="[\\ud800-\\udbff][\\udc00-\\udfff]",dg="["+rje+"]",Pbt="\\u200d",wX="(?:"+aje+"|"+lje+")",Dbt="(?:"+dg+"|"+lje+")",_X="(?:"+ije+"(?:d|ll|m|re|s|t|ve))?",CX="(?:"+ije+"(?:D|LL|M|RE|S|T|VE))?",dje=Abt+"?",fje="["+Ebt+"]?",Ibt="(?:"+Pbt+"(?:"+[Obt,cje,uje].join("|")+")"+fje+dje+")*",Rbt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$bt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mbt=fje+dje+Ibt,Fbt="(?:"+[jbt,cje,uje].join("|")+")"+Mbt,Lbt=RegExp([dg+"?"+aje+"+"+_X+"(?="+[xX,dg,"$"].join("|")+")",Dbt+"+"+CX+"(?="+[xX,dg+wX,"$"].join("|")+")",dg+"?"+wX+"+"+_X,dg+"+"+CX,$bt,Rbt,sje,Fbt].join("|"),"g");function Bbt(e){return e.match(Lbt)||[]}var Nbt=Bbt,zbt=hbt,Vbt=gbt,Hbt=Dc,Ubt=Nbt;function Wbt(e,t,n){return e=Hbt(e),t=n?void 0:t,t===void 0?Vbt(e)?Ubt(e):zbt(e):e.match(t)||[]}var hje=Wbt;const pje=Pe(hje);var Ybt=Gyt,qbt=Jke,Gbt=hje,Kbt="['’]",Zbt=RegExp(Kbt,"g");function Xbt(e){return function(t){return Ybt(Gbt(qbt(t).replace(Zbt,"")),e,"")}}var rB=Xbt;function Qbt(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var mje=Qbt,Jbt=mje;function ext(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Jbt(e,t,n)}var gje=ext,txt="\\ud800-\\udfff",nxt="\\u0300-\\u036f",rxt="\\ufe20-\\ufe2f",oxt="\\u20d0-\\u20ff",ixt=nxt+rxt+oxt,sxt="\\ufe0e\\ufe0f",axt="\\u200d",lxt=RegExp("["+axt+txt+ixt+sxt+"]");function cxt(e){return lxt.test(e)}var vje=cxt;function uxt(e){return e.split("")}var dxt=uxt,yje="\\ud800-\\udfff",fxt="\\u0300-\\u036f",hxt="\\ufe20-\\ufe2f",pxt="\\u20d0-\\u20ff",mxt=fxt+hxt+pxt,gxt="\\ufe0e\\ufe0f",vxt="["+yje+"]",YM="["+mxt+"]",qM="\\ud83c[\\udffb-\\udfff]",yxt="(?:"+YM+"|"+qM+")",bje="[^"+yje+"]",xje="(?:\\ud83c[\\udde6-\\uddff]){2}",wje="[\\ud800-\\udbff][\\udc00-\\udfff]",bxt="\\u200d",_je=yxt+"?",Cje="["+gxt+"]?",xxt="(?:"+bxt+"(?:"+[bje,xje,wje].join("|")+")"+Cje+_je+")*",wxt=Cje+_je+xxt,_xt="(?:"+[bje+YM+"?",YM,xje,wje,vxt].join("|")+")",Cxt=RegExp(qM+"(?="+qM+")|"+_xt+wxt,"g");function Sxt(e){return e.match(Cxt)||[]}var Ext=Sxt,kxt=dxt,jxt=vje,Txt=Ext;function Axt(e){return jxt(e)?Txt(e):kxt(e)}var Sje=Axt,Oxt=gje,Pxt=vje,Dxt=Sje,Ixt=Dc;function Rxt(e){return function(t){t=Ixt(t);var n=Pxt(t)?Dxt(t):void 0,r=n?n[0]:t.charAt(0),o=n?Oxt(n,1).join(""):t.slice(1);return r[e]()+o}}var $xt=Rxt,Mxt=$xt,Fxt=Mxt("toUpperCase"),oB=Fxt;const Eje=Pe(oB);var Lxt=rB,Bxt=oB,Nxt=Lxt(function(e,t,n){return e+(n?" ":"")+Bxt(t)}),zxt=Nxt;const rn=Pe(zxt);let Vxt=e=>crypto.getRandomValues(new Uint8Array(e)),Hxt=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(o),c=o;for(;c--;)if(s+=e[a[c]&r]||"",s.length===i)return s}}},Uxt=(e,t=21)=>Hxt(e,t,Vxt),Wxt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var Yxt=["presence","listen"],q5=globalThis&&globalThis.__assign||function(){return q5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},q5.apply(this,arguments)},qxt=Uxt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),Gxt="♥";function SX(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:Zxt(t,"v1"),id:n})}function Kxt(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function Zxt(e,t){return q5(q5({},e),{apiVersion:t})}var Xxt=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,o=r===void 0?qxt:r,i=g7(e.pipe(nt(function(m){return Ti(m,"message")})),function(m){return m.data===Gxt}),s=i[0],a=i[1],c=a.pipe(ct(function(m){var v=Kxt(m.data),g=v[0],b=v[1];return g?(console.warn("Unable to parse message: %s",g.message),Un):!b||!b.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",b),Un):ve(b)}),na()),u=n?$o([n,e]).pipe(Wn(function(m,v){var g=m[0],b=m[1],x=v[0],y=v[1];return g===x&&b===y}),nt(function(m){var v=m[0],g=m[1];return v?d(g,"authorization",{authorization:"Bearer ".concat(v)}).pipe(_i(1),sA(g)):ve(g)}),_o({refCount:!0,bufferSize:1})):e;function d(m,v,g){g===void 0&&(g={});var b=o();return Qt(c.pipe(dt(function(x){return x.id===b}),le(function(x){return x.result})),io(function(){return m.send(SX(v,g,b)),Un}))}function f(m,v){return u.pipe(_i(1),ct(function(g){return d(g,m,v).pipe(_i(1))}))}function p(m,v){return u.pipe(_i(1),ct(function(g){return d(g,"".concat(m,"_subscribe"),v).pipe(_i(1),ct(function(b){return c.pipe(dt(function(x){return x.method==="".concat(m,"_subscription")&&x.params.subscription===b}),le(function(x){return x.params.result}),EEe(function(){g.readyState!==g.CLOSED&&g.readyState!==g.CLOSING&&g.send(SX("".concat(m,"_unsubscribe"),{subscriptionId:b},o()))}))}))}))}return{heartbeats:Qt(u,s,a).pipe(le(function(){return new Date})),request:function(m,v){return Qxt(m)?p(m,v):f(m,v)}}};function Qxt(e){return Yxt.includes(e)}var Jxt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),EX=function(e){Jxt(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.type=r,s.code=o,s.reason=i,s}return t}(Error);function ewt(e){return function(t){return new ft(function(n){var r=e(t),o=!1,i=function(){n.next(r)},s=function(){n.error(new EX("WebSocket connection error","CONNECTION_ERROR"))},a=function(c){o?n.complete():n.error(new EX("WebSocket connection error","CONNECTION_CLOSED",c.code,c.reason))};return r.onopen=i,r.onclose=a,r.onerror=s,function(){o=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var twt=function(e,t){return function(n){return Hit(n,Mo(e).pipe(ct(function(){return t})))}},kX;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(kX||(kX={}));var nwt=function(e){return e};function rwt(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,o=ewt(function(i,s){return new window.WebSocket(i,s)});return Xxt(o(e).pipe(n?twt(n,$u(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):nwt,_o({refCount:!0}),b7(Ti(window,"beforeunload"))),{token$:r})}function owt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var iwt=owt,swt=L7,awt=_A;function lwt(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],c=r?r(n[a],e[a],a,n,e):void 0;c===void 0&&(c=e[a]),o?awt(n,a,c):swt(n,a,c)}return n}var R0=lwt,cwt=R0,uwt=Zf;function dwt(e,t){return e&&cwt(t,uwt(t),e)}var fwt=dwt;function hwt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var pwt=hwt,mwt=Ha,gwt=yA,vwt=pwt,ywt=Object.prototype,bwt=ywt.hasOwnProperty;function xwt(e){if(!mwt(e))return vwt(e);var t=gwt(e),n=[];for(var r in e)r=="constructor"&&(t||!bwt.call(e,r))||n.push(r);return n}var wwt=xwt,_wt=zEe,Cwt=wwt,Swt=Kf;function Ewt(e){return Swt(e)?_wt(e,!0):Cwt(e)}var iB=Ewt,kwt=R0,jwt=iB;function Twt(e,t){return e&&kwt(t,jwt(t),e)}var Awt=Twt,G5={exports:{}};G5.exports;(function(e,t){var n=Dl,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,p=a?a(f):new u.constructor(f);return u.copy(p),p}e.exports=c})(G5,G5.exports);var Owt=G5.exports;function Pwt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var sB=Pwt,Dwt=R0,Iwt=E7;function Rwt(e,t){return Dwt(e,Iwt(e),t)}var $wt=Rwt,Mwt=S7,Fwt=F7,Lwt=E7,Bwt=BEe,Nwt=Object.getOwnPropertySymbols,zwt=Nwt?function(e){for(var t=[];e;)Mwt(t,Lwt(e)),e=Fwt(e);return t}:Bwt,kje=zwt,Vwt=R0,Hwt=kje;function Uwt(e,t){return Vwt(e,Hwt(e),t)}var Wwt=Uwt,Ywt=FEe,qwt=kje,Gwt=iB;function Kwt(e){return Ywt(e,Gwt,qwt)}var aB=Kwt,Zwt=Object.prototype,Xwt=Zwt.hasOwnProperty;function Qwt(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Xwt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Jwt=Qwt,jX=MEe;function e_t(e){var t=new e.constructor(e.byteLength);return new jX(t).set(new jX(e)),t}var lB=e_t,t_t=lB;function n_t(e,t){var n=t?t_t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var r_t=n_t,o_t=/\w*$/;function i_t(e){var t=new e.constructor(e.source,o_t.exec(e));return t.lastIndex=e.lastIndex,t}var s_t=i_t,TX=c0,AX=TX?TX.prototype:void 0,OX=AX?AX.valueOf:void 0;function a_t(e){return OX?Object(OX.call(e)):{}}var l_t=a_t,c_t=lB;function u_t(e,t){var n=t?c_t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var d_t=u_t,f_t=lB,h_t=r_t,p_t=s_t,m_t=l_t,g_t=d_t,v_t="[object Boolean]",y_t="[object Date]",b_t="[object Map]",x_t="[object Number]",w_t="[object RegExp]",__t="[object Set]",C_t="[object String]",S_t="[object Symbol]",E_t="[object ArrayBuffer]",k_t="[object DataView]",j_t="[object Float32Array]",T_t="[object Float64Array]",A_t="[object Int8Array]",O_t="[object Int16Array]",P_t="[object Int32Array]",D_t="[object Uint8Array]",I_t="[object Uint8ClampedArray]",R_t="[object Uint16Array]",$_t="[object Uint32Array]";function M_t(e,t,n){var r=e.constructor;switch(t){case E_t:return f_t(e);case v_t:case y_t:return new r(+e);case k_t:return h_t(e,n);case j_t:case T_t:case A_t:case O_t:case P_t:case D_t:case I_t:case R_t:case $_t:return g_t(e,n);case b_t:return new r;case x_t:case C_t:return new r(e);case w_t:return p_t(e);case __t:return new r;case S_t:return m_t(e)}}var F_t=M_t,L_t=Ha,PX=Object.create,B_t=function(){function e(){}return function(t){if(!L_t(t))return{};if(PX)return PX(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),cB=B_t,N_t=cB,z_t=F7,V_t=yA;function H_t(e){return typeof e.constructor=="function"&&!V_t(e)?N_t(z_t(e)):{}}var U_t=H_t,W_t=jw,Y_t=Ua,q_t="[object Map]";function G_t(e){return Y_t(e)&&W_t(e)==q_t}var K_t=G_t,Z_t=K_t,X_t=T0,DX=j7,IX=DX&&DX.isMap,Q_t=IX?X_t(IX):Z_t,J_t=Q_t,eCt=jw,tCt=Ua,nCt="[object Set]";function rCt(e){return tCt(e)&&eCt(e)==nCt}var oCt=rCt,iCt=oCt,sCt=T0,RX=j7,$X=RX&&RX.isSet,aCt=$X?sCt($X):iCt,lCt=aCt,cCt=_7,uCt=iwt,dCt=L7,fCt=fwt,hCt=Awt,pCt=Owt,mCt=sB,gCt=$wt,vCt=Wwt,yCt=UEe,bCt=aB,xCt=jw,wCt=Jwt,_Ct=F_t,CCt=U_t,SCt=Wr,ECt=gA,kCt=J_t,jCt=Ha,TCt=lCt,ACt=Zf,OCt=iB,PCt=1,DCt=2,ICt=4,jje="[object Arguments]",RCt="[object Array]",$Ct="[object Boolean]",MCt="[object Date]",FCt="[object Error]",Tje="[object Function]",LCt="[object GeneratorFunction]",BCt="[object Map]",NCt="[object Number]",Aje="[object Object]",zCt="[object RegExp]",VCt="[object Set]",HCt="[object String]",UCt="[object Symbol]",WCt="[object WeakMap]",YCt="[object ArrayBuffer]",qCt="[object DataView]",GCt="[object Float32Array]",KCt="[object Float64Array]",ZCt="[object Int8Array]",XCt="[object Int16Array]",QCt="[object Int32Array]",JCt="[object Uint8Array]",e2t="[object Uint8ClampedArray]",t2t="[object Uint16Array]",n2t="[object Uint32Array]",Rn={};Rn[jje]=Rn[RCt]=Rn[YCt]=Rn[qCt]=Rn[$Ct]=Rn[MCt]=Rn[GCt]=Rn[KCt]=Rn[ZCt]=Rn[XCt]=Rn[QCt]=Rn[BCt]=Rn[NCt]=Rn[Aje]=Rn[zCt]=Rn[VCt]=Rn[HCt]=Rn[UCt]=Rn[JCt]=Rn[e2t]=Rn[t2t]=Rn[n2t]=!0;Rn[FCt]=Rn[Tje]=Rn[WCt]=!1;function iS(e,t,n,r,o,i){var s,a=t&PCt,c=t&DCt,u=t&ICt;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!jCt(e))return e;var d=SCt(e);if(d){if(s=wCt(e),!a)return mCt(e,s)}else{var f=xCt(e),p=f==Tje||f==LCt;if(ECt(e))return pCt(e,a);if(f==Aje||f==jje||p&&!o){if(s=c||p?{}:CCt(e),!a)return c?vCt(e,hCt(s,e)):gCt(e,fCt(s,e))}else{if(!Rn[f])return o?e:{};s=_Ct(e,f,a)}}i||(i=new cCt);var m=i.get(e);if(m)return m;i.set(e,s),TCt(e)?e.forEach(function(b){s.add(iS(b,t,n,b,e,i))}):kCt(e)&&e.forEach(function(b,x){s.set(x,iS(b,t,n,x,e,i))});var v=u?c?bCt:yCt:c?OCt:ACt,g=d?void 0:v(e);return uCt(g||e,function(b,x){g&&(x=b,b=e[x]),dCt(s,x,iS(b,t,n,x,e,i))}),s}var uB=iS;function r2t(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var o2t=r2t,i2t=Tw,s2t=mje;function a2t(e,t){return t.length<2?e:i2t(e,s2t(t,0,-1))}var l2t=a2t,c2t=P0,u2t=o2t,d2t=l2t,f2t=bm;function h2t(e,t){return t=c2t(t,e),e=d2t(e,t),e==null||delete e[f2t(u2t(t))]}var p2t=h2t,m2t=k5e;function g2t(e){return m2t(e)?void 0:e}var v2t=g2t,y2t=Pc,b2t=uB,x2t=p2t,w2t=P0,_2t=R0,C2t=v2t,S2t=B7,E2t=aB,k2t=1,j2t=2,T2t=4,A2t=S2t(function(e,t){var n={};if(e==null)return n;var r=!1;t=y2t(t,function(i){return i=w2t(i,e),r||(r=i.length>1),i}),_2t(e,E2t(e),n),r&&(n=b2t(n,k2t|j2t|T2t,C2t));for(var o=t.length;o--;)x2t(n,t[o]);return n}),O2t=A2t;const Ai=Pe(O2t);var P2t=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const Dw=Pe(P2t);var D2t=Wr;function I2t(){if(!arguments.length)return[];var e=arguments[0];return D2t(e)?e:[e]}var R2t=I2t;const Iw=Pe(R2t);var $2t=Pc,M2t=Xf,F2t=p5e,L2t=Wr;function B2t(e,t){var n=L2t(e)?$2t:F2t;return n(e,M2t(t))}var N2t=B2t,z2t=O0,V2t=N2t;function H2t(e,t){return z2t(V2t(e,t),1)}var U2t=H2t;const W2t=Pe(U2t);var Y2t="Expected a function";function q2t(e){if(typeof e!="function")throw new TypeError(Y2t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var Oje=q2t;const G2t=Pe(Oje);var K2t=Pc,Z2t=Xf,X2t=j5e,Q2t=aB;function J2t(e,t){if(e==null)return{};var n=K2t(Q2t(e),function(r){return[r]});return t=Z2t(t),X2t(e,n,function(r,o){return t(r,o[0])})}var Pje=J2t;const eSt=Pe(Pje);var tSt=Xf,nSt=Oje,rSt=Pje;function oSt(e,t){return rSt(e,nSt(tSt(t)))}var iSt=oSt;const Dje=Pe(iSt);function sSt(e){return e===void 0}var aSt=sSt;const Ije=Pe(aSt);var lSt=Dc,cSt=oB;function uSt(e){return cSt(lSt(e).toLowerCase())}var Rje=uSt;const Sm=Pe(Rje);var dSt=Pc,fSt=sB,hSt=Wr,pSt=sm,mSt=i5e,gSt=bm,vSt=Dc;function ySt(e){return hSt(e)?dSt(e,gSt):pSt(e)?[e]:fSt(mSt(vSt(e)))}var bSt=ySt;const xSt=Pe(bSt);function wSt(){}var dB=wSt;const $je=Pe(dB);var oI=WEe,_St=dB,CSt=C7,SSt=1/0,ESt=oI&&1/CSt(new oI([,-0]))[1]==SSt?function(e){return new oI(e)}:_St,kSt=ESt,jSt=hA,TSt=$7,ASt=M7,OSt=pA,PSt=kSt,DSt=C7,ISt=200;function RSt(e,t,n){var r=-1,o=TSt,i=e.length,s=!0,a=[],c=a;if(n)s=!1,o=ASt;else if(i>=ISt){var u=t?null:PSt(e);if(u)return DSt(u);s=!1,o=OSt,c=new jSt}else c=t?[]:a;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),a.push(d)}else o(c,f,n)||(c!==a&&c.push(f),a.push(d))}return a}var TA=RSt,$St=Xf,MSt=TA;function FSt(e,t){return e&&e.length?MSt(e,$St(t)):[]}var LSt=FSt;const $f=Pe(LSt),es=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue"],MX=[...es],iI={name:"any",type:null,jsonType:"any"},BSt={get(){return iI},extend(e,t){const n=Object.assign(wt(iI,MX),e,{type:iI,of:e.of.map(o=>({name:o.name,type:t(Ai(o,"name"))}))});return r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,wt(i,MX),{type:o});return r(s)}}}}};var Qf={prepare:e=>({title:String(e)})};const FX=[...es],sI={name:"string",title:"String",type:null,jsonType:"string"},NSt={get(){return sI},extend(e){const t=Object.assign(wt(sI,FX),e,{type:sI,preview:Qf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,FX),{type:r});return n(i)}}}}},LX=[...es,"rows"],aI={name:"text",title:"Text",type:null,jsonType:"string"},zSt={get(){return aI},extend(e){const t=Object.assign(wt(aI,LX),e,{type:aI,preview:Qf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,LX),{type:r});return n(i)}}}}},BX=[...es],lI={name:"datetime",title:"Datetime",type:null,jsonType:"string"},VSt={get(){return lI},extend(e){const t=Object.assign(wt(lI,BX),e,{type:lI,preview:Qf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,BX),{type:r});return n(i)}}}}},NX=[...es],cI={name:"date",title:"Datetime",type:null,jsonType:"string"},HSt={get(){return cI},extend(e){const t=Object.assign(wt(cI,NX),e,{type:cI,preview:Qf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,NX),{type:r});return n(i)}}}}},zX=[...es],uI={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},USt={get(){return uI},extend(e){const t=Object.assign(wt(uI,zX),e,{type:uI,preview:Qf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,zX),{type:r});return n(i)}}}}},VX=[...es],dI={name:"url",title:"Url",type:null,jsonType:"string"},WSt={get(){return dI},extend(e){const t=Object.assign(wt(dI,VX),e,{type:dI,preview:Qf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,VX),{type:r});return n(i)}}}}},HX=[...es],fI={name:"email",title:"Email",type:null,jsonType:"string"},YSt={get(){return fI},extend(e){const t=Object.assign(wt(fI,HX),e,{type:fI,preview:Qf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,HX),{type:r});return n(i)}}}}},UX=[...es],hI={name:"number",title:"Number",type:null,jsonType:"number"},qSt={get(){return hI},extend(e){const t=Object.assign(wt(hI,UX),e,{type:hI,preview:Qf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,UX),{type:r});return n(i)}}}}};function Ln(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const o=n();return Object.defineProperty(e,t,{value:o,writable:!!r.writable,configurable:!1}),o}}),e}function GSt(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function GM(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const o=Math.max(e.length-t.maxBreadth),i=e.slice(0,t.maxBreadth).map((s,a)=>GM(s,t,n+1)).concat(o>0?"…+".concat(o):[]).join(", ");return n===0?i:"[".concat(i,"]")}if(typeof e=="object"&&e!==null){const o=Object.keys(e).filter(s=>!t.ignoreKeys.includes(s)&&typeof e[s]<"u");if(GSt(wt(e,o)))return"{empty}";const i=o.slice(0,t.maxBreadth).map(s=>"".concat(s,": ").concat(GM(e[s],t,n+1))).join(", ");return n===0?i:"{".concat(i,"}")}const r=String(e);return r===""?'""':r}function KSt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return GM(e,n,0)}const ZSt={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function XSt(e){return t=>({title:KSt(wt(t,e),ZSt)})}function QSt(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")}const Mje=["title","name","label","heading","header","caption"],JSt=["description",...Mje];function Fje(e,t){return Dw(e.to||[]).some(n=>n.type===t)}function WX(e){return Fje(e,"sanity.imageAsset")}function eEt(e){const t=e.fields||[],n=t.find(WX);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(WX));return r?"".concat(r.name,".asset"):void 0}function YX(e){return Fje(e,"sanity.fileAsset")}function tEt(e){const t=e.fields||[],n=t.find(YX);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(YX));return r?"".concat(r.name,".asset"):void 0}function nEt(e){const t={fields:[],...e},n=t.fields.filter(u=>u.type==="string").map(u=>u.name),r=t.fields.filter(QSt).map(u=>u.name);let o=Mje.find(u=>n.includes(u)||r.includes(u)),i=JSt.find(u=>u!==o&&(n.includes(u)||r.includes(u)));o||(o=n[0]||r[0],i=n[1]||r[1]);const s=t.fields.find(u=>u.type==="image"),a=eEt(t);if(!o){const u=tEt(t);u&&(o="".concat(u,".originalFilename")),a&&(o="".concat(a,".originalFilename"))}if(!o&&!a){const u=t.fields.map(f=>f.name);return{select:u.reduce((f,p)=>(f[p]=p,f),{}),prepare:XSt(u)}}return{select:Dje({title:o,description:i,media:s?s.name:a},Ije)}}function rEt(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(e.name,`".
`))}function oEt(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(e.name,`".
`))}function iEt(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function sEt(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...wt(e,["prepare","component"]),select:iEt(t)}:{...wt(e,["prepare","component"]),select:t}}function Rw(e){return function(){return rEt(e),oEt(e),sEt(e.preview||(e.options||{}).preview)||nEt(e)}}const aEt=["title","name","label","heading","header","caption","description"],lEt=["string","boolean","number"],qX=e=>lEt.includes(e.type);function cEt(e){let t=aEt.filter(n=>e.fields.some(r=>qX(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(qX).map(n=>n.name)),t.map(n=>({name:n,title:Sm(rn(n)),by:[{field:n,direction:"asc"}]}))}function GX(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!br(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:xSt(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const iv=Symbol("__cachedStringFields"),uEt=e=>e.type&&e.type.name==="reference",dEt=["style","list"],fB=e=>e.name==="block"||e.type&&fB(e.type),fEt=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(fB);function AA(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(o<0)return n;const i=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?hEt(e,t,i,r,o):e.jsonType==="object"&&Array.isArray(e.fields)&&!uEt(e)?pEt(e,t,i,r,o):i}function hEt(e,t,n,r,o){return e.of.reduce((i,s)=>AA(s,t,i,r,o-1),n)}function pEt(e,t,n,r,o){const i=fB(e);return e.fields.reduce((s,a)=>{if(i&&dEt.includes(a.name))return s;const c=[a.name].concat(a.type.jsonType==="array"?[[]]:[]);return AA(a.type,t,s,r.concat(c),o-1)},n)}const Lje=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],KX={title:10,subtitle:5,description:1.5};function Bje(e){var t;const n=(t=e==null?void 0:e.preview)==null?void 0:t.select;return n?Object.keys(n).filter(r=>r in KX).map(r=>({weight:KX[r],path:n[r].split(".")})):[]}function mEt(e,t){return e[iv]||(e[iv]=$f([...Lje,...Bje(e),...vEt(e,t).map(n=>({weight:1,path:n})),...yEt(e,t).map(n=>({weight:1,path:n,mapWith:"pt::text"}))],n=>n.path.join("."))),e[iv]}function gEt(e){return e[iv]||(e[iv]=$f([...Lje,...Bje(e)],t=>t.path.join("."))),e[iv]}function vEt(e,t){return AA(e,(r,o,i)=>o.jsonType==="string"?[...r,i]:r,[],[],t)}function yEt(e,t){return AA(e,(r,o,i)=>fEt(o)?[...r,i]:r,[],[],t)}function bEt(e){return gEt(e)}function xEt(e){return mEt(e,4)}const ZX=[...es,"orderings","__experimental_search","blockEditor","icon"],Nje={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},o=Object.assign(wt(this.get(),ZX),n,{type:this.get(),title:n.title||(n.name?rn(n.name):""),options:r,orderings:n.orderings||cEt(n),fields:n.fields.map(s=>{const{name:a,fieldset:c,group:u,...d}=s;return Ln({name:a,group:u,fieldset:c},"type",()=>t({...d,title:s.title||rn(a)}))})});return Ln(o,"fieldsets",()=>OA(n,o.fields)),Ln(o,"groups",()=>wEt(n,o.fields)),Ln(o,"preview",Rw(n)),Ln(o,"__experimental_search",()=>{const s=n.__experimental_search?GX(n.__experimental_search):null;return s?s.map(a=>a==="defaults"?GX(n):a):xEt(o)},{enumerable:!1}),i(o);function i(s){return{get(){return s},extend:a=>{if(a.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const c=Object.assign({},s,wt(a,ZX),{title:a.title||n.title||(n.name?rn(n.name):""),type:s});return Ln(c,"__experimental_search",()=>s.__experimental_search),i(c)}}}}};function OA(e,t){const n={};for(const o of e.fieldsets||[]){if(n[o.name])throw new Error('Duplicate fieldset name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:rn(e.name),"'"));n[o.name]={title:rn(o.name),...o,fields:[]}}const r=new Set;for(const o of t){if(!o.fieldset){r.add({single:!0,field:o});continue}const i=n[o.fieldset];if(!i)throw new Error("Fieldset '".concat(o.fieldset,"' is not defined in schema for type '").concat(e.name,"'"));i.fields.push(o),r.add(i)}return Array.from(r)}function wEt(e,t){const n={};let r=0;for(const o of e.groups||[]){if(n[o.name])throw new Error('Duplicate group name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:rn(e.name),"'"));if(n[o.name]={title:rn(o.name),...o,fields:[]},o.default&&++r>1)throw new Error("More than one field group defined as default for type '".concat(e.title?e.title:rn(e.name),"' - only 1 is supported"))}return t.forEach(o=>{const i=Iw(o.group||[]);i.length!==0&&i.forEach(s=>{const a=n[s];if(!a)throw new Error("Field group '".concat(s,"' is not defined in schema for type '").concat(e.title?e.name:rn(e.name),"'"));a.fields.push(o)})}),W2t(n).filter(o=>o.fields.length>0)}const _Et={name:"_ref",title:"Referenced document ID",type:"string"},CEt={name:"_weak",title:"Weak reference",type:"boolean"},SEt=[_Et,CEt],XX=[...es],pI={name:"reference",title:"Reference",type:null,jsonType:"object"};function EEt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function kEt(e){return!e.to||e.to.length===0?"Reference":"Reference to ".concat(EEt(Dw(e.to).map(t=>t.title),"or").toLowerCase())}const jEt={get(){return pI},extend(e,t){if(!e.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(e.name));const n=Object.assign(wt(pI,XX),e,{type:pI});return Ln(n,"fields",()=>SEt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Ln(n,"fieldsets",()=>OA(e,n.fields)),Ln(n,"to",()=>Dw(e.to).map(o=>t(o))),Ln(n,"title",()=>e.title||kEt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,wt(i,XX),{type:o});return r(s)}}}}},TEt={name:"_ref",title:"Referenced document ID",type:"string"},AEt={name:"_weak",title:"Weak reference marker",type:"boolean"},OEt={name:"_dataset",title:"Target dataset",type:"string"},PEt={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},DEt=[TEt,AEt,OEt,PEt],QX=[...es],mI={name:"crossDatasetReference",type:null,jsonType:"object"};function IEt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function REt(e){return!e.to||e.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(IEt(Dw(e.to).map(t=>t.title||Sm(t.type)),"or").toLowerCase())}const $Et={get(){return mI},extend(e,t){if(!e.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(e.name));const n=Object.assign(wt(mI,QX),e,{type:mI});return Ln(n,"fields",()=>DEt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Ln(n,"to",()=>Dw(e.to).map(o=>({...o,__experimental_search:bEt(o)}))),Ln(n,"title",()=>e.title||REt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,wt(i,QX),{type:o});return r(s)}}}}},MEt={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},FEt={name:"hotspot",type:"sanity.imageHotspot"},LEt={name:"crop",type:"sanity.imageCrop"},JX=[...es],eQ={name:"image",title:"Image",type:null,jsonType:"object"},BEt={},NEt={get(){return eQ},extend(e,t){const n={...e.options||BEt};let r=[FEt,LEt];n.hotspot||(r=r.map(c=>({...c,hidden:!0})));const o=[MEt,...r,...e.fields||[]],i={...e,fields:o},s=Object.assign(wt(this.get(),JX),i,{type:eQ,title:i.title||(i.name?rn(i.name):""),options:n,fields:i.fields.map(c=>{const{name:u,fieldset:d,...f}=c,p={name:u,fieldset:d,isCustomized:!!e.fields};return Ln(p,"type",()=>t({...f,title:c.title||rn(u)}))})});return Ln(s,"fieldsets",()=>OA(i,s.fields)),Ln(s,"preview",Rw(Object.assign({},i,{fields:o}))),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},c,wt(u,JX),{type:c});return a(d)}}}}},zEt={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},tQ=[...es],gI={name:"file",title:"File",type:null,jsonType:"object"},VEt={accept:""},HEt={get(){return gI},extend(e,t){const n={...e.options||VEt},r=[zEt,...e.fields||[]],o={...e,fields:r},i=Object.assign(wt(gI,tQ),o,{type:gI,title:o.title||(o.name?rn(o.name):""),options:n,fields:o.fields.map(a=>{const{name:c,fieldset:u,...d}=a,f={name:c,fieldset:u,isCustomized:!!e.fields};return Ln(f,"type",()=>t({...d,title:a.title||rn(c)}))})});return Ln(i,"fieldsets",()=>OA(o,i.fields)),Ln(i,"preview",Rw(Object.assign({},o,{fields:r}))),s(i);function s(a){return{get(){return a},extend:c=>{if(c.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},a,wt(c,tQ),{type:a});return s(u)}}}}},UEt={name:"document",title:"Document",type:null,jsonType:"object"},WEt={get(){return UEt},extend:Nje.extend},nQ=[...es],vI={name:"array",type:null,jsonType:"array",of:[]},YEt={get(){return vI},extend(e,t){const n=Object.assign(wt(vI,nQ),e,{type:vI});return Ln(n,"of",()=>e.of.map(o=>t(o))),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,wt(i,nQ),{type:o});return r(s)}}}}},qEt={type:"object",name:"link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},GEt={type:"text",name:"text",title:"Text"},KEt={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},rQ={bullet:{title:"Bulleted list",value:"bullet"},numbered:{title:"Numbered list",value:"number"}},ZEt=[rQ.bullet,rQ.numbered],Xc={normal:{title:"Normal",value:"normal"},h1:{title:"Heading 1",value:"h1"},h2:{title:"Heading 2",value:"h2"},h3:{title:"Heading 3",value:"h3"},h4:{title:"Heading 4",value:"h4"},h5:{title:"Heading 5",value:"h5"},h6:{title:"Heading 6",value:"h6"},blockquote:{title:"Quote",value:"blockquote"}},XEt=[Xc.normal,Xc.h1,Xc.h2,Xc.h3,Xc.h4,Xc.h5,Xc.h6,Xc.blockquote],QEt={title:"Strong",value:"strong"},JEt={title:"Italic",value:"em"},e5t={title:"Code",value:"code"},t5t={title:"Underline",value:"underline"},n5t={title:"Strike",value:"strike-through"},D1={strong:QEt,em:JEt,code:e5t,underline:t5t,strikeThrough:n5t},r5t=[D1.strong,D1.em,D1.code,D1.underline,D1.strikeThrough],oQ=["type","name","title","jsonType","description","options","fieldsets","icon"],yI={name:"block",title:"Block",type:null,jsonType:"object"},o5t={},i5t={get(){return yI},extend(e,t){const n={...e.options||o5t},{marks:r,styles:o,lists:i,of:s,...a}=e,c=c5t(r,s),u=a5t(o),d=l5t(i),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||zje},m=[c,u,d,f,{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),v=Object.assign(wt(yI,oQ),a,{type:yI,options:n});return Ln(v,"fields",()=>m.map(b=>{const{name:x,...y}=b;return{name:x,type:t(y)}})),Ln(v,"preview",Rw(e)),g(v);function g(b){return{get(){return b},extend:x=>{if(x.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const y=Object.assign({},b,wt(x,oQ),{type:b});return g(y)}}}}};function s5t(e){return e.some(t=>t.value==="normal")?e:[Xc.normal,...e]}function a5t(e){return{name:"style",title:"Style",type:"string",options:{list:s5t(e||XEt)}}}function l5t(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||ZEt}}}const zje=[qEt];function c5t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[GEt,KEt],annotations:e&&e.annotations?e.annotations:zje,decorators:e&&e.decorators?e.decorators:r5t},...t.filter(n=>n.type!=="span")]}}const iQ=["type","name","title","jsonType","description","options","fieldsets","icon"],bI={name:"span",title:"Span",type:null,jsonType:"object"},u5t={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},d5t={name:"text",title:"Text",type:"string"},f5t={},h5t={get(){return bI},extend(e,t){const n={...e.options||f5t},{annotations:r=[],marks:o=[]}=e,i=[u5t,d5t],s=Object.assign(wt(bI,iQ),e,{type:bI,options:n});return Ln(s,"fields",()=>i.map(c=>{const{name:u,...d}=c;return{name:u,type:t(d)}})),Ln(s,"annotations",()=>r.map(t)),Ln(s,"marks",()=>o.map(t)),Ln(s,"preview",Rw(e)),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},c,wt(u,iQ),{type:c});return a(d)}}}}};var p5t=Object.freeze({__proto__:null,any:BSt,array:YEt,block:i5t,boolean:USt,crossDatasetReference:$Et,date:HSt,datetime:VSt,document:WEt,email:YSt,file:HEt,image:NEt,number:qSt,object:Nje,reference:jEt,span:h5t,string:NSt,text:zSt,url:WSt});function m5t(e){const t=Object.assign(Object.create(null),p5t),n=e.types.reduce((s,a)=>{if(s[a.name])throw new Error("Duplicate type name added to schema: ".concat(a.name));return s[a.name]=a,s},{});return e.types.forEach(i),t;function r(s){if(!t[s]){if(!n[s])throw new Error("Unknown type: ".concat(s));i(n[s])}}function o(s){return r(s.type),t[s.type].extend(s,o).get()}function i(s){r(s.type),!t[s.name]&&(t[s.name]=t[s.type].extend(s,o))}}let g5t=class Vje{static compile(t){return new Vje(t)}constructor(t){this._original=t,this._registry=m5t(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const hB=g5t;var v5t=TA;function y5t(e){return e&&e.length?v5t(e):[]}var b5t=y5t;const so=Pe(b5t),x5t={},w5t=Object.freeze(Object.defineProperty({__proto__:null,default:x5t},Symbol.toStringTag,{value:"Module"})),_5t=yLe(w5t);var pB=typeof Map=="function"&&Map.prototype,xI=Object.getOwnPropertyDescriptor&&pB?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,K5=pB&&xI&&typeof xI.get=="function"?xI.get:null,sQ=pB&&Map.prototype.forEach,mB=typeof Set=="function"&&Set.prototype,wI=Object.getOwnPropertyDescriptor&&mB?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Z5=mB&&wI&&typeof wI.get=="function"?wI.get:null,aQ=mB&&Set.prototype.forEach,C5t=typeof WeakMap=="function"&&WeakMap.prototype,ab=C5t?WeakMap.prototype.has:null,S5t=typeof WeakSet=="function"&&WeakSet.prototype,lb=S5t?WeakSet.prototype.has:null,E5t=typeof WeakRef=="function"&&WeakRef.prototype,lQ=E5t?WeakRef.prototype.deref:null,k5t=Boolean.prototype.valueOf,j5t=Object.prototype.toString,T5t=Function.prototype.toString,A5t=String.prototype.match,gB=String.prototype.slice,Hd=String.prototype.replace,O5t=String.prototype.toUpperCase,cQ=String.prototype.toLowerCase,Hje=RegExp.prototype.test,uQ=Array.prototype.concat,rc=Array.prototype.join,P5t=Array.prototype.slice,dQ=Math.floor,KM=typeof BigInt=="function"?BigInt.prototype.valueOf:null,_I=Object.getOwnPropertySymbols,ZM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Oi=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Uv||"symbol")?Symbol.toStringTag:null,Uje=Object.prototype.propertyIsEnumerable,fQ=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function hQ(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Hje.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-dQ(-e):dQ(e);if(r!==e){var o=String(r),i=gB.call(t,o.length+1);return Hd.call(o,n,"$&_")+"."+Hd.call(Hd.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Hd.call(t,n,"$&_")}var XM=_5t,pQ=XM.custom,mQ=Yje(pQ)?pQ:null,D5t=function e(t,n,r,o){var i=n||{};if(Td(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Td(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Td(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Td(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Td(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return Gje(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return a?hQ(t,c):c}if(typeof t=="bigint"){var u=String(t)+"n";return a?hQ(t,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return QM(t)?"[Array]":"[Object]";var f=Z5t(i,r);if(typeof o>"u")o=[];else if(qje(o,t)>=0)return"[Circular]";function p(P,D,R){if(D&&(o=P5t.call(o),o.push(D)),R){var $={depth:i.depth};return Td(i,"quoteStyle")&&($.quoteStyle=i.quoteStyle),e(P,$,r+1,o)}return e(P,i,r+1,o)}if(typeof t=="function"&&!gQ(t)){var m=z5t(t),v=aC(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+rc.call(v,", ")+" }":"")}if(Yje(t)){var g=Uv?Hd.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):ZM.call(t);return typeof t=="object"&&!Uv?I1(g):g}if(q5t(t)){for(var b="<"+cQ.call(String(t.nodeName)),x=t.attributes||[],y=0;y<x.length;y++)b+=" "+x[y].name+"="+Wje(I5t(x[y].value),"double",i);return b+=">",t.childNodes&&t.childNodes.length&&(b+="..."),b+="</"+cQ.call(String(t.nodeName))+">",b}if(QM(t)){if(t.length===0)return"[]";var w=aC(t,p);return f&&!K5t(w)?"["+JM(w,f)+"]":"[ "+rc.call(w,", ")+" ]"}if($5t(t)){var _=aC(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!Uje.call(t,"cause")?"{ ["+String(t)+"] "+rc.call(uQ.call("[cause]: "+p(t.cause),_),", ")+" }":_.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+rc.call(_,", ")+" }"}if(typeof t=="object"&&s){if(mQ&&typeof t[mQ]=="function"&&XM)return XM(t,{depth:d-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(V5t(t)){var C=[];return sQ&&sQ.call(t,function(P,D){C.push(p(D,t,!0)+" => "+p(P,t))}),vQ("Map",K5.call(t),C,f)}if(W5t(t)){var S=[];return aQ&&aQ.call(t,function(P){S.push(p(P,t))}),vQ("Set",Z5.call(t),S,f)}if(H5t(t))return CI("WeakMap");if(Y5t(t))return CI("WeakSet");if(U5t(t))return CI("WeakRef");if(F5t(t))return I1(p(Number(t)));if(B5t(t))return I1(p(KM.call(t)));if(L5t(t))return I1(k5t.call(t));if(M5t(t))return I1(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===ys)return"{ [object globalThis] }";if(!R5t(t)&&!gQ(t)){var E=aC(t,p),j=fQ?fQ(t)===Object.prototype:t instanceof Object||t.constructor===Object,k=t instanceof Object?"":"null prototype",T=!j&&Oi&&Object(t)===t&&Oi in t?gB.call(Jf(t),8,-1):k?"Object":"",A=j||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",O=A+(T||k?"["+rc.call(uQ.call([],T||[],k||[]),": ")+"] ":"");return E.length===0?O+"{}":f?O+"{"+JM(E,f)+"}":O+"{ "+rc.call(E,", ")+" }"}return String(t)};function Wje(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function I5t(e){return Hd.call(String(e),/"/g,"&quot;")}function QM(e){return Jf(e)==="[object Array]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function R5t(e){return Jf(e)==="[object Date]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function gQ(e){return Jf(e)==="[object RegExp]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function $5t(e){return Jf(e)==="[object Error]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function M5t(e){return Jf(e)==="[object String]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function F5t(e){return Jf(e)==="[object Number]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function L5t(e){return Jf(e)==="[object Boolean]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function Yje(e){if(Uv)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!ZM)return!1;try{return ZM.call(e),!0}catch{}return!1}function B5t(e){if(!e||typeof e!="object"||!KM)return!1;try{return KM.call(e),!0}catch{}return!1}var N5t=Object.prototype.hasOwnProperty||function(e){return e in this};function Td(e,t){return N5t.call(e,t)}function Jf(e){return j5t.call(e)}function z5t(e){if(e.name)return e.name;var t=A5t.call(T5t.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function qje(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function V5t(e){if(!K5||!e||typeof e!="object")return!1;try{K5.call(e);try{Z5.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function H5t(e){if(!ab||!e||typeof e!="object")return!1;try{ab.call(e,ab);try{lb.call(e,lb)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function U5t(e){if(!lQ||!e||typeof e!="object")return!1;try{return lQ.call(e),!0}catch{}return!1}function W5t(e){if(!Z5||!e||typeof e!="object")return!1;try{Z5.call(e);try{K5.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Y5t(e){if(!lb||!e||typeof e!="object")return!1;try{lb.call(e,lb);try{ab.call(e,ab)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function q5t(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function Gje(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Gje(gB.call(e,0,t.maxStringLength),t)+r}var o=Hd.call(Hd.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,G5t);return Wje(o,"single",t)}function G5t(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+O5t.call(t.toString(16))}function I1(e){return"Object("+e+")"}function CI(e){return e+" { ? }"}function vQ(e,t,n,r){var o=r?JM(n,r):rc.call(n,", ");return e+" ("+t+") {"+o+"}"}function K5t(e){for(var t=0;t<e.length;t++)if(qje(e[t],`
`)>=0)return!1;return!0}function Z5t(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=rc.call(Array(e.indent+1)," ");else return null;return{base:n,prev:rc.call(Array(t+1),n)}}function JM(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+rc.call(e,","+n)+`
`+t.prev}function aC(e,t){var n=QM(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Td(e,o)?t(e[o],e):""}var i=typeof _I=="function"?_I(e):[],s;if(Uv){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var c in e)Td(e,c)&&(n&&String(Number(c))===c&&c<e.length||Uv&&s["$"+c]instanceof Symbol||(Hje.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if(typeof _I=="function")for(var u=0;u<i.length;u++)Uje.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}const Lg=Pe(D5t);function X5t(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}var Q5t=X5t,J5t=h5e;function ekt(e,t,n,r){return J5t(e,function(o,i,s){t(r,o,n(o),s)}),r}var tkt=ekt,nkt=Q5t,rkt=tkt,okt=Xf,ikt=Wr;function skt(e,t){return function(n,r){var o=ikt(n)?nkt:rkt,i=t?t():{};return o(n,e,okt(r),i)}}var vB=skt,akt=vB,lkt=akt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ckt=lkt;const yB=Pe(ckt);var ukt=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var o="",i=0;i<r;i++)i===r-1?(n.oxfordComma&&(o+=","),o+=" "+n.conjunction+" "):i!==0&&(o+=", "),o+=t[i];return o};const ws=Pe(ukt);var bB={exports:{}};const SI=[],yQ=[],Kje=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,o=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-o);)r--,o--;let i=0;for(;i<r&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(r-=i,o-=i,r===0)return o;let s,a,c,u,d=0,f=0;for(;d<r;)yQ[d]=e.charCodeAt(i+d),SI[d]=++d;for(;f<o;)for(s=t.charCodeAt(i+f),c=f++,a=f,d=0;d<r;d++)u=s===yQ[d]?c:c+1,c=SI[d],a=SI[d]=c>a?u>a?a+1:u:u>c?c+1:u;return a};bB.exports=Kje;bB.exports.default=Kje;var dkt=bB.exports;const fkt=Pe(dkt),hkt="https://docs.sanity.io/help/";function Zje(e){return hkt+e}const tt={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function Xje(e,t,n){if(n&&!Object.keys(tt).some(r=>tt[r]===n))throw new Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:e,message:t,helpId:n}}const Ae=(e,t)=>Xje("error",e,t),Mr=(e,t)=>Xje("warning",e,t);function pkt(e){return En(e.map(t=>Qje(t))).filter(t=>t.problems.length>0)}function Em(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n=>Fn(n,e);return function(r,o){const i=[...o,{kind:"type",type:r.type,name:r.name}],s=t(r)||[],a=Array.isArray(s)?s.map(c=>{const u={kind:"property",name:e},d=[...i,u];return Qje(c,d)}):[[{path:i,problems:[Ae("Member declaration (".concat(e,") is not an array"))]}]];return[{path:i,problems:r._problems||[]},...En(a)]}}const mkt=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],bQ=Em("fields"),gkt=Em("fields"),vkt=Em("fields"),ykt=Em("of"),bkt=Em("to",e=>"to"in e?mkt(e.to):[]),xkt=Em("marks.annotations"),wkt=Em("of"),_kt=(e,t)=>[...xkt(e,t),...wkt(e,t)];function Ckt(e){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function Qje(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(e.type){case"object":return bQ(e,t);case"document":return bQ(e,t);case"array":return ykt(e,t);case"reference":return bkt(e,t);case"block":return _kt(e,t);case"image":return gkt(e,t);case"file":return vkt(e,t);default:return Ckt(e,t)}}function PA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r;const n=e.reduce((r,o)=>{const i=t(o);return r[i]||(r[i]=[]),r[i].push(o),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const Skt=e=>e,Ekt={name:"type",type:null},kkt=["any","time","date"];function jkt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Skt;const r=Object.create(null),o=Object.create(null),i=t.map(v=>v.name),s=kkt.concat(i),a=e.map(v=>v&&v.name).filter(Boolean);t.forEach(v=>{r[v.name]=v}),e.forEach((v,g)=>{o[v&&v.name||"__unnamed_".concat(g)]={}});function c(v){return v==="type"?Ekt:r[v]||o[v]||null}const u=so(En(PA(a)));function d(v){return u.includes(v)}function f(){return a.concat(i)}function p(v){return v==="type"||s.includes(v)}const m=v=>(g,b)=>n(g,{visit:m(!1),isRoot:v,getType:c,getTypeNames:f,isReserved:p,isDuplicate:d,index:b});return t.forEach(v=>{Object.assign(r[v.name],m(v))}),e.forEach((v,g)=>{Object.assign(o[v&&v.name||"__unnamed_".concat(g)],m(!0)(v,g))}),{get(v){const g=o[v]||r[v];if(g)return g;throw new Error("No such type: ".concat(v))},has(v){return v in o||v in r},getTypeNames(){return Object.keys(o)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const Jje=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],eTe=Jje.map(e=>e.name);function Tkt(e,t){return jkt(e,Jje,t)}const Akt=/^Symbol\(react\..+\)$/;function lC(e){return typeof e==="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&Akt.test(String(e==null?void 0:e.$$typeof))}function tTe(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!lC(t.input)&&n.push(Mr("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Lg(t.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),t.field&&!lC(t.field)&&n.push(Mr("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Lg(t.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),t.item&&!lC(t.item)&&n.push(Mr("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Lg(t.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),t.preview&&!lC(t.preview)&&n.push(Mr("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Lg(t.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}const xQ=/^[A-Za-z]+[0-9A-Za-z_]*$/,Okt=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function Pkt(e){return typeof e!="string"?[Ae('Field names must be strings. Saw "'.concat(Lg(e),'"'),tt.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[Ae('Invalid field name "'.concat(e,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),tt.OBJECT_FIELD_NAME_INVALID)]:xQ.test(e)?Okt.test(e)?[]:[Mr("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),tt.OBJECT_FIELD_NAME_INVALID]:[Ae('Invalid field name: "'.concat(e,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(xQ),")."),tt.OBJECT_FIELD_NAME_INVALID)]}function xB(e,t){if(!br(e))return[Ae("Incorrect type for field definition - should be an object, saw ".concat(Lg(e)),tt.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?Pkt(e.name):[Ae("Missing field name",tt.OBJECT_FIELD_NAME_INVALID)]),n.push(...tTe(e)),n}function Dkt(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function wB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const n=[];if(!Array.isArray(e))return[Ae('The "fields" property must be an array of fields. Instead saw "'.concat(typeof e,'"'),tt.OBJECT_FIELDS_INVALID)];const o=e.filter(s=>typeof s.name=="string");Dkt(o).forEach(s=>{n.push(Ae("Found ".concat(s.length,' fields with name "').concat(s[0].name,'" in object'),tt.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(Ae("Object should have at least one field",tt.OBJECT_FIELDS_INVALID));const i=e.filter(s=>s.type==="block").map(s=>'"'.concat(s.name,'"'));if(i.length>0){const s=i.join(", ");n.push(Ae("Invalid standalone block field(s) ".concat(s,". Block content must be defined as an array of blocks"),tt.STANDALONE_BLOCK_TYPE))}return n}function Ikt(e){return br(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[Ae('The "preview.prepare" property must be a function, instead saw "'.concat(typeof e.prepare,'"'))]:e.select?br(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(Ae('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof e.select[n],'"'))),[]):[Ae('The "preview.select" property must be an object, instead saw "'.concat(typeof e.prepare,'"'))]:[]:[Ae('The "preview" property must be an object, instead saw "'.concat(typeof e,'"'))]}var nTe=(e,t)=>{let n=wB(e.fields),r=e.preview;if(r){const o=Ikt(e.preview);n=n.concat(o),r=o.some(i=>i.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(Ae('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((o,i)=>{const{name:s,...a}=o,{_problems:c,...u}=t.visit(a,i);return{name:s,...u,_problems:xB(o).concat(c||[])}}),_problems:n}},Rkt=(e,t)=>{const n=nTe(e,t),{initialValue:r,initialValues:o}=n;return typeof r<"u"&&!br(r)&&typeof r!="function"&&n._problems.push(Ae('The "initialValue" property must be either a plain object or a function')),typeof o<"u"&&n._problems.push(Ae('Found property "initialValues" - did you mean "initialValue"?')),n};function $kt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var Mkt=(e,t)=>{const n=Array.isArray(e.to)||br(e.to),r=$kt(e),o=En([n?PA(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Ae("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),tt.REFERENCE_TO_INVALID)):Ae('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',tt.REFERENCE_TO_INVALID)]);return n&&r.length===0&&o.push(Ae('The reference type should define at least one accepted type. Please check the "to" property.',tt.REFERENCE_TO_INVALID)),o.push(...Fkt(e)),{...e,to:(n?r:[]).map(t.visit),_problems:o}};function Fkt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Ae("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),tt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?br(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Ae("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",tt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Ae("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!br(t.filterParams)?n.concat(Ae("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Ae('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Ae("The reference type expects `options` to be an object",tt.REFERENCE_INVALID_OPTIONS)):n}function wQ(e){return e==="string"||e==="number"||e==="boolean"}function Lkt(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function cb(e){return'"'.concat(e,'"')}function _Q(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return e.length===1?"":t}function CQ(e){return Array.isArray(e)?"array with ".concat(e.length," entries"):typeof e=="object"&&e!==null?"object with keys ".concat(ws(Object.keys(e).map(cb))):cb(e)}var Bkt=(e,t)=>{var n,r,o;const i=Array.isArray(e.of);if(i){const v=e.of.reduce((g,b,x)=>{if(typeof b.name=="string"&&b.name!==b.type&&eTe.includes(b.name))return g.concat(Ae('Found array member declaration with the same type name as a built-in type ("'.concat(b.name,'"). Array members can not be given the same name as a built-in type.'),tt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(b.type==="object"&&b.name&&t.getType(b.name))return g.concat(Mr('Found array member declaration with the same name as the global schema type "'.concat(b.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),tt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(b.type==="array")return g.concat(Ae('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',tt.ARRAY_OF_ARRAY));if(b)return g;const y="Found ".concat(b===null?"null":typeof b,", expected member declaration");return g.concat(Ae("Found invalid type member declaration in array at index ".concat(x,": ").concat(y),tt.ARRAY_OF_INVALID))},[]);if(v.length>0)return{...e,of:[],_problems:v}}const s=En([i?PA(e.of,v=>"".concat(v.name,";").concat(v.type)).map(v=>Ae("Found ".concat(v.length,' members with same type, but not unique names "').concat(v[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),tt.ARRAY_OF_NOT_UNIQUE)):Ae('The array type is missing or having an invalid value for the required "of" property',tt.ARRAY_OF_INVALID)]),a=i?e.of:[],c=a.some(v=>v.type==="object"&&typeof v.name>"u");a.some(v=>v.type==="block")&&c&&s.push(Ae("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",tt.ARRAY_OF_INVALID));const[d,f]=yB(a,v=>{var g;return wQ(v.type)||wQ((g=t.getType(v.type))==null?void 0:g.jsonType)}),p=d.length>0&&f.length>0;if(p){const v=d.map(b=>b.type),g=f.map(b=>b.type);s.push(Ae("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(_Q(v)," ").concat(ws(v.map(cb))," and object type").concat(_Q(g)," ").concat(ws(g.map(cb)),")"),tt.ARRAY_OF_INVALID))}const m=(n=e==null?void 0:e.options)==null?void 0:n.list;return!p&&Array.isArray(m)&&(d.length>0?m.forEach(g=>{var b;const x=(b=g==null?void 0:g.value)!=null?b:g;if(!d.some(w=>typeof x===t.getType(w.type).jsonType)){const w=ws(d.map(_=>_.name||_.type),{conjunction:"or"});s.push(Ae("An invalid entry found in options.list: ".concat(CQ(x),". Must be either a value of type ").concat(w,", or an object with {title: string, value: ").concat(w,"}"),tt.ARRAY_PREDEFINED_CHOICES_INVALID))}}):m.forEach(g=>{const b=g._type||"object";f.some(y=>Lkt(b,y))||s.push(Ae("An invalid entry found in options.list: ".concat(CQ(g),'. Must be an object with "_type" set to ').concat(ws(f.map(y=>y.name||y.type).map(y=>y==="object"?"undefined":cb(y)),{conjunction:"or"})),tt.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=e==null?void 0:e.options)!=null&&r.list&&((o=e==null?void 0:e.options)==null?void 0:o.layout)==="tags"&&s.push(Mr("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:a.map(t.visit),_problems:s}},Nkt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Mr('Heads up! The "slugifyFn" option has been renamed to "slugify".',tt.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}},zkt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...wB(r,{allowEmpty:!0}));const o=Array.isArray(r)?r==null?void 0:r.filter(i=>i.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(Ae("Invalid type for file `metadata` field - must be an array of strings",tt.ASSET_METADATA_FIELD_INVALID)):o.length>0&&n.push(Ae("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((i,s)=>{const{name:a,...c}=i,{_problems:u,...d}=t.visit(c,s);return{name:a,...d,_problems:xB(i).concat(u||[])}}),_problems:n}};const SQ=["dimensions","hasAlpha","isOpaque"];var Vkt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...wB(r,{allowEmpty:!0}));let o=e.options;const i=o==null?void 0:o.metadata,s=Array.isArray(i)?i.filter(u=>SQ.includes(u)):[],a=["asset","hotspot","crop"],c=Array.isArray(r)?r==null?void 0:r.filter(u=>a.includes(u.name)):[];return typeof i<"u"&&!Array.isArray(i)?n.push(Ae("Invalid type for image `metadata` field - must be an array of strings",tt.ASSET_METADATA_FIELD_INVALID)):s.length>0?(n.push(Mr("Image `metadata` field contains superfluous properties (they are always included): ".concat(s.join(", ")))),o={...o,metadata:i.filter(u=>!SQ.includes(u))}):c.length>0&&n.push(Ae("The names `".concat(a.join("`, `"),"` are invalid field names for type `image`."))),{...e,options:o,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...p}=u,{_problems:m,...v}=t.visit(p,d);return{name:f,...v,_problems:xB(u).concat(m||[])}}),_problems:n}};function rTe(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error("Could not resolve jsonType of ".concat(e.name,". No parent type found"));return rTe(r,t,n)}const Qs=e=>Array.isArray(e)?"array":typeof e,$w=e=>'"'.concat(e,'"'),Hkt=["components","lists","marks","name","of","options","styles","title","type","validation"],Ukt=["decorators","annotations"],Wkt=["blockEditor","title","value","component"],Ykt=["blockEditor","title","value","icon","component"],qkt=["title","value","icon","component"],EQ=["file","image","object","reference"];function Gkt(e,t){const n=[];let r=e.styles,o=e.lists,i=e.marks,s=e.of;const a=Object.keys(e).filter(c=>!Hkt.includes(c)&&!c.startsWith("_"));return a.length>0&&n.push(Ae("Found unknown properties for block declaration: ".concat(ws(a.map($w))))),i&&(i=Kkt(e.marks,t,n)),r&&(r=Xkt(r,t,n)),o&&(o=Zkt(o,t,n)),s&&(s=ejt(s,t,n)),{...Ai(e,a),marks:i,styles:r,name:e.name||e.type,of:s,_problems:n}}function Kkt(e,t,n){let r=e.decorators,o=e.annotations;if(!br(e))return n.push(Ae('"marks" declaration should be an object, got '.concat(Qs(e)))),n;const i=Object.keys(e).filter(s=>!Ukt.includes(s)&&!s.startsWith("_"));return i.length>0&&n.push(Ae("Found unknown properties for block declaration: ".concat(ws(i.map($w))))),r&&!Array.isArray(r)?n.push(Ae('"marks.decorators" declaration should be an array, got '.concat(Qs(r)))):r&&(r.filter(s=>!!s.blockEditor).forEach(s=>{s.icon=s.blockEditor.icon,s.component=s.blockEditor.render}),r=Qkt(r,t,n)),o&&!Array.isArray(o)?n.push(Ae('"marks.annotations" declaration should be an array, got '.concat(Qs(o)))):o&&(o=Jkt(o,t,n)),{...e,decorators:r,annotations:o}}function Zkt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!br(r)){n.push(Ae("List must be an object, got ".concat(Qs(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!qkt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Ae("Found unknown properties for list ".concat(i,": ").concat(ws(s.map($w))))),r.value?typeof r.value!="string"?n.push(Ae("List type #".concat(o,' has an invalid "value" property, expected string, got ').concat(Qs(r.value)))):r.title||n.push(Mr("List type ".concat(i,' is missing recommended "title" property'))):n.push(Ae("List #".concat(o,' is missing required "value" property')))}),e):(n.push(Ae('"lists" declaration should be an array, got '.concat(Qs(e)))),n)}function Xkt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!br(r)){n.push(Ae("Style must be an object, got ".concat(Qs(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!Wkt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Ae("Found unknown properties for style ".concat(i,": ").concat(ws(s.map($w))))),r.value?typeof r.value!="string"?n.push(Ae("Style #".concat(o,' has an invalid "value" property, expected string, got ').concat(Qs(r.value)))):r.title||n.push(Mr("Style ".concat(i,' is missing recommended "title" property'))):n.push(Ae("Style #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Mr('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',tt.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(Ae('"styles" declaration should be an array, got '.concat(Qs(e)))),n)}function Qkt(e,t,n){return e.forEach((r,o)=>{if(!br(r)){n.push(Ae("Annotation must be an object, got ".concat(Qs(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!Ykt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Ae("Found unknown properties for decorator ".concat(i,": ").concat(ws(s.map($w))))),r.value?typeof r.value!="string"?n.push(Ae("Decorator #".concat(o,' has an invalid "value" property, expected string, got ').concat(Qs(r.value)))):r.title||n.push(Mr("Decorator ".concat(i,' is missing recommended "title" property'))):n.push(Ae("Decorator #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Mr('Decorator "'.concat(i,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),tt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function Jkt(e,t,n){return e.map(r=>{var o,i;if(!br(r))return{...r,_problems:[Ae("Annotation must be an object, got ".concat(Qs(r)))]};const{_problems:s}=t.visit(r,t),a=r.type&&t.getType(r.type);return a&&!rTe(a,"object",t)&&s.push(Ae('Annotation cannot have type "'.concat(r.type,'" - annotation types must inherit from object'))),typeof r.blockEditor<"u"&&(n.push(Mr('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',tt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(o=r.blockEditor)!=null&&o.render&&!((i=r.components)!=null&&i.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:s}})}function ejt(e,t,n){if(!Array.isArray(e)){n.push(Ae('"of" declaration should be an array, got '.concat(Qs(e))));return}return e.map(r=>{const{_problems:o}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Mr('Found array member declaration with the same name as the global schema type "'.concat(r.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),tt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let i=r;for(;i&&!i.jsonType;)i=t.getType(i.type);const s=eTe.filter(a=>!EQ.includes(a));return i&&i.jsonType!=="object"||s.some(a=>a===r.type)?{...r,_problems:[Ae("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(EQ.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),tt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:o}})}function tjt(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[Ae('Type has propery "fields", but is not an object/document type.')]:[]}const njt=e=>'"'.concat(e,'"');function rjt(e,t){const n=t.getTypeNames();if(!e)return[Ae("Type is missing a type. Valid types are: ".concat(ws(n)),tt.TYPE_MISSING_TYPE)];if(typeof e!="string")return[Ae('Type has an invalid "type"-property - should be a string. Valid types are: '.concat(ws(n)),tt.TYPE_MISSING_TYPE)];if(!n.includes(e)){const o=n.map(s=>[fkt(e,s),s]).filter(s=>{let[a]=s;return a<3}).map(s=>{let[a,c]=s;return c}),i=o.length>0?" Did you mean ".concat(ws(o.map(njt),{conjunction:"or"}),"?"):"";return[Ae("Unknown type: ".concat(e,".").concat(i,`

Valid types are: `).concat(ws(n)))]}return[]}function ojt(e){var t,n,r;const o=[];return e!=null&&e.inputComponent&&o.push(Mr('The "inputComponent" property is deprecated. Use "components.input" instead.')),(t=e==null?void 0:e.preview)!=null&&t.component&&o.push(Mr('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&o.push(Mr('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=e==null?void 0:e.options)!=null&&n.editModal&&o.push(Mr('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=e==null?void 0:e.options)!=null&&r.isHighlighted&&o.push(Mr('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),o}var kQ=(e,t)=>({...e,_problems:[...rjt(e.type,t),...tjt(e,t),...ojt(e)].filter(Boolean)}),ijt=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[Ae("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",tt.TYPE_INVALID)]};const r=[];return sjt(e)?r.push(Ae("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",tt.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(Ae('Invalid type name: "'.concat(e.name,'" is a reserved name.'),tt.TYPE_NAME_RESERVED)):r.push(Ae("Missing type name",tt.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(Ae('Invalid type name: A type with name "'.concat(e.name,'" is already defined in the schema.'))),r.push(...tTe(e)),"title"in e&&typeof e.title!="string"&&r.push(Mr("Type title is not a string.",tt.TYPE_TITLE_INVALID)),{...e,_problems:r}};function sjt(e){return!e.name&&e.default&&(e.default.name||e.default.title)}function ajt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const ljt=/^[a-z0-9~][-_a-z0-9]+$/;function cjt(e){return e.length>=2&&e.toLowerCase()===e&&ljt.test(e)||'The provided dataset "'.concat(e,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var ujt=(e,t)=>{const n=Array.isArray(e.to)||br(e.to),r=ajt(e),o=En([n?PA(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Ae("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),tt.CROSS_DATASET_REFERENCE_INVALID)):Ae('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',tt.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&o.push(Ae('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',tt.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((i,s)=>{i.type||o.push(Ae("The referenced type at index ".concat(s," must be named. Specify the name of the type you want to create references to."),tt.CROSS_DATASET_REFERENCE_INVALID)),br(i.preview)||o.push(Ae('Missing required preview config for the referenced type "'.concat(i.type||"<unknown type>",'"'),tt.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const i=cjt(e.dataset);i!==!0&&o.push(Ae(i,tt.CROSS_DATASET_REFERENCE_INVALID))}else o.push(Ae("A cross dataset reference must specify a `dataset`",tt.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&o.push(Ae('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',tt.CROSS_DATASET_REFERENCE_INVALID)),o.push(...djt(e)),{...e,_problems:o}};function djt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Ae("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),tt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?br(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Ae("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",tt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Ae("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!br(t.filterParams)?n.concat(Ae("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Ae('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Ae("The reference type expects `options` to be an object",tt.REFERENCE_INVALID_OPTIONS)):n}const fjt={array:Bkt,object:nTe,slug:Nkt,file:zkt,image:Vkt,block:Gkt,document:Rkt,reference:Mkt,crossDatasetReference:ujt},hjt=e=>t=>({name:"<unnamed_type_@_index_".concat(e.index,">"),...t,_problems:[]});function jQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r,o)=>t.reduce((i,s)=>{const a=s(i,o);return{...a,_problems:i._problems.concat(a._problems)}},{_problems:[],...r})}function pjt(e){return Tkt(e,(t,n)=>{const r=t&&t.type&&fjt[t.type]||hjt(n);return n.isRoot?jQ(ijt,kQ,r)(t,n):jQ(kQ,r)(t,n)})}const e4="__experimental_actions",oTe=["create","update","delete","publish"],EI=oTe,mjt=e=>e4 in e?e[e4]:oTe,gjt=(e,t)=>{if(!Array.isArray(t))throw new Error("The value of <type>.".concat(e4," should be an array with any of the actions ").concat(EI.join(", ")));const n=ax(t,EI);if(n.length>0)throw new Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(e,'": ').concat(n.join(", "),". Valid actions are: ").concat(EI.join(", ")));return t},vjt=e=>gjt(e.name,mjt(e)),TQ=(e,t)=>vjt(e).includes(t);var yjt=uB,bjt=1,xjt=4;function wjt(e){return yjt(e,bjt|xjt)}var _jt=wjt;const Cjt=Pe(_jt);function Ue(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function sS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sS=function(n){return typeof n}:sS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},sS(e)}function Sjt(e){return Ue(1,arguments),e instanceof Date||sS(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function aS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?aS=function(n){return typeof n}:aS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},aS(e)}function Ye(e){Ue(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||aS(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Lu(e){if(Ue(1,arguments),!Sjt(e)&&typeof e!="number")return!1;var t=Ye(e);return!isNaN(Number(t))}function kt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ejt(e,t){Ue(2,arguments);var n=Ye(e).getTime(),r=kt(t);return new Date(n+r)}function iTe(e,t){Ue(2,arguments);var n=kt(t);return Ejt(e,-n)}var kjt=864e5;function jjt(e){Ue(1,arguments);var t=Ye(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/kjt)+1}function Wv(e){Ue(1,arguments);var t=1,n=Ye(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function sTe(e){Ue(1,arguments);var t=Ye(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=Wv(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=Wv(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Tjt(e){Ue(1,arguments);var t=sTe(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Wv(n);return r}var Ajt=6048e5;function aTe(e){Ue(1,arguments);var t=Ye(e),n=Wv(t).getTime()-Tjt(t).getTime();return Math.round(n/Ajt)+1}var Ojt={};function id(){return Ojt}function Hp(e,t){var n,r,o,i,s,a,c,u;Ue(1,arguments);var d=id(),f=kt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ye(e),m=p.getUTCDay(),v=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function _B(e,t){var n,r,o,i,s,a,c,u;Ue(1,arguments);var d=Ye(e),f=d.getUTCFullYear(),p=id(),m=kt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,m),v.setUTCHours(0,0,0,0);var g=Hp(v,t),b=new Date(0);b.setUTCFullYear(f,0,m),b.setUTCHours(0,0,0,0);var x=Hp(b,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function Pjt(e,t){var n,r,o,i,s,a,c,u;Ue(1,arguments);var d=id(),f=kt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=_B(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var v=Hp(m,t);return v}var Djt=6048e5;function lTe(e,t){Ue(1,arguments);var n=Ye(e),r=Hp(n,t).getTime()-Pjt(n,t).getTime();return Math.round(r/Djt)+1}function hn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Ijt={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return hn(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):hn(r+1,2)},d:function(t,n){return hn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return hn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return hn(t.getUTCHours(),n.length)},m:function(t,n){return hn(t.getUTCMinutes(),n.length)},s:function(t,n){return hn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return hn(i,n.length)}};const gd=Ijt;var qm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Rjt={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return gd.y(t,n)},Y:function(t,n,r,o){var i=_B(t,o),s=i>0?i:1-i;if(n==="YY"){var a=s%100;return hn(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):hn(s,n.length)},R:function(t,n){var r=sTe(t);return hn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return hn(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return hn(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return hn(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return gd.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return hn(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var i=lTe(t,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):hn(i,n.length)},I:function(t,n,r){var o=aTe(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):hn(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):gd.d(t,n)},D:function(t,n,r){var o=jjt(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):hn(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return hn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return hn(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return hn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),i;switch(o===12?i=qm.noon:o===0?i=qm.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),i;switch(o>=17?i=qm.evening:o>=12?i=qm.afternoon:o>=4?i=qm.morning:i=qm.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return gd.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):gd.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):hn(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):hn(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):gd.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):gd.s(t,n)},S:function(t,n){return gd.S(t,n)},X:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return OQ(s);case"XXXX":case"XX":return zh(s);case"XXXXX":case"XXX":default:return zh(s,":")}},x:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"x":return OQ(s);case"xxxx":case"xx":return zh(s);case"xxxxx":case"xxx":default:return zh(s,":")}},O:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+AQ(s,":");case"OOOO":default:return"GMT"+zh(s,":")}},z:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+AQ(s,":");case"zzzz":default:return"GMT"+zh(s,":")}},t:function(t,n,r,o){var i=o._originalDate||t,s=Math.floor(i.getTime()/1e3);return hn(s,n.length)},T:function(t,n,r,o){var i=o._originalDate||t,s=i.getTime();return hn(s,n.length)}};function AQ(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var s=t||"";return n+String(o)+s+hn(i,2)}function OQ(e,t){if(e%60===0){var n=e>0?"-":"+";return n+hn(Math.abs(e)/60,2)}return zh(e,t)}function zh(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=hn(Math.floor(o/60),2),s=hn(o%60,2);return r+i+n+s}const $jt=Rjt;var PQ=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},cTe=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Mjt=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return PQ(t,n);var s;switch(o){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",PQ(o,n)).replace("{{time}}",cTe(i,n))},Fjt={p:cTe,P:Mjt};const t4=Fjt;function X5(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Ljt=["D","DD"],Bjt=["YY","YYYY"];function uTe(e){return Ljt.indexOf(e)!==-1}function dTe(e){return Bjt.indexOf(e)!==-1}function Q5(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Njt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zjt=function(t,n,r){var o,i=Njt[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const Vjt=zjt;function kI(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Hjt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ujt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wjt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yjt={date:kI({formats:Hjt,defaultWidth:"full"}),time:kI({formats:Ujt,defaultWidth:"full"}),dateTime:kI({formats:Wjt,defaultWidth:"full"})};const qjt=Yjt;var Gjt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kjt=function(t,n,r,o){return Gjt[t]};const Zjt=Kjt;function R1(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}var Xjt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qjt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jjt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eTt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tTt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nTt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rTt=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},oTt={ordinalNumber:rTt,era:R1({values:Xjt,defaultWidth:"wide"}),quarter:R1({values:Qjt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:R1({values:Jjt,defaultWidth:"wide"}),day:R1({values:eTt,defaultWidth:"wide"}),dayPeriod:R1({values:tTt,defaultWidth:"wide",formattingValues:nTt,defaultFormattingWidth:"wide"})};const iTt=oTt;function $1(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?aTt(a,function(f){return f.test(s)}):sTt(a,function(f){return f.test(s)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(s.length);return{value:u,rest:d}}}function sTt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function aTt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function lTt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(o.length);return{value:s,rest:a}}}var cTt=/^(\d+)(th|st|nd|rd)?/i,uTt=/\d+/i,dTt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fTt={any:[/^b/i,/^(a|c)/i]},hTt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pTt={any:[/1/i,/2/i,/3/i,/4/i]},mTt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gTt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vTt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yTt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bTt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xTt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wTt={ordinalNumber:lTt({matchPattern:cTt,parsePattern:uTt,valueCallback:function(t){return parseInt(t,10)}}),era:$1({matchPatterns:dTt,defaultMatchWidth:"wide",parsePatterns:fTt,defaultParseWidth:"any"}),quarter:$1({matchPatterns:hTt,defaultMatchWidth:"wide",parsePatterns:pTt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:$1({matchPatterns:mTt,defaultMatchWidth:"wide",parsePatterns:gTt,defaultParseWidth:"any"}),day:$1({matchPatterns:vTt,defaultMatchWidth:"wide",parsePatterns:yTt,defaultParseWidth:"any"}),dayPeriod:$1({matchPatterns:bTt,defaultMatchWidth:"any",parsePatterns:xTt,defaultParseWidth:"any"})};const _Tt=wTt;var CTt={code:"en-US",formatDistance:Vjt,formatLong:qjt,formatRelative:Zjt,localize:iTt,match:_Tt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const fTe=CTt;var STt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ETt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kTt=/^'([^]*?)'?$/,jTt=/''/g,TTt=/[a-zA-Z]/;function Ko(e,t,n){var r,o,i,s,a,c,u,d,f,p,m,v,g,b,x,y,w,_;Ue(2,arguments);var C=String(t),S=id(),E=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:S.locale)!==null&&r!==void 0?r:fTe,j=kt((i=(s=(a=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=kt((m=(v=(g=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(x=n.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&v!==void 0?v:(w=S.locale)===null||w===void 0||(_=w.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=Ye(e);if(!Lu(T))throw new RangeError("Invalid time value");var A=X5(T),O=iTe(T,A),P={firstWeekContainsDate:j,weekStartsOn:k,locale:E,_originalDate:T},D=C.match(ETt).map(function(R){var $=R[0];if($==="p"||$==="P"){var H=t4[$];return H(R,E.formatLong)}return R}).join("").match(STt).map(function(R){if(R==="''")return"'";var $=R[0];if($==="'")return ATt(R);var H=$jt[$];if(H)return!(n!=null&&n.useAdditionalWeekYearTokens)&&dTe(R)&&Q5(R,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&uTe(R)&&Q5(R,t,String(e)),H(O,R,E.localize,P);if($.match(TTt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return R}).join("");return D}function ATt(e){var t=e.match(kTt);return t?t[1].replace(jTt,"'"):e}var OTt=Dc,PTt=0;function DTt(e){var t=++PTt;return OTt(e)+t}var ITt=DTt;const hTe=Pe(ITt);function Vi(e,t){Ue(2,arguments);var n=Ye(e),r=kt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function CB(e,t){Ue(2,arguments);var n=Ye(e),r=kt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function Yv(e,t){var n,r,o,i,s,a,c,u;Ue(1,arguments);var d=id(),f=kt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ye(e),m=p.getDay(),v=(m<f?7:0)+m-f;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function Mf(e){Ue(1,arguments);var t=Ye(e);return t.setHours(0,0,0,0),t}var RTt=864e5;function $Tt(e,t){Ue(2,arguments);var n=Mf(e),r=Mf(t),o=n.getTime()-X5(n),i=r.getTime()-X5(r);return Math.round((o-i)/RTt)}function MTt(e,t){Ue(2,arguments);var n=kt(t),r=n*7;return Vi(e,r)}function ub(e,t){Ue(2,arguments);var n=Ye(e),r=Ye(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}var DA=6e4,IA=36e5,FTt=1e3;function Md(e,t){Ue(2,arguments);var n=Mf(e),r=Mf(t);return n.getTime()===r.getTime()}function LTt(e,t){Ue(2,arguments);var n=Ye(e),r=Ye(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function BTt(e,t){Ue(2,arguments);var n=Ye(e),r=Ye(t);return n.getFullYear()-r.getFullYear()}function DQ(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function pTe(e,t){Ue(2,arguments);var n=Ye(e),r=Ye(t),o=DQ(n,r),i=Math.abs($Tt(n,r));n.setDate(n.getDate()-o*i);var s=+(DQ(n,r)===-o),a=o*(i-s);return a===0?0:a}function SB(e,t){return Ue(2,arguments),Ye(e).getTime()-Ye(t).getTime()}var IQ={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},NTt="trunc";function RA(e){return e?IQ[e]:IQ[NTt]}function zTt(e,t,n){Ue(2,arguments);var r=SB(e,t)/IA;return RA(n==null?void 0:n.roundingMethod)(r)}function VTt(e,t,n){Ue(2,arguments);var r=SB(e,t)/DA;return RA(n==null?void 0:n.roundingMethod)(r)}function J5(e){Ue(1,arguments);var t=Ye(e);return t.setHours(23,59,59,999),t}function HTt(e){Ue(1,arguments);var t=Ye(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function UTt(e){Ue(1,arguments);var t=Ye(e);return J5(t).getTime()===HTt(t).getTime()}function WTt(e,t){Ue(2,arguments);var n=Ye(e),r=Ye(t),o=ub(n,r),i=Math.abs(LTt(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=ub(n,r)===-o;UTt(Ye(e))&&i===1&&ub(e,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}function YTt(e,t,n){Ue(2,arguments);var r=SB(e,t)/1e3;return RA(n==null?void 0:n.roundingMethod)(r)}function qTt(e,t,n){Ue(2,arguments);var r=pTe(e,t)/7;return RA(n==null?void 0:n.roundingMethod)(r)}function GTt(e,t){Ue(2,arguments);var n=Ye(e),r=Ye(t),o=ub(n,r),i=Math.abs(BTt(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=ub(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function RQ(e){Ue(1,arguments);var t=Ye(e);return t.setSeconds(0,0),t}function mTe(e,t){Ue(1,arguments);var n=e||{},r=Ye(n.start),o=Ye(n.end),i=o.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var s=Yv(r,t),a=Yv(o,t);s.setHours(15),a.setHours(15),i=a.getTime();for(var c=[],u=s;u.getTime()<=i;)u.setHours(0),c.push(Ye(u)),u=MTt(u,1),u.setHours(15);return c}function gTe(e){Ue(1,arguments);var t=Ye(e);return t.setDate(1),t.setHours(0,0,0,0),t}function $Q(e){Ue(1,arguments);var t=Ye(e);return t.setSeconds(59,999),t}function KTt(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function ZTt(e){Ue(1,arguments);var t=Ye(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function XTt(e){Ue(1,arguments);var t=Ye(e),n=t.getMinutes();return n}function QTt(e,t){var n,r,o,i,s,a,c,u;Ue(1,arguments);var d=Ye(e),f=d.getFullYear(),p=id(),m=kt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,m),v.setHours(0,0,0,0);var g=Yv(v,t),b=new Date(0);b.setFullYear(f,0,m),b.setHours(0,0,0,0);var x=Yv(b,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function JTt(e,t){var n,r,o,i,s,a,c,u;Ue(1,arguments);var d=id(),f=kt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=QTt(e,t),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var v=Yv(m,t);return v}var eAt=6048e5;function vTe(e,t){Ue(1,arguments);var n=Ye(e),r=Yv(n,t).getTime()-JTt(n,t).getTime();return Math.round(r/eAt)+1}function yTe(e){Ue(1,arguments);var t=Ye(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function n4(e,t){Ue(2,arguments);var n=Ye(e),r=Ye(t);return n.getTime()>r.getTime()}function bTe(e,t){Ue(2,arguments);var n=Ye(e),r=Ye(t);return n.getTime()<r.getTime()}function lS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lS=function(n){return typeof n}:lS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},lS(e)}function xTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r4(e,t)}function r4(e,t){return r4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},r4(e,t)}function wTe(e){var t=nAt();return function(){var r=ek(e),o;if(t){var i=ek(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return tAt(this,o)}}function tAt(e,t){return t&&(lS(t)==="object"||typeof t=="function")?t:o4(e)}function o4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nAt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ek(e){return ek=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ek(e)}function EB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kB(e,t,n){return t&&MQ(e.prototype,t),n&&MQ(e,n),e}function i4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rAt=10,_Te=function(){function e(){EB(this,e),i4(this,"subPriority",0)}return kB(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),oAt=function(e){xTe(n,e);var t=wTe(n);function n(r,o,i,s,a){var c;return EB(this,n),c=t.call(this),c.value=r,c.validateValue=o,c.setValue=i,c.priority=s,a&&(c.subPriority=a),c}return kB(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(_Te),iAt=function(e){xTe(n,e);var t=wTe(n);function n(){var r;EB(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),i4(o4(r),"priority",rAt),i4(o4(r),"subPriority",-1),r}return kB(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(_Te);function sAt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aAt(e,t,n){return t&&FQ(e.prototype,t),n&&FQ(e,n),e}var cn=function(){function e(){sAt(this,e)}return aAt(e,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new oAt(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}();function cS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cS=function(n){return typeof n}:cS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cS(e)}function lAt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cAt(e,t,n){return t&&LQ(e.prototype,t),n&&LQ(e,n),e}function uAt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s4(e,t)}function s4(e,t){return s4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},s4(e,t)}function dAt(e){var t=hAt();return function(){var r=tk(e),o;if(t){var i=tk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return fAt(this,o)}}function fAt(e,t){return t&&(cS(t)==="object"||typeof t=="function")?t:a4(e)}function a4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hAt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tk(e){return tk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},tk(e)}function BQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pAt=function(e){uAt(n,e);var t=dAt(n);function n(){var r;lAt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),BQ(a4(r),"priority",140),BQ(a4(r),"incompatibleTokens",["R","u","t","T"]),r}return cAt(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(cn),Hr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},lc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ur(e,t){return e&&{value:t(e.value),rest:e.rest}}function Er(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function cc(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*IA+i*DA+s*FTt),rest:t.slice(n[0].length)}}function CTe(e){return Er(Hr.anyDigitsSigned,e)}function Lr(e,t){switch(e){case 1:return Er(Hr.singleDigit,t);case 2:return Er(Hr.twoDigits,t);case 3:return Er(Hr.threeDigits,t);case 4:return Er(Hr.fourDigits,t);default:return Er(new RegExp("^\\d{1,"+e+"}"),t)}}function nk(e,t){switch(e){case 1:return Er(Hr.singleDigitSigned,t);case 2:return Er(Hr.twoDigitsSigned,t);case 3:return Er(Hr.threeDigitsSigned,t);case 4:return Er(Hr.fourDigitsSigned,t);default:return Er(new RegExp("^-?\\d{1,"+e+"}"),t)}}function jB(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function STe(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var i=r+50,s=Math.floor(i/100)*100,a=e>=i%100;o=e+s-(a?100:0)}return n?o:1-o}function ETe(e){return e%400===0||e%4===0&&e%100!==0}function uS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uS=function(n){return typeof n}:uS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},uS(e)}function mAt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gAt(e,t,n){return t&&NQ(e.prototype,t),n&&NQ(e,n),e}function vAt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l4(e,t)}function l4(e,t){return l4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},l4(e,t)}function yAt(e){var t=xAt();return function(){var r=rk(e),o;if(t){var i=rk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return bAt(this,o)}}function bAt(e,t){return t&&(uS(t)==="object"||typeof t=="function")?t:c4(e)}function c4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xAt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rk(e){return rk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},rk(e)}function zQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wAt=function(e){vAt(n,e);var t=yAt(n);function n(){var r;mAt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),zQ(c4(r),"priority",130),zQ(c4(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return gAt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Ur(Lr(4,o),a);case"yo":return Ur(s.ordinalNumber(o,{unit:"year"}),a);default:return Ur(Lr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var c=STe(s.year,a);return o.setUTCFullYear(c,0,1),o.setUTCHours(0,0,0,0),o}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(cn);function dS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dS=function(n){return typeof n}:dS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dS(e)}function _At(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CAt(e,t,n){return t&&VQ(e.prototype,t),n&&VQ(e,n),e}function SAt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u4(e,t)}function u4(e,t){return u4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},u4(e,t)}function EAt(e){var t=jAt();return function(){var r=ok(e),o;if(t){var i=ok(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return kAt(this,o)}}function kAt(e,t){return t&&(dS(t)==="object"||typeof t=="function")?t:d4(e)}function d4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jAt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ok(e){return ok=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ok(e)}function HQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TAt=function(e){SAt(n,e);var t=EAt(n);function n(){var r;_At(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),HQ(d4(r),"priority",130),HQ(d4(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return CAt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Ur(Lr(4,o),a);case"Yo":return Ur(s.ordinalNumber(o,{unit:"year"}),a);default:return Ur(Lr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var c=_B(o,a);if(s.isTwoDigitYear){var u=STe(s.year,c);return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Hp(o,a)}var d=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(d,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Hp(o,a)}}]),n}(cn);function fS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fS=function(n){return typeof n}:fS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fS(e)}function AAt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OAt(e,t,n){return t&&UQ(e.prototype,t),n&&UQ(e,n),e}function PAt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f4(e,t)}function f4(e,t){return f4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},f4(e,t)}function DAt(e){var t=RAt();return function(){var r=ik(e),o;if(t){var i=ik(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return IAt(this,o)}}function IAt(e,t){return t&&(fS(t)==="object"||typeof t=="function")?t:h4(e)}function h4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RAt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ik(e){return ik=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ik(e)}function WQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $At=function(e){PAt(n,e);var t=DAt(n);function n(){var r;AAt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),WQ(h4(r),"priority",130),WQ(h4(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return OAt(n,[{key:"parse",value:function(o,i){return nk(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Wv(a)}}]),n}(cn);function hS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hS=function(n){return typeof n}:hS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hS(e)}function MAt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FAt(e,t,n){return t&&YQ(e.prototype,t),n&&YQ(e,n),e}function LAt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p4(e,t)}function p4(e,t){return p4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},p4(e,t)}function BAt(e){var t=zAt();return function(){var r=sk(e),o;if(t){var i=sk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return NAt(this,o)}}function NAt(e,t){return t&&(hS(t)==="object"||typeof t=="function")?t:m4(e)}function m4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zAt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sk(e){return sk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},sk(e)}function qQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VAt=function(e){LAt(n,e);var t=BAt(n);function n(){var r;MAt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),qQ(m4(r),"priority",130),qQ(m4(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return FAt(n,[{key:"parse",value:function(o,i){return nk(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(cn);function pS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pS=function(n){return typeof n}:pS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pS(e)}function HAt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UAt(e,t,n){return t&&GQ(e.prototype,t),n&&GQ(e,n),e}function WAt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g4(e,t)}function g4(e,t){return g4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},g4(e,t)}function YAt(e){var t=GAt();return function(){var r=ak(e),o;if(t){var i=ak(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return qAt(this,o)}}function qAt(e,t){return t&&(pS(t)==="object"||typeof t=="function")?t:v4(e)}function v4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GAt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ak(e){return ak=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ak(e)}function KQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KAt=function(e){WAt(n,e);var t=YAt(n);function n(){var r;HAt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),KQ(v4(r),"priority",120),KQ(v4(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return UAt(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return Lr(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(cn);function mS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mS=function(n){return typeof n}:mS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},mS(e)}function ZAt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XAt(e,t,n){return t&&ZQ(e.prototype,t),n&&ZQ(e,n),e}function QAt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y4(e,t)}function y4(e,t){return y4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},y4(e,t)}function JAt(e){var t=tOt();return function(){var r=lk(e),o;if(t){var i=lk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return eOt(this,o)}}function eOt(e,t){return t&&(mS(t)==="object"||typeof t=="function")?t:b4(e)}function b4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tOt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lk(e){return lk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},lk(e)}function XQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nOt=function(e){QAt(n,e);var t=JAt(n);function n(){var r;ZAt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),XQ(b4(r),"priority",120),XQ(b4(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return XAt(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return Lr(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(cn);function gS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gS=function(n){return typeof n}:gS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gS(e)}function rOt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oOt(e,t,n){return t&&QQ(e.prototype,t),n&&QQ(e,n),e}function iOt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x4(e,t)}function x4(e,t){return x4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},x4(e,t)}function sOt(e){var t=lOt();return function(){var r=ck(e),o;if(t){var i=ck(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aOt(this,o)}}function aOt(e,t){return t&&(gS(t)==="object"||typeof t=="function")?t:w4(e)}function w4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lOt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ck(e){return ck=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ck(e)}function JQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cOt=function(e){iOt(n,e);var t=sOt(n);function n(){var r;rOt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),JQ(w4(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),JQ(w4(r),"priority",110),r}return oOt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"M":return Ur(Er(Hr.month,o),a);case"MM":return Ur(Lr(2,o),a);case"Mo":return Ur(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(cn);function vS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vS=function(n){return typeof n}:vS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vS(e)}function uOt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dOt(e,t,n){return t&&eJ(e.prototype,t),n&&eJ(e,n),e}function fOt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_4(e,t)}function _4(e,t){return _4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_4(e,t)}function hOt(e){var t=mOt();return function(){var r=uk(e),o;if(t){var i=uk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return pOt(this,o)}}function pOt(e,t){return t&&(vS(t)==="object"||typeof t=="function")?t:C4(e)}function C4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mOt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uk(e){return uk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},uk(e)}function tJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gOt=function(e){fOt(n,e);var t=hOt(n);function n(){var r;uOt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),tJ(C4(r),"priority",110),tJ(C4(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return dOt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"L":return Ur(Er(Hr.month,o),a);case"LL":return Ur(Lr(2,o),a);case"Lo":return Ur(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(cn);function vOt(e,t,n){Ue(2,arguments);var r=Ye(e),o=kt(t),i=lTe(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}function yS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yS=function(n){return typeof n}:yS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yS(e)}function yOt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bOt(e,t,n){return t&&nJ(e.prototype,t),n&&nJ(e,n),e}function xOt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S4(e,t)}function S4(e,t){return S4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},S4(e,t)}function wOt(e){var t=COt();return function(){var r=dk(e),o;if(t){var i=dk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return _Ot(this,o)}}function _Ot(e,t){return t&&(yS(t)==="object"||typeof t=="function")?t:E4(e)}function E4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function COt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dk(e){return dk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},dk(e)}function rJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SOt=function(e){xOt(n,e);var t=wOt(n);function n(){var r;yOt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),rJ(E4(r),"priority",100),rJ(E4(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return bOt(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return Er(Hr.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return Lr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return Hp(vOt(o,s,a),a)}}]),n}(cn);function EOt(e,t){Ue(2,arguments);var n=Ye(e),r=kt(t),o=aTe(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}function bS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bS=function(n){return typeof n}:bS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bS(e)}function kOt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jOt(e,t,n){return t&&oJ(e.prototype,t),n&&oJ(e,n),e}function TOt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k4(e,t)}function k4(e,t){return k4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},k4(e,t)}function AOt(e){var t=POt();return function(){var r=fk(e),o;if(t){var i=fk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return OOt(this,o)}}function OOt(e,t){return t&&(bS(t)==="object"||typeof t=="function")?t:j4(e)}function j4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function POt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fk(e){return fk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},fk(e)}function iJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DOt=function(e){TOt(n,e);var t=AOt(n);function n(){var r;kOt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),iJ(j4(r),"priority",100),iJ(j4(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return jOt(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return Er(Hr.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return Lr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return Wv(EOt(o,s))}}]),n}(cn);function xS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xS=function(n){return typeof n}:xS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xS(e)}function IOt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ROt(e,t,n){return t&&sJ(e.prototype,t),n&&sJ(e,n),e}function $Ot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T4(e,t)}function T4(e,t){return T4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},T4(e,t)}function MOt(e){var t=LOt();return function(){var r=hk(e),o;if(t){var i=hk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return FOt(this,o)}}function FOt(e,t){return t&&(xS(t)==="object"||typeof t=="function")?t:wS(e)}function wS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LOt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hk(e){return hk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},hk(e)}function jI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BOt=[31,28,31,30,31,30,31,31,30,31,30,31],NOt=[31,29,31,30,31,30,31,31,30,31,30,31],zOt=function(e){$Ot(n,e);var t=MOt(n);function n(){var r;IOt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),jI(wS(r),"priority",90),jI(wS(r),"subPriority",1),jI(wS(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return ROt(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return Er(Hr.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return Lr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=ETe(s),c=o.getUTCMonth();return a?i>=1&&i<=NOt[c]:i>=1&&i<=BOt[c]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(cn);function _S(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_S=function(n){return typeof n}:_S=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_S(e)}function VOt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HOt(e,t,n){return t&&aJ(e.prototype,t),n&&aJ(e,n),e}function UOt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A4(e,t)}function A4(e,t){return A4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},A4(e,t)}function WOt(e){var t=qOt();return function(){var r=pk(e),o;if(t){var i=pk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return YOt(this,o)}}function YOt(e,t){return t&&(_S(t)==="object"||typeof t=="function")?t:CS(e)}function CS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qOt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pk(e){return pk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},pk(e)}function TI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GOt=function(e){UOt(n,e);var t=WOt(n);function n(){var r;VOt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),TI(CS(r),"priority",90),TI(CS(r),"subpriority",1),TI(CS(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return HOt(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return Er(Hr.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return Lr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=ETe(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(cn);function TB(e,t,n){var r,o,i,s,a,c,u,d;Ue(2,arguments);var f=id(),p=kt((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&o!==void 0?o:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Ye(e),v=kt(t),g=m.getUTCDay(),b=v%7,x=(b+7)%7,y=(x<p?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+y),m}function SS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?SS=function(n){return typeof n}:SS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},SS(e)}function KOt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZOt(e,t,n){return t&&lJ(e.prototype,t),n&&lJ(e,n),e}function XOt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O4(e,t)}function O4(e,t){return O4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},O4(e,t)}function QOt(e){var t=ePt();return function(){var r=mk(e),o;if(t){var i=mk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return JOt(this,o)}}function JOt(e,t){return t&&(SS(t)==="object"||typeof t=="function")?t:P4(e)}function P4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ePt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mk(e){return mk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},mk(e)}function cJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tPt=function(e){XOt(n,e);var t=QOt(n);function n(){var r;KOt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),cJ(P4(r),"priority",90),cJ(P4(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return ZOt(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=TB(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(cn);function ES(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ES=function(n){return typeof n}:ES=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ES(e)}function nPt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rPt(e,t,n){return t&&uJ(e.prototype,t),n&&uJ(e,n),e}function oPt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D4(e,t)}function D4(e,t){return D4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},D4(e,t)}function iPt(e){var t=aPt();return function(){var r=gk(e),o;if(t){var i=gk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return sPt(this,o)}}function sPt(e,t){return t&&(ES(t)==="object"||typeof t=="function")?t:I4(e)}function I4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aPt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gk(e){return gk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},gk(e)}function dJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lPt=function(e){oPt(n,e);var t=iPt(n);function n(){var r;nPt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),dJ(I4(r),"priority",90),dJ(I4(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return rPt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return Ur(Lr(i.length,o),c);case"eo":return Ur(s.ordinalNumber(o,{unit:"day"}),c);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=TB(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(cn);function kS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kS=function(n){return typeof n}:kS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},kS(e)}function cPt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uPt(e,t,n){return t&&fJ(e.prototype,t),n&&fJ(e,n),e}function dPt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R4(e,t)}function R4(e,t){return R4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},R4(e,t)}function fPt(e){var t=pPt();return function(){var r=vk(e),o;if(t){var i=vk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return hPt(this,o)}}function hPt(e,t){return t&&(kS(t)==="object"||typeof t=="function")?t:$4(e)}function $4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pPt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vk(e){return vk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},vk(e)}function hJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mPt=function(e){dPt(n,e);var t=fPt(n);function n(){var r;cPt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),hJ($4(r),"priority",90),hJ($4(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return uPt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return Ur(Lr(i.length,o),c);case"co":return Ur(s.ordinalNumber(o,{unit:"day"}),c);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=TB(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(cn);function gPt(e,t){Ue(2,arguments);var n=kt(t);n%7===0&&(n=n-7);var r=1,o=Ye(e),i=o.getUTCDay(),s=n%7,a=(s+7)%7,c=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+c),o}function jS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jS=function(n){return typeof n}:jS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jS(e)}function vPt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yPt(e,t,n){return t&&pJ(e.prototype,t),n&&pJ(e,n),e}function bPt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M4(e,t)}function M4(e,t){return M4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},M4(e,t)}function xPt(e){var t=_Pt();return function(){var r=yk(e),o;if(t){var i=yk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return wPt(this,o)}}function wPt(e,t){return t&&(jS(t)==="object"||typeof t=="function")?t:F4(e)}function F4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _Pt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yk(e){return yk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yk(e)}function mJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CPt=function(e){bPt(n,e);var t=xPt(n);function n(){var r;vPt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),mJ(F4(r),"priority",90),mJ(F4(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return yPt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return Lr(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return Ur(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return Ur(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Ur(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Ur(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=gPt(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(cn);function TS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?TS=function(n){return typeof n}:TS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},TS(e)}function SPt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EPt(e,t,n){return t&&gJ(e.prototype,t),n&&gJ(e,n),e}function kPt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L4(e,t)}function L4(e,t){return L4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},L4(e,t)}function jPt(e){var t=APt();return function(){var r=bk(e),o;if(t){var i=bk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return TPt(this,o)}}function TPt(e,t){return t&&(TS(t)==="object"||typeof t=="function")?t:B4(e)}function B4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function APt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bk(e){return bk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},bk(e)}function vJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OPt=function(e){kPt(n,e);var t=jPt(n);function n(){var r;SPt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),vJ(B4(r),"priority",80),vJ(B4(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return EPt(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(jB(s),0,0,0),o}}]),n}(cn);function AS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?AS=function(n){return typeof n}:AS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},AS(e)}function PPt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DPt(e,t,n){return t&&yJ(e.prototype,t),n&&yJ(e,n),e}function IPt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N4(e,t)}function N4(e,t){return N4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},N4(e,t)}function RPt(e){var t=MPt();return function(){var r=xk(e),o;if(t){var i=xk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return $Pt(this,o)}}function $Pt(e,t){return t&&(AS(t)==="object"||typeof t=="function")?t:z4(e)}function z4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MPt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xk(e){return xk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},xk(e)}function bJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FPt=function(e){IPt(n,e);var t=RPt(n);function n(){var r;PPt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),bJ(z4(r),"priority",80),bJ(z4(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return DPt(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(jB(s),0,0,0),o}}]),n}(cn);function OS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?OS=function(n){return typeof n}:OS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},OS(e)}function LPt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BPt(e,t,n){return t&&xJ(e.prototype,t),n&&xJ(e,n),e}function NPt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V4(e,t)}function V4(e,t){return V4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},V4(e,t)}function zPt(e){var t=HPt();return function(){var r=wk(e),o;if(t){var i=wk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return VPt(this,o)}}function VPt(e,t){return t&&(OS(t)==="object"||typeof t=="function")?t:H4(e)}function H4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HPt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wk(e){return wk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wk(e)}function wJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UPt=function(e){NPt(n,e);var t=zPt(n);function n(){var r;LPt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),wJ(H4(r),"priority",80),wJ(H4(r),"incompatibleTokens",["a","b","t","T"]),r}return BPt(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(jB(s),0,0,0),o}}]),n}(cn);function PS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?PS=function(n){return typeof n}:PS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},PS(e)}function WPt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YPt(e,t,n){return t&&_J(e.prototype,t),n&&_J(e,n),e}function qPt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U4(e,t)}function U4(e,t){return U4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},U4(e,t)}function GPt(e){var t=ZPt();return function(){var r=_k(e),o;if(t){var i=_k(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return KPt(this,o)}}function KPt(e,t){return t&&(PS(t)==="object"||typeof t=="function")?t:W4(e)}function W4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZPt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _k(e){return _k=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},_k(e)}function CJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XPt=function(e){qPt(n,e);var t=GPt(n);function n(){var r;WPt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),CJ(W4(r),"priority",70),CJ(W4(r),"incompatibleTokens",["H","K","k","t","T"]),r}return YPt(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return Er(Hr.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return Lr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(cn);function DS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?DS=function(n){return typeof n}:DS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},DS(e)}function QPt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JPt(e,t,n){return t&&SJ(e.prototype,t),n&&SJ(e,n),e}function eDt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y4(e,t)}function Y4(e,t){return Y4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Y4(e,t)}function tDt(e){var t=rDt();return function(){var r=Ck(e),o;if(t){var i=Ck(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return nDt(this,o)}}function nDt(e,t){return t&&(DS(t)==="object"||typeof t=="function")?t:q4(e)}function q4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rDt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ck(e){return Ck=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ck(e)}function EJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oDt=function(e){eDt(n,e);var t=tDt(n);function n(){var r;QPt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),EJ(q4(r),"priority",70),EJ(q4(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return JPt(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return Er(Hr.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return Lr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(cn);function IS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?IS=function(n){return typeof n}:IS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},IS(e)}function iDt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sDt(e,t,n){return t&&kJ(e.prototype,t),n&&kJ(e,n),e}function aDt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G4(e,t)}function G4(e,t){return G4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},G4(e,t)}function lDt(e){var t=uDt();return function(){var r=Sk(e),o;if(t){var i=Sk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return cDt(this,o)}}function cDt(e,t){return t&&(IS(t)==="object"||typeof t=="function")?t:K4(e)}function K4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uDt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sk(e){return Sk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Sk(e)}function jJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dDt=function(e){aDt(n,e);var t=lDt(n);function n(){var r;iDt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),jJ(K4(r),"priority",70),jJ(K4(r),"incompatibleTokens",["h","H","k","t","T"]),r}return sDt(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return Er(Hr.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return Lr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(cn);function RS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?RS=function(n){return typeof n}:RS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},RS(e)}function fDt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hDt(e,t,n){return t&&TJ(e.prototype,t),n&&TJ(e,n),e}function pDt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z4(e,t)}function Z4(e,t){return Z4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Z4(e,t)}function mDt(e){var t=vDt();return function(){var r=Ek(e),o;if(t){var i=Ek(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return gDt(this,o)}}function gDt(e,t){return t&&(RS(t)==="object"||typeof t=="function")?t:X4(e)}function X4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vDt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ek(e){return Ek=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ek(e)}function AJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yDt=function(e){pDt(n,e);var t=mDt(n);function n(){var r;fDt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),AJ(X4(r),"priority",70),AJ(X4(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return hDt(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return Er(Hr.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return Lr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(cn);function $S(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$S=function(n){return typeof n}:$S=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$S(e)}function bDt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xDt(e,t,n){return t&&OJ(e.prototype,t),n&&OJ(e,n),e}function wDt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q4(e,t)}function Q4(e,t){return Q4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Q4(e,t)}function _Dt(e){var t=SDt();return function(){var r=kk(e),o;if(t){var i=kk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return CDt(this,o)}}function CDt(e,t){return t&&($S(t)==="object"||typeof t=="function")?t:J4(e)}function J4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SDt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kk(e){return kk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},kk(e)}function PJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var EDt=function(e){wDt(n,e);var t=_Dt(n);function n(){var r;bDt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),PJ(J4(r),"priority",60),PJ(J4(r),"incompatibleTokens",["t","T"]),r}return xDt(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return Er(Hr.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return Lr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(cn);function MS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?MS=function(n){return typeof n}:MS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},MS(e)}function kDt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jDt(e,t,n){return t&&DJ(e.prototype,t),n&&DJ(e,n),e}function TDt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eF(e,t)}function eF(e,t){return eF=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},eF(e,t)}function ADt(e){var t=PDt();return function(){var r=jk(e),o;if(t){var i=jk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ODt(this,o)}}function ODt(e,t){return t&&(MS(t)==="object"||typeof t=="function")?t:tF(e)}function tF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PDt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jk(e){return jk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},jk(e)}function IJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DDt=function(e){TDt(n,e);var t=ADt(n);function n(){var r;kDt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),IJ(tF(r),"priority",50),IJ(tF(r),"incompatibleTokens",["t","T"]),r}return jDt(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return Er(Hr.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return Lr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(cn);function FS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?FS=function(n){return typeof n}:FS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},FS(e)}function IDt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RDt(e,t,n){return t&&RJ(e.prototype,t),n&&RJ(e,n),e}function $Dt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nF(e,t)}function nF(e,t){return nF=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},nF(e,t)}function MDt(e){var t=LDt();return function(){var r=Tk(e),o;if(t){var i=Tk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return FDt(this,o)}}function FDt(e,t){return t&&(FS(t)==="object"||typeof t=="function")?t:rF(e)}function rF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LDt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tk(e){return Tk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Tk(e)}function $J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BDt=function(e){$Dt(n,e);var t=MDt(n);function n(){var r;IDt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),$J(rF(r),"priority",30),$J(rF(r),"incompatibleTokens",["t","T"]),r}return RDt(n,[{key:"parse",value:function(o,i){var s=function(c){return Math.floor(c*Math.pow(10,-i.length+3))};return Ur(Lr(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(cn);function LS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?LS=function(n){return typeof n}:LS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},LS(e)}function NDt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zDt(e,t,n){return t&&MJ(e.prototype,t),n&&MJ(e,n),e}function VDt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oF(e,t)}function oF(e,t){return oF=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},oF(e,t)}function HDt(e){var t=WDt();return function(){var r=Ak(e),o;if(t){var i=Ak(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return UDt(this,o)}}function UDt(e,t){return t&&(LS(t)==="object"||typeof t=="function")?t:iF(e)}function iF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WDt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ak(e){return Ak=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ak(e)}function FJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var YDt=function(e){VDt(n,e);var t=HDt(n);function n(){var r;NDt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),FJ(iF(r),"priority",10),FJ(iF(r),"incompatibleTokens",["t","T","x"]),r}return zDt(n,[{key:"parse",value:function(o,i){switch(i){case"X":return cc(lc.basicOptionalMinutes,o);case"XX":return cc(lc.basic,o);case"XXXX":return cc(lc.basicOptionalSeconds,o);case"XXXXX":return cc(lc.extendedOptionalSeconds,o);case"XXX":default:return cc(lc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(cn);function BS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?BS=function(n){return typeof n}:BS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},BS(e)}function qDt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GDt(e,t,n){return t&&LJ(e.prototype,t),n&&LJ(e,n),e}function KDt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sF(e,t)}function sF(e,t){return sF=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},sF(e,t)}function ZDt(e){var t=QDt();return function(){var r=Ok(e),o;if(t){var i=Ok(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return XDt(this,o)}}function XDt(e,t){return t&&(BS(t)==="object"||typeof t=="function")?t:aF(e)}function aF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QDt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ok(e){return Ok=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ok(e)}function BJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var JDt=function(e){KDt(n,e);var t=ZDt(n);function n(){var r;qDt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),BJ(aF(r),"priority",10),BJ(aF(r),"incompatibleTokens",["t","T","X"]),r}return GDt(n,[{key:"parse",value:function(o,i){switch(i){case"x":return cc(lc.basicOptionalMinutes,o);case"xx":return cc(lc.basic,o);case"xxxx":return cc(lc.basicOptionalSeconds,o);case"xxxxx":return cc(lc.extendedOptionalSeconds,o);case"xxx":default:return cc(lc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(cn);function NS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?NS=function(n){return typeof n}:NS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},NS(e)}function eIt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tIt(e,t,n){return t&&NJ(e.prototype,t),n&&NJ(e,n),e}function nIt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lF(e,t)}function lF(e,t){return lF=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},lF(e,t)}function rIt(e){var t=iIt();return function(){var r=Pk(e),o;if(t){var i=Pk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return oIt(this,o)}}function oIt(e,t){return t&&(NS(t)==="object"||typeof t=="function")?t:cF(e)}function cF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iIt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pk(e){return Pk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Pk(e)}function zJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sIt=function(e){nIt(n,e);var t=rIt(n);function n(){var r;eIt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),zJ(cF(r),"priority",40),zJ(cF(r),"incompatibleTokens","*"),r}return tIt(n,[{key:"parse",value:function(o){return CTe(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(cn);function zS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zS=function(n){return typeof n}:zS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zS(e)}function aIt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lIt(e,t,n){return t&&VJ(e.prototype,t),n&&VJ(e,n),e}function cIt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uF(e,t)}function uF(e,t){return uF=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},uF(e,t)}function uIt(e){var t=fIt();return function(){var r=Dk(e),o;if(t){var i=Dk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return dIt(this,o)}}function dIt(e,t){return t&&(zS(t)==="object"||typeof t=="function")?t:dF(e)}function dF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fIt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dk(e){return Dk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Dk(e)}function HJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hIt=function(e){cIt(n,e);var t=uIt(n);function n(){var r;aIt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),HJ(dF(r),"priority",20),HJ(dF(r),"incompatibleTokens","*"),r}return lIt(n,[{key:"parse",value:function(o){return CTe(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(cn),pIt={G:new pAt,y:new wAt,Y:new TAt,R:new $At,u:new VAt,Q:new KAt,q:new nOt,M:new cOt,L:new gOt,w:new SOt,I:new DOt,d:new zOt,D:new GOt,E:new tPt,e:new lPt,c:new mPt,i:new CPt,a:new OPt,b:new FPt,B:new UPt,h:new XPt,H:new oDt,K:new dDt,k:new yDt,m:new EDt,s:new DDt,S:new BDt,X:new YDt,x:new JDt,t:new sIt,T:new hIt};function VS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?VS=function(n){return typeof n}:VS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},VS(e)}function UJ(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=mIt(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,a;return{s:function(){n=e[Symbol.iterator]()},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function mIt(e,t){if(e){if(typeof e=="string")return WJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WJ(e,t)}}function WJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gIt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vIt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yIt=/^'([^]*?)'?$/,bIt=/''/g,xIt=/\S/,wIt=/[a-zA-Z]/;function _It(e,t,n,r){var o,i,s,a,c,u,d,f,p,m,v,g,b,x,y,w,_,C;Ue(3,arguments);var S=String(e),E=String(t),j=id(),k=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:j.locale)!==null&&o!==void 0?o:fTe;if(!k.match)throw new RangeError("locale must contain match property");var T=kt((s=(a=(c=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&c!==void 0?c:j.firstWeekContainsDate)!==null&&a!==void 0?a:(p=j.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=kt((v=(g=(b=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(y=r.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&b!==void 0?b:j.weekStartsOn)!==null&&g!==void 0?g:(_=j.locale)===null||_===void 0||(C=_.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return S===""?Ye(n):new Date(NaN);var O={firstWeekContainsDate:T,weekStartsOn:A,locale:k},P=[new iAt],D=E.match(vIt).map(function(X){var Q=X[0];if(Q in t4){var Z=t4[Q];return Z(X,k.formatLong)}return X}).join("").match(gIt),R=[],$=UJ(D),H;try{var F=function(){var Q=H.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&dTe(Q)&&Q5(Q,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&uTe(Q)&&Q5(Q,E,e);var Z=Q[0],re=pIt[Z];if(re){var ae=re.incompatibleTokens;if(Array.isArray(ae)){var me=R.find(function(Te){return ae.includes(Te.token)||Te.token===Z});if(me)throw new RangeError("The format string mustn't contain `".concat(me.fullToken,"` and `").concat(Q,"` at the same time"))}else if(re.incompatibleTokens==="*"&&R.length>0)throw new RangeError("The format string mustn't contain `".concat(Q,"` and any other token at the same time"));R.push({token:Z,fullToken:Q});var ce=re.run(S,Q,k.match,O);if(!ce)return{v:new Date(NaN)};P.push(ce.setter),S=ce.rest}else{if(Z.match(wIt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");if(Q==="''"?Q="'":Z==="'"&&(Q=CIt(Q)),S.indexOf(Q)===0)S=S.slice(Q.length);else return{v:new Date(NaN)}}};for($.s();!(H=$.n()).done;){var V=F();if(VS(V)==="object")return V.v}}catch(X){$.e(X)}finally{$.f()}if(S.length>0&&xIt.test(S))return new Date(NaN);var W=P.map(function(X){return X.priority}).sort(function(X,Q){return Q-X}).filter(function(X,Q,Z){return Z.indexOf(X)===Q}).map(function(X){return P.filter(function(Q){return Q.priority===X}).sort(function(Q,Z){return Z.subPriority-Q.subPriority})}).map(function(X){return X[0]}),z=Ye(n);if(isNaN(z.getTime()))return new Date(NaN);var q=iTe(z,X5(z)),oe={},N=UJ(W),G;try{for(N.s();!(G=N.n()).done;){var Y=G.value;if(!Y.validate(q,O))return new Date(NaN);var K=Y.set(q,oe,O);Array.isArray(K)?(q=K[0],KTt(oe,K[1])):q=K}}catch(X){N.e(X)}finally{N.f()}return q}function CIt(e){return e.match(yIt)[1].replace(bIt,"'")}function kTe(e,t){Ue(2,arguments);var n=Ye(e),r=Ye(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function SIt(e,t){Ue(2,arguments);var n=kt(t);return Vi(e,-n)}function EIt(e,t){var n;Ue(1,arguments);var r=kt((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=AIt(e),i;if(o.date){var s=OIt(o.date,r);i=PIt(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),c=0,u;if(o.time&&(c=DIt(o.time),isNaN(c)))return new Date(NaN);if(o.timezone){if(u=IIt(o.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+c),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(a+c+u)}var cC={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},kIt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,jIt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,TIt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function AIt(e){var t={},n=e.split(cC.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],cC.timeZoneDelimiter.test(t.date)&&(t.date=e.split(cC.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=cC.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function OIt(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function PIt(e,t){if(t===null)return new Date(NaN);var n=e.match(kIt);if(!n)return new Date(NaN);var r=!!n[4],o=M1(n[1]),i=M1(n[2])-1,s=M1(n[3]),a=M1(n[4]),c=M1(n[5])-1;if(r)return LIt(t,a,c)?RIt(t,a,c):new Date(NaN);var u=new Date(0);return!MIt(t,i,s)||!FIt(t,o)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(o,s)),u)}function M1(e){return e?parseInt(e):1}function DIt(e){var t=e.match(jIt);if(!t)return NaN;var n=AI(t[1]),r=AI(t[2]),o=AI(t[3]);return BIt(n,r,o)?n*IA+r*DA+o*1e3:NaN}function AI(e){return e&&parseFloat(e.replace(",","."))||0}function IIt(e){if(e==="Z")return 0;var t=e.match(TIt);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return NIt(r,o)?n*(r*IA+o*DA):NaN}function RIt(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var $It=[31,null,31,30,31,30,31,31,30,31,30,31];function jTe(e){return e%400===0||e%4===0&&e%100!==0}function MIt(e,t,n){return t>=0&&t<=11&&n>=1&&n<=($It[t]||(jTe(e)?29:28))}function FIt(e,t){return t>=1&&t<=(jTe(e)?366:365)}function LIt(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function BIt(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function NIt(e,t){return t>=0&&t<=59}function TTe(e,t){Ue(2,arguments);var n=Ye(e),r=kt(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=ZTt(s);return n.setMonth(r,Math.min(i,a)),n}function HS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?HS=function(n){return typeof n}:HS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},HS(e)}function zIt(e,t){if(Ue(2,arguments),HS(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=Ye(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=TTe(n,t.month)),t.date!=null&&n.setDate(kt(t.date)),t.hours!=null&&n.setHours(kt(t.hours)),t.minutes!=null&&n.setMinutes(kt(t.minutes)),t.seconds!=null&&n.setSeconds(kt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(kt(t.milliseconds)),n)}function VIt(e,t){Ue(2,arguments);var n=Ye(e),r=kt(t);return n.setDate(r),n}function OI(e,t){Ue(2,arguments);var n=Ye(e),r=kt(t);return n.setHours(r),n}function US(e,t){Ue(2,arguments);var n=Ye(e),r=kt(t);return n.setMinutes(r),n}function HIt(e,t){Ue(2,arguments);var n=Ye(e),r=kt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function YJ(){return Mf(Date.now())}function UIt(e,t){Ue(2,arguments);var n=kt(t);return CB(e,-n)}function WS(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?WS=function(n){return typeof n}:WS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},WS(e)}function qJ(e,t){if(Ue(2,arguments),!t||WS(t)!=="object")return new Date(NaN);var n=t.years?kt(t.years):0,r=t.months?kt(t.months):0,o=t.weeks?kt(t.weeks):0,i=t.days?kt(t.days):0,s=t.hours?kt(t.hours):0,a=t.minutes?kt(t.minutes):0,c=t.seconds?kt(t.seconds):0,u=UIt(e,r+n*12),d=SIt(u,i+o*7),f=a+s*60,p=c+f*60,m=p*1e3,v=new Date(d.getTime()-m);return v}const PI=[],DI=[],ATe=new Set,F1=new Map,L1=new Map,GJ=e=>typeof e=="string"?new RegExp("^".concat(e,"$"),"i"):e,fF=(e,t)=>typeof t!="string"?e:e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase(),OTe=(e,t,n)=>{if(!e.length||ATe.has(e))return t;let{length:r}=n;for(;r--;){const o=n[r];if(o[0].test(t))return t.replace(o[0],function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[c,u]=s,d=o[1].replace(/\$(\d{1,2})/g,(f,p)=>s[p]||"");return fF(c===""?t[u-1]:c,d)})}return t},KJ=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?fF(e,o):t.has(o)?fF(e,t.get(o)):OTe(o,e,r)},ZJ=(e,t,n,r)=>{const o=e.toLowerCase();return!!n.has(o)||!t.has(o)&&OTe(o,o,r)===o},Ir=(e,t,n)=>{const r=t===1?Ir.singular(e):Ir.plural(e);return n?"".concat(t," ").concat(r):r};Ir.plural=e=>KJ(e,L1,F1,PI),Ir.singular=e=>KJ(e,F1,L1,DI),Ir.addPluralRule=(e,t)=>{PI.push([GJ(e),t])},Ir.addSingularRule=(e,t)=>{DI.push([GJ(e),t])},Ir.addIrregularRule=(e,t)=>{const n=t.toLowerCase(),r=e.toLowerCase();L1.set(r,n),F1.set(n,r)},Ir.addUncountableRule=e=>{typeof e!="string"?(Ir.addPluralRule(e,"$0"),Ir.addSingularRule(e,"$0")):ATe.add(e.toLowerCase())},Ir.isPlural=e=>ZJ(e,L1,F1,PI),Ir.isSingular=e=>ZJ(e,F1,L1,DI);const WIt=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],YIt=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],qIt=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],GIt=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[e,t]of WIt)Ir.addIrregularRule(e,t);for(const[e,t]of YIt)Ir.addPluralRule(e,t);for(const[e,t]of qIt)Ir.addSingularRule(e,t);for(const e of GIt)Ir.addUncountableRule(e);var PTe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ys,function(){function n(){return n=Object.assign||function(A){for(var O=1;O<arguments.length;O++){var P=arguments[O];for(var D in P)Object.prototype.hasOwnProperty.call(P,D)&&(A[D]=P[D])}return A},n.apply(this,arguments)}function r(A,O){if(A){if(typeof A=="string")return o(A,O);var P=Object.prototype.toString.call(A).slice(8,-1);if(P==="Object"&&A.constructor&&(P=A.constructor.name),P==="Map"||P==="Set")return Array.from(A);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return o(A,O)}}function o(A,O){(O==null||O>A.length)&&(O=A.length);for(var P=0,D=new Array(O);P<O;P++)D[P]=A[P];return D}function i(A,O){var P=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(P)return(P=P.call(A)).next.bind(P);if(Array.isArray(A)||(P=r(A))||O&&A&&typeof A.length=="number"){P&&(A=P);var D=0;return function(){return D>=A.length?{done:!0}:{done:!1,value:A[D++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(A){var O=A.split("-"),P=O[1],D=O[2],R=O[3];if(!P||!D||!R)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');var $=D.split("x"),H=$[0],F=$[1],V=+H,W=+F,z=isFinite(V)&&isFinite(W);if(!z)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');return{id:P,width:V,height:W,format:R}}var c=function(O){var P=O;return P?typeof P._ref=="string":!1},u=function(O){var P=O;return P?typeof P._id=="string":!1},d=function(O){var P=O;return P&&P.asset?typeof P.asset.url=="string":!1};function f(A){if(!A)return null;var O;if(typeof A=="string"&&p(A))O={asset:{_ref:m(A)}};else if(typeof A=="string")O={asset:{_ref:A}};else if(c(A))O={asset:A};else if(u(A))O={asset:{_ref:A._id||""}};else if(d(A))O={asset:{_ref:m(A.asset.url)}};else if(typeof A.asset=="object")O=n({},A);else return null;var P=A;return P.crop&&(O.crop=P.crop),P.hotspot&&(O.hotspot=P.hotspot),v(O)}function p(A){return/^https?:\/\//.test(""+A)}function m(A){var O=A.split("/").slice(-1);return("image-"+O[0]).replace(/\.([a-z]+)$/,"-$1")}function v(A){if(A.crop&&A.hotspot)return A;var O=n({},A);return O.crop||(O.crop={left:0,top:0,bottom:0,right:0}),O.hotspot||(O.hotspot={x:.5,y:.5,height:1,width:1}),O}var g=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function b(A){var O=n({},A||{}),P=O.source;delete O.source;var D=f(P);if(!D)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(P)+")");var R=D.asset._ref||D.asset._id||"",$=a(R),H=Math.round(D.crop.left*$.width),F=Math.round(D.crop.top*$.height),V={left:H,top:F,width:Math.round($.width-D.crop.right*$.width-H),height:Math.round($.height-D.crop.bottom*$.height-F)},W=D.hotspot.height*$.height/2,z=D.hotspot.width*$.width/2,q=D.hotspot.x*$.width,oe=D.hotspot.y*$.height,N={left:q-z,top:oe-W,right:q+z,bottom:oe+W};return O.rect||O.focalPoint||O.ignoreImageParams||O.crop||(O=n({},O,y({crop:V,hotspot:N},O))),x(n({},O,{asset:$}))}function x(A){var O=(A.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),P=A.asset.id+"-"+A.asset.width+"x"+A.asset.height+"."+A.asset.format,D=O+"/images/"+A.projectId+"/"+A.dataset+"/"+P,R=[];if(A.rect){var $=A.rect,H=$.left,F=$.top,V=$.width,W=$.height,z=H!==0||F!==0||W!==A.asset.height||V!==A.asset.width;z&&R.push("rect="+H+","+F+","+V+","+W)}A.bg&&R.push("bg="+A.bg),A.focalPoint&&(R.push("fp-x="+A.focalPoint.x),R.push("fp-y="+A.focalPoint.y));var q=[A.flipHorizontal&&"h",A.flipVertical&&"v"].filter(Boolean).join("");return q&&R.push("flip="+q),g.forEach(function(oe){var N=oe[0],G=oe[1];typeof A[N]<"u"?R.push(G+"="+encodeURIComponent(A[N])):typeof A[G]<"u"&&R.push(G+"="+encodeURIComponent(A[G]))}),R.length===0?D:D+"?"+R.join("&")}function y(A,O){var P,D=O.width,R=O.height;if(!(D&&R))return{width:D,height:R,rect:A.crop};var $=A.crop,H=A.hotspot,F=D/R,V=$.width/$.height;if(V>F){var W=Math.round($.height),z=Math.round(W*F),q=Math.max(0,Math.round($.top)),oe=Math.round((H.right-H.left)/2+H.left),N=Math.max(0,Math.round(oe-z/2));N<$.left?N=$.left:N+z>$.left+$.width&&(N=$.left+$.width-z),P={left:N,top:q,width:z,height:W}}else{var G=$.width,Y=Math.round(G/F),K=Math.max(0,Math.round($.left)),X=Math.round((H.bottom-H.top)/2+H.top),Q=Math.max(0,Math.round(X-Y/2));Q<$.top?Q=$.top:Q+Y>$.top+$.height&&(Q=$.top+$.height-Y),P={left:K,top:Q,width:G,height:Y}}return{width:D,height:R,rect:P}}var w=["clip","crop","fill","fillmax","max","scale","min"],_=["top","bottom","left","right","center","focalpoint","entropy"],C=["format"];function S(A){return A&&"config"in A?typeof A.config=="function":!1}function E(A){return A&&"clientConfig"in A?typeof A.clientConfig=="object":!1}function j(A){for(var O=g,P=i(O),D;!(D=P()).done;){var R=D.value,$=R[0],H=R[1];if(A===$||A===H)return $}return A}function k(A){if(S(A)){var O=A.config(),P=O.apiHost,D=O.projectId,R=O.dataset,$=P||"https://api.sanity.io";return new T(null,{baseUrl:$.replace(/^https:\/\/api\./,"https://cdn."),projectId:D,dataset:R})}var H=A;if(E(H)){var F=H.clientConfig,V=F.apiHost,W=F.projectId,z=F.dataset,q=V||"https://api.sanity.io";return new T(null,{baseUrl:q.replace(/^https:\/\/api\./,"https://cdn."),projectId:W,dataset:z})}return new T(null,A)}var T=function(){function A(P,D){this.options=void 0,this.options=P?n({},P.options||{},D||{}):n({},D||{})}var O=A.prototype;return O.withOptions=function(D){var R=D.baseUrl||this.options.baseUrl,$={baseUrl:R};for(var H in D)if(D.hasOwnProperty(H)){var F=j(H);$[F]=D[H]}return new A(this,n({baseUrl:R},$))},O.image=function(D){return this.withOptions({source:D})},O.dataset=function(D){return this.withOptions({dataset:D})},O.projectId=function(D){return this.withOptions({projectId:D})},O.bg=function(D){return this.withOptions({bg:D})},O.dpr=function(D){return this.withOptions(D&&D!==1?{dpr:D}:{})},O.width=function(D){return this.withOptions({width:D})},O.height=function(D){return this.withOptions({height:D})},O.focalPoint=function(D,R){return this.withOptions({focalPoint:{x:D,y:R}})},O.maxWidth=function(D){return this.withOptions({maxWidth:D})},O.minWidth=function(D){return this.withOptions({minWidth:D})},O.maxHeight=function(D){return this.withOptions({maxHeight:D})},O.minHeight=function(D){return this.withOptions({minHeight:D})},O.size=function(D,R){return this.withOptions({width:D,height:R})},O.blur=function(D){return this.withOptions({blur:D})},O.sharpen=function(D){return this.withOptions({sharpen:D})},O.rect=function(D,R,$,H){return this.withOptions({rect:{left:D,top:R,width:$,height:H}})},O.format=function(D){return this.withOptions({format:D})},O.invert=function(D){return this.withOptions({invert:D})},O.orientation=function(D){return this.withOptions({orientation:D})},O.quality=function(D){return this.withOptions({quality:D})},O.forceDownload=function(D){return this.withOptions({download:D})},O.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},O.flipVertical=function(){return this.withOptions({flipVertical:!0})},O.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},O.fit=function(D){if(w.indexOf(D)===-1)throw new Error('Invalid fit mode "'+D+'"');return this.withOptions({fit:D})},O.crop=function(D){if(_.indexOf(D)===-1)throw new Error('Invalid crop mode "'+D+'"');return this.withOptions({crop:D})},O.saturation=function(D){return this.withOptions({saturation:D})},O.auto=function(D){if(C.indexOf(D)===-1)throw new Error('Invalid auto mode "'+D+'"');return this.withOptions({auto:D})},O.pad=function(D){return this.withOptions({pad:D})},O.url=function(){return b(this.options)},O.toString=function(){return this.url()},A}();return k})})(PTe);var KIt=PTe.exports;const $A=Pe(KIt);function ZIt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dx(e,t)}function hF(e){return hF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hF(e)}function dx(e,t){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},dx(e,t)}function XIt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function YS(e,t,n){return XIt()?YS=Reflect.construct.bind():YS=function(o,i,s){var a=[null];a.push.apply(a,i);var c=Function.bind.apply(o,a),u=new c;return s&&dx(u,s.prototype),u},YS.apply(null,arguments)}function QIt(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function pF(e){var t=typeof Map=="function"?new Map:void 0;return pF=function(r){if(r===null||!QIt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return YS(r,arguments,hF(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),dx(o,r)},pF(e)}var uC=Object.freeze({left:0,top:0,bottom:0,right:0}),dC=Object.freeze({x:.5,y:.5,height:1,width:1}),JIt=function(t){var n=t.top,r=t.bottom,o=t.left,i=t.right,s=uC.top,a=uC.bottom,c=uC.left,u=uC.right;return n===s&&r===a&&o===c&&i===u},e3t=function(t){var n=t.x,r=t.y,o=t.width,i=t.height,s=dC.x,a=dC.y,c=dC.width,u=dC.height;return n===s&&r===a&&o===c&&i===u},AB=function(e){ZIt(t,e);function t(n,r){var o;return r===void 0&&(r="Failed to resolve asset ID from source"),o=e.call(this,r)||this,o.unresolvable=!0,o.input=n,o}return t}(pF(Error));function t3t(e){var t=e;return!!(t.unresolvable&&"input"in t)}function n3t(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(t3t(t))return;throw t}}}var Fd="https://cdn.sanity.io",r3t=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,o3t=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,DTe=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,ITe=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function i3t(e){return Mw(e)&&typeof e._ref=="string"}function s3t(e){return Mw(e)&&typeof e._id=="string"}function a3t(e){return Mw(e)&&typeof e.path=="string"}function l3t(e){return Mw(e)&&typeof e.url=="string"}function c3t(e){var t=e;return Mw(t)&&t.asset&&typeof t.asset=="object"}function Mw(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function u3t(e){if(DTe.test(e))return e;if(!e.startsWith(Fd+"/"))throw new AB('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(Fd.length+1,n)}var d3t="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function f3t(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3],i=(r||"").split("x").map(Number),s=i[0],a=i[1];if(!n||!r||!o||!(s>0)||!(a>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+d3t+'".');return{type:"image",assetId:n,width:s,height:a,extension:o}}function h3t(e){var t=RTe(e),n=f3t(t),r=n.width,o=n.height,i=r/o;return{width:r,height:o,aspectRatio:i}}function RTe(e){var t=c3t(e)?e.asset:e,n="";typeof t=="string"?n=p3t(t):i3t(t)?n=t._ref:s3t(t)?n=t._id:a3t(t)?n=Bg(Fd+"/"+t.path):l3t(t)&&(n=Bg(t.url));var r=n&&ITe.test(n);if(!r)throw new AB(e);return n}var $Te=n3t(RTe);function p3t(e){if(ITe.test(e))return e;if(e.indexOf(Fd+"/images")===0||e.indexOf(Fd+"/files")===0)return Bg(e);if(DTe.test(e))return Bg(Fd+"/"+e);if(g3t(e))return Bg(Fd+"/files/a/b/"+e);if(m3t(e))return Bg(Fd+"/images/a/b/"+e);throw new AB(e)}function Bg(e){var t=u3t(e),n=t.split("/"),r=n[0],o=n[3],i=r.replace(/s$/,"");return i+"-"+o.replace(/\./g,"-")}function m3t(e){return o3t.test(e)}function g3t(e){return r3t.test(e)}function XJ(e){var t=$Te(e);return t?t.startsWith("file-"):!1}function db(e){var t=$Te(e);return t?t.startsWith("image-"):!1}function v3t(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}var y3t=v3t;const MA=Pe(y3t);var b3t=_A,x3t=vB,w3t=x3t(function(e,t,n){b3t(e,n,t)}),_3t=w3t;const OB=Pe(_3t);var C3t=Dc;function S3t(e){return C3t(e).toLowerCase()}var E3t=S3t;const sv=Pe(E3t);var k3t=O0,j3t=D0,T3t=TA,A3t=wA,O3t=j3t(function(e){return T3t(k3t(e,1,A3t,!0))}),P3t=O3t;const MTe=Pe(P3t);function D3t(){}var PB=D3t,I3t=cB,R3t=PB;function Ik(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Ik.prototype=I3t(R3t.prototype);Ik.prototype.constructor=Ik;var DB=Ik,QJ=YEe,$3t=QJ&&new QJ,M3t=$3t,JJ=M3t,F3t=dB,L3t=JJ?function(e){return JJ.get(e)}:F3t,FTe=L3t,B3t={},N3t=B3t,eee=N3t,z3t=Object.prototype,V3t=z3t.hasOwnProperty;function H3t(e){for(var t=e.name+"",n=eee[t],r=V3t.call(eee,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}var LTe=H3t,U3t=cB,W3t=PB,Y3t=4294967295;function Rk(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Y3t,this.__views__=[]}Rk.prototype=U3t(W3t.prototype);Rk.prototype.constructor=Rk;var IB=Rk,q3t=IB,G3t=DB,K3t=sB;function Z3t(e){if(e instanceof q3t)return e.clone();var t=new G3t(e.__wrapped__,e.__chain__);return t.__actions__=K3t(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var X3t=Z3t,Q3t=IB,tee=DB,J3t=PB,eRt=Wr,tRt=Ua,nRt=X3t,rRt=Object.prototype,oRt=rRt.hasOwnProperty;function $k(e){if(tRt(e)&&!eRt(e)&&!(e instanceof Q3t)){if(e instanceof tee)return e;if(oRt.call(e,"__wrapped__"))return nRt(e)}return new tee(e)}$k.prototype=J3t.prototype;$k.prototype.constructor=$k;var iRt=$k,sRt=IB,aRt=FTe,lRt=LTe,cRt=iRt;function uRt(e){var t=lRt(e),n=cRt[t];if(typeof n!="function"||!(t in sRt.prototype))return!1;if(e===n)return!0;var r=aRt(n);return!!r&&e===r[0]}var dRt=uRt,nee=DB,fRt=B7,hRt=FTe,II=LTe,pRt=Wr,ree=dRt,mRt="Expected a function",gRt=8,vRt=32,yRt=128,bRt=256;function xRt(e){return fRt(function(t){var n=t.length,r=n,o=nee.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if(typeof i!="function")throw new TypeError(mRt);if(o&&!s&&II(i)=="wrapper")var s=new nee([],!0)}for(r=s?r:n;++r<n;){i=t[r];var a=II(i),c=a=="wrapper"?hRt(i):void 0;c&&ree(c[0])&&c[1]==(yRt|gRt|vRt|bRt)&&!c[4].length&&c[9]==1?s=s[II(c[0])].apply(s,c[3]):s=i.length==1&&ree(i)?s[a]():s.thru(i)}return function(){var u=arguments,d=u[0];if(s&&u.length==1&&pRt(d))return s.plant(d).value();for(var f=0,p=n?t[f].apply(this,u):d;++f<n;)p=t[f].call(this,p);return p}})}var wRt=xRt,_Rt=wRt,CRt=_Rt(),SRt=CRt;const ERt=Pe(SRt);var kRt=R7;function jRt(e,t){for(var n=e.length;n--&&kRt(t,e[n],0)>-1;);return n}var TRt=jRt,ARt=R7;function ORt(e,t){for(var n=-1,r=e.length;++n<r&&ARt(t,e[n],0)>-1;);return n}var PRt=ORt,DRt=a5e,IRt=Cbe,RRt=gje,$Rt=TRt,MRt=PRt,oee=Sje,FRt=Dc;function LRt(e,t,n){if(e=FRt(e),e&&(n||t===void 0))return IRt(e);if(!e||!(t=DRt(t)))return e;var r=oee(e),o=oee(t),i=MRt(r,o),s=$Rt(r,o)+1;return RRt(r,i,s).join("")}var BRt=LRt;const NRt=Pe(BRt);var fC,zRt=new Uint8Array(16);function VRt(){if(!fC&&(fC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!fC))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fC(zRt)}const HRt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function URt(e){return typeof e=="string"&&HRt.test(e)}var Vo=[];for(var RI=0;RI<256;++RI)Vo.push((RI+256).toString(16).substr(1));function WRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Vo[e[t+0]]+Vo[e[t+1]]+Vo[e[t+2]]+Vo[e[t+3]]+"-"+Vo[e[t+4]]+Vo[e[t+5]]+"-"+Vo[e[t+6]]+Vo[e[t+7]]+"-"+Vo[e[t+8]]+Vo[e[t+9]]+"-"+Vo[e[t+10]]+Vo[e[t+11]]+Vo[e[t+12]]+Vo[e[t+13]]+Vo[e[t+14]]+Vo[e[t+15]]).toLowerCase();if(!URt(n))throw TypeError("Stringified UUID is invalid");return n}function sd(e,t,n){e=e||{};var r=e.random||(e.rng||VRt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return WRt(r)}var YRt=m5e,iee=Wr;function qRt(e,t,n,r){return e==null?[]:(iee(t)||(t=t==null?[]:[t]),n=r?void 0:n,iee(n)||(n=n==null?[]:[n]),YRt(e,t,n))}var GRt=qRt;const $0=Pe(GRt);function KRt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function mF(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Fw(e){const[t,n]=e;return[t,n]}function see(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function RB(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function FA(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function $B(e){let t=e.map(f=>Fw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===Ct?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Vn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[Cn,i]),t[r[o-1]+1][0]=Vn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=LA(t)),t=BTe(t),s=1;s<t.length;){if(t[s-1][0]===Cn&&t[s][0]===Vn){const f=t[s-1][1],p=t[s][1],m=see(f,p),v=see(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[Ct,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[Ct,f.substring(0,v)]),t[s-1][0]=Vn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=Cn,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const aee=/[^a-zA-Z0-9]/,lee=/\s/,cee=/[\r\n]/,ZRt=/\n\r?\n$/,XRt=/^\r?\n\r?\n/;function BTe(e){const t=e.map(o=>Fw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(aee),u=a.match(aee),d=c&&s.match(lee),f=u&&a.match(lee),p=d&&s.match(cee),m=f&&a.match(cee),v=p&&o.match(ZRt),g=m&&i.match(XRt);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===Ct&&t[r+1][0]===Ct){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=FA(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function LA(e){let t=e.map(u=>Fw(u));t.push([Ct,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Vn:o++,s+=t[n][1],n++;break;case Cn:r++,i+=t[n][1],n++;break;case Ct:r+o>1?(r!==0&&o!==0&&(a=RB(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===Ct?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[Ct,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=FA(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[Cn,i]),n++),s.length&&(t.splice(n,0,[Vn,s]),n++),n++):n!==0&&t[n-1][0]===Ct?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===Ct&&t[n+1][0]===Ct&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=LA(t)),t}function QRt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function MB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Fw(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===Ct?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===Cn?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&QRt(c,u,d,f)===3)&&(n.splice(o[i-1],0,[Cn,s]),n[o[i-1]+1][0]=Vn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=LA(n)),n}function JRt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let b=0;b<a;b++)c[b]=-1,u[b]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let b=0;b<i&&!(Date.now()>n);b++){for(let x=-b+p;x<=b-m;x+=2){const y=s+x;let w;x===-b||x!==b&&c[y-1]<c[y+1]?w=c[y+1]:w=c[y-1]+1;let _=w-x;for(;w<r&&_<o&&e.charAt(w)===t.charAt(_);)w++,_++;if(c[y]=w,w>r)m+=2;else if(_>o)p+=2;else if(f){const C=s+d-x;if(C>=0&&C<a&&u[C]!==-1){const S=r-u[C];if(w>=S)return uee(e,t,w,_,n)}}}for(let x=-b+v;x<=b-g;x+=2){const y=s+x;let w;x===-b||x!==b&&u[y-1]<u[y+1]?w=u[y+1]:w=u[y-1]+1;let _=w-x;for(;w<r&&_<o&&e.charAt(r-w-1)===t.charAt(o-_-1);)w++,_++;if(u[y]=w,w>r)g+=2;else if(_>o)v+=2;else if(!f){const C=s+d-x;if(C>=0&&C<a&&c[C]!==-1){const S=c[C],E=s+S-C;if(w=r-w,S>=w)return uee(e,t,S,E,n)}}}}return[[Cn,e],[Vn,t]]}function uee(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=Up(i,s,{checkLines:!1,deadline:o}),d=Up(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function e$t(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=dee(r,o,Math.ceil(r.length/4)),s=dee(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function dee(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=RB(e.slice(n),t.slice(o)),f=FA(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function t$t(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function n$t(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function r$t(e,t,n){let r=e,o=t;const i=n$t(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Up(r,o,{checkLines:!1,deadline:n.deadline});t$t(a,s),a=$B(a),a.push([Ct,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Vn:d++,p+=a[c][1];break;case Cn:u++,f+=a[c][1];break;case Ct:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=Up(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function o$t(e,t,n){let r;if(!e)return[[Vn,t]];if(!t)return[[Cn,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Vn,o.substring(0,s)],[Ct,i],[Vn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=Cn,r[2][0]=Cn),r;if(i.length===1)return[[Cn,e],[Vn,t]];const a=e$t(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Up(c,d,n),v=Up(u,f,n);return m.concat([[Ct,p]],v)}return n.checkLines&&e.length>100&&t.length>100?r$t(e,t,n):JRt(e,t,n.deadline)}const Cn=-1,Vn=1,Ct=0;function Lw(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Up(e,t,s$t(n||{}));return l$t(r),r}function Up(e,t,n){let r=e,o=t;if(r===o)return r?[[Ct,r]]:[];let i=RB(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=FA(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=o$t(r,o,n);return s&&c.unshift([Ct,s]),a&&c.push([Ct,a]),c=LA(c),c}function i$t(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function s$t(e){return{checkLines:!0,deadline:i$t(e.timeout||1),...e}}function hC(e,t,n){return n===1?e+t:t+e}function pC(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function a$t(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function fee(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Vn){o===null&&(o=s);continue}else if(u===Cn){i===null&&(i=s);continue}else if(u===Ct){if(o===null&&i===null){const[f,p]=pC(e[t][1],n);e[t][1]=f,e[s][1]=hC(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&a$t(e,o,i,n)){const[u,d]=pC(e[o][1],r),[f]=pC(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=hC(e[t][1],d,n);return}const[a,c]=pC(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Vn,c]),i!==null&&i>=s&&i++):e[o][1]=hC(e[o][1],c,r),i===null?e.splice(s,0,[Cn,c]):e[i][1]=hC(e[i][1],c,r)}function l$t(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];KRt(i)&&n===Ct&&fee(e,t,1),mF(o)&&n===Ct&&fee(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const c$t={threshold:.5,distance:1e3};function u$t(e){return{...c$t,...e}}const d$t=32;function f$t(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>d$t)throw new Error("Pattern too long for this browser.");const o=u$t(r),i=h$t(t);function s(v,g){const b=v/t.length,x=Math.abs(n-g);return o.distance?b+x/o.distance:x?1:b}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const b=Math.min(n+f,e.length)+t.length,x=new Array(b+2);x[b+1]=(1<<v)-1;for(let y=b;y>=g;y--){const w=i[e.charAt(y-1)];if(v===0?x[y]=(x[y+1]<<1|1)&w:x[y]=(x[y+1]<<1|1)&w|((m[y+1]|m[y])<<1|1)|m[y+1],x[y]&u){const _=s(v,y-1);if(_<=a)if(a=_,c=y-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function h$t(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function $I(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return f$t(e,t,r)}function Mk(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function FB(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Vn&&(t[n]=e[n][1]);return t.join("")}function NTe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Cn&&(t[n]=e[n][1]);return t.join("")}function Ud(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=zTe(r)}return t}function p$t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=zTe(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>Fw(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function zTe(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Ad=32,LB=4,m$t={margin:4};function MI(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...m$t,...e}}function VTe(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=Lw(e,t,{checkLines:!0});return r.length>2&&(r=$B(r),r=MB(r)),FI(e,r,MI(n))}if(e&&Array.isArray(e)&&typeof t>"u")return FI(FB(e),e,MI(n));if(typeof e=="string"&&t&&Array.isArray(t))return FI(e,t,MI(n));throw new Error("Unknown call format to make()")}function FI(e,t,n){if(t.length===0)return[];const r=[];let o=Mk(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,b=g.length,x=Ud(g);switch(!i&&v!==Ct&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case Vn:o.diffs[i++]=m,o.length2+=b,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case Cn:o.length1+=b,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+b);break;case Ct:b<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=b,o.length2+=b,o.utf8Length1+=x,o.utf8Length2+=x):b>=2*n.margin&&i&&(hee(o,d,n),r.push(o),o=Mk(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==Vn&&(s+=b,c+=x),v!==Cn&&(a+=b,u+=x)}return i&&(hee(o,d,n),r.push(o)),r}function hee(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Ad-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&mF(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([Ct,s]);const a=s.length,c=Ud(s);let u=e.start2+e.length1+o;u<t.length&&mF(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([Ct,d]);const f=d.length,p=Ud(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function g$t(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Vn:n+=s.length;break;case Cn:r+=s.length;break;case Ct:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function pee(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Vn&&(n+=e[s][1].length),e[s][0]!==Cn&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===Cn?i:i+(t-o)}function v$t(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:LB;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==Ct)i.unshift([Ct,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==Ct)i.push([Ct,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function y$t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:LB;const n=Ad;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=Mk(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Ud(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([Ct,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Ud(m);if(p===Vn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===Cn&&c.diffs.length===1&&c.diffs[0][0]===Ct&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=Ud(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===Ct?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=NTe(c.diffs),a=a.substring(a.length-t);const d=FB(o.diffs).substring(0,t),f=Ud(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===Ct?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([Ct,d])),u||e.splice(++r,0,c)}}}function HTe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=p$t(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||LB,s=n.deleteThreshold||.4,a=v$t(o,i);r=a+r+a,y$t(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=FB(o[d].diffs);let m,v=-1;if(p.length>Ad?(m=$I(r,p.substring(0,Ad),f),m!==-1&&(v=$I(r,p.substring(p.length-Ad),f+p.length-Ad),(v===-1||m>=v)&&(m=-1))):m=$I(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Ad),p===g)r=r.substring(0,m)+NTe(o[d].diffs)+r.substring(m+p.length);else{let b=Lw(p,g,{checkLines:!1});if(p.length>Ad&&g$t(b)/p.length>s)u[d]=!1;else{b=BTe(b);let x=0,y=0;for(let w=0;w<o[d].diffs.length;w++){const _=o[d].diffs[w];_[0]!==Ct&&(y=pee(b,x)),_[0]===Vn?r=r.substring(0,m+y)+_[1]+r.substring(m+y):_[0]===Cn&&(r=r.substring(0,m+y)+r.substring(m+pee(b,x+_[1].length))),_[0]!==Cn&&(x+=_[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function UTe(e){return e.map(b$t).join("")}function b$t(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Vn:u="+";break;case Cn:u="-";break;case Ct:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const x$t=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function WTe(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(x$t);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=Mk(mC(o[1]),mC(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=mC(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=mC(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Ud(c)-c.length;if(a==="-")i.diffs.push([Cn,c]),i.length1-=u;else if(a==="+")i.diffs.push([Vn,c]),i.length2-=u;else if(a===" ")i.diffs.push([Ct,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function mC(e){return parseInt(e,10)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var YTe;function Le(){return YTe.apply(null,arguments)}function w$t(e){YTe=e}function jl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Cp(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function on(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function BB(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(on(e,t))return!1;return!0}function cs(e){return e===void 0}function Bu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Bw(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function qTe(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function Wd(e,t){for(var n in t)on(t,n)&&(e[n]=t[n]);return on(t,"toString")&&(e.toString=t.toString),on(t,"valueOf")&&(e.valueOf=t.valueOf),e}function $c(e,t,n,r){return vAe(e,t,n,r,!0).utc()}function _$t(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function St(e){return e._pf==null&&(e._pf=_$t()),e._pf}var gF;Array.prototype.some?gF=Array.prototype.some:gF=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function NB(e){if(e._isValid==null){var t=St(e),n=gF.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function BA(e){var t=$c(NaN);return e!=null?Wd(St(t),e):St(t).userInvalidated=!0,t}var mee=Le.momentProperties=[],LI=!1;function zB(e,t){var n,r,o,i=mee.length;if(cs(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),cs(t._i)||(e._i=t._i),cs(t._f)||(e._f=t._f),cs(t._l)||(e._l=t._l),cs(t._strict)||(e._strict=t._strict),cs(t._tzm)||(e._tzm=t._tzm),cs(t._isUTC)||(e._isUTC=t._isUTC),cs(t._offset)||(e._offset=t._offset),cs(t._pf)||(e._pf=St(t)),cs(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=mee[n],o=t[r],cs(o)||(e[r]=o);return e}function Nw(e){zB(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),LI===!1&&(LI=!0,Le.updateOffset(this),LI=!1)}function Tl(e){return e instanceof Nw||e!=null&&e._isAMomentObject!=null}function GTe(e){Le.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Ka(e,t){var n=!0;return Wd(function(){if(Le.deprecationHandler!=null&&Le.deprecationHandler(null,e),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])on(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}GTe(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var gee={};function KTe(e,t){Le.deprecationHandler!=null&&Le.deprecationHandler(e,t),gee[e]||(GTe(t),gee[e]=!0)}Le.suppressDeprecationWarnings=!1;Le.deprecationHandler=null;function Mc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function C$t(e){var t,n;for(n in e)on(e,n)&&(t=e[n],Mc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function vF(e,t){var n=Wd({},e),r;for(r in t)on(t,r)&&(Cp(e[r])&&Cp(t[r])?(n[r]={},Wd(n[r],e[r]),Wd(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)on(e,r)&&!on(t,r)&&Cp(e[r])&&(n[r]=Wd({},n[r]));return n}function VB(e){e!=null&&this.set(e)}var yF;Object.keys?yF=Object.keys:yF=function(e){var t,n=[];for(t in e)on(e,t)&&n.push(t);return n};var S$t={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function E$t(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Mc(r)?r.call(t,n):r}function Ec(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var HB=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,gC=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,BI={},av={};function et(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(av[e]=o),t&&(av[t[0]]=function(){return Ec(o.apply(this,arguments),t[1],t[2])}),n&&(av[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function k$t(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function j$t(e){var t=e.match(HB),n,r;for(n=0,r=t.length;n<r;n++)av[t[n]]?t[n]=av[t[n]]:t[n]=k$t(t[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=Mc(t[s])?t[s].call(o,e):t[s];return i}}function qS(e,t){return e.isValid()?(t=ZTe(t,e.localeData()),BI[t]=BI[t]||j$t(t),BI[t](e)):e.localeData().invalidDate()}function ZTe(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(gC.lastIndex=0;n>=0&&gC.test(e);)e=e.replace(gC,r),gC.lastIndex=0,n-=1;return e}var T$t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function A$t(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(HB).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var O$t="Invalid date";function P$t(){return this._invalidDate}var D$t="%d",I$t=/\d{1,2}/;function R$t(e){return this._ordinal.replace("%d",e)}var $$t={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function M$t(e,t,n,r){var o=this._relativeTime[n];return Mc(o)?o(e,t,n,r):o.replace(/%d/i,e)}function F$t(e,t){var n=this._relativeTime[e>0?"future":"past"];return Mc(n)?n(t):n.replace(/%s/i,t)}var fb={};function Di(e,t){var n=e.toLowerCase();fb[n]=fb[n+"s"]=fb[t]=e}function Za(e){return typeof e=="string"?fb[e]||fb[e.toLowerCase()]:void 0}function UB(e){var t={},n,r;for(r in e)on(e,r)&&(n=Za(r),n&&(t[n]=e[r]));return t}var XTe={};function Ii(e,t){XTe[e]=t}function L$t(e){var t=[],n;for(n in e)on(e,n)&&t.push({unit:n,priority:XTe[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function NA(e){return e%4===0&&e%100!==0||e%400===0}function _a(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Rt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=_a(t)),n}function M0(e,t){return function(n){return n!=null?(QTe(this,e,n),Le.updateOffset(this,t),this):Fk(this,e)}}function Fk(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function QTe(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&NA(e.year())&&e.month()===1&&e.date()===29?(n=Rt(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),YA(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function B$t(e){return e=Za(e),Mc(this[e])?this[e]():this}function N$t(e,t){if(typeof e=="object"){e=UB(e);var n=L$t(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=Za(e),Mc(this[e]))return this[e](t);return this}var JTe=/\d/,ca=/\d\d/,eAe=/\d{3}/,WB=/\d{4}/,zA=/[+-]?\d{6}/,sr=/\d\d?/,tAe=/\d\d\d\d?/,nAe=/\d\d\d\d\d\d?/,VA=/\d{1,3}/,YB=/\d{1,4}/,HA=/[+-]?\d{1,6}/,F0=/\d+/,UA=/[+-]?\d+/,z$t=/Z|[+-]\d\d:?\d\d/gi,WA=/Z|[+-]\d\d(?::?\d\d)?/gi,V$t=/[+-]?\d+(\.\d{1,3})?/,zw=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Lk;Lk={};function ze(e,t,n){Lk[e]=Mc(t)?t:function(r,o){return r&&n?n:t}}function H$t(e,t){return on(Lk,e)?Lk[e](t._strict,t._locale):new RegExp(U$t(e))}function U$t(e){return Ws(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,i){return n||r||o||i}))}function Ws(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var bF={};function An(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),Bu(t)&&(r=function(i,s){s[t]=Rt(i)}),o=e.length,n=0;n<o;n++)bF[e[n]]=r}function Vw(e,t){An(e,function(n,r,o,i){o._w=o._w||{},t(n,o._w,o,i)})}function W$t(e,t,n){t!=null&&on(bF,e)&&bF[e](t,n._a,n,e)}var Ci=0,du=1,uc=2,wo=3,hl=4,fu=5,tp=6,Y$t=7,q$t=8;function G$t(e,t){return(e%t+t)%t}var zr;Array.prototype.indexOf?zr=Array.prototype.indexOf:zr=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function YA(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=G$t(t,12);return e+=(t-n)/12,n===1?NA(e)?29:28:31-n%7%2}et("M",["MM",2],"Mo",function(){return this.month()+1});et("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});et("MMMM",0,0,function(e){return this.localeData().months(this,e)});Di("month","M");Ii("month",8);ze("M",sr);ze("MM",sr,ca);ze("MMM",function(e,t){return t.monthsShortRegex(e)});ze("MMMM",function(e,t){return t.monthsRegex(e)});An(["M","MM"],function(e,t){t[du]=Rt(e)-1});An(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[du]=o:St(n).invalidMonth=e});var K$t="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),rAe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),oAe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Z$t=zw,X$t=zw;function Q$t(e,t){return e?jl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||oAe).test(t)?"format":"standalone"][e.month()]:jl(this._months)?this._months:this._months.standalone}function J$t(e,t){return e?jl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[oAe.test(t)?"format":"standalone"][e.month()]:jl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function eMt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=$c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(o=zr.call(this._shortMonthsParse,s),o!==-1?o:null):(o=zr.call(this._longMonthsParse,s),o!==-1?o:null):t==="MMM"?(o=zr.call(this._shortMonthsParse,s),o!==-1?o:(o=zr.call(this._longMonthsParse,s),o!==-1?o:null)):(o=zr.call(this._longMonthsParse,s),o!==-1?o:(o=zr.call(this._shortMonthsParse,s),o!==-1?o:null))}function tMt(e,t,n){var r,o,i;if(this._monthsParseExact)return eMt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=$c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function iAe(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Rt(t);else if(t=e.localeData().monthsParse(t),!Bu(t))return e}return n=Math.min(e.date(),YA(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function sAe(e){return e!=null?(iAe(this,e),Le.updateOffset(this,!0),this):Fk(this,"Month")}function nMt(){return YA(this.year(),this.month())}function rMt(e){return this._monthsParseExact?(on(this,"_monthsRegex")||aAe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(on(this,"_monthsShortRegex")||(this._monthsShortRegex=Z$t),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function oMt(e){return this._monthsParseExact?(on(this,"_monthsRegex")||aAe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(on(this,"_monthsRegex")||(this._monthsRegex=X$t),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function aAe(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=$c([2e3,o]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=Ws(t[o]),n[o]=Ws(n[o]);for(o=0;o<24;o++)r[o]=Ws(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}et("Y",0,0,function(){var e=this.year();return e<=9999?Ec(e,4):"+"+e});et(0,["YY",2],0,function(){return this.year()%100});et(0,["YYYY",4],0,"year");et(0,["YYYYY",5],0,"year");et(0,["YYYYYY",6,!0],0,"year");Di("year","y");Ii("year",1);ze("Y",UA);ze("YY",sr,ca);ze("YYYY",YB,WB);ze("YYYYY",HA,zA);ze("YYYYYY",HA,zA);An(["YYYYY","YYYYYY"],Ci);An("YYYY",function(e,t){t[Ci]=e.length===2?Le.parseTwoDigitYear(e):Rt(e)});An("YY",function(e,t){t[Ci]=Le.parseTwoDigitYear(e)});An("Y",function(e,t){t[Ci]=parseInt(e,10)});function hb(e){return NA(e)?366:365}Le.parseTwoDigitYear=function(e){return Rt(e)+(Rt(e)>68?1900:2e3)};var lAe=M0("FullYear",!0);function iMt(){return NA(this.year())}function sMt(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function fx(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Bk(e,t,n){var r=7+t-n,o=(7+fx(e,0,r).getUTCDay()-t)%7;return-o+r-1}function cAe(e,t,n,r,o){var i=(7+n-r)%7,s=Bk(e,r,o),a=1+7*(t-1)+i+s,c,u;return a<=0?(c=e-1,u=hb(c)+a):a>hb(e)?(c=e+1,u=a-hb(e)):(c=e,u=a),{year:c,dayOfYear:u}}function hx(e,t,n){var r=Bk(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=e.year()-1,i=o+xu(s,t,n)):o>xu(e.year(),t,n)?(i=o-xu(e.year(),t,n),s=e.year()+1):(s=e.year(),i=o),{week:i,year:s}}function xu(e,t,n){var r=Bk(e,t,n),o=Bk(e+1,t,n);return(hb(e)-r+o)/7}et("w",["ww",2],"wo","week");et("W",["WW",2],"Wo","isoWeek");Di("week","w");Di("isoWeek","W");Ii("week",5);Ii("isoWeek",5);ze("w",sr);ze("ww",sr,ca);ze("W",sr);ze("WW",sr,ca);Vw(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Rt(e)});function aMt(e){return hx(e,this._week.dow,this._week.doy).week}var lMt={dow:0,doy:6};function cMt(){return this._week.dow}function uMt(){return this._week.doy}function dMt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function fMt(e){var t=hx(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}et("d",0,"do","day");et("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});et("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});et("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});et("e",0,0,"weekday");et("E",0,0,"isoWeekday");Di("day","d");Di("weekday","e");Di("isoWeekday","E");Ii("day",11);Ii("weekday",11);Ii("isoWeekday",11);ze("d",sr);ze("e",sr);ze("E",sr);ze("dd",function(e,t){return t.weekdaysMinRegex(e)});ze("ddd",function(e,t){return t.weekdaysShortRegex(e)});ze("dddd",function(e,t){return t.weekdaysRegex(e)});Vw(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:St(n).invalidWeekday=e});Vw(["d","e","E"],function(e,t,n,r){t[r]=Rt(e)});function hMt(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function pMt(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function qB(e,t){return e.slice(t,7).concat(e.slice(0,t))}var mMt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),uAe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gMt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vMt=zw,yMt=zw,bMt=zw;function xMt(e,t){var n=jl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?qB(n,this._week.dow):e?n[e.day()]:n}function wMt(e){return e===!0?qB(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function _Mt(e){return e===!0?qB(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function CMt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=$c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(o=zr.call(this._weekdaysParse,s),o!==-1?o:null):t==="ddd"?(o=zr.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=zr.call(this._minWeekdaysParse,s),o!==-1?o:null):t==="dddd"?(o=zr.call(this._weekdaysParse,s),o!==-1||(o=zr.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=zr.call(this._minWeekdaysParse,s),o!==-1?o:null)):t==="ddd"?(o=zr.call(this._shortWeekdaysParse,s),o!==-1||(o=zr.call(this._weekdaysParse,s),o!==-1)?o:(o=zr.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=zr.call(this._minWeekdaysParse,s),o!==-1||(o=zr.call(this._weekdaysParse,s),o!==-1)?o:(o=zr.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function SMt(e,t,n){var r,o,i;if(this._weekdaysParseExact)return CMt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=$c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function EMt(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=hMt(e,this.localeData()),this.add(e-t,"d")):t}function kMt(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function jMt(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=pMt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function TMt(e){return this._weekdaysParseExact?(on(this,"_weekdaysRegex")||GB.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(on(this,"_weekdaysRegex")||(this._weekdaysRegex=vMt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function AMt(e){return this._weekdaysParseExact?(on(this,"_weekdaysRegex")||GB.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(on(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yMt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function OMt(e){return this._weekdaysParseExact?(on(this,"_weekdaysRegex")||GB.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(on(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=bMt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function GB(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],o=[],i,s,a,c,u;for(i=0;i<7;i++)s=$c([2e3,1]).day(i),a=Ws(this.weekdaysMin(s,"")),c=Ws(this.weekdaysShort(s,"")),u=Ws(this.weekdays(s,"")),t.push(a),n.push(c),r.push(u),o.push(a),o.push(c),o.push(u);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function KB(){return this.hours()%12||12}function PMt(){return this.hours()||24}et("H",["HH",2],0,"hour");et("h",["hh",2],0,KB);et("k",["kk",2],0,PMt);et("hmm",0,0,function(){return""+KB.apply(this)+Ec(this.minutes(),2)});et("hmmss",0,0,function(){return""+KB.apply(this)+Ec(this.minutes(),2)+Ec(this.seconds(),2)});et("Hmm",0,0,function(){return""+this.hours()+Ec(this.minutes(),2)});et("Hmmss",0,0,function(){return""+this.hours()+Ec(this.minutes(),2)+Ec(this.seconds(),2)});function dAe(e,t){et(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}dAe("a",!0);dAe("A",!1);Di("hour","h");Ii("hour",13);function fAe(e,t){return t._meridiemParse}ze("a",fAe);ze("A",fAe);ze("H",sr);ze("h",sr);ze("k",sr);ze("HH",sr,ca);ze("hh",sr,ca);ze("kk",sr,ca);ze("hmm",tAe);ze("hmmss",nAe);ze("Hmm",tAe);ze("Hmmss",nAe);An(["H","HH"],wo);An(["k","kk"],function(e,t,n){var r=Rt(e);t[wo]=r===24?0:r});An(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});An(["h","hh"],function(e,t,n){t[wo]=Rt(e),St(n).bigHour=!0});An("hmm",function(e,t,n){var r=e.length-2;t[wo]=Rt(e.substr(0,r)),t[hl]=Rt(e.substr(r)),St(n).bigHour=!0});An("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[wo]=Rt(e.substr(0,r)),t[hl]=Rt(e.substr(r,2)),t[fu]=Rt(e.substr(o)),St(n).bigHour=!0});An("Hmm",function(e,t,n){var r=e.length-2;t[wo]=Rt(e.substr(0,r)),t[hl]=Rt(e.substr(r))});An("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[wo]=Rt(e.substr(0,r)),t[hl]=Rt(e.substr(r,2)),t[fu]=Rt(e.substr(o))});function DMt(e){return(e+"").toLowerCase().charAt(0)==="p"}var IMt=/[ap]\.?m?\.?/i,RMt=M0("Hours",!0);function $Mt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var hAe={calendar:S$t,longDateFormat:T$t,invalidDate:O$t,ordinal:D$t,dayOfMonthOrdinalParse:I$t,relativeTime:$$t,months:K$t,monthsShort:rAe,week:lMt,weekdays:mMt,weekdaysMin:gMt,weekdaysShort:uAe,meridiemParse:IMt},fr={},B1={},px;function MMt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function vee(e){return e&&e.toLowerCase().replace("_","-")}function FMt(e){for(var t=0,n,r,o,i;t<e.length;){for(i=vee(e[t]).split("-"),n=i.length,r=vee(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=qA(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&MMt(i,r)>=n-1)break;n--}t++}return px}function LMt(e){return e.match("^[^/\\\\]*$")!=null}function qA(e){var t=null,n;if(fr[e]===void 0&&typeof module<"u"&&module&&module.exports&&LMt(e))try{t=px._abbr,n=require,n("./locale/"+e),pf(t)}catch{fr[e]=null}return fr[e]}function pf(e,t){var n;return e&&(cs(t)?n=ad(e):n=ZB(e,t),n?px=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),px._abbr}function ZB(e,t){if(t!==null){var n,r=hAe;if(t.abbr=e,fr[e]!=null)KTe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=fr[e]._config;else if(t.parentLocale!=null)if(fr[t.parentLocale]!=null)r=fr[t.parentLocale]._config;else if(n=qA(t.parentLocale),n!=null)r=n._config;else return B1[t.parentLocale]||(B1[t.parentLocale]=[]),B1[t.parentLocale].push({name:e,config:t}),null;return fr[e]=new VB(vF(r,t)),B1[e]&&B1[e].forEach(function(o){ZB(o.name,o.config)}),pf(e),fr[e]}else return delete fr[e],null}function BMt(e,t){if(t!=null){var n,r,o=hAe;fr[e]!=null&&fr[e].parentLocale!=null?fr[e].set(vF(fr[e]._config,t)):(r=qA(e),r!=null&&(o=r._config),t=vF(o,t),r==null&&(t.abbr=e),n=new VB(t),n.parentLocale=fr[e],fr[e]=n),pf(e)}else fr[e]!=null&&(fr[e].parentLocale!=null?(fr[e]=fr[e].parentLocale,e===pf()&&pf(e)):fr[e]!=null&&delete fr[e]);return fr[e]}function ad(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return px;if(!jl(e)){if(t=qA(e),t)return t;e=[e]}return FMt(e)}function NMt(){return yF(fr)}function XB(e){var t,n=e._a;return n&&St(e).overflow===-2&&(t=n[du]<0||n[du]>11?du:n[uc]<1||n[uc]>YA(n[Ci],n[du])?uc:n[wo]<0||n[wo]>24||n[wo]===24&&(n[hl]!==0||n[fu]!==0||n[tp]!==0)?wo:n[hl]<0||n[hl]>59?hl:n[fu]<0||n[fu]>59?fu:n[tp]<0||n[tp]>999?tp:-1,St(e)._overflowDayOfYear&&(t<Ci||t>uc)&&(t=uc),St(e)._overflowWeeks&&t===-1&&(t=Y$t),St(e)._overflowWeekday&&t===-1&&(t=q$t),St(e).overflow=t),e}var zMt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,VMt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,HMt=/Z|[+-]\d\d(?::?\d\d)?/,vC=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],NI=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],UMt=/^\/?Date\((-?\d+)/i,WMt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,YMt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function pAe(e){var t,n,r=e._i,o=zMt.exec(r)||VMt.exec(r),i,s,a,c,u=vC.length,d=NI.length;if(o){for(St(e).iso=!0,t=0,n=u;t<n;t++)if(vC[t][1].exec(o[1])){s=vC[t][0],i=vC[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(o[3]){for(t=0,n=d;t<n;t++)if(NI[t][1].exec(o[3])){a=(o[2]||" ")+NI[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(o[4])if(HMt.exec(o[4]))c="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(c||""),JB(e)}else e._isValid=!1}function qMt(e,t,n,r,o,i){var s=[GMt(e),rAe.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function GMt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function KMt(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ZMt(e,t,n){if(e){var r=uAe.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return St(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function XMt(e,t,n){if(e)return YMt[e];if(t)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function mAe(e){var t=WMt.exec(KMt(e._i)),n;if(t){if(n=qMt(t[4],t[3],t[2],t[5],t[6],t[7]),!ZMt(t[1],n,e))return;e._a=n,e._tzm=XMt(t[8],t[9],t[10]),e._d=fx.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),St(e).rfc2822=!0}else e._isValid=!1}function QMt(e){var t=UMt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(pAe(e),e._isValid===!1)delete e._isValid;else return;if(mAe(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Le.createFromInputFallback(e)}Le.createFromInputFallback=Ka("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function fg(e,t,n){return e??t??n}function JMt(e){var t=new Date(Le.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function QB(e){var t,n,r=[],o,i,s;if(!e._d){for(o=JMt(e),e._w&&e._a[uc]==null&&e._a[du]==null&&e4t(e),e._dayOfYear!=null&&(s=fg(e._a[Ci],o[Ci]),(e._dayOfYear>hb(s)||e._dayOfYear===0)&&(St(e)._overflowDayOfYear=!0),n=fx(s,0,e._dayOfYear),e._a[du]=n.getUTCMonth(),e._a[uc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[wo]===24&&e._a[hl]===0&&e._a[fu]===0&&e._a[tp]===0&&(e._nextDay=!0,e._a[wo]=0),e._d=(e._useUTC?fx:sMt).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[wo]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(St(e).weekdayMismatch=!0)}}function e4t(e){var t,n,r,o,i,s,a,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,n=fg(t.GG,e._a[Ci],hx(nr(),1,4).year),r=fg(t.W,1),o=fg(t.E,1),(o<1||o>7)&&(c=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=hx(nr(),i,s),n=fg(t.gg,e._a[Ci],u.year),r=fg(t.w,u.week),t.d!=null?(o=t.d,(o<0||o>6)&&(c=!0)):t.e!=null?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i),r<1||r>xu(n,i,s)?St(e)._overflowWeeks=!0:c!=null?St(e)._overflowWeekday=!0:(a=cAe(n,r,o,i,s),e._a[Ci]=a.year,e._dayOfYear=a.dayOfYear)}Le.ISO_8601=function(){};Le.RFC_2822=function(){};function JB(e){if(e._f===Le.ISO_8601){pAe(e);return}if(e._f===Le.RFC_2822){mAe(e);return}e._a=[],St(e).empty=!0;var t=""+e._i,n,r,o,i,s,a=t.length,c=0,u,d;for(o=ZTe(e._f,e._locale).match(HB)||[],d=o.length,n=0;n<d;n++)i=o[n],r=(t.match(H$t(i,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&St(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),c+=r.length),av[i]?(r?St(e).empty=!1:St(e).unusedTokens.push(i),W$t(i,r,e)):e._strict&&!r&&St(e).unusedTokens.push(i);St(e).charsLeftOver=a-c,t.length>0&&St(e).unusedInput.push(t),e._a[wo]<=12&&St(e).bigHour===!0&&e._a[wo]>0&&(St(e).bigHour=void 0),St(e).parsedDateParts=e._a.slice(0),St(e).meridiem=e._meridiem,e._a[wo]=t4t(e._locale,e._a[wo],e._meridiem),u=St(e).era,u!==null&&(e._a[Ci]=e._locale.erasConvertYear(u,e._a[Ci])),QB(e),XB(e)}function t4t(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function n4t(e){var t,n,r,o,i,s,a=!1,c=e._f.length;if(c===0){St(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<c;o++)i=0,s=!1,t=zB({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],JB(t),NB(t)&&(s=!0),i+=St(t).charsLeftOver,i+=St(t).unusedTokens.length*10,St(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||s)&&(r=i,n=t,s&&(a=!0));Wd(e,n||t)}function r4t(e){if(!e._d){var t=UB(e._i),n=t.day===void 0?t.date:t.day;e._a=qTe([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),QB(e)}}function o4t(e){var t=new Nw(XB(gAe(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function gAe(e){var t=e._i,n=e._f;return e._locale=e._locale||ad(e._l),t===null||n===void 0&&t===""?BA({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Tl(t)?new Nw(XB(t)):(Bw(t)?e._d=t:jl(n)?n4t(e):n?JB(e):i4t(e),NB(e)||(e._d=null),e))}function i4t(e){var t=e._i;cs(t)?e._d=new Date(Le.now()):Bw(t)?e._d=new Date(t.valueOf()):typeof t=="string"?QMt(e):jl(t)?(e._a=qTe(t.slice(0),function(n){return parseInt(n,10)}),QB(e)):Cp(t)?r4t(e):Bu(t)?e._d=new Date(t):Le.createFromInputFallback(e)}function vAe(e,t,n,r,o){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Cp(e)&&BB(e)||jl(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,o4t(i)}function nr(e,t,n,r){return vAe(e,t,n,r,!1)}var s4t=Ka("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=nr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:BA()}),a4t=Ka("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=nr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:BA()});function yAe(e,t){var n,r;if(t.length===1&&jl(t[0])&&(t=t[0]),!t.length)return nr();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function l4t(){var e=[].slice.call(arguments,0);return yAe("isBefore",e)}function c4t(){var e=[].slice.call(arguments,0);return yAe("isAfter",e)}var u4t=function(){return Date.now?Date.now():+new Date},N1=["year","quarter","month","week","day","hour","minute","second","millisecond"];function d4t(e){var t,n=!1,r,o=N1.length;for(t in e)if(on(e,t)&&!(zr.call(N1,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[N1[r]]){if(n)return!1;parseFloat(e[N1[r]])!==Rt(e[N1[r]])&&(n=!0)}return!0}function f4t(){return this._isValid}function h4t(){return Rl(NaN)}function GA(e){var t=UB(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=d4t(t),this._milliseconds=+d+u*1e3+c*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=ad(),this._bubble()}function GS(e){return e instanceof GA}function xF(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function p4t(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Rt(e[s])!==Rt(t[s]))&&i++;return i+o}function bAe(e,t){et(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Ec(~~(n/60),2)+t+Ec(~~n%60,2)})}bAe("Z",":");bAe("ZZ","");ze("Z",WA);ze("ZZ",WA);An(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=eN(WA,e)});var m4t=/([\+\-]|\d\d)/gi;function eN(e,t){var n=(t||"").match(e),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(m4t)||["-",0,0],i=+(o[1]*60)+Rt(o[2]),i===0?0:o[0]==="+"?i:-i)}function tN(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Tl(e)||Bw(e)?e.valueOf():nr(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Le.updateOffset(n,!1),n):nr(e).local()}function wF(e){return-Math.round(e._d.getTimezoneOffset())}Le.updateOffset=function(){};function g4t(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=eN(WA,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=wF(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?_Ae(this,Rl(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Le.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:wF(this)}function v4t(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function y4t(e){return this.utcOffset(0,e)}function b4t(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(wF(this),"m")),this}function x4t(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=eN(z$t,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function w4t(e){return this.isValid()?(e=e?nr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function _4t(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function C4t(){if(!cs(this._isDSTShifted))return this._isDSTShifted;var e={},t;return zB(e,this),e=gAe(e),e._a?(t=e._isUTC?$c(e._a):nr(e._a),this._isDSTShifted=this.isValid()&&p4t(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function S4t(){return this.isValid()?!this._isUTC:!1}function E4t(){return this.isValid()?this._isUTC:!1}function xAe(){return this.isValid()?this._isUTC&&this._offset===0:!1}var k4t=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,j4t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Rl(e,t){var n=e,r=null,o,i,s;return GS(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Bu(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=k4t.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Rt(r[uc])*o,h:Rt(r[wo])*o,m:Rt(r[hl])*o,s:Rt(r[fu])*o,ms:Rt(xF(r[tp]*1e3))*o}):(r=j4t.exec(e))?(o=r[1]==="-"?-1:1,n={y:bh(r[2],o),M:bh(r[3],o),w:bh(r[4],o),d:bh(r[5],o),h:bh(r[6],o),m:bh(r[7],o),s:bh(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=T4t(nr(n.from),nr(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new GA(n),GS(e)&&on(e,"_locale")&&(i._locale=e._locale),GS(e)&&on(e,"_isValid")&&(i._isValid=e._isValid),i}Rl.fn=GA.prototype;Rl.invalid=h4t;function bh(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function yee(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function T4t(e,t){var n;return e.isValid()&&t.isValid()?(t=tN(t,e),e.isBefore(t)?n=yee(e,t):(n=yee(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function wAe(e,t){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&(KTe(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=Rl(n,r),_Ae(this,o,e),this}}function _Ae(e,t,n,r){var o=t._milliseconds,i=xF(t._days),s=xF(t._months);e.isValid()&&(r=r??!0,s&&iAe(e,Fk(e,"Month")+s*n),i&&QTe(e,"Date",Fk(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&Le.updateOffset(e,i||s))}var A4t=wAe(1,"add"),O4t=wAe(-1,"subtract");function CAe(e){return typeof e=="string"||e instanceof String}function P4t(e){return Tl(e)||Bw(e)||CAe(e)||Bu(e)||I4t(e)||D4t(e)||e===null||e===void 0}function D4t(e){var t=Cp(e)&&!BB(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||on(e,i);return t&&n}function I4t(e){var t=jl(e),n=!1;return t&&(n=e.filter(function(r){return!Bu(r)&&CAe(e)}).length===0),t&&n}function R4t(e){var t=Cp(e)&&!BB(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||on(e,i);return t&&n}function $4t(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function M4t(e,t){arguments.length===1&&(arguments[0]?P4t(arguments[0])?(e=arguments[0],t=void 0):R4t(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||nr(),r=tN(n,this).startOf("day"),o=Le.calendarFormat(this,r)||"sameElse",i=t&&(Mc(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,nr(n)))}function F4t(){return new Nw(this)}function L4t(e,t){var n=Tl(e)?e:nr(e);return this.isValid()&&n.isValid()?(t=Za(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function B4t(e,t){var n=Tl(e)?e:nr(e);return this.isValid()&&n.isValid()?(t=Za(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function N4t(e,t,n,r){var o=Tl(e)?e:nr(e),i=Tl(t)?t:nr(t);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function z4t(e,t){var n=Tl(e)?e:nr(e),r;return this.isValid()&&n.isValid()?(t=Za(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function V4t(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function H4t(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function U4t(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(r=tN(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=Za(t),t){case"year":i=KS(this,r)/12;break;case"month":i=KS(this,r);break;case"quarter":i=KS(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:_a(i)}function KS(e,t){if(e.date()<t.date())return-KS(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,i;return t-r<0?(o=e.clone().add(n-1,"months"),i=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),i=(t-r)/(o-r)),-(n+i)||0}Le.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Le.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function W4t(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Y4t(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?qS(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Mc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",qS(n,"Z")):qS(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function q4t(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+o+i)}function G4t(e){e||(e=this.isUtc()?Le.defaultFormatUtc:Le.defaultFormat);var t=qS(this,e);return this.localeData().postformat(t)}function K4t(e,t){return this.isValid()&&(Tl(e)&&e.isValid()||nr(e).isValid())?Rl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Z4t(e){return this.from(nr(),e)}function X4t(e,t){return this.isValid()&&(Tl(e)&&e.isValid()||nr(e).isValid())?Rl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Q4t(e){return this.to(nr(),e)}function SAe(e){var t;return e===void 0?this._locale._abbr:(t=ad(e),t!=null&&(this._locale=t),this)}var EAe=Ka("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function kAe(){return this._locale}var Nk=1e3,lv=60*Nk,zk=60*lv,jAe=(365*400+97)*24*zk;function cv(e,t){return(e%t+t)%t}function TAe(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-jAe:new Date(e,t,n).valueOf()}function AAe(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-jAe:Date.UTC(e,t,n)}function J4t(e){var t,n;if(e=Za(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?AAe:TAe,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=cv(t+(this._isUTC?0:this.utcOffset()*lv),zk);break;case"minute":t=this._d.valueOf(),t-=cv(t,lv);break;case"second":t=this._d.valueOf(),t-=cv(t,Nk);break}return this._d.setTime(t),Le.updateOffset(this,!0),this}function eFt(e){var t,n;if(e=Za(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?AAe:TAe,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=zk-cv(t+(this._isUTC?0:this.utcOffset()*lv),zk)-1;break;case"minute":t=this._d.valueOf(),t+=lv-cv(t,lv)-1;break;case"second":t=this._d.valueOf(),t+=Nk-cv(t,Nk)-1;break}return this._d.setTime(t),Le.updateOffset(this,!0),this}function tFt(){return this._d.valueOf()-(this._offset||0)*6e4}function nFt(){return Math.floor(this.valueOf()/1e3)}function rFt(){return new Date(this.valueOf())}function oFt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function iFt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function sFt(){return this.isValid()?this.toISOString():null}function aFt(){return NB(this)}function lFt(){return Wd({},St(this))}function cFt(){return St(this).overflow}function uFt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}et("N",0,0,"eraAbbr");et("NN",0,0,"eraAbbr");et("NNN",0,0,"eraAbbr");et("NNNN",0,0,"eraName");et("NNNNN",0,0,"eraNarrow");et("y",["y",1],"yo","eraYear");et("y",["yy",2],0,"eraYear");et("y",["yyy",3],0,"eraYear");et("y",["yyyy",4],0,"eraYear");ze("N",nN);ze("NN",nN);ze("NNN",nN);ze("NNNN",wFt);ze("NNNNN",_Ft);An(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?St(n).era=o:St(n).invalidEra=e});ze("y",F0);ze("yy",F0);ze("yyy",F0);ze("yyyy",F0);ze("yo",CFt);An(["y","yy","yyy","yyyy"],Ci);An(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ci]=n._locale.eraYearOrdinalParse(e,o):t[Ci]=parseInt(e,10)});function dFt(e,t){var n,r,o,i=this._eras||ad("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=Le(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=Le(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function fFt(e,t,n){var r,o,i=this.eras(),s,a,c;for(e=e.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(c===e)return i[r];break}else if([s,a,c].indexOf(e)>=0)return i[r]}function hFt(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Le(e.since).year():Le(e.since).year()+(t-e.offset)*n}function pFt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function mFt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function gFt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function vFt(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-Le(o[e].since).year())*n+o[e].offset;return this.year()}function yFt(e){return on(this,"_erasNameRegex")||rN.call(this),e?this._erasNameRegex:this._erasRegex}function bFt(e){return on(this,"_erasAbbrRegex")||rN.call(this),e?this._erasAbbrRegex:this._erasRegex}function xFt(e){return on(this,"_erasNarrowRegex")||rN.call(this),e?this._erasNarrowRegex:this._erasRegex}function nN(e,t){return t.erasAbbrRegex(e)}function wFt(e,t){return t.erasNameRegex(e)}function _Ft(e,t){return t.erasNarrowRegex(e)}function CFt(e,t){return t._eraYearOrdinalRegex||F0}function rN(){var e=[],t=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)t.push(Ws(s[o].name)),e.push(Ws(s[o].abbr)),n.push(Ws(s[o].narrow)),r.push(Ws(s[o].name)),r.push(Ws(s[o].abbr)),r.push(Ws(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}et(0,["gg",2],0,function(){return this.weekYear()%100});et(0,["GG",2],0,function(){return this.isoWeekYear()%100});function KA(e,t){et(0,[e,e.length],0,t)}KA("gggg","weekYear");KA("ggggg","weekYear");KA("GGGG","isoWeekYear");KA("GGGGG","isoWeekYear");Di("weekYear","gg");Di("isoWeekYear","GG");Ii("weekYear",1);Ii("isoWeekYear",1);ze("G",UA);ze("g",UA);ze("GG",sr,ca);ze("gg",sr,ca);ze("GGGG",YB,WB);ze("gggg",YB,WB);ze("GGGGG",HA,zA);ze("ggggg",HA,zA);Vw(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Rt(e)});Vw(["gg","GG"],function(e,t,n,r){t[r]=Le.parseTwoDigitYear(e)});function SFt(e){return OAe.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function EFt(e){return OAe.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function kFt(){return xu(this.year(),1,4)}function jFt(){return xu(this.isoWeekYear(),1,4)}function TFt(){var e=this.localeData()._week;return xu(this.year(),e.dow,e.doy)}function AFt(){var e=this.localeData()._week;return xu(this.weekYear(),e.dow,e.doy)}function OAe(e,t,n,r,o){var i;return e==null?hx(this,r,o).year:(i=xu(e,r,o),t>i&&(t=i),OFt.call(this,e,t,n,r,o))}function OFt(e,t,n,r,o){var i=cAe(e,t,n,r,o),s=fx(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}et("Q",0,"Qo","quarter");Di("quarter","Q");Ii("quarter",7);ze("Q",JTe);An("Q",function(e,t){t[du]=(Rt(e)-1)*3});function PFt(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}et("D",["DD",2],"Do","date");Di("date","D");Ii("date",9);ze("D",sr);ze("DD",sr,ca);ze("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});An(["D","DD"],uc);An("Do",function(e,t){t[uc]=Rt(e.match(sr)[0])});var PAe=M0("Date",!0);et("DDD",["DDDD",3],"DDDo","dayOfYear");Di("dayOfYear","DDD");Ii("dayOfYear",4);ze("DDD",VA);ze("DDDD",eAe);An(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Rt(e)});function DFt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}et("m",["mm",2],0,"minute");Di("minute","m");Ii("minute",14);ze("m",sr);ze("mm",sr,ca);An(["m","mm"],hl);var IFt=M0("Minutes",!1);et("s",["ss",2],0,"second");Di("second","s");Ii("second",15);ze("s",sr);ze("ss",sr,ca);An(["s","ss"],fu);var RFt=M0("Seconds",!1);et("S",0,0,function(){return~~(this.millisecond()/100)});et(0,["SS",2],0,function(){return~~(this.millisecond()/10)});et(0,["SSS",3],0,"millisecond");et(0,["SSSS",4],0,function(){return this.millisecond()*10});et(0,["SSSSS",5],0,function(){return this.millisecond()*100});et(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});et(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});et(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});et(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Di("millisecond","ms");Ii("millisecond",16);ze("S",VA,JTe);ze("SS",VA,ca);ze("SSS",VA,eAe);var Yd,DAe;for(Yd="SSSS";Yd.length<=9;Yd+="S")ze(Yd,F0);function $Ft(e,t){t[tp]=Rt(("0."+e)*1e3)}for(Yd="S";Yd.length<=9;Yd+="S")An(Yd,$Ft);DAe=M0("Milliseconds",!1);et("z",0,0,"zoneAbbr");et("zz",0,0,"zoneName");function MFt(){return this._isUTC?"UTC":""}function FFt(){return this._isUTC?"Coordinated Universal Time":""}var ke=Nw.prototype;ke.add=A4t;ke.calendar=M4t;ke.clone=F4t;ke.diff=U4t;ke.endOf=eFt;ke.format=G4t;ke.from=K4t;ke.fromNow=Z4t;ke.to=X4t;ke.toNow=Q4t;ke.get=B$t;ke.invalidAt=cFt;ke.isAfter=L4t;ke.isBefore=B4t;ke.isBetween=N4t;ke.isSame=z4t;ke.isSameOrAfter=V4t;ke.isSameOrBefore=H4t;ke.isValid=aFt;ke.lang=EAe;ke.locale=SAe;ke.localeData=kAe;ke.max=a4t;ke.min=s4t;ke.parsingFlags=lFt;ke.set=N$t;ke.startOf=J4t;ke.subtract=O4t;ke.toArray=oFt;ke.toObject=iFt;ke.toDate=rFt;ke.toISOString=Y4t;ke.inspect=q4t;typeof Symbol<"u"&&Symbol.for!=null&&(ke[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ke.toJSON=sFt;ke.toString=W4t;ke.unix=nFt;ke.valueOf=tFt;ke.creationData=uFt;ke.eraName=pFt;ke.eraNarrow=mFt;ke.eraAbbr=gFt;ke.eraYear=vFt;ke.year=lAe;ke.isLeapYear=iMt;ke.weekYear=SFt;ke.isoWeekYear=EFt;ke.quarter=ke.quarters=PFt;ke.month=sAe;ke.daysInMonth=nMt;ke.week=ke.weeks=dMt;ke.isoWeek=ke.isoWeeks=fMt;ke.weeksInYear=TFt;ke.weeksInWeekYear=AFt;ke.isoWeeksInYear=kFt;ke.isoWeeksInISOWeekYear=jFt;ke.date=PAe;ke.day=ke.days=EMt;ke.weekday=kMt;ke.isoWeekday=jMt;ke.dayOfYear=DFt;ke.hour=ke.hours=RMt;ke.minute=ke.minutes=IFt;ke.second=ke.seconds=RFt;ke.millisecond=ke.milliseconds=DAe;ke.utcOffset=g4t;ke.utc=y4t;ke.local=b4t;ke.parseZone=x4t;ke.hasAlignedHourOffset=w4t;ke.isDST=_4t;ke.isLocal=S4t;ke.isUtcOffset=E4t;ke.isUtc=xAe;ke.isUTC=xAe;ke.zoneAbbr=MFt;ke.zoneName=FFt;ke.dates=Ka("dates accessor is deprecated. Use date instead.",PAe);ke.months=Ka("months accessor is deprecated. Use month instead",sAe);ke.years=Ka("years accessor is deprecated. Use year instead",lAe);ke.zone=Ka("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",v4t);ke.isDSTShifted=Ka("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",C4t);function LFt(e){return nr(e*1e3)}function BFt(){return nr.apply(null,arguments).parseZone()}function IAe(e){return e}var sn=VB.prototype;sn.calendar=E$t;sn.longDateFormat=A$t;sn.invalidDate=P$t;sn.ordinal=R$t;sn.preparse=IAe;sn.postformat=IAe;sn.relativeTime=M$t;sn.pastFuture=F$t;sn.set=C$t;sn.eras=dFt;sn.erasParse=fFt;sn.erasConvertYear=hFt;sn.erasAbbrRegex=bFt;sn.erasNameRegex=yFt;sn.erasNarrowRegex=xFt;sn.months=Q$t;sn.monthsShort=J$t;sn.monthsParse=tMt;sn.monthsRegex=oMt;sn.monthsShortRegex=rMt;sn.week=aMt;sn.firstDayOfYear=uMt;sn.firstDayOfWeek=cMt;sn.weekdays=xMt;sn.weekdaysMin=_Mt;sn.weekdaysShort=wMt;sn.weekdaysParse=SMt;sn.weekdaysRegex=TMt;sn.weekdaysShortRegex=AMt;sn.weekdaysMinRegex=OMt;sn.isPM=DMt;sn.meridiem=$Mt;function Vk(e,t,n,r){var o=ad(),i=$c().set(r,t);return o[n](i,e)}function RAe(e,t,n){if(Bu(e)&&(t=e,e=void 0),e=e||"",t!=null)return Vk(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=Vk(e,r,n,"month");return o}function oN(e,t,n,r){typeof e=="boolean"?(Bu(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Bu(t)&&(n=t,t=void 0),t=t||"");var o=ad(),i=e?o._week.dow:0,s,a=[];if(n!=null)return Vk(t,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=Vk(t,(s+i)%7,r,"day");return a}function NFt(e,t){return RAe(e,t,"months")}function zFt(e,t){return RAe(e,t,"monthsShort")}function VFt(e,t,n){return oN(e,t,n,"weekdays")}function HFt(e,t,n){return oN(e,t,n,"weekdaysShort")}function UFt(e,t,n){return oN(e,t,n,"weekdaysMin")}pf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Rt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Le.lang=Ka("moment.lang is deprecated. Use moment.locale instead.",pf);Le.langData=Ka("moment.langData is deprecated. Use moment.localeData instead.",ad);var Wc=Math.abs;function WFt(){var e=this._data;return this._milliseconds=Wc(this._milliseconds),this._days=Wc(this._days),this._months=Wc(this._months),e.milliseconds=Wc(e.milliseconds),e.seconds=Wc(e.seconds),e.minutes=Wc(e.minutes),e.hours=Wc(e.hours),e.months=Wc(e.months),e.years=Wc(e.years),this}function $Ae(e,t,n,r){var o=Rl(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function YFt(e,t){return $Ae(this,e,t,1)}function qFt(e,t){return $Ae(this,e,t,-1)}function bee(e){return e<0?Math.floor(e):Math.ceil(e)}function GFt(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,i,s,a,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=bee(_F(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=_a(e/1e3),r.seconds=o%60,i=_a(o/60),r.minutes=i%60,s=_a(i/60),r.hours=s%24,t+=_a(s/24),c=_a(MAe(t)),n+=c,t-=bee(_F(c)),a=_a(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function MAe(e){return e*4800/146097}function _F(e){return e*146097/4800}function KFt(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Za(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+MAe(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(_F(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function ZFt(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Rt(this._months/12)*31536e6:NaN}function ld(e){return function(){return this.as(e)}}var XFt=ld("ms"),QFt=ld("s"),JFt=ld("m"),e6t=ld("h"),t6t=ld("d"),n6t=ld("w"),r6t=ld("M"),o6t=ld("Q"),i6t=ld("y");function s6t(){return Rl(this)}function a6t(e){return e=Za(e),this.isValid()?this[e+"s"]():NaN}function km(e){return function(){return this.isValid()?this._data[e]:NaN}}var l6t=km("milliseconds"),c6t=km("seconds"),u6t=km("minutes"),d6t=km("hours"),f6t=km("days"),h6t=km("months"),p6t=km("years");function m6t(){return _a(this.days()/7)}var nu=Math.round,Ng={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function g6t(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function v6t(e,t,n,r){var o=Rl(e).abs(),i=nu(o.as("s")),s=nu(o.as("m")),a=nu(o.as("h")),c=nu(o.as("d")),u=nu(o.as("M")),d=nu(o.as("w")),f=nu(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=r,g6t.apply(null,p)}function y6t(e){return e===void 0?nu:typeof e=="function"?(nu=e,!0):!1}function b6t(e,t){return Ng[e]===void 0?!1:t===void 0?Ng[e]:(Ng[e]=t,e==="s"&&(Ng.ss=t-1),!0)}function x6t(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Ng,o,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Ng,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),i=v6t(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var zI=Math.abs;function Gm(e){return(e>0)-(e<0)||+e}function ZA(){if(!this.isValid())return this.localeData().invalidDate();var e=zI(this._milliseconds)/1e3,t=zI(this._days),n=zI(this._months),r,o,i,s,a=this.asSeconds(),c,u,d,f;return a?(r=_a(e/60),o=_a(r/60),e%=60,r%=60,i=_a(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=a<0?"-":"",u=Gm(this._months)!==Gm(a)?"-":"",d=Gm(this._days)!==Gm(a)?"-":"",f=Gm(this._milliseconds)!==Gm(a)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(o||r||e?"T":"")+(o?f+o+"H":"")+(r?f+r+"M":"")+(e?f+s+"S":"")):"P0D"}var Zt=GA.prototype;Zt.isValid=f4t;Zt.abs=WFt;Zt.add=YFt;Zt.subtract=qFt;Zt.as=KFt;Zt.asMilliseconds=XFt;Zt.asSeconds=QFt;Zt.asMinutes=JFt;Zt.asHours=e6t;Zt.asDays=t6t;Zt.asWeeks=n6t;Zt.asMonths=r6t;Zt.asQuarters=o6t;Zt.asYears=i6t;Zt.valueOf=ZFt;Zt._bubble=GFt;Zt.clone=s6t;Zt.get=a6t;Zt.milliseconds=l6t;Zt.seconds=c6t;Zt.minutes=u6t;Zt.hours=d6t;Zt.days=f6t;Zt.weeks=m6t;Zt.months=h6t;Zt.years=p6t;Zt.humanize=x6t;Zt.toISOString=ZA;Zt.toString=ZA;Zt.toJSON=ZA;Zt.locale=SAe;Zt.localeData=kAe;Zt.toIsoString=Ka("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ZA);Zt.lang=EAe;et("X",0,0,"unix");et("x",0,0,"valueOf");ze("x",UA);ze("X",V$t);An("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});An("x",function(e,t,n){n._d=new Date(Rt(e))});//! moment.js
Le.version="2.29.4";w$t(nr);Le.fn=ke;Le.min=l4t;Le.max=c4t;Le.now=u4t;Le.utc=$c;Le.unix=LFt;Le.months=NFt;Le.isDate=Bw;Le.locale=pf;Le.invalid=BA;Le.duration=Rl;Le.isMoment=Tl;Le.weekdays=VFt;Le.parseZone=BFt;Le.localeData=ad;Le.isDuration=GS;Le.monthsShort=zFt;Le.weekdaysMin=UFt;Le.defineLocale=ZB;Le.updateLocale=BMt;Le.locales=NMt;Le.weekdaysShort=HFt;Le.normalizeUnits=Za;Le.relativeTimeRounding=y6t;Le.relativeTimeThreshold=b6t;Le.calendarFormat=$4t;Le.prototype=ke;Le.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function XA(e,t){return Le(e).format(t)}function iN(e,t){const n=Le(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(t,'"')}}function sN(e){return window.crypto.getRandomValues(e)}var FAe=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function w6t(e){for(const t in e)if(!(t==="_type"||t==="_key")&&FAe(e,t)&&!aN(e[t]))return!1;return!0}function _6t(e){for(let t=0;t<e.length;t++)if(!aN(e[t]))return!1;return!0}function aN(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?_6t(e):t==="object"?w6t(e):!1}function C6t(e){for(const t in e)if(!(t==="_type"||t==="_key")&&FAe(e,t)&&e[t]!==void 0)return!1;return!0}const S6t=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function E6t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return sN(t),t}function Hw(e){const t=S6t();return E6t(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const k6t=Object.prototype.toString;function j6t(e){switch(k6t.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function ks(e){const t=j6t(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var T6t=P6t,LAe="֑-߿יִ-﷽ﹰ-ﻼ",BAe="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",A6t=new RegExp("^[^"+BAe+"]*["+LAe+"]"),O6t=new RegExp("^[^"+LAe+"]*["+BAe+"]");function P6t(e){return e=String(e||""),A6t.test(e)?"rtl":O6t.test(e)?"ltr":"neutral"}const NAe=Pe(T6t);function xee(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function wee(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function VI(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return wee(n.overflowY,t)||wee(n.overflowX,t)||function(r){var o=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)}(e)}return!1}function yC(e,t,n,r,o,i,s,a){return i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0}var _ee=function(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,s=t.boundary,a=t.skipOverflowHiddenElements,c=typeof s=="function"?s:function(ce){return ce!==s};if(!xee(e))throw new TypeError("Invalid target");for(var u,d,f=document.scrollingElement||document.documentElement,p=[],m=e;xee(m)&&c(m);){if((m=(d=(u=m).parentElement)==null?u.getRootNode().host||null:d)===f){p.push(m);break}m!=null&&m===document.body&&VI(m)&&!VI(document.documentElement)||m!=null&&VI(m,a)&&p.push(m)}for(var v=n.visualViewport?n.visualViewport.width:innerWidth,g=n.visualViewport?n.visualViewport.height:innerHeight,b=window.scrollX||pageXOffset,x=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),w=y.height,_=y.width,C=y.top,S=y.right,E=y.bottom,j=y.left,k=o==="start"||o==="nearest"?C:o==="end"?E:C+w/2,T=i==="center"?j+_/2:i==="end"?S:j,A=[],O=0;O<p.length;O++){var P=p[O],D=P.getBoundingClientRect(),R=D.height,$=D.width,H=D.top,F=D.right,V=D.bottom,W=D.left;if(r==="if-needed"&&C>=0&&j>=0&&E<=g&&S<=v&&C>=H&&E<=V&&j>=W&&S<=F)return A;var z=getComputedStyle(P),q=parseInt(z.borderLeftWidth,10),oe=parseInt(z.borderTopWidth,10),N=parseInt(z.borderRightWidth,10),G=parseInt(z.borderBottomWidth,10),Y=0,K=0,X="offsetWidth"in P?P.offsetWidth-P.clientWidth-q-N:0,Q="offsetHeight"in P?P.offsetHeight-P.clientHeight-oe-G:0,Z="offsetWidth"in P?P.offsetWidth===0?0:$/P.offsetWidth:0,re="offsetHeight"in P?P.offsetHeight===0?0:R/P.offsetHeight:0;if(f===P)Y=o==="start"?k:o==="end"?k-g:o==="nearest"?yC(x,x+g,g,oe,G,x+k,x+k+w,w):k-g/2,K=i==="start"?T:i==="center"?T-v/2:i==="end"?T-v:yC(b,b+v,v,q,N,b+T,b+T+_,_),Y=Math.max(0,Y+x),K=Math.max(0,K+b);else{Y=o==="start"?k-H-oe:o==="end"?k-V+G+Q:o==="nearest"?yC(H,V,R,oe,G+Q,k,k+w,w):k-(H+R/2)+Q/2,K=i==="start"?T-W-q:i==="center"?T-(W+$/2)+X/2:i==="end"?T-F+N+X:yC(W,F,$,q,N+X,T,T+_,_);var ae=P.scrollLeft,me=P.scrollTop;k+=me-(Y=Math.max(0,Math.min(me+Y/re,P.scrollHeight-R/re+Q))),T+=ae-(K=Math.max(0,Math.min(ae+K/Z,P.scrollWidth-$/Z+X)))}A.push({el:P,top:Y,left:K})}return A};function zAe(e){return e===Object(e)&&Object.keys(e).length!==0}function D6t(e,t){t===void 0&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(r){var o=r.el,i=r.top,s=r.left;o.scroll&&n?o.scroll({top:i,left:s,behavior:t}):(o.scrollTop=i,o.scrollLeft=s)})}function I6t(e){return e===!1?{block:"end",inline:"nearest"}:zAe(e)?e:{block:"start",inline:"nearest"}}function R6t(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(zAe(t)&&typeof t.behavior=="function")return t.behavior(n?_ee(e,t):[]);if(n){var r=I6t(t);return D6t(_ee(e,r),r.behavior)}}function ll(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Wp(e){return!!e&&!!e[ra]}function Yp(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===V6t}(e)||Array.isArray(e)||!!e[Oee]||!!(!((t=e.constructor)===null||t===void 0)&&t[Oee])||lN(e)||cN(e))}function mx(e,t,n){n===void 0&&(n=!1),L0(e)===0?(n?Object.keys:pN)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,o){return t(o,r,e)})}function L0(e){var t=e[ra];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:lN(e)?2:cN(e)?3:0}function CF(e,t){return L0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $6t(e,t){return L0(e)===2?e.get(t):e[t]}function VAe(e,t,n){var r=L0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function M6t(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function lN(e){return N6t&&e instanceof Map}function cN(e){return z6t&&e instanceof Set}function Vh(e){return e.o||e.t}function uN(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=H6t(e);delete t[ra];for(var n=pN(t),r=0;r<n.length;r++){var o=n[r],i=t[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function dN(e,t){return t===void 0&&(t=!1),fN(e)||Wp(e)||!Yp(e)||(L0(e)>1&&(e.set=e.add=e.clear=e.delete=F6t),Object.freeze(e),t&&mx(e,function(n,r){return dN(r,!0)},!0)),e}function F6t(){ll(2)}function fN(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function yc(e){var t=U6t[e];return t||ll(18,e),t}function Cee(){return gx}function HI(e,t){t&&(yc("Patches"),e.u=[],e.s=[],e.v=t)}function Hk(e){SF(e),e.p.forEach(L6t),e.p=null}function SF(e){e===gx&&(gx=e.l)}function See(e){return gx={p:[],l:gx,h:e,m:!0,_:0}}function L6t(e){var t=e[ra];t.i===0||t.i===1?t.j():t.g=!0}function UI(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||yc("ES5").S(t,e,r),r?(n[ra].P&&(Hk(t),ll(4)),Yp(e)&&(e=Uk(t,e),t.l||Wk(t,e)),t.u&&yc("Patches").M(n[ra].t,e,t.u,t.s)):e=Uk(t,n,[]),Hk(t),t.u&&t.v(t.u,t.s),e!==HAe?e:void 0}function Uk(e,t,n){if(fN(t))return t;var r=t[ra];if(!r)return mx(t,function(a,c){return Eee(e,r,t,a,c,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Wk(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=uN(r.k):r.o,i=o,s=!1;r.i===3&&(i=new Set(o),o.clear(),s=!0),mx(i,function(a,c){return Eee(e,r,o,a,c,n,s)}),Wk(e,o,!1),n&&e.u&&yc("Patches").N(r,n,e.u,e.s)}return r.o}function Eee(e,t,n,r,o,i,s){if(Wp(o)){var a=Uk(e,o,i&&t&&t.i!==3&&!CF(t.R,r)?i.concat(r):void 0);if(VAe(n,r,a),!Wp(a))return;e.m=!1}else s&&n.add(o);if(Yp(o)&&!fN(o)){if(!e.h.D&&e._<1)return;Uk(e,o),t&&t.A.l||Wk(e,o)}}function Wk(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&dN(t,n)}function WI(e,t){var n=e[ra];return(n?Vh(n):e)[t]}function kee(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function EF(e){e.P||(e.P=!0,e.l&&EF(e.l))}function YI(e){e.o||(e.o=uN(e.t))}function kF(e,t,n){var r=lN(t)?yc("MapSet").F(t,n):cN(t)?yc("MapSet").T(t,n):e.O?function(o,i){var s=Array.isArray(o),a={i:s?1:0,A:i?i.A:Cee(),P:!1,I:!1,R:{},l:i,t:o,k:null,o:null,j:null,C:!1},c=a,u=jF;s&&(c=[a],u=Ey);var d=Proxy.revocable(c,u),f=d.revoke,p=d.proxy;return a.k=p,a.j=f,p}(t,n):yc("ES5").J(t,n);return(n?n.A:Cee()).p.push(r),r}function B6t(e){return Wp(e)||ll(22,e),function t(n){if(!Yp(n))return n;var r,o=n[ra],i=L0(n);if(o){if(!o.P&&(o.i<4||!yc("ES5").K(o)))return o.t;o.I=!0,r=jee(n,i),o.I=!1}else r=jee(n,i);return mx(r,function(s,a){o&&$6t(o.t,s)===a||VAe(r,s,t(a))}),i===3?new Set(r):r}(e)}function jee(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return uN(e)}var Tee,gx,hN=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",N6t=typeof Map<"u",z6t=typeof Set<"u",Aee=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",HAe=hN?Symbol.for("immer-nothing"):((Tee={})["immer-nothing"]=!0,Tee),Oee=hN?Symbol.for("immer-draftable"):"__$immer_draftable",ra=hN?Symbol.for("immer-state"):"__$immer_state",V6t=""+Object.prototype.constructor,pN=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,H6t=Object.getOwnPropertyDescriptors||function(e){var t={};return pN(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},U6t={},jF={get:function(e,t){if(t===ra)return e;var n=Vh(e);if(!CF(n,t))return function(o,i,s){var a,c=kee(i,s);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(o.k):void 0}(e,n,t);var r=n[t];return e.I||!Yp(r)?r:r===WI(e.t,t)?(YI(e),e.o[t]=kF(e.A.h,r,e)):r},has:function(e,t){return t in Vh(e)},ownKeys:function(e){return Reflect.ownKeys(Vh(e))},set:function(e,t,n){var r=kee(Vh(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=WI(Vh(e),t),i=o==null?void 0:o[ra];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(M6t(n,o)&&(n!==void 0||CF(e.t,t)))return!0;YI(e),EF(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return WI(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,YI(e),EF(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Vh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ll(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ll(12)}},Ey={};mx(jF,function(e,t){Ey[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ey.deleteProperty=function(e,t){return Ey.set.call(this,e,t,void 0)},Ey.set=function(e,t,n){return jF.set.call(this,e[0],t,n,e[0])};var W6t=function(){function e(n){var r=this;this.O=Aee,this.D=!0,this.produce=function(o,i,s){if(typeof o=="function"&&typeof i!="function"){var a=i;i=o;var c=r;return function(g){var b=this;g===void 0&&(g=a);for(var x=arguments.length,y=Array(x>1?x-1:0),w=1;w<x;w++)y[w-1]=arguments[w];return c.produce(g,function(_){var C;return(C=i).call.apply(C,[b,_].concat(y))})}}var u;if(typeof i!="function"&&ll(6),s!==void 0&&typeof s!="function"&&ll(7),Yp(o)){var d=See(r),f=kF(r,o,void 0),p=!0;try{u=i(f),p=!1}finally{p?Hk(d):SF(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(g){return HI(d,s),UI(g,d)},function(g){throw Hk(d),g}):(HI(d,s),UI(u,d))}if(!o||typeof o!="object"){if((u=i(o))===void 0&&(u=o),u===HAe&&(u=void 0),r.D&&dN(u,!0),s){var m=[],v=[];yc("Patches").M(o,u,m,v),s(m,v)}return u}ll(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(u){for(var d=arguments.length,f=Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];return r.produceWithPatches(u,function(m){return o.apply(void 0,[m].concat(f))})};var s,a,c=r.produce(o,i,function(u,d){s=u,a=d});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,s,a]}):[c,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Yp(n)||ll(8),Wp(n)&&(n=B6t(n));var r=See(this),o=kF(this,n,void 0);return o[ra].C=!0,SF(r),o},t.finishDraft=function(n,r){var o=n&&n[ra],i=o.A;return HI(i,r),UI(void 0,i)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Aee&&ll(20),this.O=n},t.applyPatches=function(n,r){var o;for(o=r.length-1;o>=0;o--){var i=r[o];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}o>-1&&(r=r.slice(o+1));var s=yc("Patches").$;return Wp(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),oa=new W6t,mN=oa.produce;oa.produceWithPatches.bind(oa);oa.setAutoFreeze.bind(oa);oa.setUseProxies.bind(oa);oa.applyPatches.bind(oa);var Pee=oa.createDraft.bind(oa),Dee=oa.finishDraft.bind(oa),Y6t={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=ee.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},q6t={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=At.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},G6t={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=ue.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},Yk=new WeakMap,qk=new WeakMap,pb=new WeakMap,UAe=new WeakMap,Iee=new WeakMap,Ree=new WeakMap,$ee=new WeakMap,ee={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=ee.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],i=t[r];if(o!==i)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return ee.equals(r,o)&&i>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return ee.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return ee.equals(r,o)&&i<s},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return ee.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&ee.compare(e,t)===0},isBefore(e,t){return ee.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&ee.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&ee.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&ee.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&ee.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],i=t[t.length-1];return o!==i&&ee.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!ee.isAncestor(t,e)&&!ee.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:i}=t;(ee.equals(i,r)||ee.endsBefore(i,r)||ee.isAncestor(i,r))&&(r[i.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(ee.equals(s,r)||ee.isAncestor(s,r))return null;ee.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{var{path:a,position:c}=t;ee.equals(a,r)||ee.endsBefore(a,r)?r[a.length-1]-=1:ee.isAncestor(a,r)&&(r[a.length-1]-=1,r[a.length]+=c);break}case"split_node":{var{path:u,position:d}=t;if(ee.equals(u,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else ee.endsBefore(u,r)?r[u.length-1]+=1:ee.isAncestor(u,r)&&e[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:p}=t;if(ee.equals(f,p))return r;if(ee.isAncestor(f,r)||ee.equals(f,r)){var m=p.slice();return ee.endsBefore(f,p)&&f.length<p.length&&(m[f.length-1]-=1),m.concat(r.slice(f.length))}else ee.isSibling(f,p)&&(ee.isAncestor(p,r)||ee.equals(p,r))?ee.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:ee.endsBefore(p,r)||ee.equals(p,r)||ee.isAncestor(p,r)?(ee.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):ee.endsBefore(f,r)&&(ee.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1);break}}return r}};function ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function z1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mee(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var K6t=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,i=Ce.parent(e,r),s=r[r.length-1];if(s>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(s,0,o),t)for(var[a,c]of ue.points(t))t[c]=At.transform(a,n);break}case"insert_text":{var{path:u,offset:d,text:f}=n;if(f.length===0)break;var p=Ce.leaf(e,u),m=p.text.slice(0,d),v=p.text.slice(d);if(p.text=m+f+v,t)for(var[g,b]of ue.points(t))t[b]=At.transform(g,n);break}case"merge_node":{var{path:x}=n,y=Ce.get(e,x),w=ee.previous(x),_=Ce.get(e,w),C=Ce.parent(e,x),S=x[x.length-1];if(we.isText(y)&&we.isText(_))_.text+=y.text;else if(!we.isText(y)&&!we.isText(_))_.children.push(...y.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat(Po.stringify(y)," ").concat(Po.stringify(_)));if(C.children.splice(S,1),t)for(var[E,j]of ue.points(t))t[j]=At.transform(E,n);break}case"move_node":{var{path:k,newPath:T}=n;if(ee.isAncestor(k,T))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(T,"] because the destination is inside itself."));var A=Ce.get(e,k),O=Ce.parent(e,k),P=k[k.length-1];O.children.splice(P,1);var D=ee.transform(k,n),R=Ce.get(e,ee.parent(D)),$=D[D.length-1];if(R.children.splice($,0,A),t)for(var[H,F]of ue.points(t))t[F]=At.transform(H,n);break}case"remove_node":{var{path:V}=n,W=V[V.length-1],z=Ce.parent(e,V);if(z.children.splice(W,1),t)for(var[q,oe]of ue.points(t)){var N=At.transform(q,n);if(t!=null&&N!=null)t[oe]=N;else{var G=void 0,Y=void 0;for(var[K,X]of Ce.texts(e))if(ee.compare(X,V)===-1)G=[K,X];else{Y=[K,X];break}var Q=!1;G&&Y&&(ee.equals(Y[1],V)?Q=!ee.hasPrevious(Y[1]):Q=ee.common(G[1],V).length<ee.common(Y[1],V).length),G&&!Q?(q.path=G[1],q.offset=G[0].text.length):Y?(q.path=Y[1],q.offset=0):t=null}}break}case"remove_text":{var{path:Z,offset:re,text:ae}=n;if(ae.length===0)break;var me=Ce.leaf(e,Z),ce=me.text.slice(0,re),Te=me.text.slice(re+ae.length);if(me.text=ce+Te,t)for(var[je,be]of ue.points(t))t[be]=At.transform(je,n);break}case"set_node":{var{path:ge,properties:De,newProperties:Re}=n;if(ge.length===0)throw new Error("Cannot set properties on the root node!");var at=Ce.get(e,ge);for(var rt in Re){if(rt==="children"||rt==="text")throw new Error('Cannot set the "'.concat(rt,'" property of nodes!'));var Mt=Re[rt];Mt==null?delete at[rt]:at[rt]=Mt}for(var un in De)Re.hasOwnProperty(un)||delete at[un];break}case"set_selection":{var{newProperties:xe}=n;if(xe==null)t=xe;else{if(t==null){if(!ue.isRange(xe))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Po.stringify(xe)," when there is no current selection."));t=z1({},xe)}for(var qe in xe){var Ze=xe[qe];if(Ze==null){if(qe==="anchor"||qe==="focus")throw new Error('Cannot remove the "'.concat(qe,'" selection property'));delete t[qe]}else t[qe]=Ze}}break}case"split_node":{var{path:Ne,position:pt,properties:Oe}=n;if(Ne.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ne,"] because the root node cannot be split."));var Me=Ce.get(e,Ne),Xe=Ce.parent(e,Ne),zo=Ne[Ne.length-1],os;if(we.isText(Me)){var Os=Me.text.slice(0,pt),Ut=Me.text.slice(pt);Me.text=Os,os=z1(z1({},Oe),{},{text:Ut})}else{var Nr=Me.children.slice(0,pt),Nl=Me.children.slice(pt);Me.children=Nr,os=z1(z1({},Oe),{},{children:Nl})}if(Xe.children.splice(zo+1,0,os),t)for(var[Ja,si]of ue.points(t))t[si]=At.transform(Ja,n);break}}return t},Z6t={transform(e,t){e.children=Pee(e.children);var n=e.selection&&Pee(e.selection);try{n=K6t(e,n,t)}finally{e.children=Dee(e.children),n?e.selection=Wp(n)?Dee(n):n:e.selection=null}}},X6t={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},Q6t={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},WAe=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(Yo(r)&&Yo(o)){if(!WAe(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i])return!1}else if(r!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0};function J6t(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Nu(e,t){if(e==null)return{};var n=J6t(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var eLt=["anchor","focus"];function Fee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tLt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fee(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ue={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return ue.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=ue.edges(e);return t},equals(e,t){return At.equals(e.anchor,t.anchor)&&At.equals(e.focus,t.focus)},includes(e,t){if(ue.isRange(t)){if(ue.includes(e,t.anchor)||ue.includes(e,t.focus))return!0;var[n,r]=ue.edges(e),[o,i]=ue.edges(t);return At.isBefore(n,o)&&At.isAfter(r,i)}var[s,a]=ue.edges(e),c=!1,u=!1;return At.isPoint(t)?(c=At.compare(t,s)>=0,u=At.compare(t,a)<=0):(c=ee.compare(t,s.path)>=0,u=ee.compare(t,a.path)<=0),c&&u},intersection(e,t){var n=Nu(e,eLt),[r,o]=ue.edges(e),[i,s]=ue.edges(t),a=At.isBefore(r,i)?i:r,c=At.isBefore(o,s)?o:s;return At.isBefore(c,a)?null:tLt({anchor:a,focus:c},n)},isBackward(e){var{anchor:t,focus:n}=e;return At.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return At.equals(t,n)},isExpanded(e){return!ue.isCollapsed(e)},isForward(e){return!ue.isBackward(e)},isRange(e){return Yo(e)&&At.isPoint(e.anchor)&&At.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=ue.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return mN(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,i,s;if(o==="inward"){var a=ue.isCollapsed(r);ue.isForward(r)?(i="forward",s=a?i:"backward"):(i="backward",s=a?i:"forward")}else o==="outward"?ue.isForward(r)?(i="backward",s="forward"):(i="forward",s="backward"):(i=o,s=o);var c=At.transform(r.anchor,t,{affinity:i}),u=At.transform(r.focus,t,{affinity:s});if(!c||!u)return null;r.anchor=c,r.focus=u})}},Lee=e=>Yo(e)&&Ce.isNodeList(e.children)&&!L.isEditor(e),Ie={isAncestor(e){return Yo(e)&&Ce.isNodeList(e.children)},isElement:Lee,isElementList(e){return Array.isArray(e)&&e.every(t=>Ie.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Lee(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},nLt=["children"],rLt=["text"],Bee=new WeakMap,Ce={ancestor(e,t){var n=Ce.get(e,t);if(we.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Po.stringify(n)));return n},*ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of ee.ancestors(t,n)){var o=Ce.ancestor(e,r),i=[o,r];yield i}},child(e,t){if(we.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Po.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Po.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:r=!1}=n,o=Ce.ancestor(e,t),{children:i}=o,s=r?i.length-1:0;r?s>=0:s<i.length;){var a=Ce.child(o,s),c=t.concat(s);yield[a,c],s=r?s-1:s+1}},common(e,t,n){var r=ee.common(t,n),o=Ce.get(e,r);return[o,r]},descendant(e,t){var n=Ce.get(e,t);if(L.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Po.stringify(n)));return n},*descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of Ce.nodes(e,t))r.length!==0&&(yield[n,r])},*elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of Ce.nodes(e,t))Ie.isElement(n)&&(yield[n,r])},extractProps(e){if(Ie.isAncestor(e)){var t=Nu(e,nLt);return t}else{var t=Nu(e,rLt);return t}},first(e,t){for(var n=t.slice(),r=Ce.get(e,n);r&&!(we.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(we.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Po.stringify(e)));var n=mN({children:e.children},r=>{var[o,i]=ue.edges(t),s=Ce.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!ue.includes(t,m)}});for(var[,a]of s){if(!ue.includes(t,a)){var c=Ce.parent(r,a),u=a[a.length-1];c.children.splice(u,1)}if(ee.equals(a,i.path)){var d=Ce.leaf(r,a);d.text=d.text.slice(0,i.offset)}if(ee.equals(a,o.path)){var f=Ce.leaf(r,a);f.text=f.text.slice(o.offset)}}L.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(we.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Po.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(we.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return we.isText(e)||Ie.isElement(e)||L.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=Bee.get(e);if(t!==void 0)return t;var n=e.every(r=>Ce.isNode(r));return Bee.set(e,n),n},last(e,t){for(var n=t.slice(),r=Ce.get(e,n);r&&!(we.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=Ce.get(e,t);if(!we.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Po.stringify(n)));return n},*levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of ee.levels(t,n)){var o=Ce.get(e,r);yield[o,r]}},matches(e,t){return Ie.isElement(e)&&Ie.isElementProps(t)&&Ie.matches(e,t)||we.isText(e)&&we.isTextProps(t)&&we.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:o=[],to:i}=t,s=new Set,a=[],c=e;!(i&&(r?ee.isBefore(a,i):ee.isAfter(a,i)));){if(s.has(c)||(yield[c,a]),!s.has(c)&&!we.isText(c)&&c.children.length!==0&&(n==null||n([c,a])===!1)){s.add(c);var u=r?c.children.length-1:0;ee.isAncestor(a,o)&&(u=o[a.length]),a=a.concat(u),c=Ce.get(e,a);continue}if(a.length===0)break;if(!r){var d=ee.next(a);if(Ce.has(e,d)){a=d,c=Ce.get(e,a);continue}}if(r&&a[a.length-1]!==0){var f=ee.previous(a);a=f,c=Ce.get(e,a);continue}a=ee.parent(a),c=Ce.get(e,a),s.add(c)}},parent(e,t){var n=ee.parent(t),r=Ce.get(e,n);if(we.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return we.isText(e)?e.text:e.children.map(Ce.string).join("")},*texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of Ce.nodes(e,t))we.isText(n)&&(yield[n,r])}};function Nee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nee(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zg={isNodeOperation(e){return zg.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Yo(e))return!1;switch(e.type){case"insert_node":return ee.isPath(e.path)&&Ce.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ee.isPath(e.path);case"merge_node":return typeof e.position=="number"&&ee.isPath(e.path)&&Yo(e.properties);case"move_node":return ee.isPath(e.path)&&ee.isPath(e.newPath);case"remove_node":return ee.isPath(e.path)&&Ce.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ee.isPath(e.path);case"set_node":return ee.isPath(e.path)&&Yo(e.properties)&&Yo(e.newProperties);case"set_selection":return e.properties===null&&ue.isRange(e.newProperties)||e.newProperties===null&&ue.isRange(e.properties)||Yo(e.properties)&&Yo(e.newProperties);case"split_node":return ee.isPath(e.path)&&typeof e.position=="number"&&Yo(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>zg.isOperation(t))},isSelectionOperation(e){return zg.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return zg.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return cr(cr({},e),{},{type:"remove_node"});case"insert_text":return cr(cr({},e),{},{type:"remove_text"});case"merge_node":return cr(cr({},e),{},{type:"split_node",path:ee.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(ee.equals(t,n))return e;if(ee.isSibling(n,t))return cr(cr({},e),{},{path:t,newPath:n});var r=ee.transform(n,e),o=ee.transform(ee.next(n),e);return cr(cr({},e),{},{path:r,newPath:o})}case"remove_node":return cr(cr({},e),{},{type:"insert_node"});case"remove_text":return cr(cr({},e),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:s}=e;return cr(cr({},e),{},{properties:s,newProperties:i})}case"set_selection":{var{properties:a,newProperties:c}=e;return a==null?cr(cr({},e),{},{properties:c,newProperties:null}):c==null?cr(cr({},e),{},{properties:null,newProperties:a}):cr(cr({},e),{},{properties:c,newProperties:a})}case"split_node":return cr(cr({},e),{},{type:"merge_node",path:ee.next(e.path)})}}},zee=new WeakMap,oLt=e=>{var t=zee.get(e);if(t!==void 0)return t;if(!Yo(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||Yo(e.marks))&&(e.selection===null||ue.isRange(e.selection))&&Ce.isNodeList(e.children)&&zg.isOperationList(e.operations);return zee.set(e,n),n},L={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return oLt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},iLt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(ee.isPath)}};function Vee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Hee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vee(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var At={compare(e,t){var n=ee.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return At.compare(e,t)===1},isBefore(e,t){return At.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&ee.equals(e.path,t.path)},isPoint(e){return Yo(e)&&typeof e.offset=="number"&&ee.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return mN(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:i,offset:s}=r;switch(t.type){case"insert_node":case"move_node":{r.path=ee.transform(i,t,n);break}case"insert_text":{ee.equals(t.path,i)&&(t.offset<s||t.offset===s&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{ee.equals(t.path,i)&&(r.offset+=t.position),r.path=ee.transform(i,t,n);break}case"remove_text":{ee.equals(t.path,i)&&t.offset<=s&&(r.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(ee.equals(t.path,i)||ee.isAncestor(t.path,i))return null;r.path=ee.transform(i,t,n);break}case"split_node":{if(ee.equals(t.path,i)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(r.offset-=t.position,r.path=ee.transform(i,t,Hee(Hee({},n),{},{affinity:"forward"})))}else r.path=ee.transform(i,t,n);break}}})}},Uee=void 0,Po={setScrubber(e){Uee=e},stringify(e){return JSON.stringify(e,Uee)}},sLt=["text"],aLt=["anchor","focus"];function Wee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wee(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var we={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(i){var s=Nu(i,sLt);return s}return WAe(r?o(e):e,r?o(t):t)},isText(e){return Yo(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>we.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Yc({},e)];for(var r of t){var o=Nu(r,aLt),[i,s]=ue.edges(r),a=[],c=0,u=i.offset,d=s.offset;for(var f of n){var{length:p}=f.text,m=c;if(c+=p,u<=m&&c<=d){Object.assign(f,o),a.push(f);continue}if(u!==d&&(u===c||d===m)||u>c||d<m||d===m&&m!==0){a.push(f);continue}var v=f,g=void 0,b=void 0;if(d<c){var x=d-m;b=Yc(Yc({},v),{},{text:v.text.slice(x)}),v=Yc(Yc({},v),{},{text:v.text.slice(0,x)})}if(u>m){var y=u-m;g=Yc(Yc({},v),{},{text:v.text.slice(0,y)}),v=Yc(Yc({},v),{},{text:v.text.slice(y)})}Object.assign(v,o),g&&a.push(g),a.push(v),b&&a.push(b)}n=a}return n}},gN=e=>e.selection?e.selection:e.children.length>0?L.end(e,[]):[0],B0=(e,t)=>{var[n]=L.node(e,t);return r=>r===n},vN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?hLt(t):t,i=gt.None,s=gt.None,a=0,c=null,u=null;for(var d of o){var f=d.codePointAt(0);if(!f)break;var p=ELt(d,f);if([i,s]=r?[s,p]:[p,i],Vg(i,gt.ZWJ)&&Vg(s,gt.ExtPict)&&(r?c=Yee(t.substring(0,a)):c=Yee(t.substring(0,t.length-a)),!c)||Vg(i,gt.RI)&&Vg(s,gt.RI)&&(u!==null?u=!u:r?u=!0:u=OLt(t.substring(0,t.length-a)),!u)||i!==gt.None&&s!==gt.None&&jLt(i,s))break;a+=d.length}return a||1},lLt=/\s/,cLt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,uLt=/['\u2018\u2019]/,dLt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var i=vN(t,n),[s,a]=yN(t,i,n);if(fLt(s,a,n))o=!0,r+=i;else if(!o)r+=i;else break;t=a}return r},yN=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},fLt=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(lLt.test(t))return!1;if(uLt.test(t)){var o=vN(n,r),[i,s]=yN(n,o,r);if(e(i,s,r))return!0}return!cLt.test(t)},hLt=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(mLt(o.charCodeAt(0))){var i=t.charAt(n-r-1);if(pLt(i.charCodeAt(0))){yield i+o,r++;continue}}yield o}},pLt=e=>e>=55296&&e<=56319,mLt=e=>e>=56320&&e<=57343,gt;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(gt||(gt={}));var gLt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,vLt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,yLt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,bLt=/^[\u1100-\u115F\uA960-\uA97C]$/,xLt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,wLt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,_Lt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,CLt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,SLt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,ELt=(e,t)=>{var n=gt.Any;return e.search(gLt)!==-1&&(n|=gt.Extend),t===8205&&(n|=gt.ZWJ),t>=127462&&t<=127487&&(n|=gt.RI),e.search(vLt)!==-1&&(n|=gt.Prepend),e.search(yLt)!==-1&&(n|=gt.SpacingMark),e.search(bLt)!==-1&&(n|=gt.L),e.search(xLt)!==-1&&(n|=gt.V),e.search(wLt)!==-1&&(n|=gt.T),e.search(_Lt)!==-1&&(n|=gt.LV),e.search(CLt)!==-1&&(n|=gt.LVT),e.search(SLt)!==-1&&(n|=gt.ExtPict),n};function Vg(e,t){return(e&t)!==0}var kLt=[[gt.L,gt.L|gt.V|gt.LV|gt.LVT],[gt.LV|gt.V,gt.V|gt.T],[gt.LVT|gt.T,gt.T],[gt.Any,gt.Extend|gt.ZWJ],[gt.Any,gt.SpacingMark],[gt.Prepend,gt.Any],[gt.ZWJ,gt.ExtPict],[gt.RI,gt.RI]];function jLt(e,t){return kLt.findIndex(n=>Vg(e,n[0])&&Vg(t,n[1]))===-1}var TLt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Yee=e=>e.search(TLt)!==-1,ALt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,OLt=e=>{var t=e.match(ALt);if(t===null)return!1;var n=t[0].length/2;return n%2===1},PLt={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};L.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=gN(e)}=n;if(ee.isPath(o)&&(o=L.range(e,o)),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var i=ue.end(o);if(!r&&L.void(e,{at:i}))return;var s=ue.start(o),a=L.pointRef(e,s),c=L.pointRef(e,i);se.delete(e,{at:o,voids:r});var u=a.unref(),d=c.unref();o=u||d,se.setSelection(e,{anchor:o,focus:o})}if(!(!r&&L.void(e,{at:o})||L.elementReadOnly(e,{at:o}))){var{path:f,offset:p}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:p,text:t})}})}};function qee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function bC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qee(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var se=bC(bC(bC(bC({},Z6t),X6t),Q6t),PLt),DLt=(e,t)=>{for(var n of L.pathRefs(e))Y6t.transform(n,t);for(var r of L.pointRefs(e))q6t.transform(r,t);for(var o of L.rangeRefs(e))G6t.transform(o,t);var i=Yk.get(e)||[],s=qk.get(e)||new Set,a,c,u=v=>{if(v){var g=v.join(",");c.has(g)||(c.add(g),a.push(v))}};if(ee.operationCanTransformPath(t)){a=[],c=new Set;for(var d of i){var f=ee.transform(d,t);u(f)}}else a=i,c=s;var p=e.getDirtyPaths(t);for(var m of p)u(m);Yk.set(e,a),qk.set(e,c),se.transform(e,t),e.operations.push(t),L.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),pb.get(e)||(pb.set(e,!0),Promise.resolve().then(()=>{pb.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},ILt=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return ee.levels(n)}case"insert_node":{var{node:r,path:o}=t,i=ee.levels(o),s=we.isText(r)?[]:Array.from(Ce.nodes(r),T=>{var[,A]=T;return o.concat(A)});return[...i,...s]}case"merge_node":{var{path:a}=t,c=ee.ancestors(a),u=ee.previous(a);return[...c,u]}case"move_node":{var{path:d,newPath:f}=t;if(ee.equals(d,f))return[];var p=[],m=[];for(var v of ee.ancestors(d)){var g=ee.transform(v,t);p.push(g)}for(var b of ee.ancestors(f)){var x=ee.transform(b,t);m.push(x)}var y=m[m.length-1],w=f[f.length-1],_=y.concat(w);return[...p,...m,_]}case"remove_node":{var{path:C}=t,S=ee.ancestors(C);return[...S]}case"split_node":{var{path:E}=t,j=ee.levels(E),k=ee.next(E);return[...j,k]}default:return[]}},RLt=e=>{var{selection:t}=e;return t?Ce.fragment(e,t):[]},$Lt=(e,t)=>{var[n,r]=t;if(!we.isText(n)){if(Ie.isElement(n)&&n.children.length===0){var o={text:""};se.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var i=L.isEditor(n)?!1:Ie.isElement(n)&&(e.isInline(n)||n.children.length===0||we.isText(n.children[0])||e.isInline(n.children[0])),s=0,a=0;a<n.children.length;a++,s++){var c=Ce.get(e,r);if(!we.isText(c)){var u=c.children[s],d=c.children[s-1],f=a===n.children.length-1,p=we.isText(u)||Ie.isElement(u)&&e.isInline(u);if(p!==i)se.removeNodes(e,{at:r.concat(s),voids:!0}),s--;else if(Ie.isElement(u)){if(e.isInline(u)){if(d==null||!we.isText(d)){var m={text:""};se.insertNodes(e,m,{at:r.concat(s),voids:!0}),s++}else if(f){var v={text:""};se.insertNodes(e,v,{at:r.concat(s+1),voids:!0}),s++}}}else d!=null&&we.isText(d)&&(we.equals(u,d,{loose:!0})?(se.mergeNodes(e,{at:r.concat(s),voids:!0}),s--):d.text===""?(se.removeNodes(e,{at:r.concat(s-1),voids:!0}),s--):u.text===""&&(se.removeNodes(e,{at:r.concat(s),voids:!0}),s--))}}}},MLt=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},FLt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:i=t.selection,match:s}=n;if(i){var a=L.path(t,i),c=o==="lowest";for(var[u,d]of L.levels(t,{at:a,voids:r,match:s,reverse:c}))if(!we.isText(u)){if(ue.isRange(i)){if(ee.isAncestor(d,i.anchor.path)&&ee.isAncestor(d,i.focus.path))return[u,d]}else if(!ee.equals(a,d))return[u,d]}}};function Gee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Kee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gee(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var LLt=(e,t,n)=>{var{selection:r}=e;if(r){var o=(f,p)=>{if(!we.isText(f))return!1;var[m,v]=L.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},i=ue.isExpanded(r),s=!1;if(!i){var[a,c]=L.node(e,r);if(a&&o(a,c)){var[u]=L.parent(e,c);s=u&&e.markableVoid(u)}}if(i||s)se.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var d=Kee(Kee({},L.marks(e)||{}),{},{[t]:n});e.marks=d,pb.get(e)||e.onChange()}}};function Zee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Xee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zee(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var BLt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=L.point(t,n,{edge:"end"}),i=L.end(t,[]),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of L.positions(t,Xee(Xee({},r),{},{at:s}))){if(c>a)break;c!==0&&(u=d),c++}return u};function Qee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Jee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qee(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var NLt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=L.start(t,[]),i=L.point(t,n,{edge:"start"}),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of L.positions(t,Jee(Jee({},r),{},{at:s,reverse:!0}))){if(c>a)break;c!==0&&(u=d),c++}return u},zLt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&se.delete(e,{unit:t,reverse:!0})},VLt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&se.delete(e,{unit:t})},HLt=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&ue.isExpanded(r)&&se.delete(t,{reverse:n==="backward"})},ULt=(e,t)=>[L.start(e,t),L.end(e,t)];function ete(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ete(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ete(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var WLt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return L.above(t,tte(tte({},n),{},{match:r=>Ie.isElement(r)&&L.isElementReadOnly(t,r)}))},YLt=(e,t)=>L.point(e,t,{edge:"end"}),qLt=(e,t)=>{var n=L.path(e,t,{edge:"start"});return L.node(e,n)},GLt=(e,t)=>{var n=L.range(e,t);return Ce.fragment(e,n)};function nte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nte(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var KLt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return L.above(t,rte(rte({},n),{},{match:r=>Ie.isElement(r)&&L.isVoid(t,r)}))},ZLt=(e,t)=>t.children.some(n=>Ie.isElement(n)&&L.isBlock(e,n)),XLt=(e,t)=>t.children.some(n=>we.isText(n)||L.isInline(e,n)),QLt=(e,t)=>Ce.has(e,t),JLt=(e,t)=>t.children.every(n=>we.isText(n)),e8t=e=>{se.splitNodes(e,{always:!0})},t8t=(e,t,n)=>{se.insertNodes(e,t,n)},n8t=e=>{se.splitNodes(e,{always:!0})};function ote(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function r8t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ote(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ote(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var o8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:i}=t;if(o){if(i){var s=r8t({text:n},i);se.insertNodes(t,s,{at:r.at,voids:r.voids})}else se.insertText(t,n,r);t.marks=null}},i8t=(e,t)=>!e.isInline(t),s8t=(e,t,n)=>L.isStart(e,t,n)||L.isEnd(e,t,n),a8t=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&we.isText(r)&&r.text===""&&!e.isVoid(t)},l8t=(e,t,n)=>{var r=L.end(e,n);return At.equals(t,r)},c8t=e=>{var t=UAe.get(e);return t===void 0?!0:t},u8t=(e,t,n)=>{if(t.offset!==0)return!1;var r=L.start(e,n);return At.equals(t,r)},d8t=(e,t)=>{var n=L.path(e,t,{edge:"end"});return L.node(e,n)},f8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=L.path(t,n,r),i=Ce.leaf(t,o);return[i,o]};function*h8t(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:i}=t;if(i==null&&(i=()=>!0),!!n){var s=[],a=L.path(e,n);for(var[c,u]of Ce.levels(e,a))if(i(c,u)&&(s.push([c,u]),!o&&Ie.isElement(c)&&L.isVoid(e,c)))break;r&&s.reverse(),yield*s}}var p8t=["text"],m8t=["text"],g8t=function(t){var{marks:n,selection:r}=t;if(!r)return null;if(n)return n;if(ue.isExpanded(r)){var[o]=L.nodes(t,{match:we.isText});if(o){var[i]=o,s=Nu(i,p8t);return s}else return{}}var{anchor:a}=r,{path:c}=a,[u]=L.leaf(t,c);if(a.offset===0){var d=L.previous(t,{at:c,match:we.isText}),f=L.above(t,{match:x=>Ie.isElement(x)&&L.isVoid(t,x)&&t.markableVoid(x)});if(!f){var p=L.above(t,{match:x=>Ie.isElement(x)&&L.isBlock(t,x)});if(d&&p){var[m,v]=d,[,g]=p;ee.isAncestor(g,v)&&(u=m)}}}var b=Nu(u,m8t);return b},v8t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=L.after(t,s,{voids:o});if(a){var[,c]=L.last(t,[]),u=[a.path,c];if(ee.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(ee.isPath(s)){var[d]=L.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=L.nodes(t,{at:u,match:i,mode:r,voids:o});return f}}},y8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=L.path(t,n,r),i=Ce.get(t,o);return[i,o]};function*b8t(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,mode:r="all",universal:o=!1,reverse:i=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:c}=t;if(c||(c=()=>!0),!!n){var u,d;if(iLt.isSpan(n))u=n[0],d=n[1];else{var f=L.path(e,n,{edge:"start"}),p=L.path(e,n,{edge:"end"});u=i?p:f,d=i?f:p}var m=Ce.nodes(e,{reverse:i,from:u,to:d,pass:_=>{var[C]=_;return Ie.isElement(C)?!!(!s&&(L.isVoid(e,C)||L.isElementReadOnly(e,C))||a&&!L.isSelectable(e,C)):!1}}),v=[],g;for(var[b,x]of m)if(!(a&&Ie.isElement(b)&&!L.isSelectable(e,b))){var y=g&&ee.compare(x,g[1])===0;if(!(r==="highest"&&y)){if(!c(b,x)){if(o&&!y&&we.isText(b))return;continue}if(r==="lowest"&&y){g=[b,x];continue}var w=r==="lowest"?g:[b,x];w&&(o?v.push(w):yield w),g=[b,x]}}r==="lowest"&&g&&(o?v.push(g):yield g),o&&(yield*v)}}var x8t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,i=d=>Yk.get(d)||[],s=d=>qk.get(d)||new Set,a=d=>{var f=i(d).pop(),p=f.join(",");return s(d).delete(p),f};if(L.isNormalizing(t)){if(r){var c=Array.from(Ce.nodes(t),d=>{var[,f]=d;return f}),u=new Set(c.map(d=>d.join(",")));Yk.set(t,c),qk.set(t,u)}i(t).length!==0&&L.withoutNormalizing(t,()=>{for(var d of i(t))if(Ce.has(t,d)){var f=L.node(t,d),[p,m]=f;Ie.isElement(p)&&p.children.length===0&&t.normalizeNode(f,{operation:o})}for(var v=i(t),g=v.length,b=0;v.length!==0;){if(!t.shouldNormalize({dirtyPaths:v,iteration:b,initialDirtyPathsLength:g,operation:o}))return;var x=a(t);if(Ce.has(t,x)){var y=L.node(t,x);t.normalizeNode(y,{operation:o})}b++,v=i(t)}})}},w8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=L.path(t,n,r),i=ee.parent(o),s=L.node(t,i);return s},_8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=L.pathRefs(t);return c.delete(i),i.current=null,a}},s=L.pathRefs(t);return s.add(i),i},C8t=e=>{var t=Iee.get(e);return t||(t=new Set,Iee.set(e,t)),t},S8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:i}=r;if(ee.isPath(n)){if(i==="start"){var[,s]=Ce.first(t,n);n=s}else if(i==="end"){var[,a]=Ce.last(t,n);n=a}}return ue.isRange(n)&&(i==="start"?n=ue.start(n):i==="end"?n=ue.end(n):n=ee.common(n.anchor.path,n.focus.path)),At.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},E8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=L.pointRefs(t);return c.delete(i),i.current=null,a}},s=L.pointRefs(t);return s.add(i),i},k8t=e=>{var t=Ree.get(e);return t||(t=new Set,Ree.set(e,t)),t},j8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if(ee.isPath(n)){var i;if(o==="end"){var[,s]=Ce.last(t,n);i=s}else{var[,a]=Ce.first(t,n);i=a}var c=Ce.get(t,i);if(!we.isText(c))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:i,offset:o==="end"?c.text.length:0}}if(ue.isRange(n)){var[u,d]=ue.edges(n);return o==="start"?u:d}return n};function*T8t(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:i=!1,ignoreNonSelectable:s=!1}=t;if(!n)return;var a=L.range(e,n),[c,u]=ue.edges(a),d=o?u:c,f=!1,p="",m=0,v=0,g=0;for(var[b,x]of L.nodes(e,{at:n,reverse:o,voids:i,ignoreNonSelectable:s})){if(Ie.isElement(b)){if(!i&&(e.isVoid(b)||e.isElementReadOnly(b))){yield L.start(e,x);continue}if(e.isInline(b))continue;if(L.hasInlines(e,b)){var y=ee.isAncestor(x,u.path)?u:L.end(e,x),w=ee.isAncestor(x,c.path)?c:L.start(e,x);p=L.string(e,{anchor:w,focus:y},{voids:i}),f=!0}}if(we.isText(b)){var _=ee.equals(x,d.path);for(_?(v=o?d.offset:b.text.length-d.offset,g=d.offset):(v=b.text.length,g=o?v:0),(_||f||r==="offset")&&(yield{path:x,offset:g},f=!1);;){if(m===0){if(p==="")break;m=C(p,r,o),p=yN(p,m,o)[1]}if(g=o?g-m:g+m,v=v-m,v<0){m=-v;break}m=0,yield{path:x,offset:g}}}}function C(S,E,j){return E==="character"?vN(S,j):E==="word"?dLt(S,j):E==="line"||E==="block"?S.length:1}}var A8t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=L.before(t,s,{voids:o});if(a){var[,c]=L.first(t,[]),u=[a.path,c];if(ee.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(ee.isPath(s)){var[d]=L.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=L.nodes(t,{reverse:!0,at:u,match:i,mode:r,voids:o});return f}}},O8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=L.rangeRefs(t);return c.delete(i),i.current=null,a}},s=L.rangeRefs(t);return s.add(i),i},P8t=e=>{var t=$ee.get(e);return t||(t=new Set,$ee.set(e,t)),t},D8t=(e,t,n)=>{if(ue.isRange(t)&&!n)return t;var r=L.start(e,t),o=L.end(e,n||t);return{anchor:r,focus:o}};function ite(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function I8t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ite(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ite(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var R8t=(e,t)=>{var{selection:n}=e;if(n){var r=(d,f)=>{if(!we.isText(d))return!1;var[p,m]=L.parent(e,f);return!e.isVoid(p)||e.markableVoid(p)},o=ue.isExpanded(n),i=!1;if(!o){var[s,a]=L.node(e,n);if(s&&r(s,a)){var[c]=L.parent(e,a);i=c&&e.markableVoid(c)}}if(o||i)se.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=I8t({},L.marks(e)||{});delete u[t],e.marks=u,pb.get(e)||e.onChange()}}},$8t=(e,t)=>{UAe.set(e,t)},M8t=(e,t)=>L.point(e,t,{edge:"start"}),F8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,i=L.range(t,n),[s,a]=ue.edges(i),c="";for(var[u,d]of L.nodes(t,{at:i,match:we.isText,voids:o})){var f=u.text;ee.equals(d,a.path)&&(f=f.slice(0,a.offset)),ee.equals(d,s.path)&&(f=f.slice(s.offset)),c+=f}return c},L8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[i,s]=ue.edges(n);if(i.offset!==0||s.offset!==0||ue.isCollapsed(n)||ee.hasPrevious(s.path))return n;var a=L.above(t,{at:s,match:v=>Ie.isElement(v)&&L.isBlock(t,v),voids:o}),c=a?a[1]:[],u=L.start(t,i),d={anchor:u,focus:s},f=!0;for(var[p,m]of L.nodes(t,{at:d,match:we.isText,reverse:!0,voids:o})){if(f){f=!1;continue}if(p.text!==""||ee.isBefore(m,c)){s={path:m,offset:p.text.length};break}}return{anchor:i,focus:s}},B8t=(e,t)=>{var n=L.isNormalizing(e);L.setNormalizing(e,!1);try{t()}finally{L.setNormalizing(e,n)}L.normalize(e)},N8t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L.withoutNormalizing(t,()=>{var r,o,{reverse:i=!1,unit:s="character",distance:a=1,voids:c=!1}=n,{at:u=t.selection,hanging:d=!1}=n;if(u){var f=!1;if(ue.isRange(u)&&ue.isCollapsed(u)&&(f=!0,u=u.anchor),At.isPoint(u)){var p=L.void(t,{at:u,mode:"highest"});if(!c&&p){var[,m]=p;u=m}else{var v={unit:s,distance:a},g=i?L.before(t,u,v)||L.start(t,[]):L.after(t,u,v)||L.end(t,[]);u={anchor:u,focus:g},d=!0}}if(ee.isPath(u)){se.removeNodes(t,{at:u,voids:c});return}if(!ue.isCollapsed(u)){if(!d){var[,b]=ue.edges(u),x=L.end(t,[]);At.equals(b,x)||(u=L.unhangRange(t,u,{voids:c}))}var[y,w]=ue.edges(u),_=L.above(t,{match:ce=>Ie.isElement(ce)&&L.isBlock(t,ce),at:y,voids:c}),C=L.above(t,{match:ce=>Ie.isElement(ce)&&L.isBlock(t,ce),at:w,voids:c}),S=_&&C&&!ee.equals(_[1],C[1]),E=ee.equals(y.path,w.path),j=c?null:(r=L.void(t,{at:y,mode:"highest"}))!==null&&r!==void 0?r:L.elementReadOnly(t,{at:y,mode:"highest"}),k=c?null:(o=L.void(t,{at:w,mode:"highest"}))!==null&&o!==void 0?o:L.elementReadOnly(t,{at:w,mode:"highest"});if(j){var T=L.before(t,y);T&&_&&ee.isAncestor(_[1],T.path)&&(y=T)}if(k){var A=L.after(t,w);A&&C&&ee.isAncestor(C[1],A.path)&&(w=A)}var O=[],P;for(var D of L.nodes(t,{at:u,voids:c})){var[R,$]=D;P&&ee.compare($,P)===0||(!c&&Ie.isElement(R)&&(L.isVoid(t,R)||L.isElementReadOnly(t,R))||!ee.isCommon($,y.path)&&!ee.isCommon($,w.path))&&(O.push(D),P=$)}var H=Array.from(O,ce=>{var[,Te]=ce;return L.pathRef(t,Te)}),F=L.pointRef(t,y),V=L.pointRef(t,w),W="";if(!E&&!j){var z=F.current,[q]=L.leaf(t,z),{path:oe}=z,{offset:N}=y,G=q.text.slice(N);G.length>0&&(t.apply({type:"remove_text",path:oe,offset:N,text:G}),W=G)}if(H.reverse().map(ce=>ce.unref()).filter(ce=>ce!==null).forEach(ce=>se.removeNodes(t,{at:ce,voids:c})),!k){var Y=V.current,[K]=L.leaf(t,Y),{path:X}=Y,Q=E?y.offset:0,Z=K.text.slice(Q,w.offset);Z.length>0&&(t.apply({type:"remove_text",path:X,offset:Q,text:Z}),W=Z)}!E&&S&&V.current&&F.current&&se.mergeNodes(t,{at:V.current,hanging:!0,voids:c}),f&&i&&s==="character"&&W.length>1&&W.match(/[\u0E00-\u0E7F]+/)&&se.insertText(t,W.slice(0,W.length-a));var re=F.unref(),ae=V.unref(),me=i?re||ae:ae||re;n.at==null&&me&&se.select(t,me)}}})},z8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};L.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1}=r,{at:s=gN(t)}=r;if(n.length){if(ue.isRange(s))if(o||(s=L.unhangRange(t,s,{voids:i})),ue.isCollapsed(s))s=s.anchor;else{var[,a]=ue.edges(s);if(!i&&L.void(t,{at:a}))return;var c=L.pointRef(t,a);se.delete(t,{at:s}),s=c.unref()}else ee.isPath(s)&&(s=L.start(t,s));if(!(!i&&L.void(t,{at:s}))){var u=L.above(t,{at:s,match:N=>Ie.isElement(N)&&L.isInline(t,N),mode:"highest",voids:i});if(u){var[,d]=u;if(L.isEnd(t,s,d)){var f=L.after(t,d);s=f}else if(L.isStart(t,s,d)){var p=L.before(t,d);s=p}}var m=L.above(t,{match:N=>Ie.isElement(N)&&L.isBlock(t,N),at:s,voids:i}),[,v]=m,g=L.isStart(t,s,v),b=L.isEnd(t,s,v),x=g&&b,y=!g||g&&b,w=!b,[,_]=Ce.first({children:n},[]),[,C]=Ce.last({children:n},[]),S=[],E=N=>{var[G,Y]=N,K=Y.length===0;return K?!1:x?!0:!(y&&ee.isAncestor(Y,_)&&Ie.isElement(G)&&!t.isVoid(G)&&!t.isInline(G)||w&&ee.isAncestor(Y,C)&&Ie.isElement(G)&&!t.isVoid(G)&&!t.isInline(G))};for(var j of Ce.nodes({children:n},{pass:E}))E(j)&&S.push(j);var k=[],T=[],A=[],O=!0,P=!1;for(var[D]of S)Ie.isElement(D)&&!t.isInline(D)?(O=!1,P=!0,T.push(D)):O?k.push(D):A.push(D);var[R]=L.nodes(t,{at:s,match:N=>we.isText(N)||L.isInline(t,N),mode:"highest",voids:i}),[,$]=R,H=L.isStart(t,s,$),F=L.isEnd(t,s,$),V=L.pathRef(t,b&&!A.length?ee.next(v):v),W=L.pathRef(t,F?ee.next($):$);se.splitNodes(t,{at:s,match:N=>P?Ie.isElement(N)&&L.isBlock(t,N):we.isText(N)||L.isInline(t,N),mode:P?"lowest":"highest",always:P&&(!g||k.length>0)&&(!b||A.length>0),voids:i});var z=L.pathRef(t,!H||H&&F?ee.next($):$);if(se.insertNodes(t,k,{at:z.current,match:N=>we.isText(N)||L.isInline(t,N),mode:"highest",voids:i}),x&&!k.length&&T.length&&!A.length&&se.delete(t,{at:v,voids:i}),se.insertNodes(t,T,{at:V.current,match:N=>Ie.isElement(N)&&L.isBlock(t,N),mode:"lowest",voids:i}),se.insertNodes(t,A,{at:W.current,match:N=>we.isText(N)||L.isInline(t,N),mode:"highest",voids:i}),!r.at){var q;if(A.length>0&&W.current?q=ee.previous(W.current):T.length>0&&V.current?q=ee.previous(V.current):z.current&&(q=ee.previous(z.current)),q){var oe=L.end(t,q);se.select(t,oe)}}z.unref(),V.unref(),W.unref()}}})},V8t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")se.select(t,o.anchor);else if(r==="focus")se.select(t,o.focus);else if(r==="start"){var[i]=ue.edges(o);se.select(t,i)}else if(r==="end"){var[,s]=ue.edges(o);se.select(t,s)}}else return},H8t=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},U8t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:i="character",reverse:s=!1}=n,{edge:a=null}=n;if(r){a==="start"&&(a=ue.isBackward(r)?"focus":"anchor"),a==="end"&&(a=ue.isBackward(r)?"anchor":"focus");var{anchor:c,focus:u}=r,d={distance:o,unit:i,ignoreNonSelectable:!0},f={};if(a==null||a==="anchor"){var p=s?L.before(t,c,d):L.after(t,c,d);p&&(f.anchor=p)}if(a==null||a==="focus"){var m=s?L.before(t,u,d):L.after(t,u,d);m&&(f.focus=m)}se.setSelection(t,f)}},W8t=(e,t)=>{var{selection:n}=e;if(t=L.range(e,t),n){se.setSelection(e,t);return}if(!ue.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Po.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function ste(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ate(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ste(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ste(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Y8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:i="both"}=r;if(o){i==="start"&&(i=ue.isBackward(o)?"focus":"anchor"),i==="end"&&(i=ue.isBackward(o)?"anchor":"focus");var{anchor:s,focus:a}=o,c=i==="anchor"?s:a;se.setSelection(t,{[i==="anchor"?"anchor":"focus"]:ate(ate({},c),n)})}},q8t=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var i in t)(i==="anchor"&&t.anchor!=null&&!At.equals(t.anchor,n.anchor)||i==="focus"&&t.focus!=null&&!At.equals(t.focus,n.focus)||i!=="anchor"&&i!=="focus"&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},G8t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};L.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1,mode:s="lowest"}=r,{at:a,match:c,select:u}=r;if(Ce.isNode(n)&&(n=[n]),n.length!==0){var[d]=n;if(a||(a=gN(t),u=!0),u==null&&(u=!1),ue.isRange(a))if(o||(a=L.unhangRange(t,a,{voids:i})),ue.isCollapsed(a))a=a.anchor;else{var[,f]=ue.edges(a),p=L.pointRef(t,f);se.delete(t,{at:a}),a=p.unref()}if(At.isPoint(a)){c==null&&(we.isText(d)?c=E=>we.isText(E):t.isInline(d)?c=E=>we.isText(E)||L.isInline(t,E):c=E=>Ie.isElement(E)&&L.isBlock(t,E));var[m]=L.nodes(t,{at:a.path,match:c,mode:s,voids:i});if(m){var[,v]=m,g=L.pathRef(t,v),b=L.isEnd(t,a,v);se.splitNodes(t,{at:a,match:c,mode:s,voids:i});var x=g.unref();a=b?ee.next(x):x}else return}var y=ee.parent(a),w=a[a.length-1];if(!(!i&&L.void(t,{at:y}))){for(var _ of n){var C=y.concat(w);w++,t.apply({type:"insert_node",path:C,node:_}),a=ee.next(a)}if(a=ee.previous(a),u){var S=L.end(t,a);S&&se.select(t,S)}}}})},K8t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:i=!1}=n,{match:s}=n;if(s==null&&(s=ee.isPath(r)?B0(t,r):_=>Ie.isElement(_)&&L.isBlock(t,_)),!!r){var a=L.nodes(t,{at:r,match:s,mode:o,voids:i}),c=Array.from(a,_=>{var[,C]=_;return L.pathRef(t,C)});for(var u of c){var d=u.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var f=L.node(t,ee.parent(d)),[p,m]=f,v=d[d.length-1],{length:g}=p.children;if(g===1){var b=ee.next(m);se.moveNodes(t,{at:d,to:b,voids:i}),se.removeNodes(t,{at:m,voids:i})}else if(v===0)se.moveNodes(t,{at:d,to:m,voids:i});else if(v===g-1){var x=ee.next(m);se.moveNodes(t,{at:d,to:x,voids:i})}else{var y=ee.next(d),w=ee.next(m);se.splitNodes(t,{at:y,voids:i}),se.moveNodes(t,{at:d,to:w,voids:i})}}}})},Z8t=["text"],X8t=["children"],YAe=(e,t)=>{if(Ie.isElement(t)){var n=t;return L.isVoid(e,t)?!0:n.children.length===1?YAe(e,n.children[0]):!1}else return!L.isEditor(t)},Q8t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:i=!1,voids:s=!1,mode:a="lowest"}=n;if(o){if(r==null)if(ee.isPath(o)){var[c]=L.parent(t,o);r=T=>c.children.includes(T)}else r=T=>Ie.isElement(T)&&L.isBlock(t,T);if(!i&&ue.isRange(o)&&(o=L.unhangRange(t,o,{voids:s})),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var[,u]=ue.edges(o),d=L.pointRef(t,u);se.delete(t,{at:o}),o=d.unref(),n.at==null&&se.select(t,o)}var[f]=L.nodes(t,{at:o,match:r,voids:s,mode:a}),p=L.previous(t,{at:o,match:r,voids:s,mode:a});if(!(!f||!p)){var[m,v]=f,[g,b]=p;if(!(v.length===0||b.length===0)){var x=ee.next(b),y=ee.common(v,b),w=ee.isSibling(v,b),_=Array.from(L.levels(t,{at:v}),T=>{var[A]=T;return A}).slice(y.length).slice(0,-1),C=L.above(t,{at:v,mode:"highest",match:T=>_.includes(T)&&YAe(t,T)}),S=C&&L.pathRef(t,C[1]),E,j;if(we.isText(m)&&we.isText(g)){var k=Nu(m,Z8t);j=g.text.length,E=k}else if(Ie.isElement(m)&&Ie.isElement(g)){var k=Nu(m,X8t);j=g.children.length,E=k}else throw new Error("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat(Po.stringify(m)," ").concat(Po.stringify(g)));w||se.moveNodes(t,{at:v,to:x,voids:s}),S&&se.removeNodes(t,{at:S.current,voids:s}),Ie.isElement(g)&&L.isEmpty(t,g)||we.isText(g)&&g.text===""&&b[b.length-1]!==0?se.removeNodes(t,{at:b,voids:s}):t.apply({type:"merge_node",path:x,position:j,properties:E}),S&&S.unref()}}}})},J8t=(e,t)=>{L.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:i=!1}=t,{match:s}=t;if(r){s==null&&(s=ee.isPath(r)?B0(e,r):m=>Ie.isElement(m)&&L.isBlock(e,m));var a=L.pathRef(e,n),c=L.nodes(e,{at:r,match:s,mode:o,voids:i}),u=Array.from(c,m=>{var[,v]=m;return L.pathRef(e,v)});for(var d of u){var f=d.unref(),p=a.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:p}),a.current&&ee.isSibling(p,f)&&ee.isAfter(p,f)&&(a.current=ee.next(a.current))}a.unref()}})},e9t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:i="lowest"}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=ee.isPath(s)?B0(t,s):m=>Ie.isElement(m)&&L.isBlock(t,m)),!r&&ue.isRange(s)&&(s=L.unhangRange(t,s,{voids:o}));var c=L.nodes(t,{at:s,match:a,mode:i,voids:o}),u=Array.from(c,m=>{var[,v]=m;return L.pathRef(t,v)});for(var d of u){var f=d.unref();if(f){var[p]=L.node(t,f);t.apply({type:"remove_node",path:f,node:p})}}}})},t9t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};L.withoutNormalizing(t,()=>{var{match:o,at:i=t.selection,compare:s,merge:a}=r,{hanging:c=!1,mode:u="lowest",split:d=!1,voids:f=!1}=r;if(i){if(o==null&&(o=ee.isPath(i)?B0(t,i):j=>Ie.isElement(j)&&L.isBlock(t,j)),!c&&ue.isRange(i)&&(i=L.unhangRange(t,i,{voids:f})),d&&ue.isRange(i)){if(ue.isCollapsed(i)&&L.leaf(t,i.anchor)[0].text.length>0)return;var p=L.rangeRef(t,i,{affinity:"inward"}),[m,v]=ue.edges(i),g=u==="lowest"?"lowest":"highest",b=L.isEnd(t,v,v.path);se.splitNodes(t,{at:v,match:o,mode:g,voids:f,always:!b});var x=L.isStart(t,m,m.path);se.splitNodes(t,{at:m,match:o,mode:g,voids:f,always:!x}),i=p.unref(),r.at==null&&se.select(t,i)}s||(s=(j,k)=>j!==k);for(var[y,w]of L.nodes(t,{at:i,match:o,mode:u,voids:f})){var _={},C={};if(w.length!==0){var S=!1;for(var E in n)E==="children"||E==="text"||s(n[E],y[E])&&(S=!0,y.hasOwnProperty(E)&&(_[E]=y[E]),a?n[E]!=null&&(C[E]=a(y[E],n[E])):n[E]!=null&&(C[E]=n[E]));S&&t.apply({type:"set_node",path:w,properties:_,newProperties:C})}}}})},n9t=(e,t)=>{if(ue.isCollapsed(t))return t.anchor;var[,n]=ue.edges(t),r=L.pointRef(e,n);return se.delete(e,{at:t}),r.unref()},r9t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection,height:a=0,always:c=!1}=n;if(i==null&&(i=V=>Ie.isElement(V)&&L.isBlock(t,V)),ue.isRange(s)&&(s=n9t(t,s)),ee.isPath(s)){var u=s,d=L.point(t,u),[f]=L.parent(t,u);i=V=>V===f,a=d.path.length-u.length+1,s=d,c=!0}if(s){var p=L.pointRef(t,s,{affinity:"backward"}),m;try{var[v]=L.nodes(t,{at:s,match:i,mode:r,voids:o});if(!v)return;var g=L.void(t,{at:s,mode:"highest"}),b=0;if(!o&&g){var[x,y]=g;if(Ie.isElement(x)&&t.isInline(x)){var w=L.after(t,y);if(!w){var _={text:""},C=ee.next(y);se.insertNodes(t,_,{at:C,voids:o}),w=L.point(t,C)}s=w,c=!0}var S=s.path.length-y.length;a=S+1,c=!0}m=L.pointRef(t,s);var E=s.path.length-a,[,j]=v,k=s.path.slice(0,E),T=a===0?s.offset:s.path[E]+b;for(var[A,O]of L.levels(t,{at:k,reverse:!0,voids:o})){var P=!1;if(O.length<j.length||O.length===0||!o&&Ie.isElement(A)&&L.isVoid(t,A))break;var D=p.current,R=L.isEnd(t,D,O);if(c||!p||!L.isEdge(t,D,O)){P=!0;var $=Ce.extractProps(A);t.apply({type:"split_node",path:O,position:T,properties:$})}T=O[O.length-1]+(P||R?1:0)}if(n.at==null){var H=m.current||L.end(t,[]);se.select(t,H)}}finally{var F;p.unref(),(F=m)===null||F===void 0||F.unref()}}})},o9t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var i of n)o[i]=null;se.setNodes(t,o,r)},i9t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:i=!1}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=ee.isPath(s)?B0(t,s):m=>Ie.isElement(m)&&L.isBlock(t,m)),ee.isPath(s)&&(s=L.range(t,s));var c=ue.isRange(s)?L.rangeRef(t,s):null,u=L.nodes(t,{at:s,match:a,mode:r,voids:i}),d=Array.from(u,m=>{var[,v]=m;return L.pathRef(t,v)}).reverse(),f=function(v){var g=v.unref(),[b]=L.node(t,g),x=L.range(t,g);o&&c&&(x=ue.intersection(c.current,x)),se.liftNodes(t,{at:x,match:y=>Ie.isAncestor(b)&&b.children.includes(y),voids:i})};for(var p of d)f(p);c&&c.unref()}})};function lte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function cte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lte(Object(n),!0).forEach(function(r){ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var s9t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};L.withoutNormalizing(t,()=>{var{mode:o="lowest",split:i=!1,voids:s=!1}=r,{match:a,at:c=t.selection}=r;if(c){if(a==null&&(ee.isPath(c)?a=B0(t,c):t.isInline(n)?a=x=>Ie.isElement(x)&&L.isInline(t,x)||we.isText(x):a=x=>Ie.isElement(x)&&L.isBlock(t,x)),i&&ue.isRange(c)){var[u,d]=ue.edges(c),f=L.rangeRef(t,c,{affinity:"inward"});se.splitNodes(t,{at:d,match:a,voids:s}),se.splitNodes(t,{at:u,match:a,voids:s}),c=f.unref(),r.at==null&&se.select(t,c)}var p=Array.from(L.nodes(t,{at:c,match:t.isInline(n)?x=>Ie.isElement(x)&&L.isBlock(t,x):x=>L.isEditor(x),mode:"lowest",voids:s}));for(var[,m]of p){var v=ue.isRange(c)?ue.intersection(c,L.range(t,m)):c;if(v){var g=Array.from(L.nodes(t,{at:v,match:a,mode:o,voids:s}));if(g.length>0){var b=function(){var[x]=g,y=g[g.length-1],[,w]=x,[,_]=y;if(w.length===0&&_.length===0)return"continue";var C=ee.equals(w,_)?ee.parent(w):ee.common(w,_),S=L.range(t,w,_),E=L.node(t,C),[j]=E,k=C.length+1,T=ee.next(_.slice(0,k)),A=cte(cte({},n),{},{children:[]});se.insertNodes(t,A,{at:T,voids:s}),se.moveNodes(t,{at:S,match:O=>Ie.isAncestor(j)&&j.children.includes(O),to:T.concat(0),voids:s})}();if(b==="continue")continue}}}}})},a9t=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DLt(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LLt(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zLt(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return VLt(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return HLt(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return RLt(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e8t(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return n8t(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return z8t(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t8t(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return o8t(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Lt(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return R8t(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ILt(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MLt(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FLt(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BLt(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NLt(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return V8t(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return N8t(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return H8t(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ULt(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WLt(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YLt(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qLt(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GLt(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g8t(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZLt(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XLt(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QLt(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JLt(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return G8t(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return i8t(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return s8t(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a8t(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return l8t(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c8t(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return u8t(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return d8t(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f8t(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h8t(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return K8t(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Q8t(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return U8t(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return J8t(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return v8t(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y8t(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return b8t(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return x8t(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return w8t(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return S8t(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _8t(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return C8t(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return j8t(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E8t(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return k8t(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return T8t(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return A8t(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return D8t(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return O8t(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return P8t(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e9t(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return W8t(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t9t(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $8t(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Y8t(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return q8t(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r9t(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M8t(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return F8t(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return L8t(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return o9t(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return i9t(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KLt(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return B8t(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return s9t(e,...r)}};return e},cd={};Object.defineProperty(cd,"__esModule",{value:!0});var l9t=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),qI={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},c9t={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:l9t?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},qAe={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var xC=1;xC<20;xC++)qAe["f"+xC]=111+xC;function QA(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return GAe(s,t)}),o=function(a){return r.some(function(c){return KAe(c,a)})},i=n==null?o:o(n);return i}function u9t(e,t){return QA(e,t)}function d9t(e,t){return QA(e,{byKey:!0},t)}function GAe(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in qI)r[qI[s]]=!1;var a=!0,c=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=bN(p),g=qI[v];(i===1||!g)&&(n?r.key=v:r.which=ZAe(p)),g&&(r[g]=m?null:!0)}}catch(b){c=!0,u=b}finally{try{!a&&d.return&&d.return()}finally{if(c)throw u}}return r}function KAe(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function ZAe(e){e=bN(e);var t=qAe[e]||e.toUpperCase().charCodeAt(0);return t}function bN(e){return e=e.toLowerCase(),e=c9t[e]||e,e}var mi=cd.default=QA,GI=cd.isHotkey=QA;cd.isCodeHotkey=u9t;cd.isKeyHotkey=d9t;cd.parseHotkey=GAe;cd.compareHotkey=KAe;cd.toKeyCode=ZAe;cd.toKeyName=bN;function JA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f9t(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function qv(e,t){if(e==null)return{};var n=f9t(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var xN=h.createContext(null),Fc=()=>{var e=h.useContext(xN);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},XAe=parseInt(ne.version.split(".")[0],10),h9t=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ute=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),vs=typeof navigator<"u"&&/Android/.test(navigator.userAgent),mb=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ky=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),p9t=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),QAe=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),m9t=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),g9t=vs&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),v9t=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),y9t=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),b9t=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent),ZS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vd=(!m9t||!g9t)&&!p9t&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",wN=new WeakMap,_N=new WeakMap,JAe=new WeakMap,XS=new WeakMap,TF=new WeakMap,vx=new WeakMap,Sp=new WeakMap,AF=new WeakMap,eO=new WeakMap,OF=new WeakMap,np=new WeakMap,rp=new WeakMap,gb=new WeakMap,PF=new WeakMap,CN=new WeakMap,pl=new WeakMap,hu=new WeakMap,fs=new WeakMap,Od=new WeakMap,Pd=new WeakMap,eOe=new WeakMap,Gv=Symbol("placeholder"),tOe=Symbol("mark-placeholder"),x9t=globalThis.Text,SN=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,w9t=e=>Ff(e)&&e.nodeType===8,Ea=e=>Ff(e)&&e.nodeType===1,Ff=e=>{var t=SN(e);return!!t&&e instanceof t.Node},DF=e=>{var t=e&&e.anchorNode&&SN(e.anchorNode);return!!t&&e instanceof t.Selection},nOe=e=>Ff(e)&&e.nodeType===3,_9t=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,C9t=e=>{var[t,n]=e;if(Ea(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=rOe(t,o,r?"backward":"forward"),r=o<n;Ea(t)&&t.childNodes.length;){var i=r?t.childNodes.length-1:0;t=E9t(t,i,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},S9t=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},rOe=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],i=t,s=!1,a=!1;(w9t(o)||Ea(o)&&o.childNodes.length===0||Ea(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&a);){if(i>=r.length){s=!0,i=t-1,n="backward";continue}if(i<0){a=!0,i=t+1,n="forward";continue}o=r[i],t=i,i+=n==="forward"?1:-1}return[o,t]},E9t=(e,t,n)=>{var[r]=rOe(e,t,n);return r},oOe=e=>{var t="";if(nOe(e)&&e.nodeValue)return e.nodeValue;if(Ea(e)){for(var n of Array.from(e.childNodes))t+=oOe(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},k9t=/data-slate-fragment="(.+?)"/m,j9t=e=>{var t=e.getData("text/html"),[,n]=t.match(k9t)||[];return n},EN=(e,t,n)=>{var{target:r}=t;if(Ea(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=he.getWindow(e);if(o.contains(r))return he.hasDOMNode(e,r,{editable:!0});var i=n.find(s=>{var{addedNodes:a,removedNodes:c}=s;for(var u of a)if(u===r||u.contains(r))return!0;for(var d of c)if(d===r||d.contains(r))return!0});return!i||i===t?!1:EN(e,i,n)},T9t=0;class A9t{constructor(){this.id="".concat(T9t++)}}var he={androidPendingDiffs:e=>fs.get(e),androidScheduleFlush:e=>{var t;(t=CN.get(e))===null||t===void 0||t()},blur:e=>{var t=he.toDOMNode(e,e),n=he.findDocumentOrShadowRoot(e);np.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=he.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&se.deselect(e)},findDocumentOrShadowRoot:e=>{var t=he.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i=he.toSlateNode(e,t.target),s=he.findPath(e,i);if(Ie.isElement(i)&&L.isVoid(e,i)){var a=o.getBoundingClientRect(),c=e.isInline(i)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,u=L.point(e,s,{edge:c?"start":"end"}),d=c?L.before(e,u):L.after(e,u);if(d){var f=L.range(e,d);return f}}var p,{document:m}=he.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var v=m.caretPositionFromPoint(n,r);v&&(p=m.createRange(),p.setStart(v.offsetNode,v.offset),p.setEnd(v.offsetNode,v.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var g=he.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return g},findKey:(e,t)=>{var n=AF.get(t);return n||(n=new A9t,AF.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=_N.get(r);if(o==null){if(L.isEditor(r))return n;break}var i=wN.get(r);if(i==null)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: ".concat(Po.stringify(t)))},focus:e=>{var t=he.toDOMNode(e,e),n=he.findDocumentOrShadowRoot(e);np.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},getWindow:e=>{var t=JAe.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,i=he.toDOMNode(t,t),s;try{s=Ea(n)?n:n.parentElement}catch(a){if(!a.message.includes('Permission denied to access property "nodeType"'))throw a}return s?s.closest("[data-slate-editor]")===i&&(!o||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===i||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>Ff(t)&&he.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return L.hasPath(e,n.path)&&L.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>he.hasEditableTarget(e,t)||he.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Ff(t)&&he.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!rp.get(e),isFocused:e=>!!np.get(e),isReadOnly:e=>!!OF.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(OF.get(e))return!1;var n=he.hasTarget(e,t)&&he.toSlateNode(e,t);return Ie.isElement(n)&&L.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=eO.get(e),r=L.isEditor(t)?XS.get(e):n==null?void 0:n.get(he.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Po.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=L.node(e,t.path),r=he.toDOMNode(e,n),o;L.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i="[data-slate-string], [data-slate-zero-width]",s=Array.from(r.querySelectorAll(i)),a=0,c=0;c<s.length;c++){var u=s[c],d=u.childNodes[0];if(!(d==null||d.textContent==null)){var{length:f}=d.textContent,p=u.getAttribute("data-slate-length"),m=p==null?f:parseInt(p,10),v=a+m,g=s[c+1];if(t.offset===v&&g!==null&&g!==void 0&&g.hasAttribute("data-slate-mark-placeholder")){var b,x=g.childNodes[0];o=[x instanceof x9t?x:g,(b=g.textContent)!==null&&b!==void 0&&b.startsWith("\uFEFF")?1:0];break}if(t.offset<=v){var y=Math.min(f,Math.max(0,t.offset-a));o=[d,y];break}a=v}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Po.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=ue.isBackward(t),i=he.toDOMPoint(e,n),s=ue.isCollapsed(t)?i:he.toDOMPoint(e,r),a=he.getWindow(e),c=a.document.createRange(),[u,d]=o?s:i,[f,p]=o?i:s,m=Ea(u)?u:u.parentElement,v=!!m.getAttribute("data-slate-zero-width"),g=Ea(f)?f:f.parentElement,b=!!g.getAttribute("data-slate-zero-width");return c.setStart(u,v?1:d),c.setEnd(f,b?1:p),c},toSlateNode:(e,t)=>{var n=Ea(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?vx.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,[i,s]=r?t:C9t(t),a=i.parentNode,c=null,u=0;if(a){var d,f,p=he.toDOMNode(e,e),m=a.closest('[data-slate-void="true"]'),v=m&&p.contains(m)?m:null,g=a.closest("[data-slate-leaf]"),b=null;if(g){if(c=g.closest('[data-slate-node="text"]'),c){var x=he.getWindow(e),y=x.document.createRange();y.setStart(c,0),y.setEnd(i,s);var w=y.cloneContents(),_=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];_.forEach(D=>{if(vs&&!r&&D.hasAttribute("data-slate-zero-width")&&D.textContent.length>0&&D.textContext!=="\uFEFF"){D.textContent.startsWith("\uFEFF")&&(D.textContent=D.textContent.slice(1));return}D.parentNode.removeChild(D)}),u=w.textContent.length,b=c}}else if(v){for(var C=v.querySelectorAll("[data-slate-leaf]"),S=0;S<C.length;S++){var E=C[S];if(he.hasDOMNode(e,E)){g=E;break}}g?(c=g.closest('[data-slate-node="text"]'),b=g,u=b.textContent.length,b.querySelectorAll("[data-slate-zero-width]").forEach(D=>{u-=D.textContent.length})):u=1}b&&u===b.textContent.length&&vs&&b.getAttribute("data-slate-zero-width")==="z"&&(d=b.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(a.hasAttribute("data-slate-zero-width")||mb&&(f=b.textContent)!==null&&f!==void 0&&f.endsWith(`

`))&&u--}if(vs&&!c&&!r){var j=a.hasAttribute("data-slate-node")?a:a.closest("[data-slate-node]");if(j&&he.hasDOMNode(e,j,{editable:!0})){var k=he.toSlateNode(e,j),{path:T,offset:A}=L.start(e,he.findPath(e,k));return j.querySelector("[data-slate-leaf]")||(A=s),{path:T,offset:A}}}if(!c){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var O=he.toSlateNode(e,c),P=he.findPath(e,O);return{path:P,offset:u}},toSlateRange:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,i=DF(t)?t.anchorNode:t.startContainer,s,a,c,u,d;if(i)if(DF(t)){if(mb&&t.rangeCount>1){c=t.focusNode;var f=t.getRangeAt(0),p=t.getRangeAt(t.rangeCount-1);if(c instanceof HTMLTableRowElement&&f.startContainer instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement){let C=function(S){return S.childElementCount>0?C(S.children[0]):S};var m=f.startContainer,v=p.startContainer,g=C(m.children[f.startOffset]),b=C(v.children[p.startOffset]);u=0,b.childNodes.length>0?s=b.childNodes[0]:s=b,g.childNodes.length>0?c=g.childNodes[0]:c=g,b instanceof HTMLElement?a=b.innerHTML.length:a=0}else f.startContainer===c?(s=p.endContainer,a=p.endOffset,u=f.startOffset):(s=f.startContainer,a=f.endOffset,u=p.startOffset)}else s=t.anchorNode,a=t.anchorOffset,c=t.focusNode,u=t.focusOffset;QAe&&S9t(s)||mb?d=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:d=t.isCollapsed}else s=t.startContainer,a=t.startOffset,c=t.endContainer,u=t.endOffset,d=t.collapsed;if(s==null||c==null||a==null||u==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if("getAttribute"in c&&c.getAttribute("contenteditable")==="false"&&c.getAttribute("data-slate-void")!=="true"){var x;c=s,u=((x=s.textContent)===null||x===void 0?void 0:x.length)||0}var y=he.toSlatePoint(e,[s,a],{exactMatch:r,suppressThrow:o});if(!y)return null;var w=d?y:he.toSlatePoint(e,[c,u],{exactMatch:r,suppressThrow:o});if(!w)return null;var _={anchor:y,focus:w};return ue.isExpanded(_)&&ue.isForward(_)&&Ea(c)&&L.void(e,{at:_.focus,mode:"highest"})&&(_=L.unhangRange(e,_,{voids:!0})),_}};function O9t(e,t){var{path:n,diff:r}=t;if(!L.hasPath(e,n))return!1;var o=Ce.get(e,n);if(!we.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var i=ee.next(n);if(!L.hasPath(e,i))return!1;var s=Ce.get(e,i);return we.isText(s)&&s.text.startsWith(r.text)}function iOe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,i)=>o.slice(0,i.start)+i.text+o.slice(i.end),e)}function P9t(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function D9t(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function sOe(e,t){var{start:n,end:r,text:o}=t,i=e.slice(n,r),s=P9t(i,o),a=Math.min(i.length-s,o.length-s),c=D9t(i,o,a),u={start:n+s,end:r-c,text:o.slice(s,o.length-c)};return u.start===u.end&&u.text.length===0?null:u}function I9t(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),i=iOe(e,t,n),s=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),a=i.slice(r,s),c=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return sOe(e,{start:r,end:c,text:a})}function R9t(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function IF(e,t){var{path:n,offset:r}=t;if(!L.hasPath(e,n))return null;var o=Ce.get(e,n);if(!we.isText(o))return null;var i=L.above(e,{match:a=>Ie.isElement(a)&&L.isBlock(e,a),at:n});if(!i)return null;for(;r>o.text.length;){var s=L.next(e,{at:n,match:we.isText});if(!s||!ee.isDescendant(s[1],i[1]))return null;r-=o.text.length,o=s[0],n=s[1]}return{path:n,offset:r}}function dte(e,t){var n=IF(e,t.anchor);if(!n)return null;if(ue.isCollapsed(t))return{anchor:n,focus:n};var r=IF(e,t.focus);return r?{anchor:n,focus:r}:null}function RF(e,t,n){var r=fs.get(e),o=r==null?void 0:r.find(d=>{var{path:f}=d;return ee.equals(f,t.path)});if(!o||t.offset<=o.diff.start)return At.transform(t,n,{affinity:"backward"});var{diff:i}=o;if(t.offset<=i.start+i.text.length){var s={path:t.path,offset:i.start},a=At.transform(s,n,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-i.start}:null}var c={path:t.path,offset:t.offset-i.text.length+i.end-i.start},u=At.transform(c,n,{affinity:"backward"});return u?n.type==="split_node"&&ee.equals(n.path,t.path)&&c.offset<n.position&&i.start<n.position?u:{path:u.path,offset:u.offset+i.text.length-i.end+i.start}:null}function fte(e,t,n){var r=RF(e,t.anchor,n);if(!r)return null;if(ue.isCollapsed(t))return{anchor:r,focus:r};var o=RF(e,t.focus,n);return o?{anchor:r,focus:o}:null}function $9t(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!ee.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!ee.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!ee.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:ee.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:ee.transform(n,t,{affinity:"forward"})};case"merge_node":return ee.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:ee.transform(n,t)}:{diff:r,id:o,path:ee.transform(n,t)}}var i=ee.transform(n,t);return i?{diff:r,path:i,id:o}:null}function hte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function wC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hte(Object(n),!0).forEach(function(r){JA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var M9t=25,F9t=200,L9t=function(){},B9t=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function N9t(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,i=null,s=null,a=null,c=0,u=!1,d=()=>{var O=Pd.get(t);if(Pd.delete(t),O){var{selection:P}=t,D=dte(t,O);D&&(!P||!ue.equals(D,P))&&se.select(t,D)}},f=()=>{var O=Od.get(t);if(Od.delete(t),!!O){if(O.at){var P=At.isPoint(O.at)?IF(t,O.at):dte(t,O.at);if(!P)return;var D=L.range(t,P);(!t.selection||!ue.equals(t.selection,D))&&se.select(t,P)}O.run()}},p=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),!_()&&!w()){d();return}o||(o=!0,setTimeout(()=>o=!1)),w()&&(o="action");var O=t.selection&&L.rangeRef(t,t.selection,{affinity:"forward"});hu.set(t,t.marks),L9t("flush",Od.get(t),fs.get(t));for(var P=_(),D;D=(R=fs.get(t))===null||R===void 0?void 0:R[0];){var R,$,H=pl.get(t);H!==void 0&&(pl.delete(t),t.marks=H),H&&u===!1&&(u=null);var F=R9t(D);(!t.selection||!ue.equals(t.selection,F))&&se.select(t,F),D.diff.text?L.insertText(t,D.diff.text):L.deleteFragment(t),fs.set(t,($=fs.get(t))===null||$===void 0?void 0:$.filter(z=>{var{id:q}=z;return q!==D.id})),O9t(t,D)||(P=!1,Od.delete(t),hu.delete(t),o="action",Pd.delete(t),n.cancel(),r.cancel(),O==null||O.unref())}var V=O==null?void 0:O.unref();if(V&&!Pd.get(t)&&(!t.selection||!ue.equals(V,t.selection))&&se.select(t,V),w()){f();return}P&&n(),n.flush(),r.flush(),d();var W=hu.get(t);hu.delete(t),W!==void 0&&(t.marks=W,t.onChange())},m=O=>{i&&clearTimeout(i),i=setTimeout(()=>{rp.set(t,!1),p()},M9t)},v=O=>{rp.set(t,!0),i&&(clearTimeout(i),i=null)},g=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,D=TF.get(t);if(D){if(_()||P){D.style.display="none";return}D.style.removeProperty("display")}},b=(O,P)=>{var D,R=(D=fs.get(t))!==null&&D!==void 0?D:[];fs.set(t,R);var $=Ce.leaf(t,O),H=R.findIndex(W=>ee.equals(W.path,O));if(H<0){var F=sOe($.text,P);F&&R.push({path:O,diff:P,id:c++}),g();return}var V=I9t($.text,R[H].diff,P);if(!V){R.splice(H,1),g();return}R[H]=wC(wC({},R[H]),{},{diff:V})},x=function(P){var{at:D}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,Pd.delete(t),n.cancel(),r.cancel(),w()&&p(),Od.set(t,{at:D,run:P}),a=setTimeout(p)},y=O=>{var P;s&&(clearTimeout(s),s=null);var{inputType:D}=O,R=null,$=O.dataTransfer||O.data||void 0;u!==!1&&D!=="insertText"&&D!=="insertCompositionText"&&(u=!1);var[H]=O.getTargetRanges();H&&(R=he.toSlateRange(t,H,{exactMatch:!1,suppressThrow:!0}));var F=he.getWindow(t),V=F.getSelection();if(!R&&V&&(H=V,R=he.toSlateRange(t,V,{exactMatch:!1,suppressThrow:!0})),R=(P=R)!==null&&P!==void 0?P:t.selection,!!R){var W=!0;if(D.startsWith("delete")){if(ue.isExpanded(R)){var[z,q]=ue.edges(R),oe=Ce.leaf(t,z.path);if(oe.text.length===z.offset&&q.offset===0){var N=L.next(t,{at:z.path,match:we.isText});N&&ee.equals(N[1],q.path)&&(R={anchor:q,focus:q})}}var G=D.endsWith("Backward")?"backward":"forward",[Y,K]=ue.edges(R),[X,Q]=L.leaf(t,Y.path),Z={text:"",start:Y.offset,end:K.offset},re=fs.get(t),ae=re==null?void 0:re.find(Ne=>ee.equals(Ne.path,Q)),me=ae?[ae.diff,Z]:[Z],ce=iOe(X.text,...me);if(ce.length===0&&(W=!1),ue.isExpanded(R)){if(W&&ee.equals(R.anchor.path,R.focus.path)){var Te={path:R.anchor.path,offset:Y.offset},je=L.range(t,Te,Te);return E(je),b(R.anchor.path,{text:"",end:K.offset,start:Y.offset})}return x(()=>L.deleteFragment(t,{direction:G}),{at:R})}}switch(D){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return x(()=>L.deleteFragment(t),{at:R});case"deleteContent":case"deleteContentForward":{var{anchor:be}=R;if(W&&ue.isCollapsed(R)){var ge=Ce.leaf(t,be.path);if(be.offset<ge.text.length)return b(be.path,{text:"",start:be.offset,end:be.offset+1})}return x(()=>L.deleteForward(t),{at:R})}case"deleteContentBackward":{var De,{anchor:Re}=R,at=DF(H)?H.isCollapsed:!!((De=H)!==null&&De!==void 0&&De.collapsed);return W&&at&&ue.isCollapsed(R)&&Re.offset>0?b(Re.path,{text:"",start:Re.offset-1,end:Re.offset}):x(()=>L.deleteBackward(t),{at:R})}case"deleteEntireSoftLine":return x(()=>{L.deleteBackward(t,{unit:"line"}),L.deleteForward(t,{unit:"line"})},{at:R});case"deleteHardLineBackward":return x(()=>L.deleteBackward(t,{unit:"block"}),{at:R});case"deleteSoftLineBackward":return x(()=>L.deleteBackward(t,{unit:"line"}),{at:R});case"deleteHardLineForward":return x(()=>L.deleteForward(t,{unit:"block"}),{at:R});case"deleteSoftLineForward":return x(()=>L.deleteForward(t,{unit:"line"}),{at:R});case"deleteWordBackward":return x(()=>L.deleteBackward(t,{unit:"word"}),{at:R});case"deleteWordForward":return x(()=>L.deleteForward(t,{unit:"word"}),{at:R});case"insertLineBreak":return x(()=>L.insertSoftBreak(t),{at:R});case"insertParagraph":return x(()=>L.insertBreak(t),{at:R});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(B9t($))return x(()=>he.insertData(t,$),{at:R});var rt=$??"";if(pl.get(t)&&(rt=rt.replace("\uFEFF","")),D==="insertText"&&/.*\n.*\n$/.test(rt)&&(rt=rt.slice(0,-1)),rt.includes(`
`))return x(()=>{var Ne=rt.split(`
`);Ne.forEach((pt,Oe)=>{pt&&L.insertText(t,pt),Oe!==Ne.length-1&&L.insertSoftBreak(t)})},{at:R});if(ee.equals(R.anchor.path,R.focus.path)){var[Mt,un]=ue.edges(R),xe={start:Mt.offset,end:un.offset,text:rt};if(rt&&u&&D==="insertCompositionText"){var qe=u.start+u.text.search(/\S|$/),Ze=xe.start+xe.text.search(/\S|$/);Ze===qe+1&&xe.end===u.start+u.text.length?(xe.start-=1,u=null,T()):u=!1}else D==="insertText"?u===null?u=xe:u&&ue.isCollapsed(R)&&u.end+u.text.length===Mt.offset?u=wC(wC({},u),{},{text:u.text+rt}):u=!1:u=!1;if(W){b(Mt.path,xe);return}}return x(()=>L.insertText(t,rt),{at:R})}}}},w=()=>!!Od.get(t),_=()=>{var O;return!!((O=fs.get(t))!==null&&O!==void 0&&O.length)},C=()=>w()||_(),S=()=>o,E=O=>{Pd.set(t,O),s&&(clearTimeout(s),s=null);var{selection:P}=t;if(O){var D=!P||!ee.equals(P.anchor.path,O.anchor.path),R=!P||!ee.equals(P.anchor.path.slice(0,-1),O.anchor.path.slice(0,-1));(D&&u||R)&&(u=!1),(D||_())&&(s=setTimeout(p,F9t))}},j=()=>{(w()||!_())&&p()},k=O=>{_()||(g(!0),setTimeout(g))},T=()=>{w()||(a=setTimeout(p))},A=O=>{if(!(_()||w())&&O.some(D=>EN(t,D,O))){var P;(P=eOe.get(t))===null||P===void 0||P()}};return{flush:p,scheduleFlush:T,hasPendingDiffs:_,hasPendingAction:w,hasPendingChanges:C,isFlushing:S,handleUserSelect:E,handleCompositionEnd:m,handleCompositionStart:v,handleDOMBeforeInput:y,handleKeyDown:k,handleDomMutations:A,handleInput:j}}function z9t(){var e=h.useRef(!1);return h.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var yx=ZS?h.useLayoutEffect:h.useEffect;function V9t(e,t,n){var[r]=h.useState(()=>new MutationObserver(t));yx(()=>{r.takeRecords()}),h.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var H9t=["node"];function pte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function U9t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pte(Object(n),!0).forEach(function(r){JA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var W9t={subtree:!0,childList:!0,characterData:!0},Y9t=vs?e=>{var{node:t}=e,n=qv(e,H9t);if(!vs)return null;var r=Fc(),o=z9t(),[i]=h.useState(()=>N9t(U9t({editor:r},n)));return V9t(t,i.handleDomMutations,W9t),CN.set(r,i.scheduleFlush),o&&i.flush(),i}:()=>null,q9t=["anchor","focus"],G9t=["anchor","focus"],K9t=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),aOe=(e,t)=>{var n=qv(e,q9t),r=qv(t,G9t);return e[Gv]===t[Gv]&&K9t(n,r)},Z9t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!ue.equals(r,o)||!aOe(r,o))return!1}return!0},X9t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!aOe(r,o))return!1}return!0},Q9t=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,i=Fc(),s=he.findPath(i,o),a=ee.parent(s),c=n[tOe]===!0;return i.isVoid(r)?ne.createElement(KI,{length:Ce.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!i.isInline(r)&&L.string(i,a)===""?ne.createElement(KI,{isLineBreak:!0,isMarkPlaceholder:c}):n.text===""?ne.createElement(KI,{isMarkPlaceholder:c}):t&&n.text.slice(-1)===`
`?ne.createElement(mte,{isTrailing:!0,text:n.text}):ne.createElement(mte,{text:n.text})},mte=e=>{var{text:t,isTrailing:n=!1}=e,r=h.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[i]=h.useState(o);return yx(()=>{var s=o();r.current&&r.current.textContent!==s&&(r.current.textContent=s)}),ne.createElement(J9t,{ref:r},i)},J9t=h.memo(h.forwardRef((e,t)=>ne.createElement("span",{"data-slate-string":!0,ref:t},e.children))),KI=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),ne.createElement("span",Object.assign({},o),!vs||!n?"\uFEFF":null,n?ne.createElement("br",null):null)};function e7t(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function gte(e){e.current&&(clearTimeout(e.current),e.current=null)}var t7t=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:i,renderLeaf:s=y=>ne.createElement(r7t,Object.assign({},y))}=e,a=Fc(),c=h.useRef(null),u=h.useRef(null),[d,f]=h.useState(!1),p=h.useRef(null),m=h.useCallback(y=>{if(e7t(c,y==null),y==null){var w;TF.delete(a),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(TF.set(a,y),!c.current){var _=window.ResizeObserver||t5e;c.current=new _(()=>{var C;(C=t.onPlaceholderResize)===null||C===void 0||C.call(t,y)})}c.current.observe(y),u.current=y}},[u,t,a]),v=ne.createElement(Q9t,{isLast:n,leaf:t,parent:o,text:r}),g=t[Gv];if(h.useEffect(()=>(g?p.current||(p.current=setTimeout(()=>{f(!0),p.current=null},300)):(gte(p),f(!1)),()=>gte(p)),[g,f]),g&&d){var b={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:ky?"inherit":void 0},contentEditable:!1,ref:m}};v=ne.createElement(ne.Fragment,null,i(b),v)}var x={"data-slate-leaf":!0};return s({attributes:x,children:v,leaf:t,text:r})},n7t=ne.memo(t7t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&we.equals(t.leaf,e.leaf)&&t.leaf[Gv]===e.leaf[Gv]),r7t=e=>{var{attributes:t,children:n}=e;return ne.createElement("span",Object.assign({},t),n)},o7t=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:i,text:s}=e,a=Fc(),c=h.useRef(null),u=we.decorations(s,t),d=he.findKey(a,s),f=[],p=0;p<u.length;p++){var m=u[p];f.push(ne.createElement(n7t,{isLast:n&&p===u.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:o,leaf:m,text:s,parent:r,renderLeaf:i}))}var v=h.useCallback(g=>{var b=eO.get(a);g?(b==null||b.set(d,g),Sp.set(s,g),vx.set(g,s)):(b==null||b.delete(d),Sp.delete(s),c.current&&vx.delete(c.current)),c.current=g},[c,a,d,s]);return ne.createElement("span",{"data-slate-node":"text",ref:v},f)},lOe=ne.memo(o7t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&X9t(t.decorations,e.decorations)),i7t=e=>{var{decorations:t,element:n,renderElement:r=y=>ne.createElement(a7t,Object.assign({},y)),renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=Fc(),c=c7t(),u=a.isInline(n),d=he.findKey(a,n),f=h.useCallback(y=>{var w=eO.get(a);y?(w==null||w.set(d,y),Sp.set(n,y),vx.set(y,n)):(w==null||w.delete(d),Sp.delete(n))},[a,d,n]),p=fOe({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}),m={"data-slate-node":"element",ref:f};if(u&&(m["data-slate-inline"]=!0),!u&&L.hasInlines(a,n)){var v=Ce.string(n),g=NAe(v);g==="rtl"&&(m.dir=g)}if(L.isVoid(a,n)){m["data-slate-void"]=!0,!c&&u&&(m.contentEditable=!1);var b=u?"span":"div",[[x]]=Ce.texts(n);p=ne.createElement(b,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},ne.createElement(lOe,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:x})),wN.set(x,0),_N.set(x,n)}return r({attributes:m,children:p,element:n})},s7t=ne.memo(i7t,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&Z9t(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&ue.equals(e.selection,t.selection))),a7t=e=>{var{attributes:t,children:n,element:r}=e,o=Fc(),i=o.isInline(r)?"span":"div";return ne.createElement(i,Object.assign({},t,{style:{position:"relative"}}),n)},cOe=h.createContext(()=>[]),l7t=()=>h.useContext(cOe),uOe=h.createContext(!1),dOe=()=>h.useContext(uOe),fOe=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=l7t(),c=Fc(),u=he.findPath(c,n),d=[],f=Ie.isElement(n)&&!c.isInline(n)&&L.hasInlines(c,n),p=0;p<n.children.length;p++){var m=u.concat(p),v=n.children[p],g=he.findKey(c,v),b=L.range(c,m),x=s&&ue.intersection(b,s),y=a([v,m]);for(var w of t){var _=ue.intersection(w,b);_&&y.push(_)}Ie.isElement(v)?d.push(ne.createElement(uOe.Provider,{key:"provider-".concat(g.id),value:!!x},ne.createElement(s7t,{decorations:y,element:v,key:g.id,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:x}))):d.push(ne.createElement(lOe,{decorations:y,key:g.id,isLast:f&&p===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:i,text:v})),wN.set(v,p),_N.set(v,n)}return d},hOe=h.createContext(!1),c7t=()=>h.useContext(hOe),pOe=h.createContext(null),tO=()=>{var e=h.useContext(pOe);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function u7t(){var e=Fc(),t=h.useRef(!1),n=h.useRef(0),r=h.useCallback(()=>{if(!t.current){t.current=!0;var o=he.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return h.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var d7t=3,f7t={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},h7t={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},p7t={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ur=e=>{var t=f7t[e],n=h7t[e],r=p7t[e],o=t&&GI(t),i=n&&GI(n),s=r&&GI(r);return a=>!!(o&&o(a)||ute&&i&&i(a)||!ute&&s&&s(a))},xr={isBold:ur("bold"),isCompose:ur("compose"),isMoveBackward:ur("moveBackward"),isMoveForward:ur("moveForward"),isDeleteBackward:ur("deleteBackward"),isDeleteForward:ur("deleteForward"),isDeleteLineBackward:ur("deleteLineBackward"),isDeleteLineForward:ur("deleteLineForward"),isDeleteWordBackward:ur("deleteWordBackward"),isDeleteWordForward:ur("deleteWordForward"),isExtendBackward:ur("extendBackward"),isExtendForward:ur("extendForward"),isExtendLineBackward:ur("extendLineBackward"),isExtendLineForward:ur("extendLineForward"),isItalic:ur("italic"),isMoveLineBackward:ur("moveLineBackward"),isMoveLineForward:ur("moveLineForward"),isMoveWordBackward:ur("moveWordBackward"),isMoveWordForward:ur("moveWordForward"),isRedo:ur("redo"),isSoftBreak:ur("insertSoftBreak"),isSplitBlock:ur("splitBlock"),isTransposeCharacter:ur("transposeCharacter"),isUndo:ur("undo")},m7t=(e,t)=>{var n=[],r=()=>{n=[]},o=s=>{if(t.current){var a=s.filter(c=>EN(e,c,s));n.push(...a)}};function i(){n.length>0&&(n.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(a=>{s.target.insertBefore(a,s.nextSibling)}),s.addedNodes.forEach(a=>{s.target.removeChild(a)}))}),r())}return{registerMutations:o,restoreDOM:i,clear:r}},g7t={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class mOe extends h.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,g7t)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=m7t(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var i;(i=this.manager)===null||i===void 0||i.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}mOe.contextType=xN;var v7t=vs?mOe:e=>{var{children:t}=e;return ne.createElement(ne.Fragment,null,t)},y7t=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],b7t=["text"];function vte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Km(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vte(Object(n),!0).forEach(function(r){JA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var x7t=e=>ne.createElement(ne.Fragment,null,fOe(e)),w7t=e=>{var t=h.useCallback(N=>ne.createElement(_7t,Object.assign({},N)),[]),{autoFocus:n,decorate:r=C7t,onDOMBeforeInput:o,placeholder:i,readOnly:s=!1,renderElement:a,renderLeaf:c,renderPlaceholder:u=t,scrollSelectionIntoView:d=S7t,style:f={},as:p="div",disableDefaultStyles:m=!1}=e,v=qv(e,y7t),g=tO(),[b,x]=h.useState(!1),y=h.useRef(null),w=h.useRef([]),[_,C]=h.useState(),{onUserInput:S,receivedUserInput:E}=u7t(),[,j]=h.useReducer(N=>N+1,0);eOe.set(g,j),OF.set(g,s);var k=h.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);h.useEffect(()=>{y.current&&n&&y.current.focus()},[n]);var T=h.useRef(),A=h.useMemo(()=>bA(()=>{var N=T.current;if((vs||!he.isComposing(g))&&(!k.isUpdatingSelection||N!=null&&N.isFlushing())&&!k.isDraggingInternally){var G=he.findDocumentOrShadowRoot(g),{activeElement:Y}=G,K=he.toDOMNode(g,g),X=G.getSelection();if(Y===K?(k.latestElement=Y,np.set(g,!0)):np.delete(g),!X)return se.deselect(g);var{anchorNode:Q,focusNode:Z}=X,re=he.hasEditableTarget(g,Q)||he.isTargetInsideNonReadonlyVoid(g,Q),ae=he.hasEditableTarget(g,Z)||he.isTargetInsideNonReadonlyVoid(g,Z);if(re&&ae){var me=he.toSlateRange(g,X,{exactMatch:!1,suppressThrow:!0});me&&(!he.isComposing(g)&&!(N!=null&&N.hasPendingChanges())&&!(N!=null&&N.isFlushing())?se.select(g,me):N==null||N.handleUserSelect(me))}s&&(!re||!ae)&&se.deselect(g)}},100),[g,s,k]),O=h.useMemo(()=>rw(A,0),[A]);T.current=Y9t({node:y,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:O}),yx(()=>{var N,G,Y;y.current&&(Y=SN(y.current))?(JAe.set(g,Y),XS.set(g,y.current),Sp.set(g,y.current),vx.set(y.current,g)):Sp.delete(g);var{selection:K}=g,X=he.findDocumentOrShadowRoot(g),Q=X.getSelection();if(!(!Q||!he.isFocused(g)||(N=T.current)!==null&&N!==void 0&&N.hasPendingAction())){var Z=ce=>{var Te=Q.type!=="None";if(!(!K&&!Te)){var je=Q.focusNode,be;if(mb&&Q.rangeCount>1){var ge=Q.getRangeAt(0),De=Q.getRangeAt(Q.rangeCount-1);ge.startContainer===je?be=De.endContainer:be=ge.startContainer}else be=Q.anchorNode;var Re=XS.get(g),at=!1;if(Re.contains(be)&&Re.contains(je)&&(at=!0),Te&&at&&K&&!ce){var rt=he.toSlateRange(g,Q,{exactMatch:!0,suppressThrow:!0});if(rt&&ue.equals(rt,K)){var Mt,un;if(!k.hasMarkPlaceholder||(Mt=be)!==null&&Mt!==void 0&&(un=Mt.parentElement)!==null&&un!==void 0&&un.hasAttribute("data-slate-mark-placeholder"))return}}if(K&&!he.hasRange(g,K)){g.selection=he.toSlateRange(g,Q,{exactMatch:!1,suppressThrow:!0});return}k.isUpdatingSelection=!0;var xe=K&&he.toDOMRange(g,K);return xe?(he.isComposing(g)&&!vs?Q.collapseToEnd():ue.isBackward(K)?Q.setBaseAndExtent(xe.endContainer,xe.endOffset,xe.startContainer,xe.startOffset):Q.setBaseAndExtent(xe.startContainer,xe.startOffset,xe.endContainer,xe.endOffset),d(g,xe)):Q.removeAllRanges(),xe}};Q.rangeCount<=1&&Z();var re=((G=T.current)===null||G===void 0?void 0:G.isFlushing())==="action";if(!vs||!re){setTimeout(()=>{k.isUpdatingSelection=!1});return}var ae=null,me=requestAnimationFrame(()=>{if(re){var ce=Te=>{try{var je=he.toDOMNode(g,g);je.focus(),Z(Te)}catch{}};ce(),ae=setTimeout(()=>{ce(!0),k.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(me),ae&&clearTimeout(ae)}}});var P=h.useCallback(N=>{if(S(),!s&&he.hasEditableTarget(g,N.target)&&!E7t(N,o)){var G;if(T.current)return T.current.handleDOMBeforeInput(N);O.flush(),A.flush();var{selection:Y}=g,{inputType:K}=N,X=N.dataTransfer||N.data||void 0,Q=K==="insertCompositionText"||K==="deleteCompositionText";if(Q&&he.isComposing(g))return;var Z=!1;if(K==="insertText"&&Y&&ue.isCollapsed(Y)&&N.data&&N.data.length===1&&/[a-z ]/i.test(N.data)&&Y.anchor.offset!==0){var re,ae;Z=!0,g.marks&&(Z=!1);var{anchor:me}=Y,[ce,Te]=he.toDOMPoint(g,me),je=(re=ce.parentElement)===null||re===void 0?void 0:re.closest("a"),be=he.getWindow(g);if(Z&&je&&he.hasDOMNode(g,je)){var ge,De=be==null?void 0:be.document.createTreeWalker(je,NodeFilter.SHOW_TEXT).lastChild();De===ce&&((ge=De.textContent)===null||ge===void 0?void 0:ge.length)===Te&&(Z=!1)}if(Z&&ce.parentElement&&(be==null||(ae=be.getComputedStyle(ce.parentElement))===null||ae===void 0?void 0:ae.whiteSpace)==="pre"){var Re=L.above(g,{at:me.path,match:qe=>Ie.isElement(qe)&&L.isBlock(g,qe)});Re&&Ce.string(Re[0]).includes("	")&&(Z=!1)}}if(!K.startsWith("delete")||K.startsWith("deleteBy")){var[at]=N.getTargetRanges();if(at){var rt=he.toSlateRange(g,at,{exactMatch:!1,suppressThrow:!1});if(!Y||!ue.equals(Y,rt)){Z=!1;var Mt=!Q&&g.selection&&L.rangeRef(g,g.selection);se.select(g,rt),Mt&&gb.set(g,Mt)}}}if(Q)return;if(Z||N.preventDefault(),Y&&ue.isExpanded(Y)&&K.startsWith("delete")){var un=K.endsWith("Backward")?"backward":"forward";L.deleteFragment(g,{direction:un});return}switch(K){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{L.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{L.deleteForward(g);break}case"deleteContentBackward":{L.deleteBackward(g);break}case"deleteEntireSoftLine":{L.deleteBackward(g,{unit:"line"}),L.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{L.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{L.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{L.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{L.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{L.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{L.deleteForward(g,{unit:"word"});break}case"insertLineBreak":L.insertSoftBreak(g);break;case"insertParagraph":{L.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{K==="insertFromComposition"&&he.isComposing(g)&&(x(!1),rp.set(g,!1)),(X==null?void 0:X.constructor.name)==="DataTransfer"?he.insertData(g,X):typeof X=="string"&&(Z?w.current.push(()=>L.insertText(g,X)):L.insertText(g,X));break}}var xe=(G=gb.get(g))===null||G===void 0?void 0:G.unref();gb.delete(g),xe&&(!g.selection||!ue.equals(g.selection,xe))&&se.select(g,xe)}},[g,A,S,o,s,O]),D=h.useCallback(N=>{N==null?(A.cancel(),O.cancel(),XS.delete(g),Sp.delete(g),y.current&&vd&&y.current.removeEventListener("beforeinput",P)):vd&&N.addEventListener("beforeinput",P),y.current=N},[A,O,g,P]);yx(()=>{var N=he.getWindow(g);return N.document.addEventListener("selectionchange",O),()=>{N.document.removeEventListener("selectionchange",O)}},[O]);var R=r([g,[]]),$=i&&g.children.length===1&&Array.from(Ce.texts(g)).length===1&&Ce.string(g)===""&&!b,H=h.useCallback(N=>{if(N&&$){var G;C((G=N.getBoundingClientRect())===null||G===void 0?void 0:G.height)}else C(void 0)},[$]);if($){var F=L.start(g,[]);R.push({[Gv]:!0,placeholder:i,onPlaceholderResize:H,anchor:F,focus:F})}var{marks:V}=g;if(k.hasMarkPlaceholder=!1,g.selection&&ue.isCollapsed(g.selection)&&V){var{anchor:W}=g.selection,z=Ce.leaf(g,W.path),q=qv(z,b7t);if(!we.equals(z,V,{loose:!0})){k.hasMarkPlaceholder=!0;var oe=Object.fromEntries(Object.keys(q).map(N=>[N,null]));R.push(Km(Km(Km({[tOe]:!0},oe),V),{},{anchor:W,focus:W}))}}return h.useEffect(()=>{setTimeout(()=>{var{selection:N}=g;if(N){var{anchor:G}=N,Y=Ce.leaf(g,G.path);if(V&&!we.equals(Y,V,{loose:!0})){pl.set(g,V);return}}pl.delete(g)})}),ne.createElement(hOe.Provider,{value:s},ne.createElement(cOe.Provider,{value:r},ne.createElement(v7t,{node:y,receivedUserInput:E},ne.createElement(p,Object.assign({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},v,{spellCheck:vd||!ZS?v.spellCheck:!1,autoCorrect:vd||!ZS?v.autoCorrect:"false",autoCapitalize:vd||!ZS?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:D,style:Km(Km({},m?{}:Km({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},_?{minHeight:_}:{})),f),onBeforeInput:h.useCallback(N=>{if(!vd&&!s&&!Li(N,v.onBeforeInput)&&he.hasSelectableTarget(g,N.target)&&(N.preventDefault(),!he.isComposing(g))){var G=N.data;L.insertText(g,G)}},[v.onBeforeInput,g,s]),onInput:h.useCallback(N=>{if(!Li(N,v.onInput)){if(T.current){T.current.handleInput();return}for(var G of w.current)G();w.current=[]}},[v.onInput]),onBlur:h.useCallback(N=>{if(!(s||k.isUpdatingSelection||!he.hasSelectableTarget(g,N.target)||Li(N,v.onBlur))){var G=he.findDocumentOrShadowRoot(g);if(k.latestElement!==G.activeElement){var{relatedTarget:Y}=N,K=he.toDOMNode(g,g);if(Y!==K&&!(Ea(Y)&&Y.hasAttribute("data-slate-spacer"))){if(Y!=null&&Ff(Y)&&he.hasDOMNode(g,Y)){var X=he.toSlateNode(g,Y);if(Ie.isElement(X)&&!g.isVoid(X))return}if(ky){var Q=G.getSelection();Q==null||Q.removeAllRanges()}np.delete(g)}}}},[s,k.isUpdatingSelection,k.latestElement,g,v.onBlur]),onClick:h.useCallback(N=>{if(he.hasTarget(g,N.target)&&!Li(N,v.onClick)&&Ff(N.target)){var G=he.toSlateNode(g,N.target),Y=he.findPath(g,G);if(!L.hasPath(g,Y)||Ce.get(g,Y)!==G)return;if(N.detail===d7t&&Y.length>=1){var K=Y;if(!(Ie.isElement(G)&&L.isBlock(g,G))){var X,Q=L.above(g,{match:je=>Ie.isElement(je)&&L.isBlock(g,je),at:Y});K=(X=Q==null?void 0:Q[1])!==null&&X!==void 0?X:Y.slice(0,1)}var Z=L.range(g,K);se.select(g,Z);return}if(s)return;var re=L.start(g,Y),ae=L.end(g,Y),me=L.void(g,{at:re}),ce=L.void(g,{at:ae});if(me&&ce&&ee.equals(me[1],ce[1])){var Te=L.range(g,re);se.select(g,Te)}}},[g,v.onClick,s]),onCompositionEnd:h.useCallback(N=>{if(he.hasSelectableTarget(g,N.target)){var G;if(he.isComposing(g)&&(x(!1),rp.set(g,!1)),(G=T.current)===null||G===void 0||G.handleCompositionEnd(N),Li(N,v.onCompositionEnd)||vs)return;if(!ky&&!v9t&&!h9t&&!b9t&&!y9t&&N.data){var Y=pl.get(g);pl.delete(g),Y!==void 0&&(hu.set(g,g.marks),g.marks=Y),L.insertText(g,N.data);var K=hu.get(g);hu.delete(g),K!==void 0&&(g.marks=K)}}},[v.onCompositionEnd,g]),onCompositionUpdate:h.useCallback(N=>{he.hasSelectableTarget(g,N.target)&&!Li(N,v.onCompositionUpdate)&&(he.isComposing(g)||(x(!0),rp.set(g,!0)))},[v.onCompositionUpdate,g]),onCompositionStart:h.useCallback(N=>{if(he.hasSelectableTarget(g,N.target)){var G;if((G=T.current)===null||G===void 0||G.handleCompositionStart(N),Li(N,v.onCompositionStart)||vs)return;x(!0);var{selection:Y}=g;if(Y){if(ue.isExpanded(Y)){L.deleteFragment(g);return}var K=L.above(g,{match:Z=>Ie.isElement(Z)&&L.isInline(g,Z),mode:"highest"});if(K){var[,X]=K;if(L.isEnd(g,Y.anchor,X)){var Q=L.after(g,X);se.setSelection(g,{anchor:Q,focus:Q})}}}}},[v.onCompositionStart,g]),onCopy:h.useCallback(N=>{he.hasSelectableTarget(g,N.target)&&!Li(N,v.onCopy)&&!yte(N)&&(N.preventDefault(),he.setFragmentData(g,N.clipboardData,"copy"))},[v.onCopy,g]),onCut:h.useCallback(N=>{if(!s&&he.hasSelectableTarget(g,N.target)&&!Li(N,v.onCut)&&!yte(N)){N.preventDefault(),he.setFragmentData(g,N.clipboardData,"cut");var{selection:G}=g;if(G)if(ue.isExpanded(G))L.deleteFragment(g);else{var Y=Ce.parent(g,G.anchor.path);L.isVoid(g,Y)&&se.delete(g)}}},[s,g,v.onCut]),onDragOver:h.useCallback(N=>{if(he.hasTarget(g,N.target)&&!Li(N,v.onDragOver)){var G=he.toSlateNode(g,N.target);Ie.isElement(G)&&L.isVoid(g,G)&&N.preventDefault()}},[v.onDragOver,g]),onDragStart:h.useCallback(N=>{if(!s&&he.hasTarget(g,N.target)&&!Li(N,v.onDragStart)){var G=he.toSlateNode(g,N.target),Y=he.findPath(g,G),K=Ie.isElement(G)&&L.isVoid(g,G)||L.void(g,{at:Y,voids:!0});if(K){var X=L.range(g,Y);se.select(g,X)}k.isDraggingInternally=!0,he.setFragmentData(g,N.dataTransfer,"drag")}},[s,g,v.onDragStart,k]),onDrop:h.useCallback(N=>{if(!s&&he.hasTarget(g,N.target)&&!Li(N,v.onDrop)){N.preventDefault();var G=g.selection,Y=he.findEventRange(g,N),K=N.dataTransfer;se.select(g,Y),k.isDraggingInternally&&G&&!ue.equals(G,Y)&&!L.void(g,{at:Y,voids:!0})&&se.delete(g,{at:G}),he.insertData(g,K),he.isFocused(g)||he.focus(g)}k.isDraggingInternally=!1},[s,g,v.onDrop,k]),onDragEnd:h.useCallback(N=>{!s&&k.isDraggingInternally&&v.onDragEnd&&he.hasTarget(g,N.target)&&v.onDragEnd(N),k.isDraggingInternally=!1},[s,k,v,g]),onFocus:h.useCallback(N=>{if(!s&&!k.isUpdatingSelection&&he.hasEditableTarget(g,N.target)&&!Li(N,v.onFocus)){var G=he.toDOMNode(g,g),Y=he.findDocumentOrShadowRoot(g);if(k.latestElement=Y.activeElement,mb&&N.target!==G){G.focus();return}np.set(g,!0)}},[s,k,g,v.onFocus]),onKeyDown:h.useCallback(N=>{if(!s&&he.hasEditableTarget(g,N.target)){var G;(G=T.current)===null||G===void 0||G.handleKeyDown(N);var{nativeEvent:Y}=N;if(he.isComposing(g)&&Y.isComposing===!1&&(rp.set(g,!1),x(!1)),Li(N,v.onKeyDown)||he.isComposing(g))return;var{selection:K}=g,X=g.children[K!==null?K.focus.path[0]:0],Q=NAe(Ce.string(X))==="rtl";if(xr.isRedo(Y)){N.preventDefault();var Z=g;typeof Z.redo=="function"&&Z.redo();return}if(xr.isUndo(Y)){N.preventDefault();var re=g;typeof re.undo=="function"&&re.undo();return}if(xr.isMoveLineBackward(Y)){N.preventDefault(),se.move(g,{unit:"line",reverse:!0});return}if(xr.isMoveLineForward(Y)){N.preventDefault(),se.move(g,{unit:"line"});return}if(xr.isExtendLineBackward(Y)){N.preventDefault(),se.move(g,{unit:"line",edge:"focus",reverse:!0});return}if(xr.isExtendLineForward(Y)){N.preventDefault(),se.move(g,{unit:"line",edge:"focus"});return}if(xr.isMoveBackward(Y)){N.preventDefault(),K&&ue.isCollapsed(K)?se.move(g,{reverse:!Q}):se.collapse(g,{edge:"start"});return}if(xr.isMoveForward(Y)){N.preventDefault(),K&&ue.isCollapsed(K)?se.move(g,{reverse:Q}):se.collapse(g,{edge:"end"});return}if(xr.isMoveWordBackward(Y)){N.preventDefault(),K&&ue.isExpanded(K)&&se.collapse(g,{edge:"focus"}),se.move(g,{unit:"word",reverse:!Q});return}if(xr.isMoveWordForward(Y)){N.preventDefault(),K&&ue.isExpanded(K)&&se.collapse(g,{edge:"focus"}),se.move(g,{unit:"word",reverse:Q});return}if(vd){if((QAe||ky)&&K&&(xr.isDeleteBackward(Y)||xr.isDeleteForward(Y))&&ue.isCollapsed(K)){var ae=Ce.parent(g,K.anchor.path);if(Ie.isElement(ae)&&L.isVoid(g,ae)&&(L.isInline(g,ae)||L.isBlock(g,ae))){N.preventDefault(),L.deleteBackward(g,{unit:"block"});return}}}else{if(xr.isBold(Y)||xr.isItalic(Y)||xr.isTransposeCharacter(Y)){N.preventDefault();return}if(xr.isSoftBreak(Y)){N.preventDefault(),L.insertSoftBreak(g);return}if(xr.isSplitBlock(Y)){N.preventDefault(),L.insertBreak(g);return}if(xr.isDeleteBackward(Y)){N.preventDefault(),K&&ue.isExpanded(K)?L.deleteFragment(g,{direction:"backward"}):L.deleteBackward(g);return}if(xr.isDeleteForward(Y)){N.preventDefault(),K&&ue.isExpanded(K)?L.deleteFragment(g,{direction:"forward"}):L.deleteForward(g);return}if(xr.isDeleteLineBackward(Y)){N.preventDefault(),K&&ue.isExpanded(K)?L.deleteFragment(g,{direction:"backward"}):L.deleteBackward(g,{unit:"line"});return}if(xr.isDeleteLineForward(Y)){N.preventDefault(),K&&ue.isExpanded(K)?L.deleteFragment(g,{direction:"forward"}):L.deleteForward(g,{unit:"line"});return}if(xr.isDeleteWordBackward(Y)){N.preventDefault(),K&&ue.isExpanded(K)?L.deleteFragment(g,{direction:"backward"}):L.deleteBackward(g,{unit:"word"});return}if(xr.isDeleteWordForward(Y)){N.preventDefault(),K&&ue.isExpanded(K)?L.deleteFragment(g,{direction:"forward"}):L.deleteForward(g,{unit:"word"});return}}}},[s,g,v.onKeyDown]),onPaste:h.useCallback(N=>{!s&&he.hasEditableTarget(g,N.target)&&!Li(N,v.onPaste)&&(!vd||_9t(N.nativeEvent)||ky)&&(N.preventDefault(),he.insertData(g,N.clipboardData))},[s,g,v.onPaste])}),ne.createElement(x7t,{decorations:R,node:g,renderElement:a,renderPlaceholder:u,renderLeaf:c,selection:g.selection})))))},_7t=e=>{var{attributes:t,children:n}=e;return ne.createElement("span",Object.assign({},t),n,vs&&ne.createElement("br",null))},C7t=()=>[],S7t=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&ue.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),R6t(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Li=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},yte=e=>Ff(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),E7t=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},k7t=h.createContext(!1),j7t=h.createContext({});function T7t(e){var t=h.useRef([]).current,n=h.useRef({editor:e}).current,r=h.useCallback(i=>{n.editor=i,t.forEach(s=>s(i))},[t,n]),o=h.useMemo(()=>({getSlate:()=>n.editor,addEventListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var A7t=["editor","children","onChange","initialValue"],O7t=e=>{var{editor:t,children:n,onChange:r,initialValue:o}=e,i=qv(e,A7t),s=h.useRef(!1),[a,c]=ne.useState(()=>{if(!Ce.isNodeList(o))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Po.stringify(o)));if(!L.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(Po.stringify(t)));return t.children=o,Object.assign(t,i),{v:0,editor:t}}),{selectorContext:u,onChange:d}=T7t(t),f=h.useCallback(()=>{r&&r(t.children),c(v=>({v:v.v+1,editor:t})),d(t)},[t,d,r]);h.useEffect(()=>(PF.set(t,f),()=>{PF.set(t,()=>{}),s.current=!0}),[t,f]);var[p,m]=h.useState(he.isFocused(t));return h.useEffect(()=>{m(he.isFocused(t))},[t]),yx(()=>{var v=()=>m(he.isFocused(t));return XAe>=17?(document.addEventListener("focusin",v),document.addEventListener("focusout",v),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",v)}):(document.addEventListener("focus",v,!0),document.addEventListener("blur",v,!0),()=>{document.removeEventListener("focus",v,!0),document.removeEventListener("blur",v,!0)})},[]),ne.createElement(j7t.Provider,{value:u},ne.createElement(pOe.Provider,{value:a},ne.createElement(xN.Provider,{value:a.editor},ne.createElement(k7t.Provider,{value:p},n))))},bte=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},xte=(e,t,n)=>{var r=he.toDOMRange(e,t).getBoundingClientRect(),o=he.toDOMRange(e,n).getBoundingClientRect();return bte(r,o)&&bte(o,r)},P7t=(e,t)=>{var n=L.range(e,ue.end(t)),r=Array.from(L.positions(e,{at:t})),o=0,i=r.length,s=Math.floor(i/2);if(xte(e,L.range(e,r[o]),n))return L.range(e,r[o],n);if(r.length<2)return L.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)xte(e,L.range(e,r[s]),n)?i=s:o=s,s=Math.floor((o+i)/2);return L.range(e,r[i],n)};function wte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function _te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wte(Object(n),!0).forEach(function(r){JA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var D7t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:i,deleteBackward:s,addMark:a,removeMark:c}=r;return eO.set(r,new WeakMap),r.addMark=(u,d)=>{var f,p;(f=CN.get(r))===null||f===void 0||f(),!pl.get(r)&&(p=fs.get(r))!==null&&p!==void 0&&p.length&&pl.set(r,null),hu.delete(r),a(u,d)},r.removeMark=u=>{var d;!pl.get(r)&&(d=fs.get(r))!==null&&d!==void 0&&d.length&&pl.set(r,null),hu.delete(r),c(u)},r.deleteBackward=u=>{if(u!=="line")return s(u);if(r.selection&&ue.isCollapsed(r.selection)){var d=L.above(r,{match:v=>Ie.isElement(v)&&L.isBlock(r,v),at:r.selection});if(d){var[,f]=d,p=L.range(r,f,r.selection.anchor),m=P7t(r,p);ue.isCollapsed(m)||se.delete(r,{at:m})}}},r.apply=u=>{var d=[],f=fs.get(r);if(f!=null&&f.length){var p=f.map(S=>$9t(S,u)).filter(Boolean);fs.set(r,p)}var m=Pd.get(r);m&&Pd.set(r,fte(r,m,u));var v=Od.get(r);if(v!=null&&v.at){var g=At.isPoint(v==null?void 0:v.at)?RF(r,v.at,u):fte(r,v.at,u);Od.set(r,g?_te(_te({},v),{},{at:g}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(..._C(r,u.path));break}case"set_selection":{var b;(b=gb.get(r))===null||b===void 0||b.unref(),gb.delete(r);break}case"insert_node":case"remove_node":{d.push(..._C(r,ee.parent(u.path)));break}case"merge_node":{var x=ee.previous(u.path);d.push(..._C(r,x));break}case"move_node":{var y=ee.common(ee.parent(u.path),ee.parent(u.newPath));d.push(..._C(r,y));break}}o(u);for(var[w,_]of d){var[C]=L.node(r,w);AF.set(C,_)}},r.setFragmentData=u=>{var{selection:d}=r;if(d){var[f,p]=ue.edges(d),m=L.void(r,{at:f.path}),v=L.void(r,{at:p.path});if(!(ue.isCollapsed(d)&&!m)){var g=he.toDOMRange(r,d),b=g.cloneContents(),x=b.childNodes[0];if(b.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(x=T)}),v){var[y]=v,w=g.cloneRange(),_=he.toDOMNode(r,y);w.setEndAfter(_),b=w.cloneContents()}if(m&&(x=b.querySelector("[data-slate-spacer]")),Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var A=T.getAttribute("data-slate-zero-width")==="n";T.textContent=A?`
`:""}),nOe(x)){var C=x.ownerDocument.createElement("span");C.style.whiteSpace="pre",C.appendChild(x),b.appendChild(C),x=C}var S=r.getFragment(),E=JSON.stringify(S),j=window.btoa(encodeURIComponent(E));x.setAttribute("data-slate-fragment",j),u.setData("application/".concat(n),j);var k=b.ownerDocument.createElement("div");return k.appendChild(b),k.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(k),u.setData("text/html",k.innerHTML),u.setData("text/plain",oOe(k)),b.ownerDocument.body.removeChild(k),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var d=u.getData("application/".concat(n))||j9t(u);if(d){var f=decodeURIComponent(window.atob(d)),p=JSON.parse(f);return r.insertFragment(p),!0}return!1},r.insertTextData=u=>{var d=u.getData("text/plain");if(d){var f=d.split(/\r\n|\r|\n/),p=!1;for(var m of f)p&&se.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=u=>{var d=XAe<18?Rqe.unstable_batchedUpdates:f=>f();d(()=>{var f=PF.get(r);f&&f(),i(u)})},r},_C=(e,t)=>{var n=[];for(var[r,o]of L.levels(e,{at:t})){var i=he.findKey(e,r);n.push([o,i])}return n},I7t=Ebe,Cte=1/0,R7t=17976931348623157e292;function $7t(e){if(!e)return e===0?e:0;if(e=I7t(e),e===Cte||e===-Cte){var t=e<0?-1:1;return t*R7t}return e===e?e:0}var gOe=$7t,M7t=gOe;function F7t(e){var t=M7t(e),n=t%1;return t===t?n?t-n:t:0}var L7t=F7t,B7t=C5e,N7t=Xf,z7t=L7t,V7t=Math.max;function H7t(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:z7t(n);return o<0&&(o=V7t(r+o,0)),B7t(e,N7t(t),o)}var vOe=H7t;const kN=Pe(vOe);var U7t=uB,W7t=4;function Y7t(e){return U7t(e,W7t)}var q7t=Y7t;const yOe=Pe(q7t);function QS(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Gk(e){return QS(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>QS(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>QS(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function ZI(e){return QS(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function zu(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Ste(e){return zu(e)?e.jsonType==="object":!1}function G7t(e){return zu(e)?e.jsonType==="array":!1}function K7t(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function Z7t(e){return zu(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function X7t(e){if(!zu(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(FF),n=e.fields.find($F),r=e.fields.find(MF);return FF(t)&&$F(n)&&MF(r)}function $F(e){return!zu(e)||e.name!=="style"?!1:zu(e.type)&&e.type.jsonType==="string"}function MF(e){return!zu(e)||e.name!=="listItem"?!1:zu(e.type)&&e.type.jsonType==="string"}function FF(e){return!zu(e)||e.name!=="children"||!G7t(e.type)?!1:e.type.of.some(Z7t)}function jN(e){return e.type?jN(e.type):e.name==="block"}function Q7t(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find(jN);if(!X7t(r))throw new Error("'block' type is not defined in this schema (required).");const o=(n=(t=r.fields.find(FF))==null?void 0:t.type)==null?void 0:n.of;if(!o)throw new Error("No `of` declaration found for blocks `children` field");const i=o.find(c=>c.name==="span");if(!i)throw new Error("No `span` type found in `block` schema type `children` definition");const s=o.filter(c=>c.name!=="span"&&Ste(c)),a=e.of.filter(c=>c.name!==r.name&&Ste(c));return{styles:J7t(r),decorators:tBt(i),annotations:eBt(i),lists:nBt(r),types:{block:e,span:i,inlineObjects:s,blockObjects:a}}}function J7t(e){const t=e.fields.find($F);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=bOe(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function eBt(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function tBt(e){return e.decorators}function nBt(e){const t=e.fields.find(MF);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=bOe(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function bOe(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>K7t(n)?n:{title:n,value:n}):[]}const rBt=Object.prototype.toString;function xOe(e){switch(rBt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function oBt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return sN(t),t}const wOe=[];for(let e=0;e<256;++e)wOe[e]=(e+256).toString(16).substring(1);function LF(e){return oBt(e).reduce((t,n)=>t+wOe[n],"").slice(0,e)}const iBt=["pre","textarea","code"],Kv="normal",ms=Object.freeze({_type:"block",markDefs:[],style:Kv}),JS=Object.freeze({_type:"span",marks:[]}),Kk={p:ms,blockquote:{...ms,style:"blockquote"}},_Oe={span:{object:"text"}},Zk={ol:{object:null},ul:{object:null}},Xk={h1:{...ms,style:"h1"},h2:{...ms,style:"h2"},h3:{...ms,style:"h3"},h4:{...ms,style:"h4"},h5:{...ms,style:"h5"},h6:{...ms,style:"h6"}},sBt={br:{...ms,style:Kv}},COe={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},SOe={li:{...ms,style:Kv,level:1,listItem:"bullet"}},aBt={...Kk,..._Oe,...Zk,...SOe,...Xk,...sBt};so(Object.values(aBt).filter(e=>"style"in e).map(e=>e.style));so(Object.values(COe));const qp={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var lBt=(e,t)=>{function n(r){var o,i;if(r.nodeType===qp.BOOLEAN_TYPE&&!iBt.includes(((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())||""))r.textContent=((i=r.textContent)==null?void 0:i.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let s=0;s<r.childNodes.length;s++)n(r.childNodes[s])}return n(t.body),t};const cBt=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var uBt=(e,t)=>{var n,r,o;const i=t.evaluate("/html/body/text()",t,null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--){const c=i.snapshotItem(a),u=c.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(u)),(n=c.parentNode)==null||n.replaceChild(d,c)}else(r=c.parentNode)==null||r.removeChild(c)}const s=t.evaluate(cBt.join("|"),t,null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=s.snapshotLength-1;a>=0;a--){const c=s.snapshotItem(a);c&&((o=c.parentNode)==null||o.removeChild(c))}return t};const dBt=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,fBt=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],hBt=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],pBt={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function mBt(e){return dBt.test(e)}var gBt=(e,t)=>{var n;if(!mBt(e))return t;const r=t.evaluate(fBt.join("|"),t,i=>i==="o"?"urn:schemas-microsoft-com:office:office":null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=r.snapshotLength-1;i>=0;i--){const s=r.snapshotItem(i);s!=null&&s.parentNode&&s.parentNode.removeChild(s)}const o=t.evaluate(hBt.join("|"),t,null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i),a=pBt[s.className],c=new Text(s.textContent||"");if(!a)continue;const u=document.createElement(a[0]);let d=u,f=u;a.slice(1).forEach(p=>{f=document.createElement(p),d.appendChild(f),d=f}),f.appendChild(c),(n=s==null?void 0:s.parentNode)==null||n.replaceChild(u,s)}return t},vBt=(e,t)=>{var n;const r=t.evaluate('//b[contains(@id, "docs-internal-guid")]',t,null,qp.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(r){const o=t.evaluate("//*",t,null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i);s==null||s.setAttribute("data-is-google-docs","true")}return(n=t.body.firstElementChild)==null||n.replaceWith(...Array.from(r.childNodes)),t}return t},yBt=[lBt,gBt,vBt,uBt];function bBt(e){const t=Q7t(e),n=t.styles.map(s=>s.value||s.title),r=t.decorators.map(s=>s.value||s.title),o=t.annotations.map(s=>s.value||s.title||""),i=t.lists.map(s=>s.value||s.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:o,enabledListTypes:i}}function wr(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function xBt(e,t){const n=t(wBt(e));return yBt.forEach(r=>{r(e,n)}),n}function wBt(e){return e.trim()}function _Bt(){if(xOe(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function CBt(e){let t=0;const n=[],r=o=>{const i=[];o.forEach(s=>{t===0&&n.push(s),Gk(s)&&(t>0&&(i.push(s),n.push(s)),t++,r(s.children)),s._type==="__block"&&(i.push(s),n.push(s.block))}),i.forEach(s=>{o.splice(o.indexOf(s),1)}),t--};return r(e),n}function SBt(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function EBt(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function Ete(e){return[" "," "].includes(e)}function kBt(e){return e.forEach(t=>{Gk(t)&&t.children.forEach((n,r)=>{if(!uv(n))return;const o=SBt(t,r),i=EBt(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(n.text.length-1))&&o&&uv(o)&&/\s/.test(o.text.substring(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(0,1))&&i&&uv(i)&&/\s/.test(i.text.substring(i.text.length-1))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),i&&zt(i.marks,n.marks)&&Ete(n.text)?(i.text+=" ",t.children.splice(r,1)):o&&zt(o.marks,n.marks)&&Ete(n.text)&&(o.text=" ".concat(o.text),t.children.splice(r,1))})}),e}function jBt(e){return e.reduce((t,n,r,o)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const i=t[t.length-1];if(r>0&&!Gk(o[r-1])&&Gk(i))return i.children.push(n),t;const s={...ms,children:[n]};return t.push(s),t},[])}function TBt(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function uv(e){return e._type==="span"}function kte(e){return e._type==="block"}function jte(e){return e._type==="__decorator"}function Tte(e){return e._type==="__annotation"}function eh(e){return e.nodeType===1}function ABt(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function OBt(e,t){return[{deserialize(n){if(wr(n)==="pre")return;const o=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&wr(n.parentNode)!=="body";if(n.nodeName==="#text"&&o)return{...JS,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(wr(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...JS,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(wr(n)!=="blockquote")return;const o={...Kk,...Xk};delete o.blockquote;const i=[];return n.childNodes.forEach((s,a)=>{if(s.nodeType===1&&Object.keys(o).includes(s.localName.toLowerCase())){if(!n.ownerDocument)return;const c=n.ownerDocument.createElement("span");c.appendChild(n.ownerDocument.createTextNode("\r")),s.childNodes.forEach(u=>{c.appendChild(u.cloneNode(!0))}),a!==n.childNodes.length&&c.appendChild(n.ownerDocument.createTextNode("\r")),i.push(c)}else i.push(s)}),{_type:"block",style:"blockquote",markDefs:[],children:r(i)}}},{deserialize(n,r){const o={...Kk,...Xk},i=wr(n);let s=i?o[i]:void 0;if(s)return n.parentNode&&wr(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(s.style)||(s=ms),{...s,children:r(n.childNodes)})}},{deserialize(n,r){const o=wr(n);if(!(!o||!(o in _Oe)))return r(n.childNodes)}},{deserialize(n,r){if(wr(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const o=wr(n);if(!(!o||!(o in Zk)))return r(n.childNodes)}},{deserialize(n){if(wr(n)==="br")return{...JS,text:`
`}}},{deserialize(n,r,o){const i=wr(n),s=i?SOe[i]:void 0,a=wr(n.parentNode)||"";if(!s||!n.parentNode||!Zk[a])return;const c=ABt(a,t.enabledListTypes);return c?(s.listItem=c,{...s,children:r(n.childNodes)}):o({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const o=COe[wr(n)||""];if(!(!o||!t.enabledSpanDecorators.includes(o)))return{_type:"__decorator",name:o,children:r(n.childNodes)}}},{deserialize(n,r){if(wr(n)!="a")return;const o=t.enabledBlockAnnotations.includes("link"),i=eh(n)&&n.getAttribute("href");if(!i)return r(n.childNodes);let s;return o?(s={_key:LF(12),_type:"link",href:i},{_type:"__annotation",markDef:s,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(" (".concat(i,")")))&&r(n.childNodes)}}]}const EOe=Object.keys(Zk);function PBt(e){const t=eh(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function DBt(e){const t=eh(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")}function Ate(e){return eh(e)&&!!e.getAttribute("data-is-google-docs")}function IBt(e){const t=wr(e.parentNode);if(!(t&&!EOe.includes(t)))return wr(e.parentNode)==="ul"?"bullet":"number"}function RBt(e){let t=0;if(wr(e)==="li"){let n=e.parentNode;for(;n;){const r=wr(n);r&&EOe.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const $Bt={...Kk,...Xk};function MBt(e,t){const n=wr(e.firstChild),r=n&&$Bt[n];return!r||!t.includes(r.style)?Kv:r.style}function FBt(e,t){return[{deserialize(n){if(eh(n)&&wr(n)==="span"&&Ate(n)){const r={...JS,marks:[],text:n.textContent};return DBt(n)&&r.marks.push("strong"),PBt(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var o;if(wr(n)==="li"&&Ate(n))return{...ms,listItem:IBt(n),level:RBt(n),style:MBt(n,t.enabledBlockStyles),children:r(((o=n.firstChild)==null?void 0:o.childNodes)||[])}}}]}function LBt(e){const t=eh(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function BBt(e){const t=eh(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function NBt(e){return eh(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function zBt(){return[{deserialize(e,t){if(wr(e)==="p"&&NBt(e))return{...ms,listItem:LBt(e),level:BBt(e),style:Kv,children:t(e.childNodes)}}}]}function VBt(e,t){return[...zBt(),...FBt(e,t),...OBt(e,t)]}class HBt{constructor(t){var n=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._markDefs=[],this.deserialize=a=>{this._markDefs=[];const{parseHtml:c}=this,u=c(a),d=Array.from(u.childNodes),f=kBt(CBt(jBt(this.deserializeElements(d))));this._markDefs.length>0&&f.filter(m=>m._type==="block").forEach(m=>{m.markDefs=m.markDefs||[],m.markDefs=m.markDefs.concat(this._markDefs.filter(v=>En(m.children.map(g=>g.marks||[])).includes(v._key)))});const p=this.blockContentType.of.find(jN);return p?f.map(m=>(m._type==="block"&&(m._type=p.name),m)):f},this.deserializeElements=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=[];return a.forEach(u=>{c=c.concat(n.deserializeElement(u))}),c},this.deserializeElement=a=>{var c,u;const d=m=>{if(TBt(m))return this.deserializeElements(Array.from(m));if(Array.isArray(m))return this.deserializeElements(m);if(m)return this.deserializeElement(m)},f=m=>({_type:"__block",block:m});let p;for(let m=0;m<this.rules.length;m++){const v=this.rules[m];if(!v.deserialize)continue;const g=v.deserialize(a,d,f),b=xOe(g);if(b!=="array"&&b!=="object"&&b!=="null"&&b!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(p,'".'));if(g!==void 0){{if(g===null)throw new Error("Deserializer rule returned `null`");Array.isArray(g)?p=g:jte(g)?p=this.deserializeDecorator(g):Tte(g)?p=this.deserializeAnnotation(g):p=g}if(g&&!Array.isArray(g)&&kte(g)&&"listItem"in g){let x=(c=a.parentNode)==null?void 0:c.parentNode;for(;x&&wr(x)==="li";)x=(u=x.parentNode)==null?void 0:u.parentNode,g.level=g.level?g.level+1:1}g&&!Array.isArray(g)&&kte(g)&&g.style==="blockquote"&&g.children.forEach((x,y)=>{uv(x)&&x.text==="\r"&&(x.text=`

`,(y===0||y===g.children.length-1)&&g.children.splice(y,1))});break}}return p||d(a.childNodes)||[]},this.deserializeDecorator=a=>{const{name:c}=a,u=d=>{if(jte(d))return this.deserializeDecorator(d);if(uv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])},this.deserializeAnnotation=a=>{const{markDef:c}=a;this._markDefs.push(c);const u=d=>{if(Tte(d))return this.deserializeAnnotation(d);if(uv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c._key);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])};const{rules:o=[]}=r;if(!t)throw new Error("Parameter 'blockContentType' is required");const i=VBt(t,bBt(t));this.rules=[...o,...i];const s=r.parseHtml||_Bt();this.blockContentType=t,this.parseHtml=a=>xBt(a,s).body}}function bx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:LF(12)};const n={_key:LF(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:"".concat(n._key).concat(0),text:"",marks:[]}],n;const o=[],i=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((s,a)=>{const c=s[s.length-1];return c&&ZI(a)&&ZI(c)&&zt(c.marks,a.marks)?(r&&r===a&&a.text===""&&n.children.length>1||(c.text+=a.text),s):(s.push(a),s)},[]).map((s,a)=>{if(!s)throw new Error("missing child");return s._key="".concat(n._key).concat(a),ZI(s)&&(s.marks?i&&(s.marks=s.marks.filter(c=>{var u;const d=i.includes(c),f=(u=n.markDefs)==null?void 0:u.some(p=>p._key===c);return d||f})):s.marks=[],o.push(...s.marks)),s}),n.markDefs=(n.markDefs||[]).filter(s=>o.includes(s._key)),n}function Ote(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new HBt(t,n).deserialize(e).map(o=>bx(o))}function Pte(e){return hB.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}function Dte(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const o=(t=e.of)==null?void 0:t.find(kOe);if(!o)throw new Error("Block type is not defined in this schema (required)");const i=(n=o.fields)==null?void 0:n.find(d=>d.name==="children");if(!i)throw new Error("Children field for block type found in schema (required)");const s=i.type.of;if(!s)throw new Error("Valid types for block children not found in schema (required)");const a=s.find(d=>d.name==="span");if(!a)throw new Error("Span type not found in schema (required)");const c=s.filter(d=>d.name!=="span")||[],u=((r=e.of)==null?void 0:r.filter(d=>d.name!==o.name))||[];return{styles:UBt(o),decorators:WBt(a),lists:YBt(o),block:o,span:a,portableText:e,inlineObjects:c,blockObjects:u,annotations:a.annotations}}function UBt(e){var t,n,r;const o=(t=e.fields)==null?void 0:t.find(s=>s.name==="style");if(!o)throw new Error("A field with name 'style' is not defined in the block type (required).");const i=((n=o.type.options)==null?void 0:n.list)&&((r=o.type.options.list)==null?void 0:r.filter(s=>s.value));if(!i||i.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return i}function WBt(e){return e.decorators}function YBt(e){var t,n;const r=(t=e.fields)==null?void 0:t.find(i=>i.name==="listItem");if(!r)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const o=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(i=>i.value);if(!o)throw new Error("The list field need at least to be an empty array");return o}function kOe(e){return e.type?kOe(e.type):e.name==="block"?e:null}const BF="sanity-pte:";xs(BF);function Br(e){const t="".concat(BF).concat(e);return xs&&xs.enabled(t)?xs(t):xs(BF)}const Qk=()=>Hw(12),jOe=h.createContext(Qk),qBt=()=>{const e=h.useContext(jOe);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},Jk=new WeakMap,eE=new WeakMap,CC=new WeakMap,V1=new WeakMap,H1=new WeakMap,U1=new WeakMap,NF=new WeakMap,va=new WeakMap,ej=new WeakMap;function GBt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function zF(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Uw(e){const[t,n]=e;return[t,n]}function Ite(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function TN(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function nO(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function TOe(e){let t=e.map(f=>Uw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===xt?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Hn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[Sn,i]),t[r[o-1]+1][0]=Hn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=rO(t)),t=AOe(t),s=1;s<t.length;){if(t[s-1][0]===Sn&&t[s][0]===Hn){const f=t[s-1][1],p=t[s][1],m=Ite(f,p),v=Ite(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[xt,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[xt,f.substring(0,v)]),t[s-1][0]=Hn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=Sn,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const Rte=/[^a-zA-Z0-9]/,$te=/\s/,Mte=/[\r\n]/,KBt=/\n\r?\n$/,ZBt=/^\r?\n\r?\n/;function AOe(e){const t=e.map(o=>Uw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(Rte),u=a.match(Rte),d=c&&s.match($te),f=u&&a.match($te),p=d&&s.match(Mte),m=f&&a.match(Mte),v=p&&o.match(KBt),g=m&&i.match(ZBt);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===xt&&t[r+1][0]===xt){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=nO(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function rO(e){let t=e.map(u=>Uw(u));t.push([xt,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Hn:o++,s+=t[n][1],n++;break;case Sn:r++,i+=t[n][1],n++;break;case xt:r+o>1?(r!==0&&o!==0&&(a=TN(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===xt?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[xt,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=nO(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[Sn,i]),n++),s.length&&(t.splice(n,0,[Hn,s]),n++),n++):n!==0&&t[n-1][0]===xt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===xt&&t[n+1][0]===xt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=rO(t)),t}function XBt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function OOe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Uw(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===xt?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===Sn?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&XBt(c,u,d,f)===3)&&(n.splice(o[i-1],0,[Sn,s]),n[o[i-1]+1][0]=Hn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=rO(n)),n}function QBt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let b=0;b<a;b++)c[b]=-1,u[b]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let b=0;b<i&&!(Date.now()>n);b++){for(let x=-b+p;x<=b-m;x+=2){const y=s+x;let w;x===-b||x!==b&&c[y-1]<c[y+1]?w=c[y+1]:w=c[y-1]+1;let _=w-x;for(;w<r&&_<o&&e.charAt(w)===t.charAt(_);)w++,_++;if(c[y]=w,w>r)m+=2;else if(_>o)p+=2;else if(f){const C=s+d-x;if(C>=0&&C<a&&u[C]!==-1){const S=r-u[C];if(w>=S)return Fte(e,t,w,_,n)}}}for(let x=-b+v;x<=b-g;x+=2){const y=s+x;let w;x===-b||x!==b&&u[y-1]<u[y+1]?w=u[y+1]:w=u[y-1]+1;let _=w-x;for(;w<r&&_<o&&e.charAt(r-w-1)===t.charAt(o-_-1);)w++,_++;if(u[y]=w,w>r)g+=2;else if(_>o)v+=2;else if(!f){const C=s+d-x;if(C>=0&&C<a&&c[C]!==-1){const S=c[C],E=s+S-C;if(w=r-w,S>=w)return Fte(e,t,S,E,n)}}}}return[[Sn,e],[Hn,t]]}function Fte(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=Gp(i,s,{checkLines:!1,deadline:o}),d=Gp(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function JBt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=Lte(r,o,Math.ceil(r.length/4)),s=Lte(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function Lte(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=TN(e.slice(n),t.slice(o)),f=nO(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function eNt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function tNt(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function nNt(e,t,n){let r=e,o=t;const i=tNt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Gp(r,o,{checkLines:!1,deadline:n.deadline});eNt(a,s),a=TOe(a),a.push([xt,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Hn:d++,p+=a[c][1];break;case Sn:u++,f+=a[c][1];break;case xt:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=Gp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function rNt(e,t,n){let r;if(!e)return[[Hn,t]];if(!t)return[[Sn,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Hn,o.substring(0,s)],[xt,i],[Hn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=Sn,r[2][0]=Sn),r;if(i.length===1)return[[Sn,e],[Hn,t]];const a=JBt(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Gp(c,d,n),v=Gp(u,f,n);return m.concat([[xt,p]],v)}return n.checkLines&&e.length>100&&t.length>100?nNt(e,t,n):QBt(e,t,n.deadline)}const Sn=-1,Hn=1,xt=0;function AN(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Gp(e,t,iNt(n||{}));return aNt(r),r}function Gp(e,t,n){let r=e,o=t;if(r===o)return r?[[xt,r]]:[];let i=TN(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=nO(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=rNt(r,o,n);return s&&c.unshift([xt,s]),a&&c.push([xt,a]),c=rO(c),c}function oNt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function iNt(e){return{checkLines:!0,deadline:oNt(e.timeout||1),...e}}function SC(e,t,n){return n===1?e+t:t+e}function EC(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function sNt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function Bte(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Hn){o===null&&(o=s);continue}else if(u===Sn){i===null&&(i=s);continue}else if(u===xt){if(o===null&&i===null){const[f,p]=EC(e[t][1],n);e[t][1]=f,e[s][1]=SC(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&sNt(e,o,i,n)){const[u,d]=EC(e[o][1],r),[f]=EC(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=SC(e[t][1],d,n);return}const[a,c]=EC(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Hn,c]),i!==null&&i>=s&&i++):e[o][1]=SC(e[o][1],c,r),i===null?e.splice(s,0,[Sn,c]):e[i][1]=SC(e[i][1],c,r)}function aNt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];GBt(i)&&n===xt&&Bte(e,t,1),zF(o)&&n===xt&&Bte(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const lNt={threshold:.5,distance:1e3};function cNt(e){return{...lNt,...e}}const uNt=32;function dNt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>uNt)throw new Error("Pattern too long for this browser.");const o=cNt(r),i=fNt(t);function s(v,g){const b=v/t.length,x=Math.abs(n-g);return o.distance?b+x/o.distance:x?1:b}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const b=Math.min(n+f,e.length)+t.length,x=new Array(b+2);x[b+1]=(1<<v)-1;for(let y=b;y>=g;y--){const w=i[e.charAt(y-1)];if(v===0?x[y]=(x[y+1]<<1|1)&w:x[y]=(x[y+1]<<1|1)&w|((m[y+1]|m[y])<<1|1)|m[y+1],x[y]&u){const _=s(v,y-1);if(_<=a)if(a=_,c=y-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function fNt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function XI(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return dNt(e,t,r)}function tj(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function ON(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Hn&&(t[n]=e[n][1]);return t.join("")}function POe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Sn&&(t[n]=e[n][1]);return t.join("")}function qd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=DOe(r)}return t}function hNt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=DOe(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>Uw(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function DOe(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Dd=32,PN=4,pNt={margin:4};function QI(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...pNt,...e}}function mNt(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=AN(e,t,{checkLines:!0});return r.length>2&&(r=TOe(r),r=OOe(r)),JI(e,r,QI(n))}if(e&&Array.isArray(e)&&typeof t>"u")return JI(ON(e),e,QI(n));if(typeof e=="string"&&t&&Array.isArray(t))return JI(e,t,QI(n));throw new Error("Unknown call format to make()")}function JI(e,t,n){if(t.length===0)return[];const r=[];let o=tj(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,b=g.length,x=qd(g);switch(!i&&v!==xt&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case Hn:o.diffs[i++]=m,o.length2+=b,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case Sn:o.length1+=b,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+b);break;case xt:b<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=b,o.length2+=b,o.utf8Length1+=x,o.utf8Length2+=x):b>=2*n.margin&&i&&(Nte(o,d,n),r.push(o),o=tj(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==Hn&&(s+=b,c+=x),v!==Sn&&(a+=b,u+=x)}return i&&(Nte(o,d,n),r.push(o)),r}function Nte(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Dd-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&zF(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([xt,s]);const a=s.length,c=qd(s);let u=e.start2+e.length1+o;u<t.length&&zF(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([xt,d]);const f=d.length,p=qd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function gNt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Hn:n+=s.length;break;case Sn:r+=s.length;break;case xt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function zte(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Hn&&(n+=e[s][1].length),e[s][0]!==Sn&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===Sn?i:i+(t-o)}function vNt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PN;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==xt)i.unshift([xt,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==xt)i.push([xt,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function yNt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PN;const n=Dd;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=tj(i-a.length,s-a.length);let u=!0;if(a!==""){const p=qd(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([xt,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=qd(m);if(p===Hn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===Sn&&c.diffs.length===1&&c.diffs[0][0]===xt&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=qd(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===xt?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=POe(c.diffs),a=a.substring(a.length-t);const d=ON(o.diffs).substring(0,t),f=qd(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===xt?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([xt,d])),u||e.splice(++r,0,c)}}}function IOe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=hNt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||PN,s=n.deleteThreshold||.4,a=vNt(o,i);r=a+r+a,yNt(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=ON(o[d].diffs);let m,v=-1;if(p.length>Dd?(m=XI(r,p.substring(0,Dd),f),m!==-1&&(v=XI(r,p.substring(p.length-Dd),f+p.length-Dd),(v===-1||m>=v)&&(m=-1))):m=XI(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Dd),p===g)r=r.substring(0,m)+POe(o[d].diffs)+r.substring(m+p.length);else{let b=AN(p,g,{checkLines:!1});if(p.length>Dd&&gNt(b)/p.length>s)u[d]=!1;else{b=AOe(b);let x=0,y=0;for(let w=0;w<o[d].diffs.length;w++){const _=o[d].diffs[w];_[0]!==xt&&(y=zte(b,x)),_[0]===Hn?r=r.substring(0,m+y)+_[1]+r.substring(m+y):_[0]===Sn&&(r=r.substring(0,m+y)+r.substring(m+zte(b,x+_[1].length))),_[0]!==Sn&&(x+=_[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function bNt(e){return e.map(xNt).join("")}function xNt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Hn:u="+";break;case Sn:u="-";break;case xt:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const wNt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function DN(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(wNt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=tj(kC(o[1]),kC(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=kC(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=kC(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=qd(c)-c.length;if(a==="-")i.diffs.push([Sn,c]),i.length1-=u;else if(a==="+")i.diffs.push([Hn,c]),i.length2-=u;else if(a===" ")i.diffs.push([xt,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function kC(e){return parseInt(e,10)}function ROe(e){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function Vte(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=mNt(e,t),o=bNt(r);return{type:"diffMatchPatch",path:n,value:o}}function ru(e,t){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:t,items:e}}function al(e){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function Hs(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const _Nt=[],$Oe="void-child";function dv(e,t){const n=t[e._key];return n&&zt(e,n)?n:(t[e._key]=e,e)}function bc(e,t){let{schemaTypes:n}=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e&&Array.isArray(e)?e.map(o=>{const{_type:i,_key:s,...a}=o,c=[{_key:$Oe,_type:"span",text:"",marks:[]}];if(o&&o._type===n.block.name){const d=o;let f=!1;const p=typeof d.style>"u",m=typeof d.markDefs>"u",v=d.children.map(g=>{const{_type:b,_key:x,...y}=g;return b!=="span"?(f=!0,dv({_type:b,_key:x,children:c,value:y,__inline:!0},r)):g});return!p&&!m&&!f&&Ie.isElement(o)?o:(p&&(a.style=n.styles[0].value),m&&(a.markDefs=_Nt),dv({_type:i,_key:s,...a,children:v},r))}return dv({_type:i,_key:s,children:c,value:a},r)}):[]}function hr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.map(r=>{const{_key:o,_type:i}=r;if(!o||!i)throw new Error("Not a valid block");if(i===t&&"children"in r&&Array.isArray(r.children)&&o){let a=!1;const c=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){a=!0;const{value:f,_key:p,_type:m,__inline:v,children:g,...b}=u;return dv({...b,...f,_key:p,_type:m},n)}return u});return a?dv({...r,children:c,_key:o,_type:i},n):r}const s="value"in r&&r.value;return dv({_key:o,_type:i,...typeof s=="object"?s:{}},n)})}function nj(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&Ie.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&we.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const Hh=Br("operationToPatches");Hh.enabled=!1;function CNt(e){const t=e.block.name;function n(d,f,p){Hh.enabled&&Hh("Operation",JSON.stringify(f,null,2));const m=d.isTextBlock(d.children[f.path[0]])&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&d.isTextSpan(m.children[f.path[1]])&&m.children[f.path[1]];if(!v)throw new Error("Could not find child");const g=[{_key:m._key},"children",{_key:v._key},"text"],b=p[f.path[0]],x=d.isTextBlock(b)&&b.children[f.path[1]],y=d.isTextSpan(x)?x.text:"",w=Vte(y,v.text,g);return w.value.length?[w]:[]}function r(d,f,p){const m=d&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&m.children[f.path[1]]||void 0,g=d.isTextSpan(v)?v:void 0;if(v&&!g)throw new Error("Expected span");if(!g)throw new Error("Could not find child");const b=[{_key:m._key},"children",{_key:g._key},"text"],x=p[f.path[0]],y=d.isTextBlock(x)&&x.children[f.path[1]],w=d.isTextSpan(y)&&y.text,_=Vte(w||"",g.text,b);return _.value?[_]:[]}function o(d,f){if(f.path.length===1){const p=d.children[f.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=Dje({...d.children[f.path[0]],...f.newProperties},Ije);return[al(hr([m],t)[0],[{_key:p._key}])]}else if(f.path.length===2){const p=d.children[f.path[0]];if(d.isTextBlock(p)){const m=p.children[f.path[1]];if(m){const v=p._key,g=m._key,b=[];return Object.keys(f.newProperties).forEach(x=>{const y=Fn(f.newProperties,x);b.push(al(y,[{_key:v},"children",{_key:g},x]))}),b}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(f.path)))}function i(d,f,p){const m=p[f.path[0]],v=d.isTextBlock(m);if(f.path.length===1){const g=f.path[0]===0?"before":"after",b=p[f.path[0]-1],x=f.path[0]===0?m==null?void 0:m._key:b==null?void 0:b._key;return x?[ru([hr([f.node],t)[0]],g,[{_key:x}])]:[ROe(p,[]),ru([hr([f.node],t)[0]],"before",[f.path[0]])]}else if(v&&f.path.length===2&&d.children[f.path[0]]){const g=m.children.length===0||!m.children[f.path[1]-1]?"before":"after",b={...f.node};!b._type&&we.isText(b)&&(b._type="span",b.marks=[]);const y=hr([{_key:"bogus",_type:t,children:[b]}],t)[0].children[0];return[ru([y],g,[{_key:m._key},"children",m.children.length<=1||!m.children[f.path[1]-1]?0:{_key:m.children[f.path[1]-1]._key}])]}return Hh("Something was inserted into a void block. Not producing editor patches."),[]}function s(d,f,p){const m=[],v=d.children[f.path[0]];if(!d.isTextBlock(v))throw new Error("Block with path ".concat(JSON.stringify(f.path[0])," is not a text block and can't be split"));if(f.path.length===1){const g=p[f.path[0]];if(d.isTextBlock(g)){const b=hr([d.children[f.path[0]+1]],t)[0];b&&(m.push(ru([b],"after",[{_key:v._key}])),g.children.slice(f.position).forEach(y=>{const w=[{_key:g._key},"children",{_key:y._key}];m.push(Hs(w))}))}return m}if(f.path.length===2){const g=v.children[f.path[1]];if(d.isTextSpan(g)){const b=hr([{...v,children:v.children.slice(f.path[1]+1,f.path[1]+2)}],t)[0].children;m.push(ru(b,"after",[{_key:v._key},"children",{_key:g._key}])),m.push(al(g.text,[{_key:v._key},"children",{_key:g._key},"text"]))}return m}return m}function a(d,f,p){const m=p[f.path[0]];if(f.path.length===1){if(m&&m._key)return[Hs([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&f.path.length===2){const v=d.isTextBlock(m)&&m.children&&m.children[f.path[1]];return v?[Hs([{_key:m._key},"children",{_key:v._key}])]:(Hh("Span not found in editor trying to remove node"),[])}else return Hh("Not creating patch inside object block"),[]}function c(d,f,p){const m=[],v=p[f.path[0]],g=d.children[f.path[0]];if(f.path.length===1)if(v!=null&&v._key){const b=hr([d.children[f.path[0]-1]],t)[0];m.push(al(b,[{_key:b._key}])),m.push(Hs([{_key:v._key}]))}else throw new Error("Target key not found!");else if(f.path.length===2&&d.isTextBlock(g)){const b=d.isTextBlock(v)&&v.children[f.path[1]]||void 0,x=g.children[f.path[1]-1];d.isTextSpan(x)&&(m.push(al(x.text,[{_key:v._key},"children",{_key:x._key},"text"])),b&&m.push(Hs([{_key:v._key},"children",{_key:b._key}])))}else Hh("Void nodes can't be merged, not creating any patches");return m}function u(d,f,p){const m=[],v=p[f.path[0]],g=p[f.newPath[0]];if(f.path.length===1){const b=f.path[0]>f.newPath[0]?"before":"after";m.push(Hs([{_key:v._key}])),m.push(ru([hr([v],t)[0]],b,[{_key:g._key}]))}else if(f.path.length===2&&d.isTextBlock(v)&&d.isTextBlock(g)){const b=v.children[f.path[1]],x=g.children[f.newPath[1]],y=f.newPath[1]===g.children.length?"after":"before",w=hr([v],t)[0].children[f.path[1]];m.push(Hs([{_key:v._key},"children",{_key:b._key}])),m.push(ru([w],y,[{_key:g._key},"children",{_key:x._key}]))}return m}return{insertNodePatch:i,insertTextPatch:n,mergeNodePatch:c,moveNodePatch:u,removeNodePatch:a,removeTextPatch:r,setNodePatch:o,splitNodePatch:s}}function Hte(e,t,n){const r=[e.path[0]];if(!t)return null;const o=t[r[0]];if(!o)return null;const i=[{_key:o._key}];if(o._type!==n.block.name)return i;let s;const a=e.path.slice(0,2),c=Array.isArray(o.children)&&o.children[a[1]];return c&&(s=["children",{_key:c._key}]),s?[...i,...s]:i}function Ute(e,t){if(!t)return[];const[n,r]=Array.from(L.nodes(t,{at:[],match:s=>Tr(e.path[0])&&s._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Ie.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const o=[e.path[2]],i=n.children.findIndex(s=>zt([{_key:s._key}],o));if(i>=0&&n.children[i]){const s=n.children[i];return Ie.isElement(s)&&t.isVoid(s)?r.concat(i).concat(0):r.concat(i)}return r}function op(e,t,n){if(!t)return null;let r=null,o=null;const i=t.anchor&&Hte(t.anchor,e,n);i&&t.anchor&&(r={path:i,offset:t.anchor.offset});const s=t.focus&&Hte(t.focus,e,n);return s&&t.focus&&(o={path:s,offset:t.focus.offset}),r&&o?{anchor:r,focus:o}:null}function tE(e,t){if(!e||!t)return null;const n={path:Ute(e.anchor,t),offset:e.anchor.offset},r={path:Ute(e.focus,t),offset:e.focus.offset};return n&&r?{anchor:n,focus:r}:null}function rj(e){if(e){const t=e&&window.getSelection();t==null||t.removeAllRanges()}}const W1=Br("API:editable");function SNt(e,t,n){return function(o){return e.setEditable({focus:()=>{if(!o.selection){const i={path:[0,0],offset:0};se.select(o,{focus:i,anchor:i}),o.onChange()}he.focus(o)},blur:()=>{he.blur(o)},toggleMark:i=>{o.pteToggleMark(i)},toggleList:i=>{o.pteToggleListItem(i)},toggleBlockStyle:i=>{o.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return o.pteIsMarkActive(i)}catch(s){return console.warn(s),!1}},marks:()=>({...L.marks(o)||{}}).marks||[],undo:()=>o.undo(),redo:()=>o.redo(),select:i=>{const s=tE(i,o);s?se.select(o,s):se.deselect(o),o.onChange()},focusBlock:()=>{if(o.selection){const i=Ce.descendant(o,o.selection.focus.path.slice(0,1));if(i)return hr([i],t.block.name,va.get(o))[0]}},focusChild:()=>{if(o.selection){const i=Ce.descendant(o,o.selection.focus.path.slice(0,1));if(i&&o.isTextBlock(i))return hr([i],t.block.name,va.get(o))[0].children[o.selection.focus.path[1]]}},insertChild:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const[c]=Array.from(L.nodes(o,{at:o.selection.focus.path.slice(0,1),match:v=>v._type===t.block.name}))[0]||[void 0];if(!c)throw new Error("No focused text block");if(i.name!==t.span.name&&!t.inlineObjects.some(v=>v.name===i.name))throw new Error("This type cannot be inserted as a child to a text block");const d=bc([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...s||{}}]}],e)[0].children[0],f=o.selection.focus.path.slice(0,2),p=d._type===t.span.name,m=Ce.get(o,f);return p&&m._type!==t.span.name&&(W1("Inserting span child next to inline object child, moving selection + 1"),o.move({distance:1,unit:"character"})),se.insertNodes(o,d,{select:!0,at:o.selection}),o.onChange(),((a=op(hr(o.children,t.block.name,va.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},insertBlock:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const c=bc([{_key:n(),_type:i.name,...s||{}}],e)[0];return L.insertNode(o,c),o.onChange(),((a=op(hr(o.children,t.block.name,va.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},hasBlockStyle:i=>{try{return o.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return o.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const s=tE({focus:{path:i,offset:0},anchor:{path:i,offset:0}},o);if(s){const[a,c]=L.node(o,s.focus.path.slice(0,1));if(a&&c&&typeof a._key=="string"){if(i.length===1&&s.focus.path.length===1)return[hr([a],t.block.name)[0],[{_key:a._key}]];const u=hr([a],t.block.name,va.get(o))[0];if(o.isTextBlock(u)){const d=u.children[s.focus.path[1]];if(d)return[d,[{_key:a._key},"children",{_key:d._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let s;try{const[a]=Array.from(L.nodes(o,{at:[],match:c=>c._key===i._key})||[])[0]||[void 0];s=he.toDOMNode(o,a)}catch{}return s},activeAnnotations:()=>{var i;if(!o.selection||o.selection.focus.path.length<2)return[];try{const s=[],a=L.nodes(o,{at:o.selection,match:c=>we.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0});for(const[c,u]of a){const[d]=L.node(o,u,{depth:1});o.isTextBlock(d)&&((i=d.markDefs)==null||i.forEach(f=>{we.isText(c)&&c.marks&&Array.isArray(c.marks)&&c.marks.includes(f._key)&&s.push(f)}))}return s}catch{return[]}},addAnnotation:(i,s)=>{const{selection:a}=o;if(a){const[c]=L.node(o,a.focus,{depth:1});if(Ie.isElement(c)&&c._type===t.block.name){const u=n();if(o.isTextBlock(c)){se.setNodes(o,{markDefs:[...c.markDefs||[],{_type:i.name,_key:u,...s}]},{at:a.focus}),o.onChange(),ue.isCollapsed(a)&&(o.pteExpandToWord(),o.onChange());const[d]=L.node(o,a.focus,{depth:2});if(o.selection){L.withoutNormalizing(o,()=>{se.setNodes(o,{},{match:we.isText,split:!0}),o.selection&&we.isText(d)&&(se.setNodes(o,{marks:[...d.marks||[],u]},{at:o.selection,match:p=>p._type===t.span.name}),o.onChange())}),L.normalize(o),o.onChange();const f=op(hr(o.children,t.block.name,va.get(o)),o.selection,t);if(f&&typeof c._key=="string")return L.withoutNormalizing(o,()=>{o.selection&&(se.insertNodes(o,[{_type:"span",text:"",marks:[],_key:n()}],{at:ue.end(o.selection)}),o.onChange())}),{spanPath:f.focus.path,markDefPath:[{_key:c._key},"markDefs",{_key:u}]}}}}}},delete:(i,s)=>{if(i){const a=tE(i,o);if(!(a&&a.anchor.path.length>0&&a.focus.path.length>0))throw new Error("Invalid range");if(a){if(!(s!=null&&s.mode)||(s==null?void 0:s.mode)==="selected"){W1("Deleting content in selection"),se.delete(o,{at:a,hanging:!0,voids:!0}),o.onChange();return}(s==null?void 0:s.mode)==="blocks"&&(W1("Deleting blocks touched by selection"),se.removeNodes(o,{at:a,voids:!0,match:u=>o.isTextBlock(u)||!o.isTextBlock(u)&&Ie.isElement(u)})),(s==null?void 0:s.mode)==="children"&&(W1("Deleting children touched by selection"),se.removeNodes(o,{at:a,voids:!0,match:u=>u._type===t.span.name||!o.isTextBlock(u)&&Ie.isElement(u)})),o.children.length===0&&(o.children=[o.createPlaceholderBlock()]),o.onChange()}}},removeAnnotation:i=>{let{selection:s}=o;if(W1("Removing annotation",i),s){if(ue.isCollapsed(s)){const[a,c]=L.node(o,s,{depth:2});we.isText(a)&&a.marks&&typeof a.text=="string"&&(se.select(o,c),s=o.selection)}L.withoutNormalizing(o,()=>{if(s&&ue.isExpanded(s)){if(s=o.selection,!s)return;se.setNodes(o,{},{match:we.isText,split:!0}),o.onChange(),[...L.nodes(o,{at:s,match:c=>we.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0})].forEach(c=>{let[u,d]=c;var f;const[p]=L.node(o,d,{depth:1});o.isTextBlock(p)&&((f=p.markDefs)==null||f.filter(m=>m._type===i.name).forEach(m=>{if(we.isText(u)&&Array.isArray(u.marks)&&u.marks.includes(m._key)){const v=[...(u.marks||[]).filter(g=>g!==m._key)];se.setNodes(o,{marks:v},{at:d,voids:!1,split:!1})}}))})}}),L.normalize(o),o.onChange()}},getSelection:()=>{let i=null;if(o.selection){const s=ej.get(o.selection);if(s)return s;i=op(hr(o.children,t.block.name,va.get(o)),o.selection,t),ej.set(o.selection,i)}return i},getValue:()=>hr(o.children,t.block.name,va.get(o)),isCollapsedSelection:()=>!!o.selection&&ue.isCollapsed(o.selection),isExpandedSelection:()=>!!o.selection&&ue.isExpanded(o.selection),insertBreak:()=>{o.insertBreak(),o.onChange()}}),o}}function ENt(e){return function(n){const{apply:r}=n;return n.apply=o=>{const i=e;i>0&&n.children.length>=i&&(o.type==="insert_node"||o.type==="split_node")&&o.path.length===1||r(o)},n}}const oj=new WeakMap;function xx(e,t){const n=MOe(e);oj.set(e,!0),t(),oj.set(e,n)}function MOe(e){return oj.get(e)}function kNt(e,t){return function(r){oj.set(r,!1);const{apply:o,normalizeNode:i}=r;return r.apply=s=>{if(s.type==="split_node"&&(s.properties={...s.properties,_key:t()}),s.type==="insert_node"){const a=!MOe(r)||!("_key"in s.node);L.isEditor(s.node)||(s.node={...s.node,...a?{_key:t()}:{}})}o(s)},r.normalizeNode=s=>{const[a,c]=s;if(Ie.isElement(a)&&a._type===e.block.name){a._key||se.setNodes(r,{_key:t()},{at:c});for(const[u,d]of Ce.children(r,c))if(!u._key){se.setNodes(r,{_key:t()},{at:d});return}}i(s)},r}}const ij=new WeakMap;function VF(e,t){const n=FOe(e);ij.set(e,!1),t(),ij.set(e,n)}function FOe(e){return ij.get(e)}const Wte="before",Yte="after";function jNt(e,t,n){if(t!==Wte&&t!==Yte)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(Wte," or ").concat(Yte));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=qte(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...qte(s)),d}function qte(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const Gte=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function TNt(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function ANt(e,t){if(typeof t=="number")return t;const n=kN(e,t);return n===-1?!1:n}function ONt(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!Gte(t.value,"from")||!Gte(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return TNt(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=ANt(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return jNt(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=IN(n[i],{...t,path:o}),n}function PNt(e,t){const n=yOe(e);if(t.path.length===0){if(t.type==="set"){if(!nw(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Ai(n,r):(n[r]=IN(n[r],{...t,path:o}),n)}const LOe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},DNt=Object.keys(LOe);function INt(e,t){if(!DNt.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return LOe[t.type](e,t.value)}const BOe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=IOe(DN(t),e,{allowExceedingIndices:!0});return n}},RNt=Object.keys(BOe);function $Nt(e,t){if(!RNt.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));const n=BOe[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function MNt(e,t){return t.reduce(IN,e)}function FNt(e,t){return Array.isArray(e)?ONt(e,t):jA(e)?$Nt(e,t):nw(e)?PNt(e,t):INt(e,t)}function IN(e,t){return FNt(e,t)}const mr=Br("applyPatches"),RN=mr.enabled&&!0;function LNt(e){let t;return function(n,r){let o=!1;RN&&(mr(`

NEW PATCH =============================================================`),mr(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":o=NNt(n,r,e);break;case"unset":o=VNt(n,r,t);break;case"set":o=zNt(n,r);break;case"diffMatchPatch":o=BNt(n,r);break;default:mr("Unhandled patch",r.type)}}catch(i){console.error(i)}return t=r,o}}function BNt(e,t){const{block:n,child:r,childPath:o}=oO(e,t.path);if(!n)return mr("Block not found"),!1;if(!r||!o)return mr("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!we.isText(r))return!1;const s=DN(t.value),[a]=IOe(s,r.text,{allowExceedingIndices:!0}),c=OOe(AN(r.text,a),5);gs(e,"before");let u=0;for(const[d,f]of c)d===Hn?(e.apply({type:"insert_text",path:o,offset:u,text:f}),u+=f.length):d===Sn?e.apply({type:"remove_text",path:o,offset:u,text:f}):d===xt&&(u+=f.length);return gs(e,"after"),!0}function NNt(e,t,n){const{block:r,child:o,blockPath:i,childPath:s}=oO(e,t.path);if(!r||!i)return mr("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return mr("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:v}=t,g=bc(m,{schemaTypes:n},NF.get(e)),b=i[0],x=v==="after"?b+1:b;return mr("Inserting blocks at path [".concat(x,"]")),gs(e,"before"),se.insertNodes(e,g,{at:[x]}),gs(e,"after"),!0}const{items:a,position:c}=t;if(!o||!s)return mr("Child not found"),!1;const u=r&&bc([{...r,children:a}],{schemaTypes:n},NF.get(e)),d=s[1],f=c==="after"?d+1:d,p=[s[0],f];return mr("Inserting children at path ".concat(p)),gs(e,"before"),u&&Ie.isElement(u[0])&&se.insertNodes(e,u[0].children,{at:p}),gs(e,"after"),!0}function zNt(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:o,child:i,childPath:s}=oO(e,t.path);if(!r)return mr("Block not found"),!1;const a=e.isTextBlock(r);if(a&&t.path.length>1&&t.path[1]!=="children")return mr("Ignoring setting void value"),!1;if(gs(e,"before"),a&&i&&s){if(we.isText(n)&&we.isText(i)){const c=i.text;n.text!==c&&(mr("Setting text property"),e.apply({type:"remove_text",path:s,offset:0,text:c}),e.apply({type:"insert_text",path:s,offset:0,text:n.text}),e.onChange())}else mr("Setting non-text property"),e.apply({type:"set_node",path:s,properties:{},newProperties:n});return!0}else if(Ie.isElement(r)&&t.path.length===1&&o){mr("Setting block property");const{children:c,...u}=n,{children:d,...f}=r||{children:void 0};e.apply({type:"set_node",path:o,properties:{...f},newProperties:u}),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:o.concat(m),node:p})}),Array.isArray(c)&&c.forEach((p,m)=>{e.apply({type:"insert_node",path:o.concat(m),node:p})})}else if(r&&"value"in r){const c=MNt([r.value],[t])[0];return se.setNodes(e,{...r,value:c},{at:o}),!0}return gs(e,"after"),!0}function VNt(e,t,n){if(t.path.length===0){mr("Removing everything"),gs(e,"before");const a=e.selection;return se.deselect(e),e.children.forEach((c,u)=>{se.removeNodes(e,{at:[u]})}),se.insertNodes(e,e.createPlaceholderBlock()),a&&se.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),gs(e,"after"),!0}const{block:r,blockPath:o,child:i,childPath:s}=oO(e,t.path);if(t.path.length===1){if(!r||!o)return mr("Block not found"),!1;const a=o[0];return mr("Removing block at path [".concat(a,"]")),gs(e,"before"),se.removeNodes(e,{at:[a]}),gs(e,"after"),!0}if(e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3){if(!i||!s)return mr("Child not found"),!1;const a=s[1];return mr("Unsetting child at path ".concat(JSON.stringify(s))),gs(e,"before"),RN&&mr("Removing child at path ".concat(JSON.stringify([s,a]))),se.removeNodes(e,{at:s}),gs(e,"after"),!0}return!1}function NOe(e){return typeof e=="object"&&"_key"in e}function gs(e,t){RN&&(mr("Children ".concat(t,":"),JSON.stringify(e.children,null,2)),mr("Selection ".concat(t,": "),JSON.stringify(e.selection,null,2)))}function HNt(e,t){let n=-1;const r=e.children.find((o,i)=>{const s=NOe(t[0])?o._key===t[0]._key:i===t[0];return s&&(n=i),s});return r?{block:r,path:[n]}:{}}function oO(e,t){const{block:n,path:r}=HNt(e,t);if(!(Ie.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let o=-1;const i=n.children.find((s,a)=>{const c=NOe(t[2])?s._key===t[2]._key:a===t[2];return c&&(o=a),c});return i?{block:n,child:i,blockPath:r,childPath:r==null?void 0:r.concat(o)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function zOe(e,t){const n=VOe(e)||!1;Jk.set(e,!0),t(),Jk.set(e,n)}function VOe(e){return Jk.get(e)}function UNt(e){return eE.get(e)}const Wo=Br("plugin:withUndoRedo"),Kte=Wo.enabled&&!1,fv=new WeakMap,e3=new WeakMap,WNt=1e3,HOe=e=>{const t=fv.get(e);return t===void 0?!0:t},YNt=e=>(e3.get(e)||e3.set(e,[]),e3.get(e)||[]);function qNt(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return o=>{let i=hr(o.children,r.name);const s=YNt(o);n&&o.subscriptions.push(()=>{Wo("Subscribing to patches");const c=n.subscribe(u=>{let{patches:d,snapshot:f}=u,p=!1;d.forEach(m=>{if(!p&&m.origin!=="local"&&s){if(m.type==="unset"&&m.path.length===0){Wo("Someone else cleared the content, resetting undo/redo history"),o.history={undos:[],redos:[]},s.splice(0,s.length),fv.set(o,!0),p=!0;return}s.push({patch:m,time:new Date,snapshot:f,previousSnapshot:i})}}),i=f});return()=>{Wo("Unsubscribing to patches"),c.unsubscribe()}}),o.history={undos:[],redos:[]};const{apply:a}=o;return o.apply=c=>{if(t){a(c);return}const{operations:u,history:d}=o,{undos:f}=d,p=f[f.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],v=KNt(c,m),g=HOe(o);let b=!0;if(g){if(p?u.length===0&&(b=GNt(c,m)||v):b=!1,p&&b)p.operations.push(c);else{const x={operations:[...o.selection===null?[]:[XNt(o)],c],timestamp:new Date};f.push(x),Wo("Created new undo step",p)}for(;f.length>WNt;)f.shift();ZNt(c)&&(d.redos=[])}a(c)},o.undo=()=>{if(t)return;const{undos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Wo("Undoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=En(f.map(m=>Zte(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),rj(!!o.selection);try{L.withoutNormalizing(o,()=>{wx(o,()=>{f.map(zg.inverse).reverse().forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Wo("Could not perform undo step",p),s.splice(0,s.length),se.deselect(o),o.history={undos:[],redos:[]},fv.set(o,!0),o.onChange();return}o.history.redos.push(u),o.history.undos.pop()}}},o.redo=()=>{if(t)return;const{redos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Wo("Redoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=En(f.map(m=>Zte(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),rj(!!o.selection);try{L.withoutNormalizing(o,()=>{wx(o,()=>{f.forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Wo("Could not perform redo step",p),s.splice(0,s.length),se.deselect(o),o.history={undos:[],redos:[]},fv.set(o,!0),o.onChange();return}o.history.undos.push(u),o.history.redos.pop()}}},o}}function Zte(e,t,n,r,o){Kte&&(Wo("Adjusting '".concat(n.type,"' operation paths for '").concat(t.type,"' patch")),Wo("Operation ".concat(JSON.stringify(n))),Wo("Patch ".concat(JSON.stringify(t))));const i={...n};if(t.type==="insert"&&t.path.length===1){const s=(r||[]).findIndex(a=>zt({_key:a._key},t.path[0]));return Wo("Adjusting block path (+".concat(t.items.length,") for '").concat(i.type,"' operation and patch '").concat(t.type,"'")),[Xte(i,t.items.length,s)]}if(t.type==="unset"&&t.path.length===1){const s=(o||[]).findIndex(a=>zt({_key:a._key},t.path[0]));return"path"in i&&Array.isArray(i.path)&&i.path[0]===s?(Wo("Skipping transformation that targeted removed block"),[]):(Kte&&(Wo("Selection ".concat(JSON.stringify(e.selection))),Wo("Adjusting block path (-1) for '".concat(i.type,"' operation and patch '").concat(t.type,"'"))),[Xte(i,-1,s)])}if(t.type==="unset"&&t.path.length===0)return Wo("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[];if(t.type==="diffMatchPatch"){const s=QNt(e,i);return!s||!zt({_key:s._key},t.path[0])?[i]:(DN(t.value).forEach(c=>{var u,d,f,p;let m=0,v=c.utf8Start1;const{diffs:g}=c;if(g.forEach((b,x)=>{const[y,w]=b;y===Hn?(m+=w.length,v+=w.length):y===Sn?(m-=w.length,v-=w.length):y===xt&&(g.slice(x).every(_=>{let[C]=_;return C===xt})||(v+=w.length))}),i.type==="insert_text"&&v<i.offset&&(i.offset+=m),i.type==="remove_text"&&v<=i.offset-i.text.length&&(i.offset+=m),i.type==="set_selection"){const b=(u=i.properties)!=null&&u.focus?{...i.properties.focus}:void 0,x=(d=i==null?void 0:i.properties)!=null&&d.anchor?{...i.properties.anchor}:void 0,y=(f=i==null?void 0:i.newProperties)!=null&&f.focus?{...i.newProperties.focus}:void 0,w=(p=i==null?void 0:i.newProperties)!=null&&p.anchor?{...i.newProperties.anchor}:void 0;(b&&x||y&&w)&&([b,x,y,w].forEach(C=>{C&&v<C.offset&&(C.offset+=m)}),b&&x&&(i.properties={focus:b,anchor:x}),y&&w&&(i.newProperties={focus:y,anchor:w}))}}),[i])}return[i]}function Xte(e,t,n){var r,o,i,s;const a={...e};if(n>=0&&a.type!=="set_selection"&&Array.isArray(a.path)&&a.path[0]>=n+t&&a.path[0]+t>-1){const c=[a.path[0]+t,...a.path.slice(1)];a.path=c}if(a.type==="set_selection"){const c=(r=a.properties)!=null&&r.focus?{...a.properties.focus}:void 0,u=(o=a==null?void 0:a.properties)!=null&&o.anchor?{...a.properties.anchor}:void 0,d=(i=a==null?void 0:a.newProperties)!=null&&i.focus?{...a.newProperties.focus}:void 0,f=(s=a==null?void 0:a.newProperties)!=null&&s.anchor?{...a.newProperties.anchor}:void 0;(c&&u||d&&f)&&([c,u,d,f].forEach(m=>{m&&m.path[0]>=n+t&&m.path[0]+t>-1&&(m.path=[m.path[0]+t,...m.path.slice(1)])}),c&&u&&(a.properties={focus:c,anchor:u}),d&&f&&(a.newProperties={focus:d,anchor:f}))}return a}const GNt=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&ee.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&ee.equals(e.path,t.path)),KNt=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),ZNt=e=>e.type!=="set_selection";function wx(e,t){const n=HOe(e);fv.set(e,!1),t(),fv.set(e,n)}function XNt(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function QNt(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const jC=Br("plugin:withPatches");function JNt(e){let{change$:t,patches$:n,patchFunctions:r,readOnly:o,schemaTypes:i}=e,s;const a=LNt(i);return function(u){Jk.set(u,!1),ij.set(u,!0),s=[...u.children];const{apply:d}=u;let f=[];const p=()=>{if(f.length===0)return;const v=f;f=[];let g=!1;zOe(u,()=>{L.withoutNormalizing(u,()=>{VF(u,()=>{wx(u,()=>{xx(u,()=>{v.forEach(b=>{(b.type==="insert"||b.type==="unset")&&rj(!!u.selection),jC.enabled&&jC("Handling remote patch ".concat(JSON.stringify(b))),g=a(u,b)})})})})}),g&&(u.normalize(),u.onChange())})},m=v=>{let{patches:g}=v;const b=g.filter(x=>x.origin!=="local");b.length!==0&&(f=f.concat(b),p())};return n&&u.subscriptions.push(()=>{jC("Subscribing to patches$");const v=n.subscribe(m);return()=>{jC("Unsubscribing to patches$"),v.unsubscribe()}}),u.apply=v=>{if(o)return d(v),u;let g=[];s=u.children;const b=nj(s,i);d(v);const x=nj(u.children,i);if(!FOe(u))return u;switch(b&&!x&&v.type!=="set_selection"&&g.push(ru(s,"before",[0])),v.type){case"insert_text":g=[...g,...r.insertTextPatch(u,v,s)];break;case"remove_text":g=[...g,...r.removeTextPatch(u,v,s)];break;case"remove_node":g=[...g,...r.removeNodePatch(u,v,s)];break;case"split_node":g=[...g,...r.splitNodePatch(u,v,s)];break;case"insert_node":g=[...g,...r.insertNodePatch(u,v,s)];break;case"set_node":g=[...g,...r.setNodePatch(u,v,s)];break;case"merge_node":g=[...g,...r.mergeNodePatch(u,v,s)];break;case"move_node":g=[...g,...r.moveNodePatch(u,v,s)];break}return!b&&x&&["merge_node","set_node","remove_text","remove_node"].includes(v.type)&&(g=[...g,Hs([])],t.next({type:"unset",previousValue:hr(s,i.block.name,va.get(u))})),b&&g.length>0&&(g=[ROe([],[]),...g]),g.length>0&&g.forEach(y=>{t.next({type:"patch",patch:{...y,origin:"local"}})}),u},u}}const ezt=Br("plugin:withPlaceholderBlock");function tzt(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){return o.createPlaceholderBlock=()=>(ezt("Creating placeholder block"),{_type:t.block.name,_key:n(),style:t.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:n(),text:"",marks:[]}]}),o}}const TC=Br("plugin:withPortableTextBlockStyle");function nzt(e){const t=e.styles[0].value;return function(r){const{normalizeNode:o}=r;return r.normalizeNode=i=>{o(i);const[,s]=i;for(const a of r.operations)if(a.type==="split_node"&&a.path.length===1&&r.isTextBlock(a.properties)&&a.properties.style!==t&&a.path[0]===s[0]&&!ee.equals(s,a.path)){const[c]=L.node(r,[a.path[0]+1,0]);if(we.isText(c)&&c.text===""){TC("Normalizing split node to ".concat(t," style"),a),se.setNodes(r,{style:t},{at:[a.path[0]+1],voids:!1});break}}},r.pteHasBlockStyle=i=>r.selection?[...L.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)&&a.style===i})].length>0:!1,r.pteToggleBlockStyle=i=>{if(!r.selection)return;[...L.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)})].forEach(a=>{let[c,u]=a;r.isTextBlock(c)&&c.style===i?(TC("Unsetting block style '".concat(i,"'")),se.setNodes(r,{...c,style:t},{at:u})):(i?TC("Setting style '".concat(i,"'")):TC("Setting default style",t),se.setNodes(r,{...c,style:i||t},{at:u}))}),r.onChange()},r}}const xh=Br("plugin:withPortableTextLists"),t3=10;function rzt(e){return function(n){return n.pteToggleListItem=r=>{n.pteHasListStyle(r)?(xh("Remove list item '".concat(r,"'")),n.pteUnsetListItem(r)):(xh("Add list item '".concat(r,"'")),n.pteSetListItem(r))},n.pteUnsetListItem=r=>{if(!n.selection)return;[...L.nodes(n,{at:n.selection,match:i=>Ie.isElement(i)&&i._type===e.block.name})].forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){const{listItem:c,level:u,...d}=s,f={...d,listItem:void 0,level:void 0};xh("Unsetting list '".concat(r,"'")),se.setNodes(n,f,{at:a})}})},n.pteSetListItem=r=>{if(!n.selection)return;[...L.nodes(n,{at:n.selection,match:i=>n.isTextBlock(i)})].forEach(i=>{let[s,a]=i;xh("Setting list '".concat(r,"'")),se.setNodes(n,{...s,level:1,listItem:r||e.lists[0]&&e.lists[0].value},{at:a})})},n.pteEndList=()=>{if(!n.selection)return!1;const r=[...L.nodes(n,{at:n.selection,match:o=>Ie.isElement(o)&&n.isListBlock(o)&&o.children.length===1&&we.isText(o.children[0])&&o.children[0].text===""})];return r.length===0?!1:(r.forEach(o=>{let[i,s]=o;Ie.isElement(i)&&(xh("Unset list"),se.setNodes(n,{...i,level:void 0,listItem:void 0},{at:s}))}),!0)},n.pteIncrementBlockLevels=r=>{if(!n.selection)return!1;const o=[...L.nodes(n,{at:n.selection,match:i=>!!n.isListBlock(i)})];return o.length===0?!1:(o.forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){let c=s.level||1;r?(c--,xh("Decrementing list level",Math.min(t3,Math.max(1,c)))):(c++,xh("Incrementing list level",Math.min(t3,Math.max(1,c)))),se.setNodes(n,{level:Math.min(t3,Math.max(1,c))},{at:a})}}),!0)},n.pteHasListStyle=r=>n.selection?[...L.nodes(n,{at:n.selection,match:i=>n.isListBlock(i)&&i.listItem===r})].length>0:!1,n}}const yd=Br("plugin:withPortableTextMarkModel");function ozt(e,t){return function(i){const{apply:s,normalizeNode:a}=i,c=e.decorators.map(d=>d.value),u=()=>{i.selection&&(se.select(i,{...i.selection}),i.selection={...i.selection});const d=op(i.children,i.selection,e);t.next({type:"selection",selection:d})};return i.normalizeNode=d=>{a(d),i.operations.some(g=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(g.type))&&n(i);const[f,p]=d,m=we.isText(f)&&f._type===e.span.name,v=i.isTextBlock(f);if(m||v){m&&!Array.isArray(f.marks)&&(yd("Adding .marks to span node"),se.setNodes(i,{marks:[]},{at:p}),i.onChange());for(const g of i.operations){if(g.type==="merge_node"&&g.path.length===1&&"markDefs"in g.properties&&g.properties._type===e.block.name&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]-1>=0){const[b,x]=L.node(i,[g.path[0]-1]);if(yd("Copying markDefs over to merged block",g),i.isTextBlock(b)){const y=Array.isArray(b.markDefs)&&b.markDefs||[],w=so([...y,...g.properties.markDefs]);zt(w,b.markDefs)||(se.setNodes(i,{markDefs:w},{at:x,voids:!1}),i.onChange())}}if(g.type==="split_node"&&g.path.length===1&&Ie.isElementProps(g.properties)&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]+1<i.children.length){const[b,x]=L.node(i,[g.path[0]+1]);if(yd("Copying markDefs over to split block",g),i.isTextBlock(b)){const y=Array.isArray(b.markDefs)&&b.markDefs||[];se.setNodes(i,{markDefs:so([...y,...g.properties.markDefs])},{at:x,voids:!1}),i.onChange()}}if(g.type==="split_node"&&g.path.length===2&&g.properties._type===e.span.name&&"marks"in g.properties&&Array.isArray(g.properties.marks)&&g.properties.marks.length>0&&g.path[0]+1<i.children.length){const[b,x]=L.node(i,[g.path[0]+1,0]);we.isText(b)&&b.text===""&&Array.isArray(b.marks)&&b.marks.length>0&&(se.setNodes(i,{marks:[]},{at:x,voids:!1}),i.onChange())}if(g.type==="split_node"&&g.path.length===1&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0){const[b,x]=L.node(i,[g.path[0]]);i.isTextBlock(b)&&b.children.length===1&&b.markDefs&&b.markDefs.length>0&&we.isText(b.children[0])&&b.children[0].text===""&&(!b.children[0].marks||b.children[0].marks.length===0)&&(se.setNodes(i,{markDefs:[]},{at:x}),i.onChange())}}m&&Array.isArray(f.marks)&&(!f.marks||f.marks.length>0&&f.text==="")&&(se.setNodes(i,{marks:[]},{at:p,voids:!1}),i.onChange())}v&&i.operations.some(g=>["split_node","remove_node","remove_text","merge_node"].includes(g.type))&&r(i)},i.apply=d=>{var f,p;if(d.type==="insert_text"){const{selection:m}=i;if(m&&ue.isCollapsed(m)&&((p=(f=L.marks(i))==null?void 0:f.marks)!=null&&p.some(v=>!c.includes(v)))){const[v]=Array.from(L.nodes(i,{mode:"lowest",at:m.focus,match:g=>g._type===e.span.name,voids:!1}))[0]||[void 0];if(we.isText(v)&&v.text.length===m.focus.offset&&Array.isArray(v.marks)&&v.marks.length>0){s(d),se.splitNodes(i,{match:we.isText,at:{...m.focus,offset:m.focus.offset}});const g=({...L.marks(i)||{}}.marks||[]).filter(b=>c.includes(b));se.setNodes(i,{marks:g},{at:ee.next(m.focus.path)}),yd("Inserting text at end of annotation");return}}}s(d)},i.addMark=d=>{if(i.selection){if(ue.isExpanded(i.selection)){se.setNodes(i,{},{match:we.isText,split:!0});const f=[...L.nodes(i,{at:i.selection,match:we.isText})];if(En(f.map(m=>m[0]).map(m=>m.marks)).includes(d))return i.removeMark(d),i;L.withoutNormalizing(i,()=>{f.forEach(m=>{let[v,g]=m;const b=[...(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),d];se.setNodes(i,{marks:b},{at:g,match:we.isText,split:!0,hanging:!0})})}),L.normalize(i)}else{const f={...L.marks(i)||{}}.marks||[],p={...L.marks(i)||{},marks:[...f,d]};return i.marks=p,u(),i}i.onChange(),u()}return i},i.removeMark=d=>{const{selection:f}=i;if(f){if(ue.isExpanded(f))L.withoutNormalizing(i,()=>{se.setNodes(i,{},{match:we.isText,split:!0}),i.selection&&[...L.nodes(i,{at:i.selection,match:we.isText})].forEach(m=>{let[v,g]=m;const b=i.children[g[0]];Ie.isElement(b)&&b.children.includes(v)&&se.setNodes(i,{marks:(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),_type:"span"},{at:g})})}),L.normalize(i);else{const p={...L.marks(i)||{}}.marks||[],m={...L.marks(i)||{},marks:p.filter(v=>v!==d)};return i.marks={marks:m.marks,_type:"span"},u(),i}i.onChange(),u()}return i},i.pteIsMarkActive=d=>{if(!i.selection)return!1;let f={...L.marks(i)||{}}.marks||[];return ue.isExpanded(i.selection)&&Array.from(L.nodes(i,{match:we.isText,at:i.selection})).forEach(p=>{const[m]=p;f=so([...f,...m.marks||[]])}),f.includes(d)},i.pteToggleMark=d=>{i.pteIsMarkActive(d)?(yd("Remove mark '".concat(d,"'")),L.removeMark(i,d)):(yd("Add mark '".concat(d,"'")),L.addMark(i,d,!0))},i};function n(o){const{selection:i}=o;if(i)for(const[s,a]of Array.from(L.nodes(o,{at:L.range(o,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[c]=a.length>1?L.node(o,ee.parent(a)):[void 0],u=[a[0],a[1]+1];if(o.isTextBlock(c)){const d=c.children[u[1]];we.isText(s)&&we.isText(d)&&zt(d.marks,s.marks)&&(yd("Merging spans"),se.mergeNodes(o,{at:u,voids:!0}),o.onChange())}}}function r(o){const{selection:i}=o;if(i){const s=L.nodes(o,{at:i,match:a=>a._type===e.block.name});for(const[a,c]of s)if(o.isTextBlock(a)){const u=(a.markDefs||[]).filter(d=>a.children.find(f=>we.isText(f)&&Array.isArray(f.marks)&&f.marks.includes(d._key)));zt(u,a.markDefs)||(yd("Removing markDef not in use"),se.setNodes(o,{markDefs:u},{at:c}),o.onChange())}}}}const UOe=Br("plugin:withPortableTextSelections"),izt=UOe.enabled&&!1;function szt(e,t){let n=null;return function(o){const i=()=>{if(n!==o.selection){let a=null;if(o.selection){const c=ej.get(o.selection);if(c)a=c;else{const u=o.children;a=op(u,o.selection,t),ej.set(o.selection,a)}}izt&&UOe("Emitting selection ".concat(JSON.stringify(a||null)," (").concat(JSON.stringify(o.selection),")")),a?e.next({type:"selection",selection:a}):e.next({type:"selection",selection:null})}n=o.selection},{onChange:s}=o;return o.onChange=()=>{const a=o.operations.length>0;s(),a&&i()},o}}const azt=Br("plugin:withSchemaTypes");function lzt(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){o.isTextBlock=s=>zf(s)&&s._type===t.block.name,o.isTextSpan=s=>Gs(s)&&s._type==t.span.name,o.isListBlock=s=>hLe(s)&&s._type===t.block.name,o.isVoid=s=>t.block.name!==s._type&&(t.blockObjects.map(a=>a.name).includes(s._type)||t.inlineObjects.map(a=>a.name).includes(s._type)),o.isInline=s=>t.inlineObjects.map(c=>c.name).includes(s._type)&&"__inline"in s&&s.__inline===!0;const{normalizeNode:i}=o;return o.normalizeNode=s=>{const[a,c]=s;if(a._type===void 0&&c.length===2){azt("Setting span type on text node without a type");const u=a,d=u._key||n();se.setNodes(o,{...u,_type:t.span.name,_key:d},{at:c})}i(s)},o}}const n3=Br("plugin:withUtils");function czt(e){return function(n){return n.pteExpandToWord=()=>{const{selection:r}=n;if(r&&!ue.isExpanded(r)){const[o]=L.node(n,r.focus,{depth:2});if(!o||!we.isText(o)||o.text.length===0){n3("pteExpandToWord: Can't expand to word here");return}const{focus:i}=r,s=i.offset,a=o.text.slice(0,s),c=o.text.slice(s,-1),u=v=>v.match(/\s/g),d=a.split("").reverse().findIndex(v=>u(v)),f=d>-1?a.length-d:0,p=c.split("").findIndex(v=>u(v)),m=a.length+(p>-1?p:c.length+1);if(!(f===m||isNaN(f)||isNaN(m))){n3("pteExpandToWord: Expanding to focused word"),se.setSelection(n,{anchor:{...r.anchor,offset:f},focus:{...r.focus,offset:m}});return}n3("pteExpandToWord: Can't expand to word here")}},n}}const r3=Br("plugin:withHotKeys"),uzt={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function dzt(e,t,n,r){const o=["enter","tab","shift","delete","end"],i=r||uzt,s=()=>bc([{_type:e.block.name,_key:t(),style:"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0];return function(c){return c.pteWithHotKeys=u=>{Object.keys(i).forEach(b=>{if(b==="marks")for(const x in i[b]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(mi(x,u.nativeEvent)){u.preventDefault();const y=i[b];if(y){const w=y[x];r3("HotKey ".concat(x," to toggle ").concat(w)),c.pteToggleMark(w)}}}if(b==="custom")for(const x in i[b]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(mi(x,u.nativeEvent)){const y=i[b];if(y){const w=y[x];w(u,n)}}}});const d=mi("enter",u.nativeEvent),f=mi("tab",u.nativeEvent),p=mi("shift+enter",u.nativeEvent),m=mi("shift+tab",u.nativeEvent),v=mi("backspace",u.nativeEvent),g=mi("delete",u.nativeEvent);if(v&&c.selection&&c.selection.focus.path[0]>0&&ue.isCollapsed(c.selection)){const b=ee.previous(c.selection.focus.path.slice(0,1)),x=Ce.descendant(c,b),y=Ce.descendant(c,c.selection.focus.path.slice(0,1));if(x&&y&&L.isVoid(c,x)&&c.selection.focus.offset===0){r3("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation(),se.removeNodes(c,{match:w=>w===y}),se.select(c,b),c.onChange();return}}if(g&&c.selection&&c.selection.focus.offset===0&&ue.isCollapsed(c.selection)&&c.children[c.selection.focus.path[0]+1]){const b=Ce.descendant(c,ee.next(c.selection.focus.path.slice(0,1))),x=c.selection.focus.path.slice(0,1),y=Ce.descendant(c,x);if(b&&y&&!L.isVoid(c,y)&&L.isVoid(c,b)){r3("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),se.removeNodes(c,{match:w=>w===y}),se.select(c,x),c.onChange();return}}if((f||m)&&c.selection){const[b]=L.node(c,c.selection.focus,{depth:2}),[x]=Gs(b)?L.node(c,c.selection.focus,{depth:1}):[],y=b&&zf(x)&&Gs(b)&&(b.marks||[]).filter(C=>(x.markDefs||[]).map(S=>S._key).includes(C)).length>0,[w]=ue.edges(c.selection),_=L.isStart(c,w,w.path);b&&Gs(b)&&(!y||_)&&c.pteIncrementBlockLevels(m)&&u.preventDefault()}if(d&&!p&&c.selection){const b=c.selection.focus.path.slice(0,1),x=Ce.descendant(c,b);if(c.isListBlock(x)){c.pteEndList()&&u.preventDefault();return}if(c.isTextBlock(x)&&x.style&&x.style!==e.styles[0].value){const[,y]=ue.edges(c.selection);if(L.isEnd(c,y,y.path)){L.insertNode(c,s()),u.preventDefault();return}}if(x&&L.isVoid(c,x)){L.insertNode(c,s()),u.preventDefault();return}u.preventDefault(),c.insertBreak()}if(p){u.preventDefault(),c.insertText(`
`);return}if(mi("mod+z",u.nativeEvent)){u.preventDefault(),c.undo();return}(mi("mod+y",u.nativeEvent)||mi("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),c.redo())},c}}function sj(e,t,n){let r=null,o=!0;const i=[t.span.name,...t.inlineObjects.map(a=>a.name)],s=[t.block.name,...t.blockObjects.map(a=>a.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[Hs([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e},value:e}:(e.some((a,c)=>{if(!nw(a))return r={patches:[Hs([c])],description:"Block must be an object, got ".concat(String(a)),action:"Unset invalid item",item:a},!0;if(!a._key)return r={patches:[al({...a,_key:n()},[c])],description:"Block at index ".concat(c," is missing required _key."),action:"Set the block with a random _key value",item:a},!0;if(!a._type||!s.includes(a._type)){if(a._type==="block"){const u=t.block.name;return r={patches:[al({...a,_type:u},[{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid type name '").concat(a._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:a},!0}return r={patches:[Hs([{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid _type '").concat(a._type,"'"),action:"Remove the block",item:a},!0}if(a._type===t.block.name){const u=a;if(!u.children)return r={patches:[Hs([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' is missing required key 'children'."),action:"Remove the block",item:u},!0;if(!a.markDefs)return r={patches:[al({...u,markDefs:[]},[{_key:u._key}])],description:"Block is missing required key 'markDefs'.",action:"Add empty markDefs array",item:u},!0;const p=so(En(u.children.filter(m=>m._type===t.span.name).map(m=>m.marks||[]))).filter(m=>!t.decorators.map(v=>v.value).includes(m)).filter(m=>u.markDefs?!u.markDefs.find(v=>v._key===m):!1);if(p.length>0){const m=u.children.filter(v=>v._type===t.span.name&&Array.isArray(v.marks)&&v.marks.some(g=>p.includes(g)));if(m)return r={patches:m.map(v=>al((v.marks||[]).filter(g=>!p.includes(g)),[{_key:a._key},"children",{_key:v._key},"marks"])),description:"Block with _key '".concat(a._key,"' contains marks (").concat(p.join(", "),") not supported by the current content model."),action:"Remove invalid marks",item:a},!0}if(u.children&&u.children.length===0){const m={_type:t.span.name,_key:n(),text:""};return r={patches:[ru([m],"after",[{_key:a._key},"children",0])],description:"Children for text block with _key '".concat(a._key,"' is empty."),action:"Insert an empty text",item:a},!0}u.children.some((m,v)=>{if(!m._key){const g={...m,_key:n()};return r={patches:[al(g,[{_key:a._key},"children",v])],description:"Child at index ".concat(v," is missing required _key in block with _key ").concat(a._key,"."),action:"Set a new random _key on the object",item:a},!0}return!m._type||i.includes(m._type)===!1?(r={patches:[Hs([{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' has invalid '_type' property (").concat(m._type,")."),action:"Remove the object",item:a},!0):m._type===t.span.name&&m.text===void 0?(r={patches:[al({...m,text:""},[{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' is missing text property!"),action:"Write an empty .text to the object",item:a},!0):!1})&&(o=!1)}return!1})&&(o=!1),{valid:o,resolution:r,value:e})}const Qc=Br("plugin:withInsertData");function fzt(e,t,n){return function(o){const i=t.block.name,s=t.span.name,a=c=>c.map(u=>{var d;return o.isTextBlock(u)?u.children.map(f=>{var p;return f._type===s?f.text:"[".concat(((p=t.inlineObjects.find(m=>m.name===f._type))==null?void 0:p.title)||"Object","]")}).join(""):"[".concat(((d=t.blockObjects.find(f=>f.name===u._type))==null?void 0:d.title)||"Object","]")}).join(`

`);return o.setFragmentData=(c,u)=>{const{selection:d}=o;if(!d)return;const[f,p]=ue.edges(d),m=L.void(o,{at:f.path}),v=L.void(o,{at:p.path});if(ue.isCollapsed(d)&&!m)return;const g=he.toDOMRange(o,d);let b=g.cloneContents();if(v){const[E]=v,j=g.cloneRange(),k=he.toDOMNode(o,E);j.setEndAfter(k),b=j.cloneContents()}Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(E=>{const j=E.getAttribute("data-slate-zero-width")==="n";E.textContent=j?`
`:""}),Array.from(b.querySelectorAll("*")).forEach(E=>{E.removeAttribute("contentEditable"),E.removeAttribute("data-slate-inline"),E.removeAttribute("data-slate-leaf"),E.removeAttribute("data-slate-node"),E.removeAttribute("data-slate-spacer"),E.removeAttribute("data-slate-string"),E.removeAttribute("data-slate-zero-width"),E.removeAttribute("draggable");for(const j in E.attributes)E.hasAttribute(j)&&E.removeAttribute(j)});const x=b.ownerDocument.createElement("div");x.appendChild(b),x.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(x);const y=x.innerHTML;b.ownerDocument.body.removeChild(x);const w=o.getFragment(),_=hr(w,i),C=JSON.stringify(_),S=a(_);c.clearData(),c.setData("text/plain",S),c.setData("text/html",y),c.setData("application/json",C),c.setData("application/x-portable-text",C),Qc("text",S),c.setData("application/x-portable-text-event-origin",u||"external"),Qc("Set fragment data",C,y)},o.insertPortableTextData=c=>{var u;if(!o.selection)return!1;const d=c.getData("application/x-portable-text"),f=c.getData("application/x-portable-text-event-origin");if(Qc("Inserting portable text from ".concat(f," event"),d),d){const p=JSON.parse(d);if(Array.isArray(p)&&p.length>0){const m=mzt(o,bc(p,{schemaTypes:t}),n,s),v=sj(p,t,n);if(!v.valid){const g="".concat((u=v.resolution)==null?void 0:u.description);return e.next({type:"error",level:"warning",name:"pasteError",description:g,data:v}),Qc("Invalid insert result",v),!1}return Qte(o,m,t),!0}}return!1},o.insertTextOrHTMLData=c=>{var u;if(!o.selection)return Qc("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const d=c.getData("text/html"),f=c.getData("text/plain");if(d||f){Qc("Inserting data",c);let p,m,v;if(d)p=Ote(d,t.portableText).map(b=>bx(b,{blockTypeName:i})),m=bc(p,{schemaTypes:t}),v="HTML";else{const b=pzt(f).split(/\n{2,}/).map(y=>y?"<p>".concat(y.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),x="<html><body>".concat(b,"</body></html>");p=Ote(x,t.portableText).map(y=>bx(y,{blockTypeName:i})),m=bc(p,{schemaTypes:t}),v="text"}const g=sj(p,t,n);if(!g.valid){const b=`Could not validate the resulting portable text to insert.
`.concat((u=g.resolution)==null?void 0:u.description,`
Try to insert as plain text (shift-paste) instead.`);return e.next({type:"error",level:"warning",name:"pasteError",description:b,data:g}),Qc("Invalid insert result",g),!1}return Qc("Inserting ".concat(v," fragment at ").concat(JSON.stringify(o.selection))),Qte(o,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},o.insertData=c=>{o.insertPortableTextData(c)||o.insertTextOrHTMLData(c)},o.insertFragmentData=c=>{const u=c.getData("application/x-portable-text");if(u){const d=JSON.parse(u);return o.insertFragment(d),!0}return!1},o}}const hzt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function pzt(e){return String(e).replace(/[&<>"'`=/]/g,t=>hzt[t])}function mzt(e,t,n,r){return t.map(o=>{const i={...o};e.isTextBlock(i)&&(i.markDefs=(i.markDefs||[]).map(a=>{const c=a._key,u=n();return i.children=i.children.map(d=>d._type===r&&e.isTextSpan(d)?{...d,marks:d.marks&&d.marks.includes(c)?[...d.marks].filter(f=>f!==c).concat(u):d.marks}:d),{...a,_key:u}}));const s={...i,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(a=>({...a,_key:n()}))),s})}function Qte(e,t,n){if(!e.selection)return;const[r,o]=L.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:s}=r;Qc("Mixing markDefs of focusBlock and fragments[0] block",s,t[0].markDefs),zt(s,t[0].markDefs)||se.setNodes(e,{markDefs:so([...t[0].markDefs||[],...s||[]])},{at:o,mode:"lowest",voids:!1})}nj(e.children,n)?(se.splitNodes(e,{at:[0,0]}),e.insertFragment(t),se.removeNodes(e,{at:[0]})):e.insertFragment(t),e.onChange()}const Jte=new WeakMap,ene=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:o,patches$:i,readOnly:s,maxBlocks:a}=t,{schemaTypes:c,change$:u}=o;n.subscriptions=[],n.destroy?n.destroy():Jte.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=CNt(c),f=kNt(c,r),p=lzt({schemaTypes:c,keyGenerator:r}),m=SNt(o,c,r),v=JNt({change$:u,keyGenerator:r,patches$:i,patchFunctions:d,readOnly:s,schemaTypes:c}),g=ENt(a||-1),b=rzt(c),x=qNt({readOnly:s,patches$:i,blockSchemaType:c.block}),y=ozt(c,u),w=nzt(c),_=tzt({keyGenerator:r,schemaTypes:c}),C=czt(),S=szt(u,c);return n.destroy=()=>{const E=Jte.get(n);if(!E)throw new Error("Could not find pristine versions of editor functions");n.apply=E.apply,n.history={undos:[],redos:[]},n.normalizeNode=E.normalizeNode,n.onChange=E.onChange},s?{editor:p(f(y(w(C(_(b(S(m(n))))))))),subscribe:()=>$je}:{editor:p(f(y(w(b(_(C(g(x(v(S(m(n)))))))))))),subscribe:()=>{const E=[];return e.subscriptions.forEach(j=>{E.push(j())}),()=>{E.forEach(j=>{j()})}}}},o3=Br("component:PortableTextEditor:SlateContainer");function gzt(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:o,keyGenerator:i}=e,[s,a]=h.useMemo(()=>{o3("Creating new Slate editor instance");const{editor:u,subscribe:d}=ene(D7t(a9t()),{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r});return va.set(u,{}),NF.set(u,{}),[u,d]},[]);h.useEffect(()=>{const u=a();return()=>{u()}},[a]),h.useEffect(()=>{o3("Re-initializing plugin chain"),ene(s,{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r})},[i,n,o,r,t,s]);const c=h.useMemo(()=>[s.createPlaceholderBlock()],[s]);return h.useEffect(()=>()=>{o3("Destroying Slate editor"),s.destroy()},[s]),l.jsx(O7t,{editor:s,initialValue:c,children:e.children})}const WOe=h.createContext(null),N0=()=>{const e=h.useContext(WOe);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},YOe=h.createContext(null),uo=()=>{const e=h.useContext(YOe);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},vzt=h.createContext(void 0),qOe=h.createContext(!1),yzt=()=>{const e=h.useContext(qOe);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},Zr=Br("hook:useSyncValue"),tne=new WeakMap;function bzt(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:o,schemaTypes:i}=t,s=h.useRef(),a=tO(),c=h.useRef(),u=h.useCallback(()=>{const f=tne.get(t);if(s.current===f){Zr("Value is the same object as previous, not need to sync");return}c.current&&f&&(Zr("Updating the value debounced"),c.current(f))},[t]),d=h.useCallback(rw(u,1e3,{trailing:!0,leading:!1}),[u]);return h.useMemo(()=>{const f=p=>{tne.set(t,p);const m=UNt(a),v=VOe(a);if(!n){if(m){Zr("Has local changes, not syncing value right now"),d();return}if(v){Zr("Has remote changes, not syncing value right now"),d();return}}let g=!1,b=!0;const x=!!a.selection;if((!p||p.length===0)&&(Zr("Value is empty"),L.withoutNormalizing(a,()=>{wx(a,()=>{VF(a,()=>{x&&se.deselect(a);const y=a.children.length;a.children.forEach((w,_)=>{se.removeNodes(a,{at:[y-1-_]})}),se.insertNodes(a,a.createPlaceholderBlock(),{at:[0]}),x&&se.select(a,[0,0])})})}),g=!0),p&&p.length>0){const y=bc(p,{schemaTypes:i});L.withoutNormalizing(a,()=>{zOe(a,()=>{wx(a,()=>{VF(a,()=>{const w=a.children.length;if(y.length<w){for(let _=w-1;_>y.length-1;_--)se.removeNodes(a,{at:[_]});g=!0}y.forEach((_,C)=>{const S=a.children[C];if(S&&!zt(_,S)&&b){const j=[p[C]],k=sj(j,i,r);k.valid?(S._key===_._key?(Zr.enabled&&Zr("Updating block",S,_),wzt(a,_,S,C)):(Zr.enabled&&Zr("Replacing block",S,_),xzt(a,_,C)),g=!0):(o.next({type:"invalidValue",resolution:k.resolution,value:p}),b=!1)}if(!S&&b){const j=[p[C]],k=sj(j,i,r);Zr.enabled&&Zr("Validating and inserting new block in the end of the value",_),k.valid?xx(a,()=>{se.insertNodes(a,_,{at:[C]})}):(Zr("Invalid",k),o.next({type:"invalidValue",resolution:k.resolution,value:p}),b=!1)}})})})})})}if(!b){Zr("Invalid value, returning");return}if(g){Zr("Server value changed, syncing editor");try{a.onChange()}catch(y){console.error(y),o.next({type:"invalidValue",resolution:null,value:p});return}x&&!a.selection&&(se.select(a,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),a.onChange()),o.next({type:"value",value:p})}else Zr("Server value and editor value is equal, no need to sync.");s.current=p};return c.current=f,f},[o,r,t,n,i,a,d])}function xzt(e,t,n){const r=e.selection,o=r&&r.focus.path[0]===n;o&&se.deselect(e),se.removeNodes(e,{at:[n]}),xx(e,()=>{se.insertNodes(e,t,{at:[n]})}),o&&se.select(e,r)}function wzt(e,t,n,r){if(se.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const o=n.children.length;t.children.length<o&&Array.from(Array(o-t.children.length)).forEach((i,s)=>{const a=o-1-s;a>0&&(Zr("Removing child"),se.removeNodes(e,{at:[r,a]}))}),t.children.forEach((i,s)=>{const a=n.children[s],c=!zt(i,a),u=!zt(i.text,a==null?void 0:a.text),d=[r,s];if(c)if(i._key===(a==null?void 0:a._key)){Zr("Updating changed child",i,a),se.setNodes(e,i,{at:d});const f=we.isText(i)&&i._type==="span"&&we.isText(a)&&a._type==="span";f&&u?(se.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:a.text.length}}}),se.insertText(e,i.text,{at:d}),e.onChange()):f||(Zr("Updating changed inline object child",i),se.setNodes(e,{_key:$Oe},{at:[...d,0],voids:!0}))}else a?(Zr("Replacing child",i),se.removeNodes(e,{at:[r,s]}),xx(e,()=>{se.insertNodes(e,i,{at:[r,s]})}),e.onChange()):a||(Zr("Inserting new child",i),xx(e,()=>{se.insertNodes(e,i,{at:[r,s]}),e.onChange()}))})}}const Jc=Br("component:PortableTextEditor:Synchronizer"),nne=Jc.enabled&&!1,_zt=1e3;function Czt(e){const{change$:t,portableTextEditor:n,onChange:r,keyGenerator:o,readOnly:i,value:s}=e,[a,c]=h.useState(null),u=h.useRef([]),d=bzt({keyGenerator:o,onChange:r,portableTextEditor:n,readOnly:i}),f=tO();h.useEffect(()=>{eE.set(f,!1)},[f]);const p=h.useCallback(()=>{if(u.current.length>0){Jc("Flushing pending patches"),nne&&Jc(`Patches:
`.concat(JSON.stringify(u.current,null,2)));const y=_e.getValue(n);r({type:"mutation",patches:u.current,snapshot:y}),u.current=[]}eE.set(f,!1)},[f,n,r]),m=h.useCallback(y=>{if(L.isNormalizing(f)){p();return}y()},[p,f]),v=h.useMemo(()=>bA(()=>{m(v)},_zt,{leading:!1,trailing:!0}),[m]);h.useEffect(()=>()=>{p()},[p]),h.useEffect(()=>{Jc("Subscribing to editor changes$");const y=t.subscribe(w=>{switch(w.type){case"patch":eE.set(f,!0),u.current.push(w.patch),v(),r(w);break;case"selection":h.startTransition(()=>{nne&&Jc("Setting selection"),c(w.selection)}),r(w);break;default:r(w)}});return()=>{Jc("Unsubscribing to changes$"),y.unsubscribe()}},[t,r,p,v,f,d]);const g=h.useCallback(()=>{Jc("Editor is online, syncing from props.value"),t.next({type:"connection",value:"online"}),d(s)},[t,d,s]),b=h.useCallback(()=>{Jc("Editor is offline"),t.next({type:"connection",value:"offline"})},[t]);h.useEffect(()=>(n.props.patches$&&(window.addEventListener("online",g),window.addEventListener("offline",b)),()=>{n.props.patches$&&(window.removeEventListener("online",g),window.removeEventListener("offline",b))}));const x=h.useRef(!0);return h.useEffect(()=>{Jc("Value from props changed, syncing new value"),d(s),x.current&&(t.next({type:"loading",isLoading:!1}),t.next({type:"ready"}),x.current=!1)},[t,d,s]),l.jsx(jOe.Provider,{value:o,children:l.jsx(YOe.Provider,{value:n,children:l.jsx(vzt.Provider,{value:s,children:l.jsx(qOe.Provider,{value:i,children:l.jsx(WOe.Provider,{value:a,children:e.children})})})})})}const z0=Br("component:PortableTextEditor");class _e extends ne.Component{constructor(t){if(super(t),this.change$=new gr,this.setEditable=n=>{this.editable={...this.editable,...n}},!t.schemaType)throw new Error('PortableTextEditor: missing "type" property');t.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=Dte(t.schemaType.hasOwnProperty("jsonType")?t.schemaType:Pte(t.schemaType))}componentDidUpdate(t){this.props.schemaType!==t.schemaType&&(this.schemaTypes=Dte(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:Pte(this.props.schemaType)))}render(){const{onChange:t,value:n,children:r,patches$:o,incomingPatches$:i}=this.props,{change$:s}=this,a=i||o,c=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,u=!!this.props.readOnly,d=this.props.keyGenerator||Qk;return l.jsx(gzt,{keyGenerator:d,maxBlocks:c,patches$:a,portableTextEditor:this,readOnly:u,children:l.jsx(Czt,{change$:s,keyGenerator:d,onChange:t,portableTextEditor:this,readOnly:u,value:n,children:r})})}}_e.activeAnnotations=e=>e&&e.editable?e.editable.activeAnnotations():[];_e.addAnnotation=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.addAnnotation(t,n)};_e.blur=e=>{var t;z0("Host blurred"),(t=e.editable)==null||t.blur()};_e.delete=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.delete(t,n)};_e.findDOMNode=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.findDOMNode(t)};_e.findByPath=(e,t)=>{var n;return((n=e.editable)==null?void 0:n.findByPath(t))||[]};_e.focus=e=>{var t;z0("Host requesting focus"),(t=e.editable)==null||t.focus()};_e.focusBlock=e=>{var t;return(t=e.editable)==null?void 0:t.focusBlock()};_e.focusChild=e=>{var t;return(t=e.editable)==null?void 0:t.focusChild()};_e.getSelection=e=>e.editable?e.editable.getSelection():null;_e.getValue=e=>{var t;return(t=e.editable)==null?void 0:t.getValue()};_e.hasBlockStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasBlockStyle(t)};_e.hasListStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasListStyle(t)};_e.isCollapsedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isCollapsedSelection()};_e.isExpandedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isExpandedSelection()};_e.isMarkActive=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isMarkActive(t)};_e.insertChild=(e,t,n)=>{var r;return z0("Host inserting child"),(r=e.editable)==null?void 0:r.insertChild(t,n)};_e.insertBlock=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.insertBlock(t,n)};_e.insertBreak=e=>{var t;return(t=e.editable)==null?void 0:t.insertBreak()};_e.isVoid=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isVoid(t)};_e.isObjectPath=(e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&t[1]==="children";return t.length>1&&t[1]!=="children"||n};_e.marks=e=>{var t;return(t=e.editable)==null?void 0:t.marks()};_e.select=(e,t)=>{var n;z0("Host setting selection",t),(n=e.editable)==null||n.select(t)};_e.removeAnnotation=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.removeAnnotation(t)};_e.toggleBlockStyle=(e,t)=>{var n;return z0("Host is toggling block style"),(n=e.editable)==null?void 0:n.toggleBlockStyle(t)};_e.toggleList=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.toggleList(t)};_e.toggleMark=(e,t)=>{var n;z0("Host toggling mark",t),(n=e.editable)==null||n.toggleMark(t)};function rne(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const o=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,i=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,s=t.find(a=>a._key===o);if(s)n.push({_key:s._key});else return null;if(s&&e.path[1]==="children"){if(!s.children||Array.isArray(s.children)&&s.children.length===0)return null;const a=Array.isArray(s.children)&&s.children.find(c=>c._key===i);if(a)n.push("children"),n.push({_key:a._key}),r=a.text&&a.text.length>=e.offset?e.offset:a.text&&a.text.length||0;else return null}return{path:n,offset:r}}function Szt(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:o,focus:i}=e;return o&&t.find(s=>zt({_key:s._key},o.path[0]))&&(n=rne(o,t)),i&&t.find(s=>zt({_key:s._key},i.path[0]))&&(r=rne(i,t)),n&&r?{anchor:n,focus:r}:null}function Ezt(e){const t=h.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return l.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}const kzt=Br("components:Leaf"),one=[],jzt=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:o,renderChild:i,renderDecorator:s,renderAnnotation:a}=e,c=ne.useRef(null),u=uo(),d=dOe(),[f,p]=h.useState(!1),[m,v]=h.useState(!1),g=n.props.parent,b=h.useMemo(()=>g?[{_key:g==null?void 0:g._key},"children",{_key:r._key}]:[],[g,r._key]),x=h.useMemo(()=>o.decorators.map(j=>j.value),[o.decorators]),y=h.useMemo(()=>so((r.marks||one).filter(j=>x.includes(j))),[x,r.marks]),w=Array.isArray(r.marks)?r.marks:one,_=h.useMemo(()=>w.map(j=>{var k;return!x.includes(j)&&((k=g==null?void 0:g.markDefs)==null?void 0:k.find(T=>T._key===j))}).filter(Boolean),[w,g,x]),C=_.length>0&&d;h.useEffect(()=>{if(!C){p(!1);return}const j=_e.getSelection(u);j&&zt(j.focus.path,b)&&_e.isCollapsedSelection(u)&&h.startTransition(()=>{p(!0)})},[C,b,u]);const S=h.useCallback(()=>{if(!C)return;kzt("Setting selection and focus from range");const j=window.getSelection();if(!j){v(!1);return}if(j&&j.rangeCount>0){const k=j.getRangeAt(0);c.current&&k.intersectsNode(c.current)?v(!0):v(!1)}else v(!1)},[C]);h.useEffect(()=>{if(!C)return;const j=u.change$.subscribe(k=>{if(k.type==="blur"){p(!1),v(!1);return}if(k.type==="focus"){const T=_e.getSelection(u);T&&zt(T.focus.path,b)&&_e.isCollapsedSelection(u)&&p(!0),S();return}k.type==="selection"&&(k.selection&&zt(k.selection.focus.path,b)&&_e.isCollapsedSelection(u)?p(!0):p(!1),S())});return()=>{j.unsubscribe()}},[b,u,S,C]),h.useEffect(()=>S(),[S]);const E=h.useMemo(()=>{let j=n;if(we.isText(r)&&r._type===o.span.name&&(y.forEach(k=>{const T=o.decorators.find(A=>A.value===k);if(T&&s){const A=Object.defineProperty({children:j,editorElementRef:c,focused:f,path:b,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=s(A)}}),g&&_.length>0&&_.forEach(k=>{const T=o.annotations.find(A=>A.name===k._type);if(T)if(a){const A=Object.defineProperty({block:g,children:j,editorElementRef:c,focused:f,path:b,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=l.jsx("span",{ref:c,children:a(A)})}else j=l.jsx(Ezt,{annotation:k,children:l.jsx("span",{ref:c,children:j})})}),g&&i)){const k=g.children.find(T=>T._key===r._key);if(k){const T=l.jsx(l.Fragment,{children:j}),A=Object.defineProperty({annotations:_,children:T,editorElementRef:c,focused:f,path:b,schemaType:o.span,selected:m,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.span}});j=i(A)}}return j},[_,g,n,f,r,y,b,a,i,s,o.annotations,o.decorators,o.span,m]);return h.useMemo(()=>l.jsx("span",{...t,ref:c,children:E},r._key),[r,t,E])},AC=e=>l.jsx("div",{children:l.jsx("pre",{children:JSON.stringify(e.value,null,2)})});var ine=Object.freeze,Tzt=Object.defineProperty,iO=(e,t)=>ine(Tzt(e,"raw",{value:ine(t||e.slice())})),sne,ane,lne,cne;const Azt=I.div(sne||(sne=iO([`
  user-select: none;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");I.span(ane||(ane=iO([`
  background: #999;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");const Ozt=I.div(lne||(lne=iO([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),e=>Dzt(e.listLevel),e=>Rzt(e.listLevel,e.listStyle),e=>$zt(e.listLevel),e=>Mzt(e.listLevel),e=>Fzt(e.listLevel)),Pzt=I.div(cne||(cne=iO([""])));function Dzt(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const Izt=["●","○","■"];function Rzt(e,t){const n=(e-1)%3;return t==="bullet"?Izt[n]:"*"}function $zt(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function Mzt(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function Fzt(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const Wl=Br("components:DraggableBlock"),une=e=>{let{children:t,element:n,readOnly:r,blockRef:o}=e;const i=Fc(),s=h.useRef(),[a,c]=h.useState(!1),u=h.useMemo(()=>L.isVoid(i,n),[i,n]),d=h.useMemo(()=>L.isInline(i,n),[i,n]),[f,p]=h.useState(null);h.useEffect(()=>p(o?o.current:he.toDOMNode(i,n)),[i,n,o]);const m=h.useCallback(k=>{const T=V1.get(i);if(!T||!f)return;k.preventDefault(),k.dataTransfer.dropEffect="move",H1.set(i,n);const A=f.getBoundingClientRect(),O=A.top,P=A.height,D=k.pageY,R=Math.abs(O-D);let $="bottom";if(n===i.children[0]?$="top":R<P/2?($="top",U1.set(i,$)):($="bottom",U1.set(i,$)),T===n){k.dataTransfer.dropEffect="none";return}c(!0)},[f,i,n]),v=h.useCallback(()=>{c(!1)},[]),g=h.useCallback(k=>{const T=H1.get(i);if(T){CC.set(i,!1),k.preventDefault(),k.stopPropagation(),H1.delete(i),s.current&&(Wl("Removing drag ghost"),document.body.removeChild(s.current));const A=U1.get(i);U1.delete(i);let O=he.findPath(i,T);const P=he.findPath(i,n),D=ee.isBefore(P,O);if(A==="bottom"&&!D){if(O[0]>=i.children.length-1){Wl("target is already at the bottom, not moving");return}const R=O;O=ee.next(O),Wl("Adjusting targetPath from ".concat(JSON.stringify(R)," to ").concat(JSON.stringify(O)))}if(A==="top"&&D&&O[0]!==i.children.length-1){const R=O;O=ee.previous(O),Wl("Adjusting targetPath from ".concat(JSON.stringify(R)," to ").concat(JSON.stringify(O)))}if(ee.equals(O,P)){k.preventDefault(),Wl("targetPath and myPath is the same, not moving");return}Wl("Moving element ".concat(n._key," from path ").concat(JSON.stringify(P)," to ").concat(JSON.stringify(O)," (").concat(A,")")),se.moveNodes(i,{at:P,to:O}),i.onChange();return}Wl("No target element, not doing anything")},[i,n]),b=h.useCallback(k=>{V1.get(i)&&(Wl("On drop (prevented)",n),k.preventDefault(),k.stopPropagation(),c(!1))},[i,n]),x=h.useCallback(k=>{if(!u){V1.delete(i);return}CC.set(i,!0),V1.set(i,n),k.stopPropagation();const T=k.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,n,u]),y=h.useCallback(k=>{if(!u||d){Wl("Not dragging block"),V1.delete(i),CC.set(i,!1);return}if(Wl("Drag start"),CC.set(i,!0),k.dataTransfer&&(k.dataTransfer.setData("application/portable-text","something"),k.dataTransfer.effectAllowed="move"),f&&f instanceof HTMLElement){let T=f.cloneNode(!0);const A=T.querySelector("[data-pt-drag-ghost-element]");if(A&&(T=A),T.setAttribute("data-dragged",""),document.body){s.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const O=f.getBoundingClientRect(),P=k.clientX-O.left,D=k.clientY-O.top;T.style.width="".concat(O.width,"px"),T.style.height="".concat(O.height,"px"),k.dataTransfer.setDragImage(T,P,D)}}x(k)},[f,i,x,d,u]),w=a&&i.children[0]===H1.get(i),_=a&&i.children[i.children.length-1]===H1.get(i),C=U1.get(i),S=w||a&&!w&&!_&&C==="top",E=_||a&&!w&&!_&&C==="bottom",j=h.useMemo(()=>l.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return r?l.jsx(l.Fragment,{children:t}):l.jsxs("div",{draggable:u,onDragStart:y,onDrag:x,onDragOver:m,onDragLeave:v,onDragEnd:g,onDrop:b,children:[S&&j,t,E&&j]})};Br("components:Element");const Lzt=[],Bzt={display:"inline-block"},Nzt=e=>{let{attributes:t,children:n,element:r,schemaTypes:o,readOnly:i,renderBlock:s,renderChild:a,renderListItem:c,renderStyle:u,spellCheck:d}=e;const f=Fc(),p=dOe(),m=h.useRef(null),v=h.useRef(null),g=p&&f.selection&&ue.isCollapsed(f.selection)||!1,b=h.useMemo(()=>hr([r],o.block.name,va.get(f))[0],[f,r,o.block.name]);let x=n,y;const w=h.useMemo(()=>[{_key:r._key}],[r]);if(typeof r._type!="string")throw new Error("Expected element to have a _type property");if(typeof r._key!="string")throw new Error("Expected element to have a _key property");if(f.isInline(r)){const E=he.findPath(f,r),[j]=L.node(f,E,{depth:1}),k=o.inlineObjects.find(T=>T.name===r._type);if(!k)throw new Error("Could not find type for inline block element");if(Ie.isElement(j)){const T=[{_key:j._key},"children",{_key:r._key}];return l.jsxs("span",{...t,children:[n,l.jsxs("span",{draggable:!i,className:"pt-inline-object",ref:v,style:Bzt,contentEditable:!1,children:[a&&a({annotations:Lzt,children:l.jsx(AC,{value:b}),editorElementRef:v,focused:g,path:T,schemaType:k,selected:p,type:k,value:b}),!a&&l.jsx(AC,{value:b})]},r._key)]})}throw new Error("Block not found!")}if(r._type===o.block.name){y="pt-block pt-text-block";const E="listItem"in r,j="style"in r&&r.style||"normal";y="pt-block pt-text-block pt-text-block-style-".concat(j);const k=o.styles.find(P=>P.value===j);u&&k&&(x=u({block:r,children:n,focused:g,selected:p,value:j,path:w,schemaType:k,editorElementRef:m}));let T;if(E&&(typeof r.level=="number"&&(T=r.level),y+=" pt-list-item pt-list-item-".concat(r.listItem," pt-list-item-level-").concat(T||1)),f.isListBlock(b)&&E&&r.listItem){const P=o.lists.find(D=>D.value===r.listItem);c&&P?x=c({block:b,children:x,focused:g,selected:p,value:r.listItem,path:w,schemaType:P,level:b.level||1,editorElementRef:m}):x=l.jsx(Ozt,{listStyle:b.listItem||o.lists[0].value,listLevel:b.level||1,children:l.jsx(Pzt,{children:x})})}const A=Object.defineProperty({children:x,editorElementRef:m,focused:g,level:T,listItem:E?r.listItem:void 0,path:w,selected:p,style:j,schemaType:o.block,value:b},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.block}}),O=s?s(A):n;return l.jsx("div",{...t,className:y,spellCheck:d,children:l.jsx(une,{element:r,readOnly:i,blockRef:m,children:l.jsx("div",{ref:m,children:O})})},r._key)}const _=o.blockObjects.find(E=>E.name===r._type);if(!_)throw new Error("Could not find schema type for block element of _type ".concat(r._type));y="pt-block pt-object-block";const C=hr([r],o.block.name,va.get(f))[0];let S;if(s){const E=Object.defineProperty({children:l.jsx(AC,{value:b}),editorElementRef:m,focused:g,path:w,schemaType:_,selected:p,value:C},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),_}});S=s(E)}return l.jsxs("div",{...t,className:y,children:[n,l.jsxs(une,{element:r,readOnly:i,blockRef:m,children:[S&&l.jsx("div",{ref:m,contentEditable:!1,children:S}),!S&&l.jsx(Azt,{selected:p,children:l.jsx(AC,{value:b})})]})]},r._key)},zzt=typeof window>"u"?h.useEffect:h.useLayoutEffect;function Vzt(e){const t=h.useRef(null);return zzt(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}const Yl=Br("component:Editable"),Hzt={opacity:.5,position:"absolute",userSelect:"none",pointerEvents:"none"},Uzt=[],GOe=h.forwardRef(function(t,n){const{hotkeys:r,onBlur:o,onFocus:i,onBeforeInput:s,onPaste:a,onCopy:c,renderAnnotation:u,renderBlock:d,renderChild:f,renderDecorator:p,renderListItem:m,renderPlaceholder:v,renderStyle:g,selection:b,scrollSelectionIntoView:x,spellCheck:y,...w}=t,_=uo(),C=yzt(),S=qBt(),E=Vzt(n),[j,k]=h.useState(!1),{change$:T,schemaTypes:A}=_,O=tO(),P=A.block.name,D=h.useMemo(()=>fzt(T,A,S),[T,S,A]),R=h.useMemo(()=>dzt(A,S,_,r),[r,S,_,A]);h.useMemo(()=>C?(Yl("Editable is in read only mode"),D(O)):(Yl("Editable is in edit mode"),D(R(O))),[C,O,R,D]);const $=h.useCallback(X=>l.jsx(Nzt,{...X,readOnly:C,renderBlock:d,renderChild:f,renderListItem:m,renderStyle:g,schemaTypes:A,spellCheck:y}),[A,y,C,d,f,m,g]),H=h.useCallback(X=>{const Q=l.jsx(jzt,{...X,schemaTypes:A,renderAnnotation:u,renderChild:f,renderDecorator:p,readOnly:C});return v&&X.leaf.placeholder&&X.text.text===""?l.jsxs(l.Fragment,{children:[l.jsx("span",{style:Hzt,contentEditable:!1,children:v()}),Q]}):Q},[C,u,f,p,v,A]),F=h.useCallback(()=>{if(b){Yl("Selection from props ".concat(JSON.stringify(b)));const X=Szt(b,hr(O.children,P));if(X!==null){Yl("Normalized selection from props ".concat(JSON.stringify(X)));const Q=tE(X,O);Q&&(se.select(O,Q),O.operations.some(Z=>Z.type==="set_selection")||T.next({type:"selection",selection:X}),O.onChange())}}},[b,O,P,T]);h.useEffect(()=>{Yl("Subscribing to editor changes$");const X=T.subscribe(Q=>{switch(Q.type){case"ready":F();break;case"invalidValue":k(!0);break;case"value":k(!1);break}});return()=>{Yl("Unsubscribing to changes$"),X.unsubscribe()}},[T,F]),h.useEffect(()=>{b&&!j&&F()},[j,b,F]);const V=h.useCallback(X=>{c&&c(X)!==void 0&&X.preventDefault()},[c]),W=h.useCallback(X=>{if(X.preventDefault(),!!O.selection){if(!a){Yl("Pasting normally"),O.insertData(X.clipboardData);return}new Promise(Q=>{const Z=_e.getValue(_),re=op(Z,O.selection,A),ae=(re==null?void 0:re.focus.path)||[];Q(a({event:X,value:Z,path:ae,schemaTypes:A}))}).then(Q=>{if(Yl("Custom paste function from client resolved",Q),T.next({type:"loading",isLoading:!0}),!Q||!Q.insert){Yl("No result from custom paste handler, pasting normally"),O.insertData(X.clipboardData);return}if(Q&&Q.insert){O.insertFragment(bc(Q.insert,{schemaTypes:A})),T.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",Q)}).catch(Q=>(T.next({type:"loading",isLoading:!1}),console.error(Q),Q))}},[T,a,_,A,O]),z=h.useCallback(X=>{if(i&&i(X),!X.isDefaultPrevented()){const Q=_e.getSelection(_);T.next({type:"focus",event:X});const Z=_e.getSelection(_);Q===Z&&T.next({type:"selection",selection:Q})}},[T,_,i]),q=h.useCallback(X=>{o&&o(X),X.isPropagationStopped()||T.next({type:"blur",event:X})},[T,o]),oe=h.useCallback(X=>{s&&s(X)},[s]),N=h.useCallback(()=>{let X=null;const Q=O.selection;try{X=O.selection&&he.toDOMRange(O,O.selection)}catch{rj(!0),se.deselect(O),se.select(O,[0,0]),O.onChange(),Yl("Could not resolve selection (".concat(JSON.stringify(Q),"), unselecting"))}},[O]);h.useEffect(()=>{const X=new MutationObserver(N);return E.current&&X.observe(E.current,{childList:!0,subtree:!0}),()=>{X.disconnect()}},[N,E]);const G=h.useCallback(X=>{t.onKeyDown&&t.onKeyDown(X),X.isDefaultPrevented()||O.pteWithHotKeys(X)},[t,O]),Y=h.useMemo(()=>{if(x!==void 0)return x===null?$je:(X,Q)=>{x(_,Q)}},[_,x]),K=h.useCallback(()=>nj(O.children,A)?[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}]:Uzt,[A,O]);return h.useEffect(()=>{E.current=he.toDOMNode(O,O)},[O,E]),_?j?null:l.jsx(w7t,{...w,autoFocus:!1,className:w.className||"pt-editable",decorate:K,onBlur:q,onCopy:V,onDOMBeforeInput:oe,onFocus:z,onKeyDown:G,onPaste:W,readOnly:C,renderPlaceholder:void 0,renderElement:$,renderLeaf:H,scrollSelectionIntoView:Y}):null});var Wzt=S5e,Yzt=O0,dne=TA;function qzt(e,t,n){var r=e.length;if(r<2)return r?dne(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=Wzt(i[o]||s,e[a],t,n));return dne(Yzt(i,1),t,n)}var Gzt=qzt,Kzt=LEe,Zzt=D0,Xzt=Gzt,Qzt=wA,Jzt=Zzt(function(e){return Xzt(Kzt(e,Qzt))}),eVt=Jzt;const tVt=Pe(eVt);function KOe(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(nVt(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const o=r===0?"":".";return"".concat(t).concat(o).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function nVt(e){return typeof e=="object"&&typeof e._key=="string"}class jy extends Error{constructor(t,n,r){const o=KOe(n);super("".concat(t," (at '").concat(o,"')")),this.path=n,this.serializedPath=o,this.value=r}}const rVt=/^[a-z0-9][a-z0-9_.-]+$/i,oVt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,iVt=/^[a-z_]/i;function fne(e,t,n){if(!iVt.test(e))throw new jy("Keys must start with a letter (a-z)",n.concat(e),t);if(!oVt.test(e))throw new jy("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new jy("Keys must be strings",n.concat(e),t);if(!rVt.test(t))throw new jy("Invalid key - use less exotic characters",n.concat(e),t)}return e}const sVt=["_id","_type","_createdAt","_updatedAt","_rev"],HF={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function aVt(e){return{...HF,...e,diffMatchPatch:{...HF.diffMatchPatch,...e.diffMatchPatch||{}}}}function sO(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:HF,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return o;const i=Array.isArray(e)?"array":typeof e,s=Array.isArray(t)?"array":typeof t,a=i==="undefined",c=s==="undefined";if(a&&!c)return o.push({op:"set",path:r,value:t}),o;if(!a&&c)return o.push({op:"unset",path:r}),o;const u=aVt(n),d=a?s:i;return d==="object"||d==="array"?i!==s?(o.push({op:"set",path:r,value:t}),o):d==="array"?cVt(e,t,u,r,o):lVt(e,t,u,r,o):fVt(e,t,u,r,o)}function lVt(e,t,n,r,o){const i=r.length===0,s=Object.keys(e).filter(i?hne:mne).map(d=>fne(d,e[d],r)),a=s.length,c=Object.keys(t).filter(i?hne:mne).map(d=>fne(d,t[d],r)),u=c.length;for(let d=0;d<a;d++){const f=s[d];f in t||o.push({op:"unset",path:r.concat(f)})}for(let d=0;d<u;d++){const f=c[d];sO(e[f],t[f],n,r.concat([f]),o)}return o}function cVt(e,t,n,r,o){if(t.length>e.length&&o.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((c,u)=>$N(c,r,u,n))}),t.length<e.length){const c=e.length-t.length===1,u=e.slice(t.length);mVt(n)||!i3(u)?o.push({op:"unset",path:r.concat([c?t.length:[t.length,""]])}):o.push(...u.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let c=0;c<t.length;c++)if(Array.isArray(t[c]))throw new jy("Multi-dimensional arrays not supported",r.concat(c),t[c]);const i=Math.min(e.length,t.length),s=e.slice(0,i),a=t.slice(0,i);return i3(s)&&i3(a)?uVt(s,a,n,r,o):ZOe(s,a,n,r,o)}function ZOe(e,t,n,r,o){for(let i=0;i<e.length;i++)sO(e[i],$N(t[i],r,i,n),n,r.concat(i),o);return o}function uVt(e,t,n,r,o){const i=pne(e),s=pne(t);if(!pVt(i.keys,s.keys))return ZOe(e,t,n,r,o);for(let a=0;a<s.keys.length;a++){const c=s.keys[a],u=i.index[c],d=$N(s.index[c],r,a,n);sO(u,d,n,r.concat({_key:c}),o)}return o}function dVt(e,t,n,r){const{enabled:o,lengthThresholdRelative:i,lengthThresholdAbsolute:s}=n.diffMatchPatch,a=r[r.length-1];if(!o||typeof e!="string"||typeof t!="string"||typeof a=="string"&&a[0]==="_"||t.length<s)return;let c="";try{const u=Lw(e,t),d=MB(u);c=UTe(VTe(d))}catch{return}return c.length>t.length*i?void 0:{op:"diffMatchPatch",path:r,value:c}}function fVt(e,t,n,r,o){const i=dVt(e,t,n,r);return o.push(i||{op:"set",path:r,value:t}),o}function hne(e){return sVt.indexOf(e)===-1}function i3(e){const t=[];for(let n=0;n<e.length;n++){const r=hVt(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function hVt(e){return typeof e=="object"&&e!==null&&e._key}function pne(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function pVt(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function $N(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const o=KOe(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(o,"')"))}return null}function mVt(e){return!!e.ifRevisionID}function mne(e){return!0}var gVt=_A,vVt=vB,yVt=Object.prototype,bVt=yVt.hasOwnProperty,xVt=vVt(function(e,t,n){bVt.call(e,n)?e[n].push(t):gVt(e,n,[t])}),wVt=xVt;const MN=Pe(wVt);let gne=e=>typeof e=="object"&&e!=null&&e.nodeType===1,vne=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",s3=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let n=getComputedStyle(e,null);return vne(n.overflowY,t)||vne(n.overflowX,t)||(r=>{let o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},OC=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,_Vt=e=>{let t=e.parentElement;return t??(e.getRootNode().host||null)};var yne=(e,t)=>{var n,r,o,i,s,a;if(typeof document>"u")return[];let{scrollMode:c,block:u,inline:d,boundary:f,skipOverflowHiddenElements:p}=t,m=typeof f=="function"?f:D=>D!==f;if(!gne(e))throw new TypeError("Invalid target");let v=document.scrollingElement||document.documentElement,g=[],b=e;for(;gne(b)&&m(b);){if(b=_Vt(b),b===v){g.push(b);break}b!=null&&b===document.body&&s3(b)&&!s3(document.documentElement)||b!=null&&s3(b,p)&&g.push(b)}let x=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,y=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,w=(s=window.scrollX)!=null?s:pageXOffset,_=(a=window.scrollY)!=null?a:pageYOffset,{height:C,width:S,top:E,right:j,bottom:k,left:T}=e.getBoundingClientRect(),A=u==="start"||u==="nearest"?E:u==="end"?k:E+C/2,O=d==="center"?T+S/2:d==="end"?j:T,P=[];for(let D=0;D<g.length;D++){let R=g[D],{height:$,width:H,top:F,right:V,bottom:W,left:z}=R.getBoundingClientRect();if(c==="if-needed"&&E>=0&&T>=0&&k<=y&&j<=x&&E>=F&&k<=W&&T>=z&&j<=V)return P;let q=getComputedStyle(R),oe=parseInt(q.borderLeftWidth,10),N=parseInt(q.borderTopWidth,10),G=parseInt(q.borderRightWidth,10),Y=parseInt(q.borderBottomWidth,10),K=0,X=0,Q="offsetWidth"in R?R.offsetWidth-R.clientWidth-oe-G:0,Z="offsetHeight"in R?R.offsetHeight-R.clientHeight-N-Y:0,re="offsetWidth"in R?R.offsetWidth===0?0:H/R.offsetWidth:0,ae="offsetHeight"in R?R.offsetHeight===0?0:$/R.offsetHeight:0;if(v===R)K=u==="start"?A:u==="end"?A-y:u==="nearest"?OC(_,_+y,y,N,Y,_+A,_+A+C,C):A-y/2,X=d==="start"?O:d==="center"?O-x/2:d==="end"?O-x:OC(w,w+x,x,oe,G,w+O,w+O+S,S),K=Math.max(0,K+_),X=Math.max(0,X+w);else{K=u==="start"?A-F-N:u==="end"?A-W+Y+Z:u==="nearest"?OC(F,W,$,N,Y+Z,A,A+C,C):A-(F+$/2)+Z/2,X=d==="start"?O-z-oe:d==="center"?O-(z+H/2)+Q/2:d==="end"?O-V+G+Q:OC(z,V,H,oe,G+Q,O,O+S,S);let{scrollLeft:me,scrollTop:ce}=R;K=Math.max(0,Math.min(ce+K/ae,R.scrollHeight-$/ae+Z)),X=Math.max(0,Math.min(me+X/re,R.scrollWidth-H/re+Q)),A+=ce-K,O+=me-X}P.push({el:R,top:K,left:X})}return P};let CVt=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function _x(e,t){let n=e.isConnected||e.ownerDocument.documentElement.contains(e);if((s=>typeof s=="object"&&typeof s.behavior=="function")(t))return t.behavior(n?yne(e,t):[]);if(!n)return;let r=CVt(t),o=yne(e,r),i="scrollBehavior"in document.body.style;o.forEach(s=>{let{el:a,top:c,left:u}=s;a.scroll&&i?a.scroll({top:c,left:u,behavior:r.behavior}):(a.scrollTop=c,a.scrollLeft=u)})}function SVt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const aO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function V0(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function FN(e){return"nodeType"in e}function As(e){var t,n;return e?V0(e)?e:FN(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function LN(e){const{Document:t}=As(e);return e instanceof t}function Ww(e){return V0(e)?!1:e instanceof As(e).HTMLElement}function EVt(e){return e instanceof As(e).SVGElement}function H0(e){return e?V0(e)?e.document:FN(e)?LN(e)?e:Ww(e)?e.ownerDocument:document:document:document}const Al=aO?h.useLayoutEffect:h.useEffect;function BN(e){const t=h.useRef(e);return Al(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function kVt(){const e=h.useRef(null),t=h.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Cx(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Al(()=>{n.current!==e&&(n.current=e)},t),n}function Yw(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function aj(e){const t=BN(e),n=h.useRef(null),r=h.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function UF(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let a3={};function qw(e,t){return h.useMemo(()=>{if(t)return t;const n=a3[e]==null?0:a3[e]+1;return a3[e]=n,e+"-"+n},[e,t])}function XOe(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[c,u]of a){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const hv=XOe(1),Sx=XOe(-1);function jVt(e){return"clientX"in e&&"clientY"in e}function NN(e){if(!e)return!1;const{KeyboardEvent:t}=As(e.target);return t&&e instanceof t}function TVt(e){if(!e)return!1;const{TouchEvent:t}=As(e.target);return t&&e instanceof t}function WF(e){if(TVt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return jVt(e)?{x:e.clientX,y:e.clientY}:null}const Ex=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ex.Translate.toString(e),Ex.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),bne="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function AVt(e){return e.matches(bne)?e:e.querySelector(bne)}const OVt={display:"none"};function PVt(e){let{id:t,value:n}=e;return ne.createElement("div",{id:t,style:OVt},n)}const DVt={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function IVt(e){let{id:t,announcement:n}=e;return ne.createElement("div",{id:t,style:DVt,role:"status","aria-live":"assertive","aria-atomic":!0},n)}function RVt(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const QOe=h.createContext(null);function $Vt(e){const t=h.useContext(QOe);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function MVt(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const FVt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},LVt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function BVt(e){let{announcements:t=LVt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=FVt}=e;const{announce:i,announcement:s}=RVt(),a=qw("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),$Vt(h.useMemo(()=>({onDragStart(f){let{active:p}=f;i(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&i(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;i(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;i(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;i(t.onDragCancel({active:p,over:m}))}}),[i,t])),!c)return null;const d=ne.createElement(ne.Fragment,null,ne.createElement(PVt,{id:r,value:o.draggable}),ne.createElement(IVt,{id:a,announcement:s}));return n?ac.createPortal(d,n):d}var vo;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(vo||(vo={}));function lj(){}function xne(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function NVt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ol=Object.freeze({x:0,y:0});function JOe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ePe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function zVt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function wne(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function tPe(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function _ne(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const VVt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=_ne(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=JOe(_ne(c),o);i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(ePe)},HVt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=wne(t),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=wne(c),d=o.reduce((p,m,v)=>p+JOe(u[v],m),0),f=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:f}})}}return i.sort(ePe)};function UVt(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const c=t.width*t.height,u=e.width*e.height,d=s*a,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const WVt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const c=UVt(a,t);c>0&&o.push({id:s,data:{droppableContainer:i,value:c}})}}return o.sort(zVt)};function YVt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function nPe(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ol}function qVt(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const GVt=qVt(1);function KVt(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function ZVt(e,t,n){const r=KVt(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,c=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const XVt={ignoreTransform:!1};function U0(e,t){t===void 0&&(t=XVt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{getComputedStyle:u}=As(e),{transform:d,transformOrigin:f}=u(e);d&&(n=ZVt(n,d,f))}const{top:r,left:o,width:i,height:s,bottom:a,right:c}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:c}}function Cne(e){return U0(e,{ignoreTransform:!0})}function QVt(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function JVt(e,t){return t===void 0&&(t=As(e).getComputedStyle(e)),t.position==="fixed"}function eHt(e,t){t===void 0&&(t=As(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function lO(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(LN(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Ww(o)||EVt(o)||n.includes(o))return n;const{getComputedStyle:i}=As(o),s=i(o);return o!==e&&eHt(o,s)&&n.push(o),JVt(o,s)?n:r(o.parentNode)}return e?r(e):n}function rPe(e){const[t]=lO(e,1);return t??null}function l3(e){return!aO||!e?null:V0(e)?e:FN(e)?LN(e)||e===H0(e).scrollingElement?window:Ww(e)?e:null:null}function oPe(e){return V0(e)?e.scrollX:e.scrollLeft}function iPe(e){return V0(e)?e.scrollY:e.scrollTop}function YF(e){return{x:oPe(e),y:iPe(e)}}var Oo;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Oo||(Oo={}));function sPe(e){return!aO||!e?!1:e===document.scrollingElement}function aPe(e){const t={x:0,y:0},n=sPe(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const tHt={x:.2,y:.2};function nHt(e,t,n,r,o){let{top:i,left:s,right:a,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=tHt);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=aPe(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+g.height?(m.y=Oo.Backward,v.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&c>=t.bottom-g.height&&(m.y=Oo.Forward,v.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!p&&a>=t.right-g.width?(m.x=Oo.Forward,v.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&s<=t.left+g.width&&(m.x=Oo.Backward,v.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:m,speed:v}}function rHt(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function lPe(e){return e.reduce((t,n)=>hv(t,YF(n)),Ol)}function oHt(e){return e.reduce((t,n)=>t+oPe(n),0)}function iHt(e){return e.reduce((t,n)=>t+iPe(n),0)}function sHt(e,t){if(t===void 0&&(t=U0),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);rPe(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const aHt=[["x",["left","right"],oHt],["y",["top","bottom"],iHt]];let zN=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=lO(n),o=lPe(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of aHt)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=a(r),d=o[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class vb{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function lHt(e){const{EventTarget:t}=As(e);return e instanceof t?e:H0(e)}function c3(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ba;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ba||(ba={}));function Sne(e){e.preventDefault()}function cHt(e){e.stopPropagation()}var qt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(qt||(qt={}));const cPe={start:[qt.Space,qt.Enter],cancel:[qt.Esc],end:[qt.Space,qt.Enter]},uHt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case qt.Right:return{...n,x:n.x+25};case qt.Left:return{...n,x:n.x-25};case qt.Down:return{...n,y:n.y+25};case qt.Up:return{...n,y:n.y-25}}};class VN{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new vb(H0(n)),this.windowListeners=new vb(As(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ba.Resize,this.handleCancel),this.windowListeners.add(ba.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ba.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&sHt(r),n(Ol)}handleKeyDown(t){if(NN(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=cPe,coordinateGetter:s=uHt,scrollBehavior:a="smooth"}=o,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Ol;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=Sx(f,d),m={x:0,y:0},{scrollableAncestors:v}=r.current;for(const g of v){const b=t.code,{isTop:x,isRight:y,isLeft:w,isBottom:_,maxScroll:C,minScroll:S}=aPe(g),E=rHt(g),j={x:Math.min(b===qt.Right?E.right-E.width/2:E.right,Math.max(b===qt.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(b===qt.Down?E.bottom-E.height/2:E.bottom,Math.max(b===qt.Down?E.top:E.top+E.height/2,f.y))},k=b===qt.Right&&!y||b===qt.Left&&!w,T=b===qt.Down&&!_||b===qt.Up&&!x;if(k&&j.x!==f.x){const A=g.scrollLeft+p.x,O=b===qt.Right&&A<=C.x||b===qt.Left&&A>=S.x;if(O&&!p.y){g.scrollTo({left:A,behavior:a});return}O?m.x=g.scrollLeft-A:m.x=b===qt.Right?g.scrollLeft-C.x:g.scrollLeft-S.x,m.x&&g.scrollBy({left:-m.x,behavior:a});break}else if(T&&j.y!==f.y){const A=g.scrollTop+p.y,O=b===qt.Down&&A<=C.y||b===qt.Up&&A>=S.y;if(O&&!p.x){g.scrollTo({top:A,behavior:a});return}O?m.y=g.scrollTop-A:m.y=b===qt.Down?g.scrollTop-C.y:g.scrollTop-S.y,m.y&&g.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,hv(Sx(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}VN.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=cPe,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function Ene(e){return!!(e&&"distance"in e)}function kne(e){return!!(e&&"delay"in e)}class HN{constructor(t,n,r){var o;r===void 0&&(r=lHt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=H0(s),this.documentListeners=new vb(this.document),this.listeners=new vb(r),this.windowListeners=new vb(As(s)),this.initialCoordinates=(o=WF(i))!=null?o:Ol,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(ba.Resize,this.handleCancel),this.windowListeners.add(ba.DragStart,Sne),this.windowListeners.add(ba.VisibilityChange,this.handleCancel),this.windowListeners.add(ba.ContextMenu,Sne),this.documentListeners.add(ba.Keydown,this.handleKeydown),n){if(Ene(n))return;if(kne(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ba.Click,cHt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ba.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const c=(n=WF(t))!=null?n:Ol,u=Sx(o,c);if(!r&&a){if(kne(a))return c3(u,a.tolerance)?this.handleCancel():void 0;if(Ene(a))return a.tolerance!=null&&c3(u,a.tolerance)?this.handleCancel():c3(u,a.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===qt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const dHt={move:{name:"pointermove"},end:{name:"pointerup"}};class UN extends HN{constructor(t){const{event:n}=t,r=H0(n.target);super(t,dHt,r)}}UN.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const fHt={move:{name:"mousemove"},end:{name:"mouseup"}};var qF;(function(e){e[e.RightClick=2]="RightClick"})(qF||(qF={}));class hHt extends HN{constructor(t){super(t,fHt,H0(t.event.target))}}hHt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===qF.RightClick?!1:(r==null||r({event:n}),!0)}}];const u3={move:{name:"touchmove"},end:{name:"touchend"}};class pHt extends HN{constructor(t){super(t,u3)}static setup(){return window.addEventListener(u3.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(u3.move.name,t)};function t(){}}}pHt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var yb;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(yb||(yb={}));var cj;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(cj||(cj={}));function mHt(e){let{acceleration:t,activator:n=yb.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=cj.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=vHt({delta:f,disabled:!i}),[v,g]=kVt(),b=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),y=h.useMemo(()=>{switch(n){case yb.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case yb.DraggableRect:return o}},[n,o,c]),w=h.useRef(null),_=h.useCallback(()=>{const S=w.current;if(!S)return;const E=b.current.x*x.current.x,j=b.current.y*x.current.y;S.scrollBy(E,j)},[]),C=h.useMemo(()=>a===cj.TreeOrder?[...u].reverse():u,[a,u]);h.useEffect(()=>{if(!i||!u.length||!y){g();return}for(const S of C){if((r==null?void 0:r(S))===!1)continue;const E=u.indexOf(S),j=d[E];if(!j)continue;const{direction:k,speed:T}=nHt(S,j,y,t,p);for(const A of["x","y"])m[A][k[A]]||(T[A]=0,k[A]=0);if(T.x>0||T.y>0){g(),w.current=S,v(_,s),b.current=T,x.current=k;return}}b.current={x:0,y:0},x.current={x:0,y:0},g()},[t,_,r,g,i,s,JSON.stringify(y),JSON.stringify(m),v,u,C,d,JSON.stringify(p)])}const gHt={x:{[Oo.Backward]:!1,[Oo.Forward]:!1},y:{[Oo.Backward]:!1,[Oo.Forward]:!1}};function vHt(e){let{delta:t,disabled:n}=e;const r=UF(t);return Yw(o=>{if(n||!r||!o)return gHt;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Oo.Backward]:o.x[Oo.Backward]||i.x===-1,[Oo.Forward]:o.x[Oo.Forward]||i.x===1},y:{[Oo.Backward]:o.y[Oo.Backward]||i.y===-1,[Oo.Forward]:o.y[Oo.Forward]||i.y===1}}},[n,t,r])}function yHt(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return Yw(o=>{var i;return t===null?null:(i=r??o)!=null?i:null},[r,t])}function bHt(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var kx;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(kx||(kx={}));var GF;(function(e){e.Optimized="optimized"})(GF||(GF={}));const jne=new Map;function xHt(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=h.useState(null),{frequency:a,measure:c,strategy:u}=o,d=h.useRef(e),f=b(),p=Cx(f),m=h.useCallback(function(x){x===void 0&&(x=[]),!p.current&&s(y=>y===null?x:y.concat(x.filter(w=>!y.includes(w))))},[p]),v=h.useRef(null),g=Yw(x=>{if(f&&!n)return jne;if(!x||x===jne||d.current!==e||i!=null){const y=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const _=w.node.current,C=_?new zN(c(_),_):null;w.rect.current=C,C&&y.set(w.id,C)}return y}return x},[e,i,n,f,c]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[n,f]),h.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},a))},[a,f,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function b(){switch(u){case kx.Always:return!1;case kx.BeforeDragging:return n;default:return!n}}}function uPe(e,t){return Yw(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function wHt(e,t){return uPe(e,t)}function _Ht(e){let{callback:t,disabled:n}=e;const r=BN(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function cO(e){let{callback:t,disabled:n}=e;const r=BN(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function CHt(e){return new zN(U0(e),e)}function Tne(e,t,n){t===void 0&&(t=CHt);const[r,o]=h.useReducer(a,null),i=_Ht({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),s=cO({callback:o});return Al(()=>{o(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),r;function a(c){if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d}}function SHt(e){const t=uPe(e);return nPe(e,t)}const Ane=[];function EHt(e){const t=h.useRef(e),n=Yw(r=>e?r&&r!==Ane&&e&&t.current&&e.parentNode===t.current.parentNode?r:lO(e):Ane,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function kHt(e){const[t,n]=h.useState(null),r=h.useRef(e),o=h.useCallback(i=>{const s=l3(i.target);s&&n(a=>a?(a.set(s,YF(s)),new Map(a)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(c=>{const u=l3(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,YF(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(c=>{const u=l3(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>hv(i,s),Ol):lPe(e):Ol,[e,t])}function One(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==Ol;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Sx(e,n.current):Ol}function jHt(e){h.useEffect(()=>{if(!aO)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function THt(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function dPe(e){return h.useMemo(()=>e?QVt(e):null,[e])}const d3=[];function AHt(e,t){t===void 0&&(t=U0);const[n]=e,r=dPe(n?As(n):null),[o,i]=h.useReducer(a,d3),s=cO({callback:i});return e.length>0&&o===d3&&i(),Al(()=>{e.length?e.forEach(c=>s==null?void 0:s.observe(c)):(s==null||s.disconnect(),i())},[e]),o;function a(){return e.length?e.map(c=>sPe(c)?r:new zN(t(c),c)):d3}}function OHt(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ww(t)?t:e}function PHt(e){let{measure:t}=e;const[n,r]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(Ww(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),i=cO({callback:o}),s=h.useCallback(u=>{const d=OHt(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,c]=aj(s);return h.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const DHt=[{sensor:UN,options:{}},{sensor:VN,options:{}}],IHt={current:{}},nE={draggable:{measure:Cne},droppable:{measure:Cne,strategy:kx.WhileDragging,frequency:GF.Optimized},dragOverlay:{measure:U0}};class bb extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const RHt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:lj},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nE,measureDroppableContainers:lj,windowRect:null,measuringScheduled:!1},$Ht={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:lj,draggableNodes:new Map,over:null,measureDroppableContainers:lj},uO=h.createContext($Ht),fPe=h.createContext(RHt);function MHt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bb}}}function FHt(e,t){switch(t.type){case vo.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case vo.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case vo.DragEnd:case vo.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case vo.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new bb(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case vo.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new bb(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case vo.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new bb(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function LHt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=h.useContext(uO),i=UF(r),s=UF(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!NN(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=AVt(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function BHt(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function NHt(e){return h.useMemo(()=>({draggable:{...nE.draggable,...e==null?void 0:e.draggable},droppable:{...nE.droppable,...e==null?void 0:e.droppable},dragOverlay:{...nE.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function zHt(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=h.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Al(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=nPe(d,r);if(s||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=rPe(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const hPe=h.createContext({...Ol,scaleX:1,scaleY:1});var Id;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Id||(Id={}));const VHt=h.memo(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:c=!0,children:u,sensors:d=DHt,collisionDetection:f=WVt,measuring:p,modifiers:m,...v}=t;const g=h.useReducer(FHt,void 0,MHt),[b,x]=g,[y,w]=MVt(),[_,C]=h.useState(Id.Uninitialized),S=_===Id.Initialized,{draggable:{active:E,nodes:j,translate:k},droppable:{containers:T}}=b,A=E?j.get(E):null,O=h.useRef({initial:null,translated:null}),P=h.useMemo(()=>{var Dn;return E!=null?{id:E,data:(Dn=A==null?void 0:A.data)!=null?Dn:IHt,rect:O}:null},[E,A]),D=h.useRef(null),[R,$]=h.useState(null),[H,F]=h.useState(null),V=Cx(v,Object.values(v)),W=qw("DndDescribedBy",s),z=h.useMemo(()=>T.getEnabled(),[T]),q=NHt(p),{droppableRects:oe,measureDroppableContainers:N,measuringScheduled:G}=xHt(z,{dragging:S,dependencies:[k.x,k.y],config:q.droppable}),Y=yHt(j,E),K=h.useMemo(()=>H?WF(H):null,[H]),X=si(),Q=wHt(Y,q.draggable.measure);zHt({activeNode:E?j.get(E):null,config:X.layoutShiftCompensation,initialRect:Q,measure:q.draggable.measure});const Z=Tne(Y,q.draggable.measure,Q),re=Tne(Y?Y.parentElement:null),ae=h.useRef({activatorEvent:null,active:null,activeNode:Y,collisionRect:null,collisions:null,droppableRects:oe,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),me=T.getNodeFor((n=ae.current.over)==null?void 0:n.id),ce=PHt({measure:q.dragOverlay.measure}),Te=(r=ce.nodeRef.current)!=null?r:Y,je=S?(o=ce.rect)!=null?o:Z:null,be=!!(ce.nodeRef.current&&ce.rect),ge=SHt(be?null:Z),De=dPe(Te?As(Te):null),Re=EHt(S?me??Y:null),at=AHt(Re),rt=BHt(m,{transform:{x:k.x-ge.x,y:k.y-ge.y,scaleX:1,scaleY:1},activatorEvent:H,active:P,activeNodeRect:Z,containerNodeRect:re,draggingNodeRect:je,over:ae.current.over,overlayNodeRect:ce.rect,scrollableAncestors:Re,scrollableAncestorRects:at,windowRect:De}),Mt=K?hv(K,k):null,un=kHt(Re),xe=One(un),qe=One(un,[Z]),Ze=hv(rt,xe),Ne=je?GVt(je,rt):null,pt=P&&Ne?f({active:P,collisionRect:Ne,droppableRects:oe,droppableContainers:z,pointerCoordinates:Mt}):null,Oe=tPe(pt,"id"),[Me,Xe]=h.useState(null),zo=be?rt:hv(rt,qe),os=YVt(zo,(i=Me==null?void 0:Me.rect)!=null?i:null,Z),Os=h.useCallback((Dn,Dr)=>{let{sensor:Yr,options:He}=Dr;if(D.current==null)return;const yt=j.get(D.current);if(!yt)return;const Yn=Dn.nativeEvent,dn=new Yr({active:D.current,activeNode:yt,event:Yn,options:He,context:ae,onStart(fo){const is=D.current;if(is==null)return;const Ps=j.get(is);if(!Ps)return;const{onDragStart:zl}=V.current,Hc={active:{id:is,data:Ps.data,rect:O}};ac.unstable_batchedUpdates(()=>{zl==null||zl(Hc),C(Id.Initializing),x({type:vo.DragStart,initialCoordinates:fo,active:is}),y({type:"onDragStart",event:Hc})})},onMove(fo){x({type:vo.DragMove,coordinates:fo})},onEnd:ai(vo.DragEnd),onCancel:ai(vo.DragCancel)});ac.unstable_batchedUpdates(()=>{$(dn),F(Dn.nativeEvent)});function ai(fo){return async function(){const{active:Ps,collisions:zl,over:Hc,scrollAdjustedTranslate:Bm}=ae.current;let dh=null;if(Ps&&Bm){const{cancelDrop:fh}=V.current;dh={activatorEvent:Yn,active:Ps,collisions:zl,delta:Bm,over:Hc},fo===vo.DragEnd&&typeof fh=="function"&&await Promise.resolve(fh(dh))&&(fo=vo.DragCancel)}D.current=null,ac.unstable_batchedUpdates(()=>{x({type:fo}),C(Id.Uninitialized),Xe(null),$(null),F(null);const fh=fo===vo.DragEnd?"onDragEnd":"onDragCancel";if(dh){const m1=V.current[fh];m1==null||m1(dh),y({type:fh,event:dh})}})}}},[j]),Ut=h.useCallback((Dn,Dr)=>(Yr,He)=>{const yt=Yr.nativeEvent,Yn=j.get(He);if(D.current!==null||!Yn||yt.dndKit||yt.defaultPrevented)return;const dn={active:Yn};Dn(Yr,Dr.options,dn)===!0&&(yt.dndKit={capturedBy:Dr.sensor},D.current=He,Os(Yr,Dr))},[j,Os]),Nr=bHt(d,Ut);jHt(d),Al(()=>{Z&&_===Id.Initializing&&C(Id.Initialized)},[Z,_]),h.useEffect(()=>{const{onDragMove:Dn}=V.current,{active:Dr,activatorEvent:Yr,collisions:He,over:yt}=ae.current;if(!Dr||!Yr)return;const Yn={active:Dr,activatorEvent:Yr,collisions:He,delta:{x:Ze.x,y:Ze.y},over:yt};ac.unstable_batchedUpdates(()=>{Dn==null||Dn(Yn),y({type:"onDragMove",event:Yn})})},[Ze.x,Ze.y]),h.useEffect(()=>{const{active:Dn,activatorEvent:Dr,collisions:Yr,droppableContainers:He,scrollAdjustedTranslate:yt}=ae.current;if(!Dn||D.current==null||!Dr||!yt)return;const{onDragOver:Yn}=V.current,dn=He.get(Oe),ai=dn&&dn.rect.current?{id:dn.id,rect:dn.rect.current,data:dn.data,disabled:dn.disabled}:null,fo={active:Dn,activatorEvent:Dr,collisions:Yr,delta:{x:yt.x,y:yt.y},over:ai};ac.unstable_batchedUpdates(()=>{Xe(ai),Yn==null||Yn(fo),y({type:"onDragOver",event:fo})})},[Oe]),Al(()=>{ae.current={activatorEvent:H,active:P,activeNode:Y,collisionRect:Ne,collisions:pt,droppableRects:oe,draggableNodes:j,draggingNode:Te,draggingNodeRect:je,droppableContainers:T,over:Me,scrollableAncestors:Re,scrollAdjustedTranslate:Ze},O.current={initial:je,translated:Ne}},[P,Y,pt,Ne,j,Te,je,oe,T,Me,Re,Ze]),mHt({...X,delta:k,draggingRect:Ne,pointerCoordinates:Mt,scrollableAncestors:Re,scrollableAncestorRects:at});const Nl=h.useMemo(()=>({active:P,activeNode:Y,activeNodeRect:Z,activatorEvent:H,collisions:pt,containerNodeRect:re,dragOverlay:ce,draggableNodes:j,droppableContainers:T,droppableRects:oe,over:Me,measureDroppableContainers:N,scrollableAncestors:Re,scrollableAncestorRects:at,measuringConfiguration:q,measuringScheduled:G,windowRect:De}),[P,Y,Z,H,pt,re,ce,j,T,oe,Me,N,Re,at,q,G,De]),Ja=h.useMemo(()=>({activatorEvent:H,activators:Nr,active:P,activeNodeRect:Z,ariaDescribedById:{draggable:W},dispatch:x,draggableNodes:j,over:Me,measureDroppableContainers:N}),[H,Nr,P,Z,x,W,j,Me,N]);return ne.createElement(QOe.Provider,{value:w},ne.createElement(uO.Provider,{value:Ja},ne.createElement(fPe.Provider,{value:Nl},ne.createElement(hPe.Provider,{value:os},u)),ne.createElement(LHt,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ne.createElement(BVt,{...a,hiddenTextDescribedById:W}));function si(){const Dn=(R==null?void 0:R.autoScrollEnabled)===!1,Dr=typeof c=="object"?c.enabled===!1:c===!1,Yr=S&&!Dn&&!Dr;return typeof c=="object"?{...c,enabled:Yr}:{enabled:Yr}}}),HHt=h.createContext(null),Pne="button",UHt="Droppable";function WHt(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=qw(UHt),{activators:s,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(uO),{role:m=Pne,roleDescription:v="draggable",tabIndex:g=0}=o??{},b=(c==null?void 0:c.id)===t,x=h.useContext(b?hPe:HHt),[y,w]=aj(),[_,C]=aj(),S=THt(s,t),E=Cx(n);Al(()=>(f.set(t,{id:t,key:i,node:y,activatorNode:_,data:E}),()=>{const k=f.get(t);k&&k.key===i&&f.delete(t)}),[f,t]);const j=h.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":b&&m===Pne?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,m,g,b,v,d.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:j,isDragging:b,listeners:r?void 0:S,node:y,over:p,setNodeRef:w,setActivatorNodeRef:C,transform:x}}function YHt(){return h.useContext(fPe)}const qHt="Droppable",GHt={timeout:25};function KHt(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=qw(qHt),{active:s,dispatch:a,over:c,measureDroppableContainers:u}=h.useContext(uO),d=h.useRef({disabled:n}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:b}={...GHt,...o},x=Cx(g??r),y=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},b)},[b]),w=cO({callback:y,disabled:v||!s}),_=h.useCallback((j,k)=>{w&&(k&&(w.unobserve(k),f.current=!1),j&&w.observe(j))},[w]),[C,S]=aj(_),E=Cx(t);return h.useEffect(()=>{!w||!C.current||(w.disconnect(),f.current=!1,w.observe(C.current))},[C,w]),Al(()=>(a({type:vo.RegisterDroppable,element:{id:r,key:i,disabled:n,node:C,rect:p,data:E}}),()=>a({type:vo.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(a({type:vo.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:p,isOver:(c==null?void 0:c.id)===r,node:C,over:c,setNodeRef:S}}function pPe(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ZHt(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function PC(e){return e!==null&&e>=0}function XHt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function QHt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const DC={scaleX:1,scaleY:1},JHt=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:s}=e;const a=(t=n[o])!=null?t:r;if(!a)return null;const c=eUt(n,s,o);if(s===o){const u=n[i];return u?{x:o<i?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...DC}:null}return s>o&&s<=i?{x:-a.width-c,y:0,...DC}:s<o&&s>=i?{x:a.width+c,y:0,...DC}:{x:0,y:0,...DC}};function eUt(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return!r||!o&&!i?0:n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width)}const mPe=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=pPe(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},IC={scaleX:1,scaleY:1},tUt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...IC}:null}const c=nUt(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-c,...IC}:o<n&&o>=s?{x:0,y:a.height+c,...IC}:{x:0,y:0,...IC}};function nUt(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const gPe="Sortable",vPe=ne.createContext({activeIndex:-1,containerId:gPe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mPe,disabled:{draggable:!1,droppable:!1}});function rUt(e){let{children:t,id:n,items:r,strategy:o=mPe,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:d}=YHt(),f=qw(gPe,n),p=a.rect!==null,m=h.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=s!=null,g=s?m.indexOf(s.id):-1,b=u?m.indexOf(u.id):-1,x=h.useRef(m),y=!XHt(m,x.current),w=b!==-1&&g===-1||y,_=QHt(i);Al(()=>{y&&v&&d(m)},[y,m,v,d]),h.useEffect(()=>{x.current=m},[m]);const C=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:_,disableTransforms:w,items:m,overIndex:b,useDragOverlay:p,sortedRects:ZHt(m,c),strategy:o}),[g,f,_.draggable,_.droppable,w,m,b,c,p,o]);return ne.createElement(vPe.Provider,{value:C},t)}const oUt=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return pPe(n,r,o).indexOf(t)},iUt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:c,transition:u}=e;return!u||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===c},sUt={duration:200,easing:"ease"},yPe="transform",aUt=Ex.Transition.toString({property:yPe,duration:0,easing:"linear"}),lUt={roleDescription:"sortable"};function cUt(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=h.useState(null),a=h.useRef(n);return Al(()=>{if(!t&&n!==a.current&&r.current){const c=o.current;if(c){const u=U0(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),h.useEffect(()=>{i&&s(null)},[i]),i}function bPe(e){let{animateLayoutChanges:t=iUt,attributes:n,disabled:r,data:o,getNewIndex:i=oUt,id:s,strategy:a,resizeObserverConfig:c,transition:u=sUt}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:b,useDragOverlay:x,strategy:y}=h.useContext(vPe),w=uUt(r,m),_=d.indexOf(s),C=h.useMemo(()=>({sortable:{containerId:f,index:_,items:d},...o}),[f,o,_,d]),S=h.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:E,node:j,isOver:k,setNodeRef:T}=KHt({id:s,data:C,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:A,activatorEvent:O,activeNodeRect:P,attributes:D,setNodeRef:R,listeners:$,isDragging:H,over:F,setActivatorNodeRef:V,transform:W}=WHt({id:s,data:C,attributes:{...lUt,...n},disabled:w.draggable}),z=SVt(T,R),q=!!A,oe=q&&!v&&PC(p)&&PC(b),N=!x&&H,G=N&&oe?W:null,K=oe?G??(a??y)({rects:g,activeNodeRect:P,activeIndex:p,overIndex:b,index:_}):null,X=PC(p)&&PC(b)?i({id:s,items:d,activeIndex:p,overIndex:b}):_,Q=A==null?void 0:A.id,Z=h.useRef({activeId:Q,items:d,newIndex:X,containerId:f}),re=d!==Z.current.items,ae=t({active:A,containerId:f,isDragging:H,isSorting:q,id:s,index:_,items:d,newIndex:Z.current.newIndex,previousItems:Z.current.items,previousContainerId:Z.current.containerId,transition:u,wasDragging:Z.current.activeId!=null}),me=cUt({disabled:!ae,index:_,node:j,rect:E});return h.useEffect(()=>{q&&Z.current.newIndex!==X&&(Z.current.newIndex=X),f!==Z.current.containerId&&(Z.current.containerId=f),d!==Z.current.items&&(Z.current.items=d)},[q,X,f,d]),h.useEffect(()=>{if(Q===Z.current.activeId)return;if(Q&&!Z.current.activeId){Z.current.activeId=Q;return}const Te=setTimeout(()=>{Z.current.activeId=Q},50);return()=>clearTimeout(Te)},[Q]),{active:A,activeIndex:p,attributes:D,data:C,rect:E,index:_,newIndex:X,items:d,isOver:k,isSorting:q,isDragging:H,listeners:$,node:j,overIndex:b,over:F,setNodeRef:z,setActivatorNodeRef:V,setDroppableNodeRef:T,setDraggableNodeRef:R,transform:me??K,transition:ce()};function ce(){if(me||re&&Z.current.newIndex===_)return aUt;if(!(N&&!NN(O)||!u)&&(q||ae))return Ex.Transition.toString({...u,property:yPe})}}function uUt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function uj(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const dUt=[qt.Down,qt.Right,qt.Up,qt.Left],fUt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(dUt.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case qt.Down:r.top<p.top&&c.push(f);break;case qt.Up:r.top>p.top&&c.push(f);break;case qt.Left:r.left>p.left&&c.push(f);break;case qt.Right:r.left<p.left&&c.push(f);break}});const u=HVt({active:n,collisionRect:r,droppableRects:o,droppableContainers:c,pointerCoordinates:null});let d=tPe(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),p=i.get(d),m=p?o.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&m&&f&&p){const b=lO(v).some((S,E)=>a[E]!==S),x=xPe(f,p),y=hUt(f,p),w=b||!x?{x:0,y:0}:{x:y?r.width-m.width:0,y:y?r.height-m.height:0},_={x:m.left,y:m.top};return w.x&&w.y?_:Sx(_,w)}}}};function xPe(e,t){return!uj(e)||!uj(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function hUt(e,t){return!uj(e)||!uj(t)||!xPe(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const pUt=e=>{let{transform:t}=e;return{...t,y:0}},mUt=e=>{let{transform:t}=e;return{...t,x:0}};var gUt=sm;function vUt(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(s!=null&&(a===void 0?s===s&&!gUt(s):n(s,a)))var a=s,c=i}return c}var wPe=vUt;function yUt(e,t){return e<t}var bUt=yUt,xUt=wPe,wUt=bUt,_Ut=xm;function CUt(e){return e&&e.length?xUt(e,_Ut,wUt):void 0}var SUt=CUt;const EUt=Pe(SUt);function kUt(e,t){return e>t}var jUt=kUt,TUt=wPe,AUt=jUt,OUt=xm;function PUt(e){return e&&e.length?TUt(e,OUt,AUt):void 0}var DUt=PUt;const IUt=Pe(DUt),RUt=/[0-9]/,$Ut=/^[a-zA-Z0-9_]$/,MUt=/^[a-zA-Z_]$/,_Pe={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},FUt=Object.keys(_Pe);class LUt{constructor(t){this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(o=>(n=o(),!!n))||!n)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const o=t(this.source[this.i]);if(o===null)break;r+=o,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error("Expected ".concat(t," at end of jsonpath"));if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error('Expected "'.concat(t,'", but source contained "').concat(this.source.slice()))}tryConsume(t){return this.i+t.length>this.length?null:t===this.source.slice(this.i,this.i+t.length)?(this.i+=t.length,t):null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(o=>n?(n=!1,o):o==="\\"?(n=!0,""):o!=t?o:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(MUt)?r:null):r.match($Ut)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,o=!1;this.peek()==="-"&&(o=!0,this.consume("-"));const i=this.takeWhile(s=>s==="."&&!n&&r?(n=!0,s):(r=!0,s.match(RUt)?s:null));return i!==null?{type:"number",value:o?-i:+i,raw:o?"-".concat(i):i}:(this.i=t,null)}tokenizeSymbol(){for(const t of FUt){const r=_Pe[t].find(o=>this.tryConsume(o));if(r)return{type:t,symbol:r}}return null}}function BUt(e){return new LUt(e).tokenize()}class NUt{constructor(t){this.tokens=BUt(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const o={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(o.step=this.parseNumberValue()),o.start===null&&o.end===null?(this.i=t,null):o}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const o=n,i=this.parseLiteralValue();if(!i)throw new Error("Operator ".concat(r.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:r.symbol,lhs:o,rhs:i}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function CPe(e){const t=new NUt(e).parse();if(!t)throw new Error('Failed to parse JSON path "'.concat(e,'"'));return t}function zUt(e){const[t,n]=SPe(e);if(!t)throw new Error("Head cannot be null");return HUt(t,n)}function SPe(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function VUt(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function HUt(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,o]=SPe(n);return[r,VUt(o,t)]}return[n,t]})}function EPe(e){return hg(e,!1)}function hg(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return"".concat(e.value);case"range":{const n=[];return t||n.push("["),e.start&&n.push("".concat(e.start)),n.push(":"),e.end&&n.push("".concat(e.end)),e.step&&n.push(":".concat(e.step)),t||n.push("]"),n.join("")}case"index":return t?"".concat(e.value):"[".concat(e.value,"]");case"constraint":{const n=e.rhs?" ".concat(hg(e.rhs,!1)):"",r="".concat(hg(e.lhs,!1)," ").concat(e.operator).concat(n);return t?r:"[".concat(r,"]")}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const o=r.shift();o&&n.push(EPe(o));const i=r[0];i&&hg(i,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return"[".concat(e.nodes.map(n=>hg(n,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(e.type));case"recursive":return"..".concat(hg(e.term,!1))}}class Us{constructor(t){if(!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=f3(r,t);let o="end"in this.expr&&this.expr.end||n();o=f3(o,t);const i="step"in this.expr&&this.expr.step||1;return{start:r,end:o,step:i}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const s=t.get(),a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return Dne(s,n.operator,a)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error("Constraint target ".concat(r.type," not supported"));if(t.containerType()!=="object")return!1;const o=t.getAttribute(r.name);if(o==null||o.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const i=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return Dne(o.get(),n.operator,i)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new Us({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return zUt(this.expr).map(t=>{const[n,r]=t;return{head:n?new Us(n):null,tail:r?new Us(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new Us(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[f3(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:o,end:i}=r;r.step<0&&([o,i]=[i,o]);for(let s=o;s<i;s++)n.push(s);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return EPe(this.expr)}static fromPath(t){const n=CPe(t);if(!n)throw new Error('Failed to parse path "'.concat(t,'"'));return new Us(n)}static attributeReference(t){return new Us({type:"attribute",name:t})}static indexReference(t){return new Us({type:"index",value:t})}}function Dne(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error("Unsupported binary operator ".concat(t))}}function f3(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}class Hg{constructor(t,n){this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=En(n.map(o=>o.iterateConstraints(t))),r=n.some(o=>o.head&&o.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new Hg(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const o=t.length();for(let i=0;i<o;i++){const s=t.getIndex(i);s&&n.testConstraint(s)&&r.push(new Hg(new Us({type:"index",value:i}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new Hg(t.head,t.tail)):[new Hg(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}class ip{constructor(t,n){this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new ip(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(o=>{if(o.hasArrived()){r.push(new Us({type:"alias",target:"self"}));return}const i=o.head;if(i&&!(t.containerType()==="array"&&!i.isIndexReference())&&!(t.containerType()==="object"&&!i.isAttributeReference()))if(o.tail){const s=new ip(o.descend(),this);i.toFieldReferences().forEach(()=>{n.push({target:i,matcher:s})})}else r.push(i)}),this.hasRecursives()){const o=new ip([],this);if(t.containerType()==="array"){const i=t.length();for(let s=0;s<i;s++)n.push({target:Us.indexReference(s),matcher:o})}else t.containerType()==="object"&&t.attributeKeys().forEach(i=>{n.push({target:Us.attributeReference(i),matcher:o})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=CPe(t);if(!n)throw new Error('Failed to parse path from "'.concat(t,'"'));const r=new Hg(null,new Us(n));return new ip(r.descend())}}function rE(e){return e!==null&&typeof e=="object"}class dj{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new dj(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return rE(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return rE(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!rE(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new dj(this._value[t],this.path.concat(t)):null}get(){return this._value}}function UUt(e,t){const n=[],r=ip.fromPath(e).setPayload(function(s){n.push(...s)}),o=new dj(t);return kPe(r,o),n}function kPe(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(o=>{Ine(o.target,t).forEach(i=>{kPe(o.matcher,i)})}),r&&r.targets.forEach(o=>{typeof r.payload=="function"&&r.payload(Ine(o,t))})}function Ine(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error("Unable to derive accessor for target ".concat(e.toString()));return MA(n)}function WUt(e,t){return UUt(e,t).map(r=>({path:r.path,value:r.get()}))}const YUt=/^[a-z_$]+/;function jPe(e){let t="";return e.forEach((n,r)=>{t+=qUt(n,r===0)}),t}function qUt(e,t){if(typeof e=="number")return"[".concat(e,"]");if(rE(e)){const n=e;return Object.keys(e).map(r=>GUt(n[r])?"[".concat(r,'=="').concat(n[r],'"]'):"").join("")}return typeof e=="string"&&YUt.test(e)?t?e:".".concat(e):"['".concat(e,"']")}function GUt(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}class TPe{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(o.isSelfReference())r=r.set(this.value);else if(o.isIndexReference())o.toIndicies(n).forEach(i=>{r=r.setIndex(i,this.value)});else if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r=r.setAttribute(o.name(),this.value);else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}function Rne(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class $ne{constructor(t,n,r){this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get();r=r.setIndex(i,Rne(a,this.value))}continue}if(o.isAttributeReference()){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get();r=r.setAttribute(o.name(),Rne(s,this.value));continue}throw new Error("Unable to apply to target ".concat(o.toString()))}return r}}function dO(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}class KUt{constructor(t,n,r,o){this.id=t,this.location=n,this.path=r,this.items=o}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const o=ZUt(t,n);r=r.insertItemsAt(o,this.items);break}case"after":{const o=XUt(t,n);r=r.insertItemsAt(o+1,this.items);break}case"replace":{const o=dO(t,n);r=r.unsetIndices(o),r=r.insertItemsAt(o[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return r}}function ZUt(e,t){let n=EUt(dO(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:o}=r.expandRange();o<n&&(n=o)}}),n}function XUt(e,t){let n=IUt(dO(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:o}=r.expandRange();o>n&&(n=o)}}),n}class APe{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(!o.isIndexReference())if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r.hasAttribute(o.name())||(r=n.setAttribute(o.name(),this.value));else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}class QUt{constructor(t,n){this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(dO(t,n));break;case"object":t.forEach(o=>{r=r.unsetAttribute(o.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}function Mne(e,t){if(typeof t!="string")return t;const[n]=HTe(e,t,{allowExceedingIndices:!0});return n}class JUt{constructor(t,n,r){this.id=t,this.path=n,this.dmpPatch=WTe(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get(),c=Mne(this.dmpPatch,a);r=r.setIndex(i,c)}continue}if(o.isAttributeReference()&&r.hasAttribute(o.name())){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get(),a=Mne(this.dmpPatch,s);r=r.setAttribute(o.name(),a);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(o.toString()))}return r}}function OPe(e){const t=[];if(Array.isArray(e))return e.reduce((u,d)=>u.concat(OPe(d)),t);const{set:n,setIfMissing:r,unset:o,diffMatchPatch:i,inc:s,dec:a,insert:c}=e;if(r&&Object.keys(r).forEach(u=>{t.push(new APe(e.id,u,r[u]))}),n&&Object.keys(n).forEach(u=>{t.push(new TPe(e.id,u,n[u]))}),o&&o.forEach(u=>{t.push(new QUt(e.id,u))}),i&&Object.keys(i).forEach(u=>{t.push(new JUt(e.id,u,i[u]))}),s&&Object.keys(s).forEach(u=>{t.push(new $ne(e.id,u,s[u]))}),a&&Object.keys(a).forEach(u=>{t.push(new $ne(e.id,u,-a[u]))}),c){let u,d;const f=c;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");t.push(new KUt(e.id,u,d,f.items))}return t}class ec{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new ec(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return Y1(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return Y1(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!Y1(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new ec(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new ec(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new ec(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let o=0;o<n;o++)t.indexOf(o)===-1&&r.push(this._value[o]);return new ec(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new ec(r,this.path)}setAttribute(t,n){if(!Y1(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new ec(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!Y1(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new ec(n,this.path)}}function Y1(e){return e!==null&&typeof e=="object"}let eWt=class{constructor(t){this.patches=OPe(t)}apply(t){const n=new ec(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const o=r.get();for(const i of this.patches){if(i.id!==o)continue;const s=ip.fromPath(i.path).setPayload(i);n=KF(s,n)}return n}};function KF(e,t){const n=e.payload instanceof TPe||e.payload instanceof APe;let r=t;const{leads:o,delivery:i}=e.match(t);return o.forEach(s=>{if(s.target.isIndexReference())s.target.toIndicies().forEach(a=>{const c=r.getIndex(a);if(!c)throw new Error("Index out of bounds");r=r.setIndexAccessor(a,KF(s.matcher,c))});else if(s.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let a=r.getAttribute(s.target.name());if(!a&&n&&(r=r.setAttribute(s.target.name(),{}),a=r.getAttribute(s.target.name())),!a)return;const c=KF(s.matcher,a);a!==c&&(r=r.setAttributeAccessor(s.target.name(),c))}else throw new Error("Unable to handle target ".concat(s.target.toString()))}),i&&tWt(i.payload)&&(r=i.payload.apply(i.targets,r)),r}function tWt(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const nWt=sd,Lt=xs("mutator-document");class xc{constructor(t){this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=nWt(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(o=>{if(o.create){const i=o.create||{};t.push(s=>s||Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.createIfNotExists){const i=o.createIfNotExists||{};t.push(s=>s===null?Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}):s);return}if(o.createOrReplace){const i=o.createOrReplace||{};t.push(()=>Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.delete){t.push(()=>null);return}if(o.patch){if("query"in o.patch)return;const i=new eWt(o.patch);t.push(s=>i.apply(s));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(o,null,2)))}),typeof this.params.timestamp=="string"&&t.push(o=>o?Object.assign(o,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=o=>{if(n&&o&&n!==o._rev)throw new Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(o._rev));let i=o;for(const s of t)i=s(i);return i&&r&&(i===o&&(i=Object.assign({},o)),i._rev=r),i}}apply(t){Lt("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return Lt("  => %O",n),n}static applyAll(t,n){return n.reduce((r,o)=>o.apply(r),t)}static squash(t,n){const r=n.reduce((o,i)=>o.concat(...i.mutations),[]);return new xc({mutations:r})}}let rWt=class{constructor(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.lastStagedAt=null,this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Lt("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const i=new Date(this.HEAD._updatedAt);this.incoming.find(s=>s.timestamp&&s.timestamp<i)&&(this.incoming=this.incoming.filter(s=>s.timestamp&&s.timestamp<i))}let o=0;do{if(this.HEAD){const i=this.HEAD;n=i._rev?this.incoming.find(s=>s.previousRev===i._rev):void 0}else n=this.incoming.find(i=>i.appliesToMissingDocument());if(n){const i=this.applyIncoming(n);if(t=t||i,t&&r.push(n),o++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(n)))}}while(n);this.incoming.length>0&&Lt.enabled&&Lt("Unable to apply mutations %s",this.incoming.map(i=>i.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(Lt(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Lt("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return Lt.enabled&&(Lt("Incoming mutation ".concat(t.transactionId," appeared while there were pending or submitted local mutations")),Lt("Submitted txnIds: ".concat(this.submitted.map(r=>r.transactionId).join(", "))),Lt("Pending txnIds: ".concat(this.pending.map(r=>r.transactionId).join(", "))),Lt("needRebase === %s",n)),n}return Lt("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return Lt("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return Lt("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return Lt("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),Lt("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const o=[];this.pending.forEach(i=>{if(i.transactionId===t){r=i;return}o.push(i)}),r&&this.submitted.push(r),this.pending=o,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=xc.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!zt(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};class RC{constructor(t){this.out=[],t?Lt("Reset mutation buffer to rev %s",t._rev):Lt("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(Lt("Purged mutation buffer"),n=new xc({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,o={};for(const i of Object.keys(r))r.hasOwnProperty(i)&&(this.optimiseSetOperation(i,r[i])||(o[i]=r[i]));Object.keys(o).length>0&&(Lt("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:o}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}Lt("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=WUt(t,this.PRESTAGE);if(r.length!==1)return!1;const o=r[0];if(typeof o.value=="object"||!this.PRESTAGE)return!1;let i=null;if(o.value===n)i=null;else if(typeof o.value=="string"&&typeof n=="string")try{const a=UTe(VTe(o.value,n));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:a}}}}catch{return!1}else i={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const s=jPe(o.path);return i?this.setOperations[s]=i:delete this.setOperations[s],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new xc({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new xc({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}const oWt=1e3*60;class iWt{constructor(t,n){let{resolve:r,reject:o}=n;this.mutations=t,this.tries=0,this.resolve=r,this.reject=o}apply(t){return xc.applyAll(t,this.mutations)}squash(t){const n=xc.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const Fne=(e,t)=>e.concat(t.mutations);class sWt{constructor(t){this.committerRunning=!1,this.buffer=new RC(t),this.document=new rWt(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,o)=>this.handleDocRebase(n,r,o),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?Lt("Document state reset to revision %s",t._rev):Lt("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Lt("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(Lt("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(Lt("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error("Mutation ".concat(t.transactionId," has previousRev === resultRev (").concat(t.previousRev,")"));return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}Lt("Committing local changes");const r=this.buffer.purge();this.commits.push(new iWt(r?[r]:[],{resolve:t,reject:n})),this.buffer=new RC(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),o={success:()=>{Lt("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{Lt("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,oWt))},cancel:i=>{this.commits.forEach(s=>s.reject(i)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new RC(this.LOCAL),this.committerRunning=!1}};Lt("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:o.success,failure:o.failure,cancel:o.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){Lt("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){Lt("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new RC(this.LOCAL),this.onMutation&&this.onMutation(t);return}Lt("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){Lt("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,s)=>s.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!zt(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(Fne,[]),n.reduce(Fne,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}var PPe={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,o,i;for(r=this._JPEG_ID_SIZE,i=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;i.push(r+=this._APP_MARKER_SIZE+o)}return i},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var o;return o=n.getUint16(r,!1),o>=this._APP0_MARKER&&o<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var o,i,s,a;for(o=this._getShortAt(r),r+=2,a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)i=this._readTag(n,r),this._tags[i.name]={value:i.value,description:i.description},a.push(r+=12);return a},t.prototype._readTag=function(n,r){var o,i,s,a,c,u,d;return o=this._getShortAt(r),c=this._getShortAt(r+2),i=this._getLongAt(r+4),this._typeSizes[c]*i<=4?u=this._getTagValue(r+8,c,i):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,c,i)),c===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][o]!=null?(this._tagNames[n][o].name!=null&&this._tagNames[n][o].description!=null?(a=this._tagNames[n][o].name,s=this._tagNames[n][o].description(u)):(a=this._tagNames[n][o],u instanceof Array?s=u.join(", "):s=u),{name:a,value:u,description:s}):{name:"undefined-"+o,value:u,description:u}},t.prototype._getTagValue=function(n,r,o){var i,s;return s=(function(){var a,c;for(c=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)i=this._getTagValueAt[r](n),n+=this._typeSizes[r],c.push(i);return c}).call(this),s.length===1?s=s[0]:r===this._tagTypes.ASCII&&(s=this._getAsciiValue(s)),s},t.prototype._getAsciiValue=function(n){var r;return function(){var o,i,s;for(s=[],o=0,i=n.length;o<i;o++)r=n[o],s.push(String.fromCharCode(r));return s}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,o,i,s,a;for(i=[],o=0,s=0,a=n.length;s<a;s++){if(r=n[s],r==="\0"){o++;continue}i[o]==null&&(i[o]=""),i[o]+=r}return i},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)switch(r=n[i],r){case 49:o+="Y";break;case 50:o+="Cb";break;case 51:o+="Cr";break;case 52:o+="R";break;case 53:o+="G";break;case 54:o+="B"}return o}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700 – 7100K)";case 13:return"Day white fluorescent (N 4600 – 5400K)";case 14:return"Cool white fluorescent (W 3900 – 4500K)";case 15:return"White fluorescent (WW 3200 – 3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,o;return n[0]===(r=n[1])&&r===2&&n[2]===(o=n[3])&&o===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(o){return function(){var i,s,a;for(a=[],i=0,s=2-(""+Math.floor(o)).length;0<=s?i<s:i>s;0<=s?++i:--i)a.push("0");return a}()+o},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(ys)})(PPe);var aWt=PPe.ExifReader,lWt=function(e){var t=new aWt;t.load(e);var n=t.getAllTags(),r={};for(var o in n)r[cWt(o)]=n[o].description;return r};function cWt(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const uWt=Pe(lWt);var dWt=Xf,fWt=Kf,hWt=Zf;function pWt(e){return function(t,n,r){var o=Object(t);if(!fWt(t)){var i=dWt(n);t=hWt(t),n=function(a){return i(o[a],a,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:void 0}}var mWt=pWt,gWt=mWt,vWt=vOe,yWt=gWt(vWt),bWt=yWt;const DPe=Pe(bWt);var xWt=Math.ceil,wWt=Math.max;function _Wt(e,t,n,r){for(var o=-1,i=wWt(xWt((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}var CWt=_Wt,SWt=CWt,EWt=I7,h3=gOe;function kWt(e){return function(t,n,r){return r&&typeof r!="number"&&EWt(t,n,r)&&(n=r=void 0),t=h3(t),n===void 0?(n=t,t=0):n=h3(n),r=r===void 0?t<n?1:-1:h3(r),SWt(t,n,r,e)}}var jWt=kWt,TWt=jWt,AWt=TWt(),OWt=AWt;const WN=Pe(OWt);var IPe={exports:{}};(function(e){(function(t){var n={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},r=["်","ް"],o={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},i={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},s={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),c=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(g,b){var x="-",y="",w="",_=!0,C={},S,E,j,k,T,A,O,P,D,R,$,H,F,V,W="";if(typeof g!="string")return"";if(typeof b=="string"&&(x=b),O=s.en,P=i.en,typeof b=="object"){S=b.maintainCase||!1,C=b.custom&&typeof b.custom=="object"?b.custom:C,j=+b.truncate>1&&b.truncate||!1,k=b.uric||!1,T=b.uricNoSlash||!1,A=b.mark||!1,_=!(b.symbols===!1||b.lang===!1),x=b.separator||x,k&&(W+=a),T&&(W+=c),A&&(W+=u),O=b.lang&&s[b.lang]&&_?s[b.lang]:_?s.en:{},P=b.lang&&i[b.lang]?i[b.lang]:b.lang===!1||b.lang===!0?{}:i.en,b.titleCase&&typeof b.titleCase.length=="number"&&Array.prototype.toString.call(b.titleCase)?(b.titleCase.forEach(function(z){C[z+""]=z+""}),E=!0):E=!!b.titleCase,b.custom&&typeof b.custom.length=="number"&&Array.prototype.toString.call(b.custom)&&b.custom.forEach(function(z){C[z+""]=z+""}),Object.keys(C).forEach(function(z){var q;z.length>1?q=new RegExp("\\b"+p(z)+"\\b","gi"):q=new RegExp(p(z),"gi"),g=g.replace(q,C[z])});for($ in C)W+=$}for(W+=x,W=p(W),g=g.replace(/(^\s+|\s+$)/g,""),F=!1,V=!1,R=0,H=g.length;R<H;R++)$=g[R],m($,C)?F=!1:P[$]?($=F&&P[$].match(/[A-Za-z0-9]/)?" "+P[$]:P[$],F=!1):$ in n?(R+1<H&&r.indexOf(g[R+1])>=0?(w+=$,$=""):V===!0?($=o[w]+n[$],w=""):$=F&&n[$].match(/[A-Za-z0-9]/)?" "+n[$]:n[$],F=!1,V=!1):$ in o?(w+=$,$="",R===H-1&&($=o[w]),V=!0):O[$]&&!(k&&a.indexOf($)!==-1)&&!(T&&c.indexOf($)!==-1)?($=F||y.substr(-1).match(/[A-Za-z0-9]/)?x+O[$]:O[$],$+=g[R+1]!==void 0&&g[R+1].match(/[A-Za-z0-9]/)?x:"",F=!0):(V===!0?($=o[w]+$,w="",V=!1):F&&(/[A-Za-z0-9]/.test($)||y.substr(-1).match(/A-Za-z0-9]/))&&($=" "+$),F=!1),y+=$.replace(new RegExp("[^\\w\\s"+W+"_-]","g"),x);return E&&(y=y.replace(/(\w)(\S*)/g,function(z,q,oe){var N=q.toUpperCase()+(oe!==null?oe:"");return Object.keys(C).indexOf(N.toLowerCase())<0?N:N.toLowerCase()})),y=y.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),j&&y.length>j&&(D=y.charAt(j)===x,y=y.slice(0,j),D||(y=y.slice(0,y.lastIndexOf(x)))),!S&&!E&&(y=y.toLowerCase()),y},f=function(g){return function(x){return d(x,g)}},p=function(g){return g.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(v,g){for(var b in g)if(g[b]===v)return!0};if(e.exports)e.exports=d,e.exports.createSlug=f;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=f}catch{}})(ys)})(IPe);var PWt=IPe.exports,DWt=PWt;const RPe=Pe(DWt);var IWt=D0,RWt=I7;function $Wt(e){return IWt(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,s&&RWt(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}var MWt=$Wt,FWt=R0,LWt=MWt,BWt=Zf,NWt=LWt(function(e,t,n,r){FWt(t,BWt(t),e,r)}),zWt=NWt;const VWt=Pe(zWt);var HWt=Pc;function UWt(e,t){return HWt(t,function(n){return e[n]})}var WWt=UWt,YWt=WWt,qWt=Zf;function GWt(e){return e==null?[]:YWt(e,qWt(e))}var $Pe=GWt;const KWt=Pe($Pe);var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0});Kp.SKIP=FPe;var MPe=Kp.reduce=LPe;Kp.withCustomPathSegment=Kp.SKIP_MARKER=void 0;function YN(e,t){return QWt(e)||XWt(e,t)||ZWt()}function ZWt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function XWt(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(c){o=!0,i=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function QWt(e){if(Array.isArray(e))return e}function oE(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oE=function(n){return typeof n}:oE=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},oE(e)}function fO(e,t,n){return t}function JWt(e){return Array.isArray(e)?"array":e===null?"null":oE(e)}var qN={_:"SKIP_MARKER"};Kp.SKIP_MARKER=qN;function FPe(e){return[qN,e]}function GN(e,t,n,r){var o=t(e,n,r);return o===FPe?[!0,e]:Array.isArray(o)&&o[0]===qN?[!0,o[1]]:[!1,o]}function eYt(e,t,n,r){var o=GN(e,t,n,r),i=YN(o,2),s=i[1];return s}function tYt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:fO,i=GN(e,t,n,r),s=YN(i,2),a=s[0],c=s[1];return a?c:Object.keys(n).reduce(function(u,d){return KN(u,t,n[d],r.concat(o(n[d],d,n)),o)},c)}function nYt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:fO,i=GN(e,t,n,r),s=YN(i,2),a=s[0],c=s[1];return a?c:n.reduce(function(u,d,f){return KN(u,t,d,r.concat(o(d,f,n)),o)},c)}function KN(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:fO,i=JWt(n);return i==="object"?tYt(e,t,n,r,o):i==="array"?nYt(e,t,n,r,o):eYt(e,t,n,r)}function LPe(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:fO;return KN(n,t,e,[],r)}var rYt=function(t){return function(n,r,o){return LPe(n,r,o,t)}};Kp.withCustomPathSegment=rYt;function ZN(e){return t=>io(()=>{const n=new gr;return t.pipe(AEe(()=>n,{leading:!0,trailing:!0}),SEe((r,o)=>pEe(e(r,o),El).pipe(EEe(()=>{n.next()}))))})}var oYt=Object.defineProperty,iYt=(e,t,n)=>t in e?oYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lne=(e,t,n)=>(iYt(e,typeof t!="symbol"?t+"":t,n),n);function sYt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function aYt(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(sYt(n));return new RegExp("^".concat(t.join("."),"$"))}class BPe{constructor(t){Lne(this,"pattern"),Lne(this,"patternRe"),this.pattern=t,this.patternRe=aYt(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}}var lYt=Object.defineProperty,cYt=(e,t,n)=>t in e?lYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q1=(e,t,n)=>(cYt(e,typeof t!="symbol"?t+"":t,n),n);class Gd{constructor(t){q1(this,"type","stream"),q1(this,"generator"),q1(this,"ticker"),q1(this,"isDone"),q1(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(i=>{t=i})},r=()=>{t(),n()},o=async()=>{for await(const i of this.generator())this.data.push(i),r();this.isDone=!0,r()};return n(),o(),this.ticker}}const uYt=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function dYt(e){return uYt.test(e)?new Date(e):null}function fYt(e){const t=wh(e.getUTCFullYear(),4),n=wh(e.getUTCMonth()+1,2),r=wh(e.getUTCDate(),2),o=wh(e.getUTCHours(),2),i=wh(e.getUTCMinutes(),2),s=wh(e.getUTCSeconds(),2);let a="";const c=e.getMilliseconds();return c!=0&&(a=".".concat(wh(c,3))),"".concat(t,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(i,":").concat(s).concat(a,"Z")}function wh(e,t){let n=e.toString();for(;n.length<t;)n="0".concat(n);return n}var hYt=Object.defineProperty,pYt=(e,t,n)=>t in e?hYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZF=(e,t,n)=>(pYt(e,typeof t!="symbol"?t+"":t,n),n);class ud{constructor(t,n){ZF(this,"data"),ZF(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield Xn(n)}(this.data);throw new Error("Cannot iterate over: ".concat(this.type))}}const $e=new ud(null,"null"),jo=new ud(!0,"boolean"),Qr=new ud(!1,"boolean");class Zv{constructor(t){ZF(this,"date"),this.date=t}static parseToValue(t){const n=dYt(t);return n?new ud(new Zv(n),"datetime"):$e}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new Zv(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return fYt(this.date)}toJSON(){return this.toString()}}function Da(e){return Number.isFinite(e)?new ud(e,"number"):$e}function Ia(e){return new ud(e,"string")}function XF(e){return new ud(e,"datetime")}function mYt(e){return new ud(e,"path")}function gYt(e){return e&&typeof e.next=="function"}function Xn(e){return gYt(e)?new Gd(async function*(){for await(const t of e)yield Xn(t)}):e==null?$e:new ud(e,Xv(e))}function Xv(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof BPe?"path":e instanceof Zv?"datetime":typeof e}function p3(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const vYt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,yYt=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,NPe=/(\b\.+|\.+\b)/g,bYt=1024;function xYt(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function zPe(e){return e.replace(NPe,"").match(vYt)||[]}function wYt(e){return VPe(e).map(n=>r=>r.some(o=>n.test(o)))}function VPe(e){return(e.replace(NPe,"").match(yYt)||[]).map(n=>new RegExp("^".concat(n.slice(0,bYt).replace(/\*/g,".*"),"$"),"i"))}async function fj(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const Bne={datetime:1,number:2,string:3,boolean:4};function sp(e,t){const n=Xv(e),r=Xv(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function _Yt(e,t){const n=Xv(e),r=Xv(t),o=Bne[n]||100,i=Bne[r]||100;if(o!==i)return o-i;let s=sp(e,t);return s===null&&(s=0),s}const CYt={"==":function(t,n){return p3(t,n)?jo:Qr},"!=":function(t,n){return p3(t,n)?Qr:jo},">":function(t,n){if(t.type==="stream"||n.type==="stream")return $e;const r=sp(t.data,n.data);return r===null?$e:r>0?jo:Qr},">=":function(t,n){if(t.type==="stream"||n.type==="stream")return $e;const r=sp(t.data,n.data);return r===null?$e:r>=0?jo:Qr},"<":function(t,n){if(t.type==="stream"||n.type==="stream")return $e;const r=sp(t.data,n.data);return r===null?$e:r<0?jo:Qr},"<=":function(t,n){if(t.type==="stream"||n.type==="stream")return $e;const r=sp(t.data,n.data);return r===null?$e:r<=0?jo:Qr},in:async function(t,n){if(n.type==="path")return t.type!=="string"?$e:n.data.matches(t.data)?jo:Qr;if(n.isArray()){for await(const r of n)if(p3(t,r))return jo;return Qr}return $e},match:async function(t,n){let r=[],o=[];return await fj(t,a=>{r=r.concat(zPe(a))}),await fj(n,a=>{o=o.concat(wYt(a))})&&xYt(r,o)?jo:Qr},"+":function(t,n){return t.type==="datetime"&&n.type==="number"?XF(t.data.add(n.data)):t.type==="number"&&n.type==="number"?Da(t.data+n.data):t.type==="string"&&n.type==="string"?Ia(t.data+n.data):t.type==="object"&&n.type==="object"?Xn({...t.data,...n.data}):t.type==="array"&&n.type==="array"?Xn(t.data.concat(n.data)):t.isArray()&&n.isArray()?new Gd(async function*(){for await(const r of t)yield r;for await(const r of n)yield r}):$e},"-":function(t,n){return t.type==="datetime"&&n.type==="number"?XF(t.data.add(-n.data)):t.type==="datetime"&&n.type==="datetime"?Da(t.data.difference(n.data)):t.type==="number"&&n.type==="number"?Da(t.data-n.data):$e},"*":$C((e,t)=>e*t),"/":$C((e,t)=>e/t),"%":$C((e,t)=>e%t),"**":$C((e,t)=>Math.pow(e,t))};function $C(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return Da(r)}return $e}}var SYt=Object.defineProperty,EYt=(e,t,n)=>t in e?SYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zm=(e,t,n)=>(EYt(e,typeof t!="symbol"?t+"":t,n),n);class jx{constructor(t,n,r,o,i){Zm(this,"params"),Zm(this,"source"),Zm(this,"value"),Zm(this,"parent"),Zm(this,"context"),Zm(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=o,this.parent=i}createNested(t){return this.isHidden?new jx(this.params,this.source,t,this.context,this.parent):new jx(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}}function XN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:XN;const r=kYt[e.type];return r(e,t,n)}function Nne(e,t){return"then"in e?e.then(t):t(e)}const kYt={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter(e,t){let{name:n}=e;return Xn(t.params[n])},Context(e,t){let{key:n}=e;if(n==="before"||n==="after")return t.context[n]||$e;throw new Error("unknown context key: ".concat(n))},Parent(e,t){let{n}=e,r=t;for(let o=0;o<n;o++){if(!r.parent)return $e;r=r.parent}return r.value},OpCall(e,t,n){let{op:r,left:o,right:i}=e;const s=CYt[r];if(!s)throw new Error("Unknown operator: ".concat(r));const a=n(o,t),c=n(i,t);return"then"in a||"then"in c?(async()=>s(await a,await c))():s(a,c)},async Select(e,t,n){let{alternatives:r,fallback:o}=e;for(const i of r){const s=await n(i.condition,t);if(s.type==="boolean"&&s.data===!0)return n(i.value,t)}return o?n(o,t):$e},async InRange(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t),c=await n(o,t),u=await n(i,t),d=sp(await a.get(),await c.get());if(d===null)return $e;const f=sp(await a.get(),await u.get());return f===null?$e:s?d>=0&&f<=0?jo:Qr:d>=0&&f<0?jo:Qr},async Filter(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Gd(async function*(){for await(const s of i){const a=t.createNested(s),c=await n(o,a);c.type==="boolean"&&c.data===!0&&(yield s)}}):$e},async Projection(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);if(i.type!=="object")return $e;const s=t.createNested(i);return n(o,s)},FuncCall(e,t,n){let{func:r,args:o}=e;return r(o,t,n)},async PipeFuncCall(e,t,n){let{func:r,base:o,args:i}=e;const s=await n(o,t);return r(s,i,t,n)},async AccessAttribute(e,t,n){let{base:r,name:o}=e,i=t.value;return r&&(i=await n(r,t)),i.type==="object"&&i.data.hasOwnProperty(o)?Xn(i.data[o]):$e},async AccessElement(e,t,n){let{base:r,index:o}=e;const i=await n(r,t);if(!i.isArray())return $e;const s=await i.get(),a=o<0?o+s.length:o;return Xn(s[a])},async Slice(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t);if(!a.isArray())return $e;const c=await a.get();let u=o,d=i;return u<0&&(u=c.length+u),d<0&&(d=c.length+d),s&&d++,u<0&&(u=0),d<0&&(d=0),Xn(c.slice(u,d))},async Deref(e,t,n){let{base:r}=e;const o=await n(r,t);if(!t.source.isArray()||o.type!=="object")return $e;const i=o.data._ref;if(typeof i!="string")return $e;if(t.context.dereference)return Xn(await t.context.dereference({_ref:i}));for await(const s of t.source)if(s.type==="object"&&i===s.data._id)return s;return $e},Value(e){let{value:t}=e;return Xn(t)},Group(e,t,n){let{base:r}=e;return n(r,t)},async Object(e,t,n){let{attributes:r}=e;const o={};for(const i of r){const s=i.type;switch(i.type){case"ObjectAttributeValue":{const a=await n(i.value,t);o[i.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await n(i.condition,t);if(a.type!=="boolean"||a.data===!1)continue;const c=await n(i.value,t);c.type==="object"&&Object.assign(o,c.data);break}case"ObjectSplat":{const a=await n(i.value,t);a.type==="object"&&Object.assign(o,a.data);break}default:throw new Error("Unknown node type: ".concat(s))}}return Xn(o)},Array(e,t,n){let{elements:r}=e;return new Gd(async function*(){for(const o of r){const i=await n(o.value,t);if(o.isSplat){if(i.isArray())for await(const s of i)yield s}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!0||s.type==="boolean"&&s.data===!0?jo:i.type!=="boolean"||s.type!=="boolean"?$e:Qr},async And(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!1||s.type==="boolean"&&s.data===!1?Qr:i.type!=="boolean"||s.type!=="boolean"?$e:jo},async Not(e,t,n){let{base:r}=e;const o=await n(r,t);return o.type!=="boolean"?$e:o.data?Qr:jo},Neg(e,t,n){let{base:r}=e;return Nne(n(r,t),o=>o.type!=="number"?$e:Da(-o.data))},Pos(e,t,n){let{base:r}=e;return Nne(n(r,t),o=>o.type!=="number"?$e:Da(o.data))},Asc(){return $e},Desc(){return $e},async ArrayCoerce(e,t,n){let{base:r}=e;const o=await n(r,t);return o.isArray()?o:$e},async Map(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Gd(async function*(){for await(const s of i){const a=t.createHidden(s);yield await n(o,a)}}):$e},async FlatMap(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Gd(async function*(){for await(const s of i){const a=t.createHidden(s),c=await n(o,a);if(c.isArray())for await(const u of c)yield u;else yield c}}):$e}};function HPe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Xn(t.root),r=Xn(t.dataset),o={...t.params},i=new jx(o,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?Xn(t.after):null,before:t.before?Xn(t.before):null,dereference:t.dereference},null);return XN(e,i)}function Ty(e){switch(e.type){case"Group":return Ty(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return Ty(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return Ty(e.left)&&Ty(e.right);default:return!1}default:return!1}}const jYt=new jx({},$e,$e,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function m3(e){return Ty(e)?UPe(e):null}function UPe(e){const t=XN(e,jYt,UPe);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function TYt(e){if(e.type==="object")return YPe(e.data);if(e.isArray()){const t=await WPe(e);if(t.length>0)return t.join(`

`)}return null}async function WPe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for await(const n of e)if(n.type==="object"){const r=YPe(n.data);r!==null&&t.push(r)}else n.isArray()&&await WPe(n,t);return t}function YPe(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const zne=1.2;async function pg(e,t,n){if(e.type==="OpCall"&&e.op==="match")return AYt(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await pg(e.args[0],t,n),o=await n(e.args[1],t);return o.type==="number"&&r>0?r+o.data:0}switch(e.type){case"Or":{const r=await pg(e.left,t,n),o=await pg(e.right,t,n);return r+o}case"And":{const r=await pg(e.left,t,n),o=await pg(e.right,t,n);return r===0||o===0?0:r+o}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function AYt(e,t,n,r){const o=await r(e,n),i=await r(t,n);let s=[],a=[];if(await fj(o,d=>{s=s.concat(zPe(d))}),!await fj(i,d=>{a=a.concat(VPe(d))})||s.length===0||a.length===0)return 0;let u=0;for(const d of a){const f=s.reduce((p,m)=>p+(d.test(m)?1:0),0);u+=f*(zne+1)/(f+zne)}return u}function QF(e,t){switch(Xv(e)){case"array":for(const n of e)if(QF(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(QF(n,t))return!0;break}return!1}function OYt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const On={};On.anywhere=async function(){throw new Error("not implemented")};On.anywhere.arity=1;On.coalesce=async function(t,n,r){for(const o of t){const i=await r(o,n);if(i.type!=="null")return i}return $e};On.count=async function(t,n,r){const o=await r(t[0],n);if(!o.isArray())return $e;let i=0;for await(const s of o)i++;return Da(i)};On.count.arity=1;On.dateTime=async function(t,n,r){const o=await r(t[0],n);return o.type==="datetime"?o:o.type!=="string"?$e:Zv.parseToValue(o.data)};On.dateTime.arity=1;On.defined=async function(t,n,r){return(await r(t[0],n)).type==="null"?Qr:jo};On.defined.arity=1;On.identity=async function(t,n){return Ia(n.context.identity)};On.identity.arity=0;On.length=async function(t,n,r){const o=await r(t[0],n);if(o.type==="string")return Da(OYt(o.data));if(o.isArray()){let i=0;for await(const s of o)i++;return Da(i)}return $e};On.length.arity=1;On.path=async function(t,n,r){const o=await r(t[0],n);return o.type!=="string"?$e:mYt(new BPe(o.data))};On.path.arity=1;On.string=async function(t,n,r){const o=await r(t[0],n);switch(o.type){case"number":case"string":case"boolean":case"datetime":return Ia("".concat(o.data));default:return $e}};On.string.arity=1;On.references=async function(t,n,r){const o=new Set;for(const s of t){const a=await r(s,n);if(a.type==="string")o.add(a.data);else if(a.isArray())for await(const c of a)c.type==="string"&&o.add(c.data)}if(o.size===0)return Qr;const i=await n.value.get();return QF(i,o)?jo:Qr};On.references.arity=e=>e>=1;On.round=async function(t,n,r){const o=await r(t[0],n);if(o.type!=="number")return $e;const i=o.data;let s=0;if(t.length===2){const a=await r(t[1],n);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return $e;s=a.data}return s===0?i<0?Da(-Math.round(-i)):Da(Math.round(i)):Da(Number(i.toFixed(s)))};On.round.arity=e=>e>=1&&e<=2;On.now=async function(t,n){return Ia(n.context.timestamp.toISOString())};On.now.arity=0;On.boost=async function(){throw new Error("unexpected boost call")};On.boost.arity=2;const $l={};$l.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?$e:Ia(r.data.toLowerCase())};$l.lower.arity=1;$l.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?$e:Ia(r.data.toUpperCase())};$l.upper.arity=1;$l.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return $e;const o=await n(e[1],t);return o.type!=="string"?$e:r.data.length===0?Xn([]):o.data.length===0?Xn(Array.from(r.data)):Xn(r.data.split(o.data))};$l.split.arity=2;On.lower=$l.lower;On.upper=$l.upper;$l.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return $e;const o=await n(e[1],t);return o.type!=="string"?$e:r.data.startsWith(o.data)?jo:Qr};$l.startsWith.arity=2;const jm={};jm.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;const o=await n(e[1],t);if(o.type!=="string")return $e;let i="",s=!1;for await(const a of r){switch(s&&(i+=o.data),a.type){case"number":case"string":case"boolean":case"datetime":i+="".concat(a.data);break;default:return $e}s=!0}return Xn(i)};jm.join.arity=2;jm.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Gd(async function*(){for await(const o of r)o.type!=="null"&&(yield o)}):$e};jm.compact.arity=1;jm.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Gd(async function*(){const o=new Set;for await(const i of r)switch(i.type){case"number":case"string":case"boolean":case"datetime":o.has(i.data)||(o.add(i.data),yield i);break;default:yield i}}):$e};jm.unique.arity=1;const QN={};QN.text=async function(e,t,n){const r=await n(e[0],t),o=await TYt(r);return o===null?$e:Ia(o)};QN.text.arity=1;const JN={};JN.projectId=async function(e,t){return t.context.sanity?Ia(t.context.sanity.projectId):$e};JN.dataset=async function(e,t){return t.context.sanity?Ia(t.context.sanity.dataset):$e};const Gw={};Gw.order=async function(t,n,r,o){if(await!0,!t.isArray())return $e;const i=[],s=[];let a=0;for(let d of n){let f="asc";d.type==="Desc"?(f="desc",d=d.base):d.type==="Asc"&&(d=d.base),i.push(d),s.push(f),a++}const c=[];let u=0;for await(const d of t){const f=r.createNested(d),p=[await d.get(),u];for(let m=0;m<a;m++){const v=await o(i[m],f);p.push(await v.get())}c.push(p),u++}return c.sort((d,f)=>{for(let p=0;p<a;p++){let m=_Yt(d[p+2],f[p+2]);if(s[p]==="desc"&&(m=-m),m!==0)return m}return d[1]-f[1]}),Xn(c.map(d=>d[0]))};Gw.order.arity=e=>e>=1;Gw.score=async function(t,n,r,o){if(!t.isArray())return $e;const i=[],s=[];for await(const a of t){if(a.type!=="object"){i.push(await a.get());continue}const c=r.createNested(a);let u=typeof a.data._score=="number"?a.data._score:0;for(const f of n)u+=await pg(f,c,o);const d=Object.assign({},a.data,{_score:u});s.push(d)}return s.sort((a,c)=>c._score-a._score),Xn(s)};Gw.score.arity=e=>e>=1;const th={};th.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?Ia("update"):r?Ia("create"):n?Ia("delete"):$e};th.changedAny=()=>{throw new Error("not implemented")};th.changedAny.arity=1;th.changedAny.mode="delta";th.changedOnly=()=>{throw new Error("not implemented")};th.changedOnly.arity=1;th.changedOnly.mode="delta";const Kw={};Kw.changedAny=()=>{throw new Error("not implemented")};Kw.changedAny.arity=3;Kw.changedOnly=()=>{throw new Error("not implemented")};Kw.changedOnly.arity=3;const dd={};dd.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return $e;(o===void 0||i.data<o)&&(o=i.data)}return Xn(o)};dd.min.arity=1;dd.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return $e;(o===void 0||i.data>o)&&(o=i.data)}return Xn(o)};dd.max.arity=1;dd.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;let o=0;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return $e;o+=i.data}return Xn(o)};dd.sum.arity=1;dd.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;let o=0,i=0;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return $e;o+=s.data,i++}return i===0?$e:Xn(o/i)};dd.avg.arity=1;const ez={};ez.now=async function(t,n,r){return XF(new Zv(n.context.timestamp))};ez.now.arity=0;const PYt={global:On,string:$l,array:jm,pt:QN,delta:th,diff:Kw,sanity:JN,math:dd,dateTime:ez};var DYt=Object.defineProperty,IYt=(e,t,n)=>t in e?DYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G1=(e,t,n)=>(IYt(e,typeof t!="symbol"?t+"":t,n),n);class RYt{constructor(t,n,r){G1(this,"string"),G1(this,"marks"),G1(this,"index"),G1(this,"parseOptions"),G1(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.index+t<this.marks.length}getMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error("Unknown handler: ".concat(n.name));return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const $Yt=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,g3=/^\d+/,ap=/^[a-zA-Z_][a-zA-Z_0-9]*/,MC=1,FC=2,LC=3,qr=4,Xm=4,BC=6,NC=6,zC=7,VC=7,HC=7,UC=8,MYt=10,FYt=10,LYt=8;function BYt(e){let t=0;t=Qe(e,t);let n=_n(e,t,0);return n.type==="error"?n:(t=Qe(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function _n(e,t,n){let r=t,o=e[t],i;switch(o){case"+":{let u=_n(e,Qe(e,t+1),MYt);if(u.type==="error")return u;i=[{name:"pos",position:r}].concat(u.marks),t=u.position;break}case"-":{let u=_n(e,Qe(e,t+1),LYt);if(u.type==="error")return u;i=[{name:"neg",position:r}].concat(u.marks),t=u.position;break}case"(":{let u=_n(e,Qe(e,t+1),0);if(u.type==="error")return u;switch(t=Qe(e,u.position),e[t]){case",":{for(i=[{name:"tuple",position:r}].concat(u.marks),t=Qe(e,t+1);;){if(u=_n(e,t,0),u.type==="error")return u;if(t=Qe(e,u.position),e[t]!==",")break;t=Qe(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,i.push({name:"tuple_end",position:t});break}case")":{t++,i=[{name:"group",position:r}].concat(u.marks);break}default:return{type:"error",position:t}}break}case"!":{let u=_n(e,Qe(e,t+1),FYt);if(u.type==="error")return u;i=[{name:"not",position:r}].concat(u.marks),t=u.position;break}case"{":{let u=JF(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"[":if(i=[{name:"array",position:t}],t=Qe(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(i.push({name:"array_splat",position:t}),t=Qe(e,t+3));let u=_n(e,t,0);if(u.type==="error")return u;if(i=i.concat(u.marks),t=u.position,t=Qe(e,t),e[t]!==","||(t=Qe(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,i.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let u=NYt(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"^":{for(t++,i=[];e[t]==="."&&e[t+1]==="^";)i.push({name:"dblparent",position:r}),t+=2;i.push({name:"parent",position:r});break}case"@":i=[{name:"this",position:r}],t++;break;case"*":i=[{name:"everything",position:r}],t++;break;case"$":{let u=oc(e,t+1,ap);u&&(t+=1+u,i=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let u=oc(e,t,g3);if(u){t+=u;let f="integer";if(e[t]==="."){let p=oc(e,t+1,g3);p&&(f="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){f="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=oc(e,t,g3);if(!p)return{type:"error",position:t};t+=p}i=[{name:f,position:r},{name:f+"_end",position:t}];break}let d=oc(e,t,ap);if(d){switch(t+=d,e[t]){case":":case"(":{let f=Hne(e,r,t);if(f.type==="error")return f;i=f.marks,t=f.position;break}default:i=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!i)return{type:"error",position:t};let s=12,a;e:for(;;){let u=Qe(e,t);if(u===e.length){t=u;break}if(a=Vne(e,u),a.type==="success"){for(i.unshift({name:"traverse",position:r});a.type==="success";)i=i.concat(a.marks),t=a.position,a=Vne(e,Qe(e,t));i.push({name:"traversal_end",position:t});continue}switch(e[u]){case"=":{switch(e[u+1]){case">":{if(n>MC||s<=MC)break e;let p=_n(e,Qe(e,u+2),MC);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pair",position:r}),t=p.position,s=MC;break}case"=":{if(n>qr||s<=qr)break e;let p=_n(e,Qe(e,u+2),qr+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(p.marks),t=p.position,s=qr;break}default:break e}break}case"+":{if(n>BC||s<BC)break e;let f=_n(e,Qe(e,u+1),BC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"add",position:r}),t=f.position,s=BC;break}case"-":{if(n>NC||s<NC)break e;let f=_n(e,Qe(e,u+1),NC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"sub",position:r}),t=f.position,s=NC;break}case"*":{if(e[u+1]==="*"){if(n>UC||s<=UC)break e;let p=_n(e,Qe(e,u+2),UC);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pow",position:r}),t=p.position,s=UC;break}if(n>zC||s<zC)break e;let f=_n(e,Qe(e,u+1),zC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mul",position:r}),t=f.position,s=zC;break}case"/":{if(n>VC||s<VC)break e;let f=_n(e,Qe(e,u+1),VC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"div",position:r}),t=f.position,s=VC;break}case"%":{if(n>HC||s<HC)break e;let f=_n(e,Qe(e,u+1),HC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mod",position:r}),t=f.position,s=HC;break}case"<":case">":{if(n>qr||s<=qr)break e;let f=u+1;e[f]==="="&&f++;let p=_n(e,Qe(e,f),qr+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:f}),i=i.concat(p.marks),t=p.position,s=qr;break}case"|":{if(e[u+1]==="|"){if(n>FC||s<FC)break e;let f=_n(e,Qe(e,u+2),FC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"or",position:r}),t=f.position,s=FC}else{if(n>11||s<11)break e;let f=Qe(e,u+1),p=oc(e,f,ap);if(!p)return{type:"error",position:f};if(t=f+p,e[t]==="("||e[t]===":"){let m=Hne(e,f,t);if(m.type==="error")return m;i=i.concat(m.marks),i.unshift({name:"pipecall",position:r}),t=m.position,s=11}}break}case"&":{if(e[u+1]!="&"||n>LC||s<LC)break e;let f=_n(e,Qe(e,u+2),LC+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"and",position:r}),t=f.position,s=LC;break}case"!":{if(e[u+1]!=="="||n>qr||s<=qr)break e;let f=_n(e,Qe(e,u+2),qr+1);if(f.type==="error")return f;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(f.marks),t=f.position,s=qr;break}case"d":{if(e.slice(u,u+4)!=="desc"||n>Xm||s<Xm)break e;i.unshift({name:"desc",position:r}),t=u+4,s=Xm;break}case"a":{if(e.slice(u,u+3)!=="asc"||n>Xm||s<Xm)break e;i.unshift({name:"asc",position:r}),t=u+3,s=Xm;break}default:switch(zYt(e,u,ap)){case"in":{if(n>qr||s<=qr)break e;t=Qe(e,u+2);let p=!1;e[t]==="("&&(p=!0,t=Qe(e,t+1));let m=t,v=_n(e,t,qr+1);if(v.type==="error")return v;if(t=Qe(e,v.position),e[t]==="."&&e[t+1]==="."){let g="inc_range";e[t+2]==="."?(g="exc_range",t=Qe(e,t+3)):t=Qe(e,t+2);let b=_n(e,t,qr+1);if(b.type==="error")return b;i.unshift({name:"in_range",position:r}),i=i.concat({name:g,position:m},v.marks,b.marks),t=b.position}else i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(v.marks);if(p){if(t=Qe(e,t),e[t]!==")")return{type:"error",position:t};t++}s=qr;break}case"match":{if(n>qr||s<=qr)break e;let p=_n(e,Qe(e,u+5),qr+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+5}),i=i.concat(p.marks),t=p.position,s=4;break}default:break e}}}let c=(a==null?void 0:a.type)==="error"&&a.position;return{type:"success",marks:i,position:t,failPosition:c}}function Vne(e,t){let n=t;switch(e[t]){case".":{t=Qe(e,t+1);let s=t,a=oc(e,t,ap);return a?(t+=a,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:s},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let o=Qe(e,t),i=oc(e,o,ap);return i&&(t=o+i,r.push({name:"deref_attr",position:o},{name:"ident",position:o},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=Qe(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let s=t,a=_n(e,t,0);if(a.type==="error")return a;if(t=Qe(e,a.position),e[t]==="."&&e[t+1]==="."){let c="inc_range";e[t+2]==="."?(c="exc_range",t+=3):t+=2,t=Qe(e,t);let u=_n(e,t,0);return u.type==="error"?u:(t=Qe(e,u.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:c,position:s}].concat(a.marks,u.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(a.marks),position:t+1}}case"|":{if(t=Qe(e,t+1),e[t]==="{"){let s=JF(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}break}case"{":{let s=JF(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}}return{type:"error",position:t}}function Hne(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Qe(e,n+2);let i=oc(e,n,ap);if(!i)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),n=Qe(e,n+i),e[n]!=="(")return{type:"error",position:n};n++,n=Qe(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Qe(e,n+1);let o=n;if(e[n]!==")")for(;;){let i=_n(e,n,0);if(i.type==="error")return i;if(r=r.concat(i.marks),o=i.position,n=Qe(e,i.position),e[n]!==","||(n=Qe(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:o}),{type:"success",marks:r,position:n+1})}function JF(e,t){let n=[{name:"object",position:t}];for(t=Qe(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=Qe(e,t+3),e[t]!=="}"&&e[t]!==","){let o=_n(e,t,0);if(o.type==="error")return o;n.push({name:"object_splat",position:r}),n=n.concat(o.marks),t=o.position}else n.push({name:"object_splat_this",position:r});else{let o=_n(e,t,0);if(o.type==="error")return o;let i=Qe(e,o.position);if(o.marks[0].name==="str"&&e[i]===":"){let s=_n(e,Qe(e,i+1),0);if(s.type==="error")return s;n.push({name:"object_pair",position:r}),n=n.concat(o.marks,s.marks),t=s.position}else n=n.concat({name:"object_expr",position:t},o.marks),t=o.position}if(t=Qe(e,t),e[t]!==",")break;t=Qe(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function NYt(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function Qe(e,t){return t+oc(e,t,$Yt)}function oc(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function zYt(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function Ta(e,t){return n=>t(e(n))}function e6(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function VYt(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function iE(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Ta(e,t.build)};case"a-b":return{type:"a-b",build:Ta(e,t.build)};case"b-b":return{type:"a-a",build:Ta(e,e6(t.build))};case"b-a":return{type:"a-a",build:Ta(e,VYt(t.build))};default:throw new Error("unknown type: ".concat(t.type))}}function v3(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:Ta(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:Ta(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function HYt(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:Ta(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:Ta(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function UYt(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Ta(e6(e),t.build)};case"a-b":return{type:"a-b",build:Ta(e6(e),t.build)};case"b-a":return{type:"b-a",build:Ta(e,t.build)};case"b-b":return{type:"b-b",build:Ta(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}var WYt=Object.defineProperty,YYt=(e,t,n)=>t in e?WYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t6=(e,t,n)=>(YYt(e,typeof t!="symbol"?t+"":t,n),n);const qYt={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function GYt(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Bi extends Error{constructor(){super(...arguments),t6(this,"name","GroqQueryError")}}const it={group(e){return{type:"Group",base:e.process(it)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(it).n+1}},traverse(e){const t=e.process(it),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process(qPe));e.shift();let r=null;for(let o=n.length-1;o>=0;o--)r=n[o](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=iE(o=>o,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(it)}},pos(e){return{type:"Pos",base:e.process(it)}},add(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(it),n=e.process(it);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(it),n=e.processString(),r=e.process(it);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(it),n=e.getMark().name==="inc_range";e.shift();const r=e.process(it),o=e.process(it);return{type:"InRange",base:t,left:r,right:o,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=qYt[r];break}case"unicode_hex":e.shift(),t+=GYt(e.processStringEnd());break;default:throw new Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(KYt));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(it);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(it));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const s={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(s.fallback)throw new Bi("unexpected argument to select()");e.shift();const a=e.process(it),c=e.process(it);s.alternatives.push({type:"SelectAlternative",condition:a,value:c})}else{if(s.fallback)throw new Bi("unexpected argument to select()");const a=e.process(it);s.fallback=a}return e.shift(),s}const r=[];for(;e.getMark().name!=="func_args_end";)ZYt(t,n,r.length)?(e.process(n6),r.push({type:"Selector"})):r.push(e.process(it));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new Bi("unexpected boost");const o=PYt[t];if(!o)throw new Bi("Undefined namespace: ".concat(t));const i=o[n];if(!i)throw new Bi("Undefined function: ".concat(n));if(i.arity!==void 0&&Une(n,i.arity,r.length),i.mode!==void 0&&i.mode!==e.parseOptions.mode)throw new Bi("Undefined function: ".concat(n));return{type:"FuncCall",func:i,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(it);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new Bi("Undefined namespace: ".concat(n));const r=e.processString(),o=[],i=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const a=e.getMark().name;if(a==="func_args_end")break;if(r==="order"){if(a==="asc"){e.shift(),o.push({type:"Asc",base:e.process(it)});continue}else if(a==="desc"){e.shift(),o.push({type:"Desc",base:e.process(it)});continue}}o.push(e.process(it))}e.shift(),e.allowBoost=i;const s=Gw[r];if(!s)throw new Bi("Undefined pipe function: ".concat(r));return s.arity&&Une(r,s.arity,o.length),{type:"PipeFuncCall",func:s,base:t,name:r,args:o}},pair(e){throw new Bi("unexpected =>")},and(e){const t=e.process(it),n=e.process(it);return{type:"And",left:t,right:n}},or(e){const t=e.process(it),n=e.process(it);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(it)}},asc(e){throw new Bi("unexpected asc")},desc(e){throw new Bi("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},KYt={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(it),r=e.process(it);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(it);return{type:"ObjectAttributeValue",name:GPe(t),value:t}},object_pair(e){const t=e.process(it);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(it);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(it)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},qPe={square_bracket(e){const t=e.process(it),n=m3(t);return n&&n.type==="number"?r=>HYt(o=>({type:"AccessElement",base:o,index:n.data}),r):n&&n.type==="string"?r=>v3(o=>({type:"AccessAttribute",base:o,name:n.data}),r):r=>iE(o=>({type:"Filter",base:o,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(it),r=e.process(it),o=m3(n),i=m3(r);if(!o||!i||o.type!=="number"||i.type!=="number")throw new Bi("slicing must use constant numbers");return s=>iE(a=>({type:"Slice",base:a,left:o.data,right:i.data,isInclusive:t}),s)},projection(e){const t=e.process(it);return n=>UYt(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>v3(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>v3(o=>n({type:"Deref",base:o}),r)},array_postfix(e){return t=>iE(n=>({type:"ArrayCoerce",base:n}),t)}},n6={group(e){return e.process(n6),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(e){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(n6);e.getMark().name!=="traversal_end";)e.process(qPe);return e.shift(),null},this_attr(e){return e.processString(),null},neg(e){throw new Error("Invalid selector syntax")},pos(e){throw new Error("Invalid selector syntax")},add(e){throw new Error("Invalid selector syntax")},sub(e){throw new Error("Invalid selector syntax")},mul(e){throw new Error("Invalid selector syntax")},div(e){throw new Error("Invalid selector syntax")},mod(e){throw new Error("Invalid selector syntax")},pow(e){throw new Error("Invalid selector syntax")},comp(e){throw new Error("Invalid selector syntax")},in_range(e){throw new Error("Invalid selector syntax")},str(e){throw new Error("Invalid selector syntax")},integer(e){throw new Error("Invalid selector syntax")},float(e){throw new Error("Invalid selector syntax")},sci(e){throw new Error("Invalid selector syntax")},object(e){throw new Error("Invalid selector syntax")},array(e){throw new Error("Invalid selector syntax")},tuple(e){throw new Error("Invalid selector syntax")},func_call(e,t){const n=it.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(e){throw new Error("Invalid selector syntax")},pair(e){throw new Error("Invalid selector syntax")},and(e){throw new Error("Invalid selector syntax")},or(e){throw new Error("Invalid selector syntax")},not(e){throw new Error("Invalid selector syntax")},asc(e){throw new Error("Invalid selector syntax")},desc(e){throw new Error("Invalid selector syntax")},param(e){throw new Error("Invalid selector syntax")}};function GPe(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return GPe(e.base);throw new Bi("Cannot determine property key for type: ".concat(e.type))}function Une(e,t,n){if(typeof t=="number"){if(n!==t)throw new Bi("Incorrect number of arguments to function ".concat(e,"(). Expected ").concat(t,", got ").concat(n,"."))}else if(t&&!t(n))throw new Bi("Incorrect number of arguments to function ".concat(e,"()."))}function ZYt(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class XYt extends Error{constructor(t){super("Syntax error in GROQ query at position ".concat(t)),t6(this,"position"),t6(this,"name","GroqSyntaxError"),this.position=t}}function KPe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=BYt(e);if(n.type==="error")throw new XYt(n.position);return new RYt(e,n.marks,t).process(it)}function QYt(e,t=rit){return n=>{const r=n;let o=null,i=null;const s=new gr,a=s.pipe(ta((c,u)=>c+u,0),nt(c=>c===0?Mo(e,t).pipe(mn(()=>{o&&(o.unsubscribe(),o=null),i&&(i.unsubscribe(),i=null)})):!o&&c>0?Mo(0,t).pipe(mn(()=>{o||(o=r.connect())})):m7));return Wit(()=>(i||(i=a.subscribe()),s.next(1),{unsubscribe:()=>s.next(-1)}),()=>n)}}var JYt=Object.defineProperty,eqt=(e,t,n)=>t in e?JYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qm=(e,t,n)=>(eqt(e,typeof t!="symbol"?t+"":t,n),n);const tqt=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class ZPe{constructor(t,n,r){Qm(this,"model"),Qm(this,"root"),Qm(this,"patch"),Qm(this,"i"),Qm(this,"inputStack"),Qm(this,"outputStack"),this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=tqt[n];if(!r)throw new Error("Unknown opcode: ".concat(n));let o="process".concat(r);this[o].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let o=this.outputObject();this.model.objectSetField(o,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),o=this.outputObject();this.model.objectSetField(o,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.model.objectGetField(n.value,r);this.inputStack.push({value:o,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.outputObject();this.model.objectDeleteField(o,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),o=this.inputEntry().value;this.model.arrayAppendSlice(r,o,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),o=this.inputEntry().value;this.model.stringAppendSlice(r,o,t,n)}}function Zw(e){return e>>16?4:e>>11?3:e>>7?2:1}function r6(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),o=Zw(r);o==4&&n++,t+=o}return t}function Wne(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=n,o=0;for(o=n;r<t;o++){let i=e.codePointAt(o),s=Zw(i);s===4&&o++,r+=s}return o}function nqt(e,t){let n=Math.min(e.length,t.length),r=0;for(let o=0;o<n;){let i=e.codePointAt(o),s=t.codePointAt(o);if(i!==s)return r;let a=Zw(i);r+=a,o+=a===4?2:1}return r}function rqt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Math.min(e.length,t.length)-n,o=0;for(let i=0;i<r;){let s=e.codePointAt(e.length-1-i),a=t.codePointAt(t.length-1-i);if(s!==a)return o;let c=Zw(s);o+=c,i+=c===4?2:1}return o}var oqt=Object.defineProperty,iqt=(e,t,n)=>t in e?oqt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sqt=(e,t,n)=>(iqt(e,typeof t!="symbol"?t+"":t,n),n);class o6{constructor(t){sqt(this,"meta"),this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.meta;return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,o]of Object.entries(t.data))n[r]=this.wrapWithMeta(o,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(o=>this.wrapWithMeta(o,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:r6(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(au(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],o=n?n.metas:[];return{type:"array",elements:r,metas:o}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,o){let i=this.asArray(n),s=i.elements.length===r;if(t.elements.push(...i.elements.slice(r,o)),s)t.metas.push(...i.metas.slice(r,o));else for(let a=r;a<o;a++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let o of r.parts)this.stringAppendPart(t,o)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let o=n;o<t.parts.length;o++){let i=t.parts[o];if(r===i.utf8size)return o+1;if(r<i.utf8size)return this.splitString(i,r),o+1;r-=i.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,o,i=n,s=t.utf8size-i;if(t.utf8size!==t.value.length){let c=0;for(n=0;c<i;n++){let u=t.value.codePointAt(n),d=Zw(u);d===4&&n++,c+=d}}r=t.value.slice(0,n),o=t.value.slice(n);let a={value:o,utf8size:s,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=i;for(let c of t.uses){let u=c.parts.indexOf(t);if(u===-1)throw new Error("bug: mismatch between string parts and use.");c.parts.splice(u+1,0,a)}}stringAppendSlice(t,n,r,o){let i=this.asString(n),s=this.resolveStringPart(i,0,r),a=this.resolveStringPart(i,s,o-r);for(let c=s;c<a;c++){let u=i.parts[c];this.stringAppendPart(t,u)}}}function aqt(e,t){return{data:e,startMeta:t,endMeta:t}}function au(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>au(r));break;case"object":{t={};for(let[r,o]of Object.entries(n.fields))t[r]=au(o)}}return e.data=t,t}function i6(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function s6(e,t){let n=i6(e),r=i6(t);if(n!==r)return t;let o=new o6(e.endMeta),i=new o6(t.endMeta);switch(n){case"object":{let s=o.asObject(e),a=i.asObject(t),c=0,u=Object.keys(s.fields).length,d=Object.keys(a.fields).length;for(let[p,m]of Object.entries(a.fields)){let v=s.fields[p];v&&(a.fields[p]=s6(v,m),a.fields[p]===v&&c++)}return u===d&&u===c?e:t}case"array":{let s=o.asArray(e),a=i.asArray(t);if(s.elements.length!==a.elements.length)break;let c=0;for(let u=0;u<a.elements.length;u++)a.elements[u]=s6(s.elements[u],a.elements[u]),a.elements[u]!==s.elements[u]&&c++;return c===0?e:t}case"null":case"boolean":case"number":{if(au(e)===au(t))return e;break}case"string":{let s=au(e),a=au(t);if(s===a)return e;let c=i.copyString(null),u=nqt(s,a),d=rqt(s,a,u),f=r6(a),p=r6(s);0<u&&i.stringAppendSlice(c,e,0,u),u<f-d&&i.stringAppendSlice(c,t,u,f-d),p-d<p&&i.stringAppendSlice(c,e,p-d,p);let m=i.finalize(c);if(au(m)!==a)throw new Error("incorrect string rebase");return m}}return t}function lqt(e,t,n){let r=new o6(n);return new ZPe(r,e,t).process()}var nl=Object.freeze({__proto__:null,applyPatch:lqt,getType:i6,rebaseValue:s6,unwrap:au,wrap:aqt});class cqt{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,o]of Object.entries(t))n.data[r]=o;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,o){t.push(...n.slice(r,o))}stringAppendSlice(t,n,r,o){const i=n,s=Wne(i,r),a=Wne(i,o,s);t.data+=i.slice(s,a)}stringAppendValue(t,n){t.data+=n}}function a6(e,t){let n=e;return new ZPe(new cqt,n,t).process()}function nh(e,t,n){return delete e[t],e[t]=n,n}function uqt(e,t){const n=dqt(e,t);return fqt(n,e,t)}function dqt(e,t){const n=e.length,r=t.length;let o=0,i=0;const s=new Array(n+1);for(o=0;o<n+1;o++)for(s[o]=[r+1],i=0;i<r+1;i++)s[o][i]=0;for(o=1;o<n+1;o++)for(i=1;i<r+1;i++)e[o-1]===t[i-1]?s[o][i]=s[o-1][i-1]+1:s[o][i]=Math.max(s[o-1][i],s[o][i-1]);return s}function fqt(e,t,n){let r=t.length,o=n.length;const i={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&o!==0;)if(t[r-1]===n[o-1])i.sequence.unshift(t[r-1]),i.prevIndices.unshift(r-1),i.nextIndices.unshift(o-1),--r,--o;else{const a=e[r][o-1],c=e[r-1][o];a>c?--o:--r}return i}function hqt(e,t,n){if(e===t){const s=e.value,a=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:s,toValue:a,get items(){const c=Yne(e,t);if(!c)throw new Error("invariant broken: equivalent input, but diff detected");return nh(this,"items",c)}}}const r=Gne(e),o=Gne(t);if(r&&o)return mqt(e,r,t,o);const i=Yne(e,t);return i?tz(e,t,i,!1):pqt(e,t)}function tz(e,t,n,r){const o=e.value,i=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:o,toValue:i,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:i,items:n}}function Yne(e,t,n){if(e.length!==t.length)return;const r=[];for(let o=0;o<e.length;o++){const i=hO(e.at(o),t.at(o));if(i.isChanged)return;r.push({fromIndex:o,toIndex:o,hasMoved:!1,diff:i,annotation:t.annotationAt(o)})}return r}function pqt(e,t,n){const r=[];for(let o=0;o<t.length;o++){const i=t.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Am(i,void 0),annotation:i.annotation})}for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Tm(i,void 0),annotation:i.annotation})}return tz(e,t,r,!0)}function mqt(e,t,n,r,o){const i=[];let s=!1;function a(u,d,f,p){qne(t.index,u,d),qne(r.index,u,f);const m=e.at(d),v=n.at(f),g=hO(m,v);i.push({fromIndex:d,toIndex:f,hasMoved:p,diff:g,annotation:n.annotationAt(f)}),(g.isChanged||d!==f)&&(s=!0)}const c=uqt(t.keys,r.keys);for(let u=0;u<t.keys.length;u++){const d=t.keys[u],f=c.prevIndices.indexOf(u);if(f!==-1){a(d,u,c.nextIndices[f],!1);continue}const p=r.index.get(d),m=p&&p.find(g=>!c.nextIndices.includes(g));if(m!==void 0){a(d,u,m,!0);continue}const v=e.at(u);i.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:Tm(v,void 0),annotation:e.annotationAt(u)}),s=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);i.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:Am(f,void 0),annotation:n.annotationAt(d)})}s=!0}return i.sort(gqt),tz(e,n,i,s)}function gqt(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function qne(e,t,n){const r=e.get(t);vqt(r,n),r.length===0&&e.delete(t)}function vqt(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function Gne(e){const t=new Map,n=[],r=e.length;for(let o=0;o<r;o++){const i=e.at(o);let s=null;switch(i.type){case"string":s="s".concat(i.value);break;case"number":s=i.value;break;case"boolean":s=i.value;break;case"null":s="n";break;case"object":{const c=i.get("_key");if(c&&c.type==="string"&&(s="k".concat(c.value),t.has(s)))return}break}if(s===null)return;n.push(s);let a=t.get(s);a||(a=[],t.set(s,a)),a.push(o)}return{keys:n,index:t}}function yqt(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Tm(i,void 0),annotation:e.annotationAt(o)})}return nh(this,"items",r)}}}function bqt(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Am(i,void 0),annotation:e.annotationAt(o)})}return nh(this,"items",r)}}}function xqt(e,t,n){const r=e.value,o=t.value;return r===o?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:o,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation,get segments(){const i=wqt(e,t);return nh(this,"segments",i)}}}function wqt(e,t){const n=[],r=$B(Lw(e.value,t.value));let o=0,i=0;for(const[s,a]of r)switch(s){case Ct:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Cn:for(const c of e.sliceAnnotation(o,o+a.length))n.push({type:"stringSegment",action:"removed",text:c.text,annotation:c.annotation});o+=a.length;break;case Vn:for(const c of t.sliceAnnotation(i,i+a.length))n.push({type:"stringSegment",action:"added",text:c.text,annotation:c.annotation});i+=a.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(s,'"'))}return n}function _qt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"removed",...o}));return nh(this,"segments",r)}}}function Cqt(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"added",...o}));return nh(this,"segments",r)}}}function Sqt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:Tm(e,void 0),toType:t.type,toValue:t.value,toDiff:Am(t,void 0),annotation:t.annotation}}const Kne=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function Eqt(e,t,n){const r={};let o=!1;for(const a of e.keys){if(Kne.has(a))continue;const c=e.get(a),u=t.get(a);if(u){const d=hO(c,u);r[a]=d,d.isChanged&&(o=!0)}else r[a]=Tm(c,void 0),o=!0}for(const a of t.keys){if(Kne.has(a)||e.get(a))continue;const c=t.get(a);r[a]=Am(c,void 0),o=!0}const i=e.value,s=t.value;return o?{type:"object",action:"changed",isChanged:!0,fromValue:i,toValue:s,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:i,toValue:s,fields:r}}function kqt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Tm(i,void 0)}return nh(this,"fields",r)}}}function jqt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Am(i,void 0)}return nh(this,"fields",r)}}}function Tqt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function Aqt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function hO(e,t){return e.type!==t.type?e.type==="null"?Am(t,null):t.type==="null"?Tm(e,null):Sqt(e,t):Oqt(e.type,e,t)}function Oqt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return Aqt(t,n);case"number":return Tqt(t,n);case"string":return xqt(t,n);case"array":return hqt(t,n);case"object":return Eqt(t,n);default:throw new Error('Unhandled diff type "'.concat(e,'"'))}}function Tm(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return _qt(e,t);case"array":return yqt(e,t);case"object":return kqt(e,t);default:throw new Error("Unhandled diff type")}}function Am(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return Cqt(e,t);case"array":return bqt(e,t);case"object":return jqt(e,t);default:throw new Error("Unhandled diff type")}}class Pqt{constructor(t,n){this.type="array",this.elements=[],this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=nz(this.value[t],this.annotation))}annotationAt(){return this.annotation}}class Dqt{constructor(t,n){this.type="object",this.fields={},this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=nz(r,this.annotation)}}let Iqt=class{constructor(t,n){this.type="string",this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};class y3{constructor(t,n,r){this.type=t,this.value=n,this.annotation=r}}function nz(e,t){if(Array.isArray(e))return new Pqt(e,t);if(e===null)return new y3("null",e,t);const n=typeof e;switch(n){case"number":return new y3(n,e,t);case"boolean":return new y3(n,e,t);case"object":return new Dqt(e,t);case"string":return new Iqt(e,t);default:throw new Error("cannot wrap value of type: ".concat(n))}}var XPe={exports:{}},QPe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw=h;function Rqt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $qt=typeof Object.is=="function"?Object.is:Rqt,Mqt=Xw.useSyncExternalStore,Fqt=Xw.useRef,Lqt=Xw.useEffect,Bqt=Xw.useMemo,Nqt=Xw.useDebugValue;QPe.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=Fqt(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Bqt(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),o!==void 0&&s.hasValue){var v=s.value;if(o(v,m))return f=v}return f=m}if(v=f,$qt(d,m))return v;var g=r(m);return o!==void 0&&o(v,g)?v:(d=m,f=g)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,o]);var a=Mqt(e,i[0],i[1]);return Lqt(function(){s.hasValue=!0,s.value=a},[a]),Nqt(a),a};XPe.exports=QPe;var rz=XPe.exports,zqt=Math.floor,Vqt=Math.random;function Hqt(e,t){return e+zqt(Vqt()*(t-e+1))}var Uqt=Hqt,Wqt=Uqt;function Yqt(e){var t=e.length;return t?e[Wqt(0,t-1)]:void 0}var JPe=Yqt,qqt=JPe,Gqt=$Pe;function Kqt(e){return qqt(Gqt(e))}var Zqt=Kqt,Xqt=JPe,Qqt=Zqt,Jqt=Wr;function eGt(e){var t=Jqt(e)?Xqt:Qqt;return t(e)}var tGt=eGt;const nGt=Pe(tGt);var rGt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=aGt(r),this._batchScheduleFn=lGt(r),this._cacheKeyFn=cGt(r),this._cacheMap=uGt(r),this._batch=null}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var o=iGt(this),i=this._cacheMap,s=this._cacheKeyFn(r);if(i){var a=i.get(s);if(a){var c=o.cacheHits||(o.cacheHits=[]);return new Promise(function(d){c.push(function(){d(a)})})}}o.keys.push(r);var u=new Promise(function(d,f){o.callbacks.push({resolve:d,reject:f})});return i&&i.set(s,u),u},t.loadMany=function(r){if(!eDe(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var o=[],i=0;i<r.length;i++)o.push(this.load(r[i]).catch(function(s){return s}));return Promise.all(o)},t.clear=function(r){var o=this._cacheMap;if(o){var i=this._cacheKeyFn(r);o.delete(i)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,o){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(r);if(i.get(s)===void 0){var a;o instanceof Error?(a=Promise.reject(o),a.catch(function(){})):a=Promise.resolve(o),i.set(s,a)}}return this},e}(),oGt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){b3||(b3=Promise.resolve()),b3.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},b3;function iGt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize&&(!t.cacheHits||t.cacheHits.length<e._maxBatchSize))return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){sGt(e,n)}),n}function sGt(e,t){if(t.hasDispatched=!0,t.keys.length===0){l6(t);return}var n=e._batchLoadFn(t.keys);if(!n||typeof n.then!="function")return Zne(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!eDe(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));l6(t);for(var o=0;o<t.callbacks.length;o++){var i=r[o];i instanceof Error?t.callbacks[o].reject(i):t.callbacks[o].resolve(i)}}).catch(function(r){Zne(e,t,r)})}function Zne(e,t,n){l6(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function l6(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function aGt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function lGt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return oGt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function cGt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function uGt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],o=r.filter(function(i){return n&&typeof n[i]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return n}function eDe(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var dGt=rGt;const fGt=Pe(dGt);var pO={exports:{}},Ay={exports:{}};(function(){var e,t,n,r,o,i;typeof performance<"u"&&performance!==null&&performance.now?Ay.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Ay.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var s;return s=t(),s[0]*1e9+s[1]},r=e(),i=process.uptime()*1e9,o=r-i):Date.now?(Ay.exports=function(){return Date.now()-n},n=Date.now()):(Ay.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(ys);var hGt=Ay.exports,pGt=hGt,wu=typeof window>"u"?ys:window,WC=["moz","webkit"],pv="AnimationFrame",Qv=wu["request"+pv],Tx=wu["cancel"+pv]||wu["cancelRequest"+pv];for(var K1=0;!Qv&&K1<WC.length;K1++)Qv=wu[WC[K1]+"Request"+pv],Tx=wu[WC[K1]+"Cancel"+pv]||wu[WC[K1]+"CancelRequest"+pv];if(!Qv||!Tx){var x3=0,Xne=0,_h=[],mGt=1e3/60;Qv=function(e){if(_h.length===0){var t=pGt(),n=Math.max(0,mGt-(t-x3));x3=n+t,setTimeout(function(){var r=_h.slice(0);_h.length=0;for(var o=0;o<r.length;o++)if(!r[o].cancelled)try{r[o].callback(x3)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return _h.push({handle:++Xne,callback:e,cancelled:!1}),Xne},Tx=function(e){for(var t=0;t<_h.length;t++)_h[t].handle===e&&(_h[t].cancelled=!0)}}pO.exports=function(e){return Qv.call(wu,e)};pO.exports.cancel=function(){Tx.apply(wu,arguments)};pO.exports.polyfill=function(e){e||(e=wu),e.requestAnimationFrame=Qv,e.cancelAnimationFrame=Tx};var gGt=pO.exports;const vGt=Pe(gGt);function xb(e,t,n){return Math.min(Math.max(e,n),t)}class yGt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Oy=yGt;function tDe(e){if(typeof e!="string")throw new Oy(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=kGt.test(e)?wGt(e):e;const n=_Gt.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(Ax(a,2),16)),parseInt(Ax(s[3]||"f",2),16)/255]}const r=CGt.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const o=SGt.exec(t);if(o){const s=Array.from(o).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const i=EGt.exec(t);if(i){const[s,a,c,u]=Array.from(i).slice(1).map(parseFloat);if(xb(0,100,a)!==a)throw new Oy(e);if(xb(0,100,c)!==c)throw new Oy(e);return[...jGt(s,a,c),u||1]}throw new Oy(e)}function bGt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const Qne=e=>parseInt(e.replace(/_/g,""),36),xGt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=Qne(t.substring(0,3)),r=Qne(t.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return e[n]=`${o}${r}`,e},{});function wGt(e){const t=e.toLowerCase().trim(),n=xGt[bGt(t)];if(!n)throw new Oy(e);return`#${n}`}const Ax=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),_Gt=new RegExp(`^#${Ax("([a-f0-9])",3)}([a-f0-9])?$`,"i"),CGt=new RegExp(`^#${Ax("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),SGt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Ax(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),EGt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,kGt=/^[a-z]+$/i,Jne=e=>Math.round(e*255),jGt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(Jne);const o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),s=i*(1-Math.abs(o%2-1));let a=0,c=0,u=0;o>=0&&o<1?(a=i,c=s):o>=1&&o<2?(a=s,c=i):o>=2&&o<3?(c=i,u=s):o>=3&&o<4?(c=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);const d=r-i/2,f=a+d,p=c+d,m=u+d;return[f,p,m].map(Jne)};function TGt(e){const[t,n,r,o]=tDe(e).map((f,p)=>p===3?f:f/255),i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;if(i===s)return[0,0,a,o];const c=i-s,u=a>.5?c/(2-i-s):c/(i+s);return[60*(t===i?(n-r)/c+(n<r?6:0):n===i?(r-t)/c+2:(t-n)/c+4),u,a,o]}function AGt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${xb(0,100,t*100).toFixed()}%, ${xb(0,100,n*100).toFixed()}%, ${parseFloat(xb(0,1,r).toFixed(3))})`}function nDe(e,t){const[n,r,o,i]=TGt(e);return AGt(n,r,o-t,i)}function c6(e){if(e==="transparent")return 0;function t(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,o]=tDe(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function OGt(e,t){const n=c6(e),r=c6(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const PGt={decorative:1.5,readable:3,aa:4.5,aaa:7};function ere(e,t="aa",n="#fff"){return OGt(e,n)<PGt[t]}function DGt(e,t){return nDe(e,-t)}function IGt(e){return c6(e)>.179}function RGt(e){return IGt(e)?"#000":"#fff"}var $Gt=HEe,MGt=jw,FGt=mA,LGt=Wr,BGt=Kf,NGt=gA,zGt=yA,VGt=T7,HGt="[object Map]",UGt="[object Set]",WGt=Object.prototype,YGt=WGt.hasOwnProperty;function qGt(e){if(e==null)return!0;if(BGt(e)&&(LGt(e)||typeof e=="string"||typeof e.splice=="function"||NGt(e)||VGt(e)||FGt(e)))return!e.length;var t=MGt(e);if(t==HGt||t==UGt)return!e.size;if(zGt(e))return!$Gt(e).length;for(var n in e)if(YGt.call(e,n))return!1;return!0}var GGt=qGt;const KGt=Pe(GGt);var ZGt=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),XGt=()=>{try{return!!(ZGt&&import.meta.webpackHot)}catch{return!1}};function QGt(e){if(XGt)return typeof import.meta.webpackHot>"u"?eKt(e):JGt(e)}function JGt(e){h.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function eKt(e){h.useEffect(()=>{},[e])}var tKt=oz;oz.displayName="bash";oz.aliases=["shell"];function oz(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},o={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:o},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:o},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:o.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:o.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=o.variable[1].inside,a=0;a<i.length;a++)s[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash})(e)}const nKt=Pe(tKt);var rKt=iz;iz.displayName="json";iz.aliases=["webmanifest"];function iz(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const oKt=Pe(rKt);var iKt=sz;sz.displayName="jsx";sz.aliases=[];function sz(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,o=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return o}).replace(/<SPREAD>/g,function(){return i}),RegExp(u,d)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},c=function(u){for(var d=[],f=0;f<u.length;f++){var p=u[f],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===a(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:a(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var v=a(p);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(v+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(v=a(u[f-1])+v,u.splice(f-1,1),f--),u[f]=new t.Token("plain-text",v,null,v)}p.content&&typeof p.content!="string"&&c(p.content)}};t.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||c(u.tokens)})})(e)}const sKt=Pe(iKt);var aKt=az;az.displayName="typescript";az.aliases=["ts"];function az(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const lKt=Pe(aKt);var fc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fc||(fc={}));var hj=function(e){return e},tre="beforeunload",cKt="popstate";function uKt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,o=r.history;function i(){var E=r.location,j=E.pathname,k=E.search,T=E.hash,A=o.state||{};return[A.idx,hj({pathname:j,search:k,hash:T,state:A.usr||null,key:A.key||"default"})]}var s=null;function a(){if(s)m.call(s),s=null;else{var E=fc.Pop,j=i(),k=j[0],T=j[1];if(m.length){if(k!=null){var A=d-k;A&&(s={action:E,location:T,retry:function(){C(A*-1)}},C(A))}}else y(E)}}r.addEventListener(cKt,a);var c=fc.Pop,u=i(),d=u[0],f=u[1],p=pj(),m=pj();d==null&&(d=0,o.replaceState(Fu({},o.state,{idx:d}),""));function v(E){return typeof E=="string"?E:rDe(E)}function g(E,j){return j===void 0&&(j=null),hj(Fu({pathname:f.pathname,hash:"",search:""},typeof E=="string"?d6(E):E,{state:j,key:u6()}))}function b(E,j){return[{usr:E.state,key:E.key,idx:j},v(E)]}function x(E,j,k){return!m.length||(m.call({action:E,location:j,retry:k}),!1)}function y(E){c=E;var j=i();d=j[0],f=j[1],p.call({action:c,location:f})}function w(E,j){var k=fc.Push,T=g(E,j);function A(){w(E,j)}if(x(k,T,A)){var O=b(T,d+1),P=O[0],D=O[1];try{o.pushState(P,"",D)}catch{r.location.assign(D)}y(k)}}function _(E,j){var k=fc.Replace,T=g(E,j);function A(){_(E,j)}if(x(k,T,A)){var O=b(T,d),P=O[0],D=O[1];o.replaceState(P,"",D),y(k)}}function C(E){o.go(E)}var S={get action(){return c},get location(){return f},createHref:v,push:w,replace:_,go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(j){return p.push(j)},block:function(j){var k=m.push(j);return m.length===1&&r.addEventListener(tre,rre),function(){k(),m.length||r.removeEventListener(tre,rre)}}};return S}function dKt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,o=t.initialIndex,i=r.map(function(w){var _=hj(Fu({pathname:"/",search:"",hash:"",state:null,key:u6()},typeof w=="string"?d6(w):w));return _}),s=nre(o??i.length-1,0,i.length-1),a=fc.Pop,c=i[s],u=pj(),d=pj();function f(w){return typeof w=="string"?w:rDe(w)}function p(w,_){return _===void 0&&(_=null),hj(Fu({pathname:c.pathname,search:"",hash:""},typeof w=="string"?d6(w):w,{state:_,key:u6()}))}function m(w,_,C){return!d.length||(d.call({action:w,location:_,retry:C}),!1)}function v(w,_){a=w,c=_,u.call({action:a,location:c})}function g(w,_){var C=fc.Push,S=p(w,_);function E(){g(w,_)}m(C,S,E)&&(s+=1,i.splice(s,i.length,S),v(C,S))}function b(w,_){var C=fc.Replace,S=p(w,_);function E(){b(w,_)}m(C,S,E)&&(i[s]=S,v(C,S))}function x(w){var _=nre(s+w,0,i.length-1),C=fc.Pop,S=i[_];function E(){x(w)}m(C,S,E)&&(s=_,v(C,S))}var y={get index(){return s},get action(){return a},get location(){return c},createHref:f,push:g,replace:b,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(_){return u.push(_)},block:function(_){return d.push(_)}};return y}function nre(e,t,n){return Math.min(Math.max(e,t),n)}function rre(e){e.preventDefault(),e.returnValue=""}function pj(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function u6(){return Math.random().toString(36).substr(2,8)}function rDe(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,o=r===void 0?"":r,i=e.hash,s=i===void 0?"":i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function d6(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var fKt=Dc,oDe=/[\\^$.*+?()[\]{}|]/g,hKt=RegExp(oDe.source);function pKt(e){return e=fKt(e),e&&hKt.test(e)?e.replace(oDe,"\\$&"):e}var mKt=pKt;const lz=Pe(mKt);var iDe,ore=ac;iDe=ore.createRoot,ore.hydrateRoot;h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("path",{d:"M32 0L0 32H32V0Z",fill:fe.magenta[400].hex}),l.jsx("path",{d:"M32 32H0L32 64V32Z",fill:fe.green[300].hex}),l.jsx("path",{d:"M64 32H32V64L64 32Z",fill:fe.purple[300].hex}),l.jsx("path",{d:"M112 0L80 32H112V0Z",fill:fe.green[300].hex}),l.jsx("path",{d:"M112 0H80V32L112 0Z",fill:fe.purple[300].hex}),l.jsx("path",{d:"M112 32H80L112 64V32Z",fill:fe.yellow[200].hex}),l.jsx("path",{d:"M144 64L112 32V64H144Z",fill:fe.blue[300].hex}),l.jsx("path",{d:"M80 32V64H112L80 32Z",fill:fe.orange[400].hex}),l.jsx("path",{d:"M112 0V32H144L112 0Z",fill:fe.magenta[400].hex}),l.jsx("path",{d:"M192 0L160 32H192V0Z",fill:fe.yellow[200].hex}),l.jsx("path",{d:"M192 32H160L192 64V32Z",fill:fe.orange[400].hex}),l.jsx("path",{d:"M224 32H192V64L224 32Z",fill:fe.green[300].hex}),l.jsx("path",{d:"M192 0V32H224L192 0Z",fill:fe.blue[300].hex}),l.jsx("path",{d:"M272 0L240 32H272V0Z",fill:fe.purple[300].hex}),l.jsx("path",{d:"M304 32L272 64H304V32Z",fill:fe.magenta[400].hex}),l.jsx("path",{d:"M272 32H240L272 64V32Z",fill:fe.blue[300].hex}),l.jsx("path",{d:"M304 32H272V64L304 32Z",fill:fe.yellow[200].hex}),l.jsx("path",{d:"M272 0V32H304L272 0Z",fill:fe.green[300].hex})]})});h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:fe.green[950].hex}),l.jsx("rect",{y:"32",width:"64",height:"64",fill:fe.green[800].hex}),l.jsx("path",{d:"M64 32L32 64H64V32Z",fill:fe.magenta[400].hex}),l.jsx("path",{d:"M64 64H32L64 96V64Z",fill:fe.green[300].hex}),l.jsx("path",{d:"M96 64H64V96L96 64Z",fill:fe.purple[300].hex})]})});const gKt={light:[fe.red[200].hex,fe.red[300].hex,fe.red[500].hex],dark:[fe.gray[500].hex,fe.gray[300].hex,ya.hex]},vKt=h.forwardRef(function(t,n){const{dark:r,...o}=t,i=gKt[r?"dark":"light"];return l.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),l.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),l.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),l.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),l.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),l.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),l.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),l.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),l.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),l.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),l.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),l.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),l.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),l.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),l.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),l.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})}),yKt={bg1:fe.red[500].hex,bg2:fe.red[200].hex,fg:ya.hex},bKt=h.forwardRef(function(t,n){const{color:r=yKt,...o}=t;return l.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),l.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),l.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),l.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})});var W0={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sDe=h;function _t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var us=Object.prototype.hasOwnProperty,xKt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ire={},sre={};function aDe(e){return us.call(sre,e)?!0:us.call(ire,e)?!1:xKt.test(e)?sre[e]=!0:(ire[e]=!0,!1)}function ns(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ti[e]=new ns(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ti[t]=new ns(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ti[e]=new ns(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ti[e]=new ns(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ti[e]=new ns(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ti[e]=new ns(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ti[e]=new ns(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ti[e]=new ns(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ti[e]=new ns(e,5,!1,e.toLowerCase(),null,!1,!1)});var cz=/[\-:]([a-z])/g;function uz(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cz,uz);ti[t]=new ns(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cz,uz);ti[t]=new ns(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cz,uz);ti[t]=new ns(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ti[e]=new ns(e,1,!1,e.toLowerCase(),null,!1,!1)});ti.xlinkHref=new ns("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ti[e]=new ns(e,1,!1,e.toLowerCase(),null,!0,!0)});var sE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wKt=["Webkit","ms","Moz","O"];Object.keys(sE).forEach(function(e){wKt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sE[t]=sE[e]})});var _Kt=/["'&<>]/;function Hi(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=_Kt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var CKt=/([A-Z])/g,SKt=/^ms-/,f6=Array.isArray;function qc(e,t){return{insertionMode:e,selectedValue:t}}function EKt(e,t,n){switch(t){case"select":return qc(1,n.value!=null?n.value:n.defaultValue);case"svg":return qc(2,null);case"math":return qc(3,null);case"foreignObject":return qc(1,null);case"table":return qc(4,null);case"thead":case"tbody":case"tfoot":return qc(5,null);case"colgroup":return qc(7,null);case"tr":return qc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?qc(1,null):e}var are=new Map;function lDe(e,t,n){if(typeof n!="object")throw Error(_t(62));t=!0;for(var r in n)if(us.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Hi(r);o=Hi((""+o).trim())}else{i=r;var s=are.get(i);s!==void 0||(s=Hi(i.replace(CKt,"-$1").toLowerCase().replace(SKt,"-ms-")),are.set(i,s)),i=s,o=typeof o=="number"?o===0||us.call(sE,r)?""+o:o+"px":Hi((""+o).trim())}t?(t=!1,e.push(' style="',i,":",o)):e.push(";",i,":",o)}}t||e.push('"')}function Rs(e,t,n,r){switch(n){case"style":lDe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ti.hasOwnProperty(n)?ti[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Hi(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Hi(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Hi(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Hi(r),'"')}}else if(aDe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Hi(r),'"')}}}function aE(e,t,n){if(t!=null){if(n!=null)throw Error(_t(60));if(typeof t!="object"||!("__html"in t))throw Error(_t(61));t=t.__html,t!=null&&e.push(""+t)}}function kKt(e){var t="";return sDe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function w3(e,t,n,r){e.push(Gl(n));var o=n=null,i;for(i in t)if(us.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Rs(e,r,i,s)}}return e.push(">"),aE(e,o,n),typeof n=="string"?(e.push(Hi(n)),null):n}var jKt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,lre=new Map;function Gl(e){var t=lre.get(e);if(t===void 0){if(!jKt.test(e))throw Error(_t(65,e));t="<"+e,lre.set(e,t)}return t}function TKt(e,t,n,r,o){switch(t){case"select":e.push(Gl("select"));var i=null,s=null;for(d in n)if(us.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Rs(e,r,d,a)}}return e.push(">"),aE(e,s,i),i;case"option":s=o.selectedValue,e.push(Gl("option"));var c=a=null,u=null,d=null;for(i in n)if(us.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:Rs(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:kKt(a),f6(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),aE(e,d,a),a;case"textarea":e.push(Gl("textarea")),d=s=i=null;for(a in n)if(us.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(_t(91));default:Rs(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(">"),d!=null){if(i!=null)throw Error(_t(92));if(f6(d)&&1<d.length)throw Error(_t(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i!==null&&e.push(Hi(""+i)),null;case"input":e.push(Gl("input")),c=d=a=i=null;for(s in n)if(us.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(_t(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Rs(e,r,s,u)}return d!==null?Rs(e,r,"checked",d):c!==null&&Rs(e,r,"checked",c),i!==null?Rs(e,r,"value",i):a!==null&&Rs(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(Gl("menuitem"));for(var p in n)if(us.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(_t(400));default:Rs(e,r,p,i)}return e.push(">"),null;case"title":e.push(Gl("title")),i=null;for(f in n)if(us.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(_t(434));default:Rs(e,r,f,s)}return e.push(">"),i;case"listing":case"pre":e.push(Gl(t)),s=i=null;for(c in n)if(us.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Rs(e,r,c,a)}if(e.push(">"),s!=null){if(i!=null)throw Error(_t(60));if(typeof s!="object"||!("__html"in s))throw Error(_t(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Gl(t));for(var m in n)if(us.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(_t(399,t));default:Rs(e,r,m,i)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return w3(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),w3(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return w3(e,n,t,r);e.push(Gl(t)),s=i=null;for(u in n)if(us.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":lDe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:aDe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",u,'="',Hi(a),'"')}return e.push(">"),aE(e,s,i),i}}function cre(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(_t(395));return e.push(n),e.push('"></template>')}function AKt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(_t(397))}}function OKt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(_t(397))}}var PKt=/[<\u2028\u2029]/g;function _3(e){return JSON.stringify(e).replace(PKt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function DKt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function ure(e,t,n,r){return n.generateStaticMarkup?(e.push(Hi(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(Hi(t)),e=!0),e)}var wb=Object.assign,IKt=Symbol.for("react.element"),cDe=Symbol.for("react.portal"),uDe=Symbol.for("react.fragment"),dDe=Symbol.for("react.strict_mode"),fDe=Symbol.for("react.profiler"),hDe=Symbol.for("react.provider"),pDe=Symbol.for("react.context"),mDe=Symbol.for("react.forward_ref"),gDe=Symbol.for("react.suspense"),vDe=Symbol.for("react.suspense_list"),yDe=Symbol.for("react.memo"),dz=Symbol.for("react.lazy"),RKt=Symbol.for("react.scope"),$Kt=Symbol.for("react.debug_trace_mode"),MKt=Symbol.for("react.legacy_hidden"),FKt=Symbol.for("react.default_value"),dre=Symbol.iterator;function h6(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uDe:return"Fragment";case cDe:return"Portal";case fDe:return"Profiler";case dDe:return"StrictMode";case gDe:return"Suspense";case vDe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pDe:return(e.displayName||"Context")+".Consumer";case hDe:return(e._context.displayName||"Context")+".Provider";case mDe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yDe:return t=e.displayName||null,t!==null?t:h6(e.type)||"Memo";case dz:t=e._payload,e=e._init;try{return h6(e(t))}catch{}}return null}var bDe={};function fre(e,t){if(e=e.contextTypes,!e)return bDe;var n={},r;for(r in e)n[r]=t[r];return n}var lp=null;function mO(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(_t(401))}else{if(n===null)throw Error(_t(401));mO(e,n)}t.context._currentValue2=t.value}}function xDe(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&xDe(e)}function wDe(e){var t=e.parent;t!==null&&wDe(t),e.context._currentValue2=e.value}function _De(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(_t(402));e.depth===t.depth?mO(e,t):_De(e,t)}function CDe(e,t){var n=t.parent;if(n===null)throw Error(_t(402));e.depth===n.depth?mO(e,n):CDe(e,n),t.context._currentValue2=t.value}function mj(e){var t=lp;t!==e&&(t===null?wDe(e):e===null?xDe(t):t.depth===e.depth?mO(t,e):t.depth>e.depth?_De(t,e):CDe(t,e),lp=e)}var hre={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function pre(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=hre,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:wb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&hre.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=wb({},i,a)):wb(i,a))}e.state=i}else i.queue=null}var LKt={id:1,overflow:""};function p6(e,t,n){var r=e.id;e=e.overflow;var o=32-lE(r)-1;r&=~(1<<o),n+=1;var i=32-lE(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-lE(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var lE=Math.clz32?Math.clz32:zKt,BKt=Math.log,NKt=Math.LN2;function zKt(e){return e>>>=0,e===0?32:31-(BKt(e)/NKt|0)|0}function VKt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HKt=typeof Object.is=="function"?Object.is:VKt,Vu=null,fz=null,cE=null,$n=null,Py=!1,gj=!1,Ox=0,Kd=null,gO=0;function Wh(){if(Vu===null)throw Error(_t(321));return Vu}function mre(){if(0<gO)throw Error(_t(312));return{memoizedState:null,queue:null,next:null}}function hz(){return $n===null?cE===null?(Py=!1,cE=$n=mre()):(Py=!0,$n=cE):$n.next===null?(Py=!1,$n=$n.next=mre()):(Py=!0,$n=$n.next),$n}function pz(){fz=Vu=null,gj=!1,cE=null,gO=0,$n=Kd=null}function SDe(e,t){return typeof t=="function"?t(e):t}function gre(e,t,n){if(Vu=Wh(),$n=hz(),Py){var r=$n.queue;if(t=r.dispatch,Kd!==null&&(n=Kd.get(r),n!==void 0)){Kd.delete(r),r=$n.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return $n.memoizedState=r,[r,t]}return[$n.memoizedState,t]}return e=e===SDe?typeof t=="function"?t():t:n!==void 0?n(t):t,$n.memoizedState=e,e=$n.queue={last:null,dispatch:null},e=e.dispatch=UKt.bind(null,Vu,e),[$n.memoizedState,e]}function vre(e,t){if(Vu=Wh(),$n=hz(),t=t===void 0?null:t,$n!==null){var n=$n.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!HKt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),$n.memoizedState=[e,t],e}function UKt(e,t,n){if(25<=gO)throw Error(_t(301));if(e===Vu)if(gj=!0,e={action:n,next:null},Kd===null&&(Kd=new Map),n=Kd.get(t),n===void 0)Kd.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function WKt(){throw Error(_t(394))}function YC(){}var yre={readContext:function(e){return e._currentValue2},useContext:function(e){return Wh(),e._currentValue2},useMemo:vre,useReducer:gre,useRef:function(e){Vu=Wh(),$n=hz();var t=$n.memoizedState;return t===null?(e={current:e},$n.memoizedState=e):t},useState:function(e){return gre(SDe,e)},useInsertionEffect:YC,useLayoutEffect:function(){},useCallback:function(e,t){return vre(function(){return e},t)},useImperativeHandle:YC,useEffect:YC,useDebugValue:YC,useDeferredValue:function(e){return Wh(),e},useTransition:function(){return Wh(),[!1,WKt]},useId:function(){var e=fz.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-lE(e)-1)).toString(32)+t;var n=uE;if(n===null)throw Error(_t(404));return t=Ox++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Wh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(_t(407));return n()}},uE=null,C3=sDe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function YKt(e){return console.error(e),null}function Dy(){}function qKt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?YKt:o,onAllReady:i===void 0?Dy:i,onShellReady:s===void 0?Dy:s,onShellError:a===void 0?Dy:a,onFatalError:c===void 0?Dy:c},n=vj(t,0,null,n,!1,!1),n.parentFlushed=!0,e=mz(t,e,null,n,d,bDe,null,LKt),u.push(e),t}function mz(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&jDe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function vj(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Px(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function yj(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function bre(e,t,n,r,o){for(Vu={},fz=t,Ox=0,e=n(r,o);gj;)gj=!1,Ox=0,gO+=1,$n=null,e=n(r,o);return pz(),e}function xre(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(_t(108,h6(r)||"Unknown",a));r=wb({},s,n)}t.legacyContext=r,Bs(e,t,o),t.legacyContext=s}else Bs(e,t,o)}function wre(e,t){if(e&&e.defaultProps){t=wb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function m6(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=fre(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue2:o),pre(i,n,r,o),xre(e,t,i,n)}else{i=fre(n,t.legacyContext),o=bre(e,t,n,r,i);var s=Ox!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)pre(o,n,r,i),xre(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=p6(r,1,0);try{Bs(e,t,o)}finally{t.treeContext=r}}else Bs(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=TKt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=EKt(s,n,r),g6(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case MKt:case $Kt:case dDe:case fDe:case uDe:Bs(e,t,r.children);return;case vDe:Bs(e,t,r.children);return;case RKt:throw Error(_t(343));case gDe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=vj(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=vj(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(g6(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,bj(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Px(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=mz(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case mDe:if(r=bre(e,t,n.render,r,o),Ox!==0){n=t.treeContext,t.treeContext=p6(n,1,0);try{Bs(e,t,r)}finally{t.treeContext=n}}else Bs(e,t,r);return;case yDe:n=n.type,r=wre(n,r),m6(e,t,n,r,o);return;case hDe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue2,n._currentValue2=r,s=lp,lp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Bs(e,t,o),e=lp,e===null)throw Error(_t(403));r=e.parentValue,e.context._currentValue2=r===FKt?e.context._defaultValue:r,e=lp=e.parent,t.context=e;return;case pDe:r=r.children,r=r(n._currentValue2),Bs(e,t,r);return;case dz:o=n._init,n=o(n._payload),r=wre(n,r),m6(e,t,n,r,void 0);return}throw Error(_t(130,n==null?n:typeof n,""))}}function Bs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case IKt:m6(e,t,n.type,n.props,n.ref);return;case cDe:throw Error(_t(257));case dz:var r=n._init;n=r(n._payload),Bs(e,t,n);return}if(f6(n)){_re(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=dre&&n[dre]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);_re(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(_t(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=ure(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=ure(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function _re(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=p6(i,r,o);try{g6(e,t,n[o])}finally{t.treeContext=i}}}function g6(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Bs(e,t,n)}catch(c){if(pz(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=vj(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=mz(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,mj(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,mj(i),c}}function GKt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,kDe(this,t,e)}function EDe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(_t(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return EDe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function bj(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&bj(e,n)}else e.completedSegments.push(t)}function kDe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(_t(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Dy,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&bj(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(GKt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(bj(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function jDe(e){if(e.status!==2){var t=lp,n=C3.current;C3.current=yre;var r=uE;uE=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){mj(s.context);try{Bs(a,s,s.node),a.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),s.abortSet.delete(s),c.status=1,kDe(a,s.blockedBoundary,c)}catch(v){if(pz(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=v,p=Px(a,f);if(d===null?yj(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&gz(e,e.destination)}catch(v){Px(e,v),yj(e,v)}finally{uE=r,C3.current=n,n===yre&&mj(t)}}}function qC(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)t.push(r[i]);o=vO(e,t,o)}for(;i<r.length-1;i++)t.push(r[i]);return i<r.length&&(o=t.push(r[i])),o;default:throw Error(_t(390))}}function vO(e,t,n){var r=n.boundary;if(r===null)return qC(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Hi(r),t.push(r),t.push('"')),t.push("></template>")),qC(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,cre(t,e.responseState,r),qC(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),cre(t,e.responseState,r.id),qC(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(_t(391));return vO(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function Cre(e,t,n){return AKt(t,e.responseState,n.formatContext,n.id),vO(e,t,n),OKt(t,n.formatContext)}function Sre(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)TDe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(_t(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function TDe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(_t(392));return Cre(e,t,r)}return Cre(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function gz(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){vO(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),c===null)throw Error(_t(395));if(r.push(c),r.push('"'),u||d||f){r.push(",");var p=_3(u||"");r.push(p)}if(d||f){r.push(",");var m=_3(d||"");r.push(m)}if(f){r.push(",");var v=_3(f);r.push(v)}if(!r.push(")<\/script>")){e.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var g=e.completedBoundaries;for(i=0;i<g.length;i++)if(!Sre(e,t,g[i])){e.destination=null,i++,g.splice(0,i);return}g.splice(0,i);var b=e.partialBoundaries;for(i=0;i<b.length;i++){var x=b[i];e:{o=e,s=t;var y=x.completedSegments;for(a=0;a<y.length;a++)if(!TDe(o,s,x,y[a])){a++,y.splice(0,a);var w=!1;break e}y.splice(0,a),w=!0}if(!w){e.destination=null,i++,b.splice(0,i);return}}b.splice(0,i);var _=e.completedBoundaries;for(i=0;i<_.length;i++)if(!Sre(e,t,_[i])){e.destination=null,i++,_.splice(0,i);return}_.splice(0,i)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function KKt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return EDe(r,e,t)}),n.clear(),e.destination!==null&&gz(e,e.destination)}catch(r){Px(e,r),yj(e,r)}}function ZKt(){}function ADe(e,t,n,r){var o=!1,i=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){o=!0,i=u}},c=!1;if(e=qKt(e,DKt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ZKt,void 0,function(){c=!0},void 0,void 0),jDe(e),KKt(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{gz(e,a)}catch(u){Px(e,u),yj(e,u)}}if(o)throw i;if(!c)throw Error(_t(426));return s}W0.renderToNodeStream=function(){throw Error(_t(207))};W0.renderToStaticMarkup=function(e,t){return ADe(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};W0.renderToStaticNodeStream=function(){throw Error(_t(208))};W0.renderToString=function(e,t){return ADe(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};W0.version="18.2.0";var vz={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ODe=h;function Ot(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ns=null,zs=0;function Ge(e,t){if(t.length!==0)if(512<t.length)0<zs&&(e.enqueue(new Uint8Array(Ns.buffer,0,zs)),Ns=new Uint8Array(512),zs=0),e.enqueue(t);else{var n=Ns.length-zs;n<t.length&&(n===0?e.enqueue(Ns):(Ns.set(t.subarray(0,n),zs),e.enqueue(Ns),t=t.subarray(n)),Ns=new Uint8Array(512),zs=0),Ns.set(t,zs),zs+=t.length}}function Qn(e,t){return Ge(e,t),!0}function Ere(e){Ns&&0<zs&&(e.enqueue(new Uint8Array(Ns.buffer,0,zs)),Ns=null,zs=0)}var PDe=new TextEncoder;function It(e){return PDe.encode(e)}function Fe(e){return PDe.encode(e)}function DDe(e,t){typeof e.error=="function"?e.error(t):e.close()}var ds=Object.prototype.hasOwnProperty,XKt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kre={},jre={};function IDe(e){return ds.call(jre,e)?!0:ds.call(kre,e)?!1:XKt.test(e)?jre[e]=!0:(kre[e]=!0,!1)}function rs(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ni={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ni[e]=new rs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ni[t]=new rs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ni[e]=new rs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ni[e]=new rs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ni[e]=new rs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ni[e]=new rs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ni[e]=new rs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ni[e]=new rs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ni[e]=new rs(e,5,!1,e.toLowerCase(),null,!1,!1)});var yz=/[\-:]([a-z])/g;function bz(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yz,bz);ni[t]=new rs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yz,bz);ni[t]=new rs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yz,bz);ni[t]=new rs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ni[e]=new rs(e,1,!1,e.toLowerCase(),null,!1,!1)});ni.xlinkHref=new rs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ni[e]=new rs(e,1,!1,e.toLowerCase(),null,!0,!0)});var dE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QKt=["Webkit","ms","Moz","O"];Object.keys(dE).forEach(function(e){QKt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dE[t]=dE[e]})});var JKt=/["'&<>]/;function Go(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=JKt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var eZt=/([A-Z])/g,tZt=/^ms-/,v6=Array.isArray,nZt=Fe("<script>"),rZt=Fe("<\/script>"),oZt=Fe('<script src="'),iZt=Fe('<script type="module" src="'),Tre=Fe('" async=""><\/script>'),sZt=/(<\/|<)(s)(cript)/gi;function aZt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function lZt(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?nZt:Fe('<script nonce="'+Go(t)+'">');var i=[];if(n!==void 0&&i.push(t,It((""+n).replace(sZt,aZt)),rZt),r!==void 0)for(n=0;n<r.length;n++)i.push(oZt,It(Go(r[n])),Tre);if(o!==void 0)for(r=0;r<o.length;r++)i.push(iZt,It(Go(o[r])),Tre);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:Fe(e+"P:"),segmentPrefix:Fe(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Kl(e,t){return{insertionMode:e,selectedValue:t}}function cZt(e){return Kl(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function uZt(e,t,n){switch(t){case"select":return Kl(1,n.value!=null?n.value:n.defaultValue);case"svg":return Kl(2,null);case"math":return Kl(3,null);case"foreignObject":return Kl(1,null);case"table":return Kl(4,null);case"thead":case"tbody":case"tfoot":return Kl(5,null);case"colgroup":return Kl(7,null);case"tr":return Kl(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Kl(1,null):e}var xz=Fe("<!-- -->");function Are(e,t,n,r){return t===""?r:(r&&e.push(xz),e.push(It(Go(t))),!0)}var Ore=new Map,dZt=Fe(' style="'),Pre=Fe(":"),fZt=Fe(";");function RDe(e,t,n){if(typeof n!="object")throw Error(Ot(62));t=!0;for(var r in n)if(ds.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=It(Go(r));o=It(Go((""+o).trim()))}else{i=r;var s=Ore.get(i);s!==void 0||(s=Fe(Go(i.replace(eZt,"-$1").toLowerCase().replace(tZt,"-ms-"))),Ore.set(i,s)),i=s,o=typeof o=="number"?o===0||ds.call(dE,r)?It(""+o):It(o+"px"):It(Go((""+o).trim()))}t?(t=!1,e.push(dZt,i,Pre,o)):e.push(fZt,i,Pre,o)}}t||e.push(Yh)}var Cd=Fe(" "),mg=Fe('="'),Yh=Fe('"'),Dre=Fe('=""');function $s(e,t,n,r){switch(n){case"style":RDe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ni.hasOwnProperty(n)?ni[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=It(t.attributeName),t.type){case 3:r&&e.push(Cd,n,Dre);break;case 4:r===!0?e.push(Cd,n,Dre):r!==!1&&e.push(Cd,n,mg,It(Go(r)),Yh);break;case 5:isNaN(r)||e.push(Cd,n,mg,It(Go(r)),Yh);break;case 6:!isNaN(r)&&1<=r&&e.push(Cd,n,mg,It(Go(r)),Yh);break;default:t.sanitizeURL&&(r=""+r),e.push(Cd,n,mg,It(Go(r)),Yh)}}else if(IDe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Cd,It(n),mg,It(Go(r)),Yh)}}}var Sd=Fe(">"),Ire=Fe("/>");function fE(e,t,n){if(t!=null){if(n!=null)throw Error(Ot(60));if(typeof t!="object"||!("__html"in t))throw Error(Ot(61));t=t.__html,t!=null&&e.push(It(""+t))}}function hZt(e){var t="";return ODe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var S3=Fe(' selected=""');function E3(e,t,n,r){e.push(Zl(n));var o=n=null,i;for(i in t)if(ds.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:$s(e,r,i,s)}}return e.push(Sd),fE(e,o,n),typeof n=="string"?(e.push(It(Go(n))),null):n}var k3=Fe(`
`),pZt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Rre=new Map;function Zl(e){var t=Rre.get(e);if(t===void 0){if(!pZt.test(e))throw Error(Ot(65,e));t=Fe("<"+e),Rre.set(e,t)}return t}var mZt=Fe("<!DOCTYPE html>");function gZt(e,t,n,r,o){switch(t){case"select":e.push(Zl("select"));var i=null,s=null;for(d in n)if(ds.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:$s(e,r,d,a)}}return e.push(Sd),fE(e,s,i),i;case"option":s=o.selectedValue,e.push(Zl("option"));var c=a=null,u=null,d=null;for(i in n)if(ds.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:$s(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:hZt(a),v6(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(S3);break}}else""+s===n&&e.push(S3);else u&&e.push(S3);return e.push(Sd),fE(e,d,a),a;case"textarea":e.push(Zl("textarea")),d=s=i=null;for(a in n)if(ds.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(Ot(91));default:$s(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(Sd),d!=null){if(i!=null)throw Error(Ot(92));if(v6(d)&&1<d.length)throw Error(Ot(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(k3),i!==null&&e.push(It(Go(""+i))),null;case"input":e.push(Zl("input")),c=d=a=i=null;for(s in n)if(ds.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:$s(e,r,s,u)}return d!==null?$s(e,r,"checked",d):c!==null&&$s(e,r,"checked",c),i!==null?$s(e,r,"value",i):a!==null&&$s(e,r,"value",a),e.push(Ire),null;case"menuitem":e.push(Zl("menuitem"));for(var p in n)if(ds.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(400));default:$s(e,r,p,i)}return e.push(Sd),null;case"title":e.push(Zl("title")),i=null;for(f in n)if(ds.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Ot(434));default:$s(e,r,f,s)}return e.push(Sd),i;case"listing":case"pre":e.push(Zl(t)),s=i=null;for(c in n)if(ds.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:$s(e,r,c,a)}if(e.push(Sd),s!=null){if(i!=null)throw Error(Ot(60));if(typeof s!="object"||!("__html"in s))throw Error(Ot(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(k3,It(n)):e.push(It(""+n)))}return typeof i=="string"&&i[0]===`
`&&e.push(k3),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Zl(t));for(var m in n)if(ds.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(399,t));default:$s(e,r,m,i)}return e.push(Ire),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return E3(e,n,t,r);case"html":return o.insertionMode===0&&e.push(mZt),E3(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return E3(e,n,t,r);e.push(Zl(t)),s=i=null;for(u in n)if(ds.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":RDe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:IDe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Cd,It(u),mg,It(Go(a)),Yh)}return e.push(Sd),fE(e,s,i),i}}var vZt=Fe("</"),yZt=Fe(">"),bZt=Fe('<template id="'),xZt=Fe('"></template>'),wZt=Fe("<!--$-->"),_Zt=Fe('<!--$?--><template id="'),CZt=Fe('"></template>'),SZt=Fe("<!--$!-->"),EZt=Fe("<!--/$-->"),kZt=Fe("<template"),jZt=Fe('"'),TZt=Fe(' data-dgst="');Fe(' data-msg="');Fe(' data-stck="');var AZt=Fe("></template>");function $re(e,t,n){if(Ge(e,_Zt),n===null)throw Error(Ot(395));return Ge(e,n),Qn(e,CZt)}var OZt=Fe('<div hidden id="'),PZt=Fe('">'),DZt=Fe("</div>"),IZt=Fe('<svg aria-hidden="true" style="display:none" id="'),RZt=Fe('">'),$Zt=Fe("</svg>"),MZt=Fe('<math aria-hidden="true" style="display:none" id="'),FZt=Fe('">'),LZt=Fe("</math>"),BZt=Fe('<table hidden id="'),NZt=Fe('">'),zZt=Fe("</table>"),VZt=Fe('<table hidden><tbody id="'),HZt=Fe('">'),UZt=Fe("</tbody></table>"),WZt=Fe('<table hidden><tr id="'),YZt=Fe('">'),qZt=Fe("</tr></table>"),GZt=Fe('<table hidden><colgroup id="'),KZt=Fe('">'),ZZt=Fe("</colgroup></table>");function XZt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Ge(e,OZt),Ge(e,t.segmentPrefix),Ge(e,It(r.toString(16))),Qn(e,PZt);case 2:return Ge(e,IZt),Ge(e,t.segmentPrefix),Ge(e,It(r.toString(16))),Qn(e,RZt);case 3:return Ge(e,MZt),Ge(e,t.segmentPrefix),Ge(e,It(r.toString(16))),Qn(e,FZt);case 4:return Ge(e,BZt),Ge(e,t.segmentPrefix),Ge(e,It(r.toString(16))),Qn(e,NZt);case 5:return Ge(e,VZt),Ge(e,t.segmentPrefix),Ge(e,It(r.toString(16))),Qn(e,HZt);case 6:return Ge(e,WZt),Ge(e,t.segmentPrefix),Ge(e,It(r.toString(16))),Qn(e,YZt);case 7:return Ge(e,GZt),Ge(e,t.segmentPrefix),Ge(e,It(r.toString(16))),Qn(e,KZt);default:throw Error(Ot(397))}}function QZt(e,t){switch(t.insertionMode){case 0:case 1:return Qn(e,DZt);case 2:return Qn(e,$Zt);case 3:return Qn(e,LZt);case 4:return Qn(e,zZt);case 5:return Qn(e,UZt);case 6:return Qn(e,qZt);case 7:return Qn(e,ZZt);default:throw Error(Ot(397))}}var JZt=Fe('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),eXt=Fe('$RS("'),tXt=Fe('","'),nXt=Fe('")<\/script>'),rXt=Fe('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),oXt=Fe('$RC("'),iXt=Fe('","'),sXt=Fe('")<\/script>'),aXt=Fe('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),lXt=Fe('$RX("'),cXt=Fe('"'),uXt=Fe(")<\/script>"),j3=Fe(","),dXt=/[<\u2028\u2029]/g;function T3(e){return JSON.stringify(e).replace(dXt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var _b=Object.assign,fXt=Symbol.for("react.element"),$De=Symbol.for("react.portal"),MDe=Symbol.for("react.fragment"),FDe=Symbol.for("react.strict_mode"),LDe=Symbol.for("react.profiler"),BDe=Symbol.for("react.provider"),NDe=Symbol.for("react.context"),zDe=Symbol.for("react.forward_ref"),VDe=Symbol.for("react.suspense"),HDe=Symbol.for("react.suspense_list"),UDe=Symbol.for("react.memo"),wz=Symbol.for("react.lazy"),hXt=Symbol.for("react.scope"),pXt=Symbol.for("react.debug_trace_mode"),mXt=Symbol.for("react.legacy_hidden"),gXt=Symbol.for("react.default_value"),Mre=Symbol.iterator;function y6(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case MDe:return"Fragment";case $De:return"Portal";case LDe:return"Profiler";case FDe:return"StrictMode";case VDe:return"Suspense";case HDe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case NDe:return(e.displayName||"Context")+".Consumer";case BDe:return(e._context.displayName||"Context")+".Provider";case zDe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case UDe:return t=e.displayName||null,t!==null?t:y6(e.type)||"Memo";case wz:t=e._payload,e=e._init;try{return y6(e(t))}catch{}}return null}var WDe={};function Fre(e,t){if(e=e.contextTypes,!e)return WDe;var n={},r;for(r in e)n[r]=t[r];return n}var cp=null;function yO(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Ot(401))}else{if(n===null)throw Error(Ot(401));yO(e,n)}t.context._currentValue=t.value}}function YDe(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&YDe(e)}function qDe(e){var t=e.parent;t!==null&&qDe(t),e.context._currentValue=e.value}function GDe(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Ot(402));e.depth===t.depth?yO(e,t):GDe(e,t)}function KDe(e,t){var n=t.parent;if(n===null)throw Error(Ot(402));e.depth===n.depth?yO(e,n):KDe(e,n),t.context._currentValue=t.value}function xj(e){var t=cp;t!==e&&(t===null?qDe(e):e===null?YDe(t):t.depth===e.depth?yO(t,e):t.depth>e.depth?GDe(t,e):KDe(t,e),cp=e)}var Lre={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Bre(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=Lre,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:_b({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Lre.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=_b({},i,a)):_b(i,a))}e.state=i}else i.queue=null}var vXt={id:1,overflow:""};function b6(e,t,n){var r=e.id;e=e.overflow;var o=32-hE(r)-1;r&=~(1<<o),n+=1;var i=32-hE(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-hE(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var hE=Math.clz32?Math.clz32:xXt,yXt=Math.log,bXt=Math.LN2;function xXt(e){return e>>>=0,e===0?32:31-(yXt(e)/bXt|0)|0}function wXt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _Xt=typeof Object.is=="function"?Object.is:wXt,Hu=null,_z=null,pE=null,Mn=null,Iy=!1,wj=!1,Dx=0,Zd=null,bO=0;function qh(){if(Hu===null)throw Error(Ot(321));return Hu}function Nre(){if(0<bO)throw Error(Ot(312));return{memoizedState:null,queue:null,next:null}}function Cz(){return Mn===null?pE===null?(Iy=!1,pE=Mn=Nre()):(Iy=!0,Mn=pE):Mn.next===null?(Iy=!1,Mn=Mn.next=Nre()):(Iy=!0,Mn=Mn.next),Mn}function Sz(){_z=Hu=null,wj=!1,pE=null,bO=0,Mn=Zd=null}function ZDe(e,t){return typeof t=="function"?t(e):t}function zre(e,t,n){if(Hu=qh(),Mn=Cz(),Iy){var r=Mn.queue;if(t=r.dispatch,Zd!==null&&(n=Zd.get(r),n!==void 0)){Zd.delete(r),r=Mn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Mn.memoizedState=r,[r,t]}return[Mn.memoizedState,t]}return e=e===ZDe?typeof t=="function"?t():t:n!==void 0?n(t):t,Mn.memoizedState=e,e=Mn.queue={last:null,dispatch:null},e=e.dispatch=CXt.bind(null,Hu,e),[Mn.memoizedState,e]}function Vre(e,t){if(Hu=qh(),Mn=Cz(),t=t===void 0?null:t,Mn!==null){var n=Mn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!_Xt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Mn.memoizedState=[e,t],e}function CXt(e,t,n){if(25<=bO)throw Error(Ot(301));if(e===Hu)if(wj=!0,e={action:n,next:null},Zd===null&&(Zd=new Map),n=Zd.get(t),n===void 0)Zd.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function SXt(){throw Error(Ot(394))}function GC(){}var Hre={readContext:function(e){return e._currentValue},useContext:function(e){return qh(),e._currentValue},useMemo:Vre,useReducer:zre,useRef:function(e){Hu=qh(),Mn=Cz();var t=Mn.memoizedState;return t===null?(e={current:e},Mn.memoizedState=e):t},useState:function(e){return zre(ZDe,e)},useInsertionEffect:GC,useLayoutEffect:function(){},useCallback:function(e,t){return Vre(function(){return e},t)},useImperativeHandle:GC,useEffect:GC,useDebugValue:GC,useDeferredValue:function(e){return qh(),e},useTransition:function(){return qh(),[!1,SXt]},useId:function(){var e=_z.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-hE(e)-1)).toString(32)+t;var n=mE;if(n===null)throw Error(Ot(404));return t=Dx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return qh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Ot(407));return n()}},mE=null,A3=ODe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function EXt(e){return console.error(e),null}function Ry(){}function kXt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?EXt:o,onAllReady:i===void 0?Ry:i,onShellReady:s===void 0?Ry:s,onShellError:a===void 0?Ry:a,onFatalError:c===void 0?Ry:c},n=_j(t,0,null,n,!1,!1),n.parentFlushed=!0,e=Ez(t,e,null,n,d,WDe,null,vXt),u.push(e),t}function Ez(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&JDe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function _j(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Ix(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Cj(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,DDe(e.destination,t)):(e.status=1,e.fatalError=t)}function Ure(e,t,n,r,o){for(Hu={},_z=t,Dx=0,e=n(r,o);wj;)wj=!1,Dx=0,bO+=1,Mn=null,e=n(r,o);return Sz(),e}function Wre(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Ot(108,y6(r)||"Unknown",a));r=_b({},s,n)}t.legacyContext=r,Vs(e,t,o),t.legacyContext=s}else Vs(e,t,o)}function Yre(e,t){if(e&&e.defaultProps){t=_b({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function x6(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=Fre(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue:o),Bre(i,n,r,o),Wre(e,t,i,n)}else{i=Fre(n,t.legacyContext),o=Ure(e,t,n,r,i);var s=Dx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)Bre(o,n,r,i),Wre(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=b6(r,1,0);try{Vs(e,t,o)}finally{t.treeContext=r}}else Vs(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=gZt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=uZt(s,n,r),w6(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(vZt,It(n),yZt)}o.lastPushedText=!1}else{switch(n){case mXt:case pXt:case FDe:case LDe:case MDe:Vs(e,t,r.children);return;case HDe:Vs(e,t,r.children);return;case hXt:throw Error(Ot(343));case VDe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=_j(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=_j(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(w6(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(xz),u.status=1,Sj(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Ix(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=Ez(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case zDe:if(r=Ure(e,t,n.render,r,o),Dx!==0){n=t.treeContext,t.treeContext=b6(n,1,0);try{Vs(e,t,r)}finally{t.treeContext=n}}else Vs(e,t,r);return;case UDe:n=n.type,r=Yre(n,r),x6(e,t,n,r,o);return;case BDe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue,n._currentValue=r,s=cp,cp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Vs(e,t,o),e=cp,e===null)throw Error(Ot(403));r=e.parentValue,e.context._currentValue=r===gXt?e.context._defaultValue:r,e=cp=e.parent,t.context=e;return;case NDe:r=r.children,r=r(n._currentValue),Vs(e,t,r);return;case wz:o=n._init,n=o(n._payload),r=Yre(n,r),x6(e,t,n,r,void 0);return}throw Error(Ot(130,n==null?n:typeof n,""))}}function Vs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case fXt:x6(e,t,n.type,n.props,n.ref);return;case $De:throw Error(Ot(257));case wz:var r=n._init;n=r(n._payload),Vs(e,t,n);return}if(v6(n)){qre(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=Mre&&n[Mre]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);qre(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Ot(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=Are(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=Are(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function qre(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=b6(i,r,o);try{w6(e,t,n[o])}finally{t.treeContext=i}}}function w6(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Vs(e,t,n)}catch(c){if(Sz(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=_j(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=Ez(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,xj(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,xj(i),c}}function jXt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,QDe(this,t,e)}function XDe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Ot(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return XDe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function Sj(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&Sj(e,n)}else e.completedSegments.push(t)}function QDe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Ot(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Ry,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&Sj(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(jXt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(Sj(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function JDe(e){if(e.status!==2){var t=cp,n=A3.current;A3.current=Hre;var r=mE;mE=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){xj(s.context);try{Vs(a,s,s.node),c.lastPushedText&&c.textEmbedded&&c.chunks.push(xz),s.abortSet.delete(s),c.status=1,QDe(a,s.blockedBoundary,c)}catch(v){if(Sz(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=v,p=Ix(a,f);if(d===null?Cj(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&kz(e,e.destination)}catch(v){Ix(e,v),Cj(e,v)}finally{mE=r,A3.current=n,n===Hre&&xj(t)}}}function KC(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Ge(t,bZt),Ge(t,e.placeholderPrefix),e=It(r.toString(16)),Ge(t,e),Qn(t,xZt);case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)Ge(t,r[i]);o=xO(e,t,o)}for(;i<r.length-1;i++)Ge(t,r[i]);return i<r.length&&(o=Qn(t,r[i])),o;default:throw Error(Ot(390))}}function xO(e,t,n){var r=n.boundary;if(r===null)return KC(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,Qn(t,SZt),Ge(t,kZt),r&&(Ge(t,TZt),Ge(t,It(Go(r))),Ge(t,jZt)),Qn(t,AZt),KC(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;o=Fe(o.boundaryPrefix+i.toString(16)),r=r.id=o,$re(t,e.responseState,r),KC(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),$re(t,e.responseState,r.id),KC(e,t,n);else{if(Qn(t,wZt),n=r.completedSegments,n.length!==1)throw Error(Ot(391));xO(e,t,n[0])}return Qn(t,EZt)}function Gre(e,t,n){return XZt(t,e.responseState,n.formatContext,n.id),xO(e,t,n),QZt(t,n.formatContext)}function Kre(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)eIe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Ge(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Ge(t,oXt):(e.sentCompleteBoundaryFunction=!0,Ge(t,rXt)),r===null)throw Error(Ot(395));return n=It(n.toString(16)),Ge(t,r),Ge(t,iXt),Ge(t,e.segmentPrefix),Ge(t,n),Qn(t,sXt)}function eIe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Ot(392));return Gre(e,t,r)}return Gre(e,t,r),e=e.responseState,Ge(t,e.startInlineScript),e.sentCompleteSegmentFunction?Ge(t,eXt):(e.sentCompleteSegmentFunction=!0,Ge(t,JZt)),Ge(t,e.segmentPrefix),o=It(o.toString(16)),Ge(t,o),Ge(t,tXt),Ge(t,e.placeholderPrefix),Ge(t,o),Qn(t,nXt)}function kz(e,t){Ns=new Uint8Array(512),zs=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){xO(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Ge(t,r[n]);n<r.length&&Qn(t,r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(Ge(r,a.startInlineScript),a.sentClientRenderFunction?Ge(r,lXt):(a.sentClientRenderFunction=!0,Ge(r,aXt)),c===null)throw Error(Ot(395));Ge(r,c),Ge(r,cXt),(u||d||f)&&(Ge(r,j3),Ge(r,It(T3(u||"")))),(d||f)&&(Ge(r,j3),Ge(r,It(T3(d||"")))),f&&(Ge(r,j3),Ge(r,It(T3(f)))),Qn(r,uXt)}o.splice(0,i);var p=e.completedBoundaries;for(i=0;i<p.length;i++)Kre(e,t,p[i]);p.splice(0,i),Ere(t),Ns=new Uint8Array(512),zs=0;var m=e.partialBoundaries;for(i=0;i<m.length;i++){var v=m[i];e:{o=e,s=t;var g=v.completedSegments;for(a=0;a<g.length;a++)if(!eIe(o,s,v,g[a])){a++,g.splice(0,a);var b=!1;break e}g.splice(0,a),b=!0}if(!b){e.destination=null,i++,m.splice(0,i);return}}m.splice(0,i);var x=e.completedBoundaries;for(i=0;i<x.length;i++)Kre(e,t,x[i]);x.splice(0,i)}finally{Ere(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function Zre(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return XDe(r,e,t)}),n.clear(),e.destination!==null&&kz(e,e.destination)}catch(r){Ix(e,r),Cj(e,r)}}vz.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,i,s=new Promise(function(d,f){i=d,o=f}),a=kXt(e,lZt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),cZt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,DDe(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{kz(a,f)}catch(p){Ix(a,p),Cj(a,p)}}},cancel:function(){Zre(a)}},{highWaterMark:0});d.allReady=s,n(d)},function(d){s.catch(function(){}),r(d)},o);if(t&&t.signal){var c=t.signal,u=function(){Zre(a,c.reason),c.removeEventListener("abort",u)};c.addEventListener("abort",u)}JDe(a)})};vz.version="18.2.0";var Y0,tIe;Y0=W0,tIe=vz;Y0.version;var TXt=Y0.renderToString;Y0.renderToStaticMarkup;Y0.renderToNodeStream;Y0.renderToStaticNodeStream;tIe.renderToReadableStream;function AXt(e){return typeof e=="function"}function Xre(e){return AXt(e)?e():e}const OXt=()=>{};function PXt(e){return function(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:i,update:s,remove:a}=ne.useContext(e),c=ne.useRef();ne.useLayoutEffect(()=>{if(n===null)return OXt;const u=Xre(r);return i(n,u),c.current=u,()=>{a(n)}},[i,n,a,r]),ne.useLayoutEffect(()=>{const u=Xre(r);typeof c.current<"u"&&!o(c.current,u)&&n!==null&&s(n,u),c.current=u})}}function DXt(){const e=new Map,{publish:t,subscribe:n}=qL(),r=rw(t,10,{trailing:!0}),o=()=>Array.from(e.entries());function i(c,u){e.has(c),e.set(c,u),r(o())}function s(c,u){e.has(c),e.set(c,u),r(o())}function a(c){e.has(c),e.delete(c),r(o())}return{add:i,remove:a,update:s,read:o,subscribe:n}}let Jv=!1;const O3=e=>{Jv||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(e,', ...)", is wrapped in a <Tracker> element'))),Jv=!0};function IXt(){return Jv||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),Jv=!0,[]}const RXt=()=>(Jv||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),Jv=!0,()=>{}),$Xt={add:O3,update:O3,remove:O3,subscribe:RXt,read:IXt};let MXt=0;const FXt=()=>++MXt;function nIe(){const e=ne.createContext($Xt);function t(){const o=ne.useContext(e),[i,s]=ne.useState(o.read());return ne.useLayoutEffect(()=>(s(o.read()),o.subscribe(s)),[o]),i}function n(o){const i=ne.useMemo(()=>DXt(),[]);return l.jsx(e.Provider,{value:i,children:o.children})}const r=PXt(e);return{Tracker:n,useReportedValues:t,useReporter:r,useAutoIdReporter:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return r("element-".concat(ne.useRef(FXt()).current),o,i)}}}const Is=4,LXt=16,Qre=8,ut=8,Ca=2,ZC=4,xi=12,Jm=2,BXt=!1,NXt=!1,jz=nIe(),zXt=jz.Tracker,Tz=jz.useReportedValues,rIe=jz.useReporter,Om=h.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),VXt=e=>{const t=ne.useRef(null),{onSetFocus:n}=ne.useContext(Om),[r,o]=ne.useState(!1),i=ne.useCallback(()=>{o(!0)},[]),s=ne.useCallback(()=>{o(!1)},[]);rIe("change-".concat(Cr(e.path)),()=>({element:t.current,path:e.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:e.hasHover}),YL);const a=h.useCallback(c=>{HXt(c,n,e.path)},[n,e.path]);return l.jsx("div",{ref:t,onClick:a,onMouseLeave:s,onMouseEnter:i,children:e.children})};function HXt(e,t,n){e.stopPropagation(),t(n)}function Do(e){const t=h.useRef(e);return zt(t.current,e)||(t.current=e),t.current}function rh(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const s=Do(i),a=co(()=>ve(s).pipe(nt(c=>Fr(ve({type:"loading"}),e(c).pipe(le(u=>({type:"value",value:u}))))),ta((c,u)=>{let[d]=c;return u.type==="loading"?[d,!0]:[u.value,!1]},n),Wn((c,u)=>{let[d,f]=c,[p,m]=u;return!(d!==p||f!==m)}),le(c=>({type:"tuple",tuple:c})),jn(c=>ve({type:"error",error:c}))),[s],r);if(a.type==="error")throw a.error;return a.tuple}}function lo(e){return e!=null}const UXt="drafts",Az="".concat(UXt,".");function Oz(e){return e.startsWith(Az)}function oIe(e){return{draftId:ri(e),publishedId:Tn(e)}}function ri(e){return Oz(e)?e:Az+e}function Tn(e){return Oz(e)?e.slice(Az.length):e}function wO(e){const t=e.reduce((n,r)=>{const o=Tn(r._id);let i=n.get(o);return i||(i={id:o,type:r._type,published:void 0,draft:void 0},n.set(o,i)),i[o===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function WXt(e){return wO(e).map(t=>t.draft||t.published).filter(lo)}const YXt=Object.freeze({}),Bn=Object.freeze([]);function qXt(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const GXt=qXt();function Jre(e){return Array.isArray(e)}function bt(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function mv(e){return typeof e=="string"}const KXt=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:t5e,ZXt=()=>{const e=qL(),t=new KXt(n=>e.publish(n));return{observe:(n,r,o)=>{const i=e.subscribe(s=>{const a=s.find(c=>c.target===n);a&&r(a)});return t.observe(n,o),()=>{i(),t.unobserve(n)}}}},XXt=ZXt(),QXt=["sanity.imageAsset","sanity.fileAsset"];function JXt(e){return e.type==="document"&&QXt.includes(e.name)}function J8n(e){return e.type==="document"&&!JXt(e)}const eQt=["match","in","asc","desc","true","false","null"],tQt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,iIe=e=>!tQt.test(e)||eQt.includes(e),Pz=e=>'["'.concat(e,'"]'),nQt=e=>"@".concat(Pz(e)),rQt=e=>Array.isArray(e)&&e.length===0,oQt=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];if(rQt(r)){t+="[]";continue}if(typeof r=="number"){t+="[".concat(r,"]");continue}const o=n===0;iIe(r)?t=o?nQt(r):"".concat(t).concat(Pz(r)):t=o?r:"".concat(t,".").concat(r)}return t},Zp=iQt();function iQt(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const sQt={isLoading:!0,value:void 0,error:null};function sIe(e,t){return co(()=>e.pipe(aQt()),[e],typeof t>"u"?sQt:{isLoading:!1,value:t,error:null})}function aQt(){return e=>e.pipe(le(t=>({isLoading:!1,value:t,error:null})),jn(t=>ve({isLoading:!1,value:void 0,error:t})))}function lQt(e,t,n){return h.useMemo(()=>bA(e,t,n),[e,n,t])}function aIe(e,t){return e!==null&&e.roles.some(n=>n.name===t)}var eoe=Object.freeze,cQt=Object.defineProperty,pu=(e,t)=>eoe(cQt(e,"raw",{value:eoe(t||e.slice())})),toe,noe,roe,ooe,ioe,soe,aoe,loe,coe;const uQt=250,dQt=I.div(e=>{let{$changed:t,$disabled:n,$isReviewChangeOpen:r}=e;return n?de(toe||(toe=pu([`
        `,` {
          display: none;
        }
      `])),_6):de(ooe||(ooe=pu([`
      --change-bar-offset: 2px;

      display: flex;
      position: relative;

      @media (hover: hover) {
        &:hover {
          z-index: 10;
        }
      }

      /* hide when field is not changed */
      `,`

      /* hide hover effect when review changes is open */
      `,`
    `])),!t&&de(noe||(noe=pu([`
        `,` {
          opacity: 0;
          pointer-events: none;
        }
      `])),_6),r&&de(roe||(roe=pu([`
        `,` {
          opacity: 0;
        }
      `])),lIe))}),fQt=I.div(ioe||(ioe=pu([`
  flex-grow: 1;
  min-width: 0;
`]))),_6=I.div(soe||(soe=pu([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),e=>{let{$zIndex:t}=e;return t}),hQt=I.div(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow,r=t.sanity.media[0];return de(aoe||(aoe=pu([`
    position: absolute;
    top: 0;
    left: var(--change-bar-offset);
    width: 2px;
    bottom: 0;
    background-color: `,`;
    border-radius: 1px;

    @media (min-width: `,`px) {
      display: unset;
    }
  `])),n,r)}),lIe=I.button(e=>{let{theme:t,$withHoverEffect:n}=e;const r=t.sanity.color.spot.yellow;return de(coe||(coe=pu([`
      appearance: none;
      border: 0;
      outline: 0;
      display: block;
      padding: 0;
      background: transparent;
      opacity: 0;
      position: absolute;
      height: 100%;
      cursor: pointer;
      pointer-events: all;
      left: calc(-0.25rem + var(--change-bar-offset));
      width: 1rem;
      transition: opacity `,`ms;

      &:focus {
        border: 0;
        outline: 0;
      }

      &:after {
        content: '';
        width: 16px;
        height: calc(100% + 14px);
        display: block;
        position: absolute;
        top: -7px;
        left: -3px;
        border-radius: 8px;
        background: `,`;
      }

      &:focus {
        border: 0;
        outline: 0;
      }

      `,`
    `])),uQt,r,n&&de(loe||(loe=pu([`
        @media (hover: hover) {
          &:hover {
            opacity: 0.2;
          }
        }
      `]))))});function pQt(e){const{children:t,disabled:n,isChanged:r,withHoverEffect:o=!0}=e,{onOpenReviewChanges:i,isReviewChangesOpen:s}=ne.useContext(Om),{zIndex:a}=Ga(),c=h.useMemo(()=>n||!r?null:l.jsxs(_6,{"data-testid":"change-bar",$zIndex:a,children:[l.jsx(hQt,{"data-testid":"change-bar__marker"}),l.jsx(lIe,{"aria-label":"Review changes","data-testid":"change-bar__button",onClick:s?void 0:i,tabIndex:-1,type:"button",$withHoverEffect:o})]}),[n,r,a,s,i,o]);return l.jsxs(dQt,{"data-testid":"change-bar-wrapper",$changed:r,$disabled:n,$isReviewChangeOpen:s,children:[l.jsx(fQt,{"data-testid":"change-bar__field-wrapper",children:t}),c]})}const mQt=h.memo(function(t){const{children:n,disabled:r,hasFocus:o,isChanged:i,onMouseEnter:s,onMouseLeave:a,path:c=Bn,withHoverEffect:u,...d}=t,f=Ga(),[p,m]=h.useState(!1),v=h.useCallback(x=>{s==null||s(x),m(!0)},[s]),g=h.useCallback(x=>{a==null||a(x),m(!1)},[a]),b=h.useRef(null);return rIe(r?null:"field-".concat(Cr(c)),()=>({element:b.current,path:c,isChanged:i,hasFocus:o,hasHover:p,zIndex:f.zIndex}),YL),l.jsx("div",{...d,ref:b,onMouseEnter:v,onMouseLeave:g,children:l.jsx(pQt,{isChanged:i,disabled:r,withHoverEffect:u,children:n})})});function oi(e){const{children:t,hasFocus:n,isChanged:r,path:o,withHoverEffect:i,...s}=e;return l.jsx(mQt,{...s,path:o,hasFocus:n,isChanged:r,withHoverEffect:i,children:t})}ne.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const C6=ne.createContext(null);function gQt(e){const t=ne.useContext(C6);ne.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const uoe=()=>{},_O=ne.forwardRef(function(t,n){const{as:r="div",onScroll:o,...i}=t,s=or(n),a=h.useContext(C6),c=h.useMemo(()=>qL(),[]);return h.useEffect(()=>o?c.subscribe(o):uoe,[c,o]),h.useEffect(()=>a?c.subscribe(a.publish):uoe,[a,c]),h.useEffect(()=>{const u=f=>{c.publish(f)},d=s.current;if(d)return d.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{d.removeEventListener("scroll",u)}},[c,s]),l.jsx(C6.Provider,{value:c,children:ne.createElement(r,{ref:s,"data-testid":"scroll-container",...i})})});function vQt(e){let{onScroll:t,children:n}=e;return gQt(t),l.jsx(l.Fragment,{children:n})}function doe(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",o=_l(r),i="".concat(e,"-").concat(Cr(o));if(n.has(i))return n.get(i);let s;for(const[a,c]of n){if(!("path"in c)||!a.startsWith(e))continue;const u=VLe(o,c.path),d=c.path[c.path.length-1],f=u===c.path.length-1&&wl(d);if(u!==0&&!(u!==c.path.length&&!f)&&(s=c,u===o.length))break}return s}function yQt(e){return e[0]!=="changePanel"}function cIe(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function bQt(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&cIe(e)}const xQt=-15;function foe(e){let n=e.element;for(;!bQt(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+xQt,left:0,behavior:"smooth"})}const hoe=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let o=!1,i=e;for(;i&&i!==t&&t.contains(i);)o&&(n.top+=i.offsetTop,n.left+=i.offsetLeft),cIe(i)&&(n.top=i.offsetTop,n.height=i.offsetHeight,n.left=i.offsetLeft,n.width=i.offsetWidth,o=!0),r.top+=i.offsetTop-i.scrollTop,r.left+=i.offsetLeft-i.scrollLeft,i=i.offsetParent;return{rect:r,bounds:n}};function XC(e,t,n){return["M ".concat(e-ZC," ").concat(t-ZC*n," "),"L ".concat(e," ").concat(t),"L ".concat(e+ZC," ").concat(t-ZC*n)].join("")}function P3(e,t){return"M".concat(e," ").concat(t)}function Gr(e,t){return"L".concat(e," ").concat(t)}function wQt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.join(t)}function as(e,t,n,r){return"Q".concat(e," ").concat(t," ").concat(n," ").concat(r)}function _Qt(e){const{from:t,to:n}=e,{left:r,top:o}=t,{left:i,top:s}=n,a=[],c=Math.min(Is,Math.abs(o-s)/2);return t.isAbove?a.push(P3(r+ut,o-xi+Ca),Gr(r+ut,o-Is),as(r+ut,o,r+ut+Is,o)):t.isBelow?a.push(P3(r+ut,o+xi-Ca),Gr(r+ut,o+Is),as(r+ut,o,r+ut+Is,o)):a.push(P3(r,o)),n.isAbove?o<n.bounds.top?a.push(Gr(n.bounds.left-8-c,o),as(n.bounds.left-8,o,n.bounds.left-8,o+c),Gr(n.bounds.left-8,s-c),as(n.bounds.left-8,s,n.bounds.left-8+c,s),Gr(n.bounds.left+ut-Is,s),as(n.bounds.left+ut,s,n.bounds.left+ut,s-Is),Gr(n.bounds.left+ut,s-xi+Ca)):a.push(Gr(n.bounds.left+ut-Is,o),as(n.bounds.left+ut,o,n.bounds.left+ut,o-Is),Gr(n.bounds.left+ut,s-xi+Ca)):n.isBelow?o>n.bounds.top+n.bounds.height?a.push(Gr(n.bounds.left-ut-c,o),as(n.bounds.left-ut,o,n.bounds.left-ut,o-c),Gr(n.bounds.left-ut,s+c),as(n.bounds.left-ut,s,n.bounds.left-ut+c,s),Gr(n.bounds.left+ut-Is,s),as(n.bounds.left+ut,s,n.bounds.left+ut,s+Is),Gr(n.bounds.left+ut,s+xi-Ca)):a.push(Gr(n.bounds.left+ut-Is,o),as(n.bounds.left+ut,o,n.bounds.left+ut,o+Is),Gr(n.bounds.left+ut,s+xi-Ca)):o<s?a.push(Gr(n.bounds.left+ut-c,o),as(n.bounds.left+ut,o,n.bounds.left+ut,o+c),Gr(n.bounds.left+ut,s-c),as(n.bounds.left+ut,s,n.bounds.left+ut+c,s),Gr(i,s)):a.push(Gr(n.bounds.left+ut-c,o),as(n.bounds.left+ut,o,n.bounds.left+ut,o-c),Gr(n.bounds.left+ut,s+c),as(n.bounds.left+ut,s,n.bounds.left+ut+c,s),Gr(i,s)),wQt(a)}function poe(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+Ca,o=e.top>t.top+t.height-Ca;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+Qre,endY:e.top+e.height-Qre,isAbove:r,isBelow:o,outOfBounds:r||o}}function CQt(e){const t={top:e.from.bounds.top+xi,bottom:e.from.bounds.top+e.from.bounds.height-xi,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-xi*2},n=poe(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+xi,bottom:e.to.bounds.top+e.to.bounds.height-xi,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-xi*2},o=poe(e.to.rect,r),i=Math.max(o.startY,n.startY);return n.top=Math.min(i,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),o.top=Math.min(i,o.endY),o.top<t.top?o.top=Math.min(t.top,o.endY):o.top>t.bottom&&(o.top=Math.max(t.bottom,o.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),o.top=Math.min(Math.max(o.top,r.top),r.bottom),{from:n,to:o}}function SQt(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),o=Math.max(e.top,t.top),i=Math.max(0,e.height-(o-e.top)),s=Math.max(0,e.width-(r-e.left));return l.jsx("rect",{...n,x:r,y:o,height:i,width:s})}var moe=Object.freeze,EQt=Object.defineProperty,CO=(e,t)=>moe(EQt(e,"raw",{value:moe(t||e.slice())})),goe,voe,yoe,boe;I.rect(goe||(goe=CO([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const Z1=I.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(voe||(voe=CO([`
    fill: none;
    pointer-events: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke: `,`;
  `])),n)}),kQt=I.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(yoe||(yoe=CO([`
    fill: none;
    pointer-events: stroke;
    stroke: `,`;
    cursor: pointer;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;

    &:hover {
      opacity: 0.2;
    }
  `])),n)}),jQt=I(SQt)(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(boe||(boe=CO([`
    stroke: none;
    pointer-events: none;
    fill: `,`;
  `])),n)}),TQt=h.memo(function(t){let{from:n,to:r}=t;const o=CQt({from:n,to:r});if(o.from.outOfBounds&&o.to.outOfBounds)return null;const i=_Qt(o);return l.jsxs(l.Fragment,{children:[l.jsx(kQt,{d:i,strokeWidth:LXt}),l.jsx(Z1,{d:i,strokeWidth:Jm}),l.jsx(jQt,{top:r.rect.top,left:r.rect.left,height:r.rect.height,width:Jm,bounds:r.bounds}),o.from.isAbove&&l.jsx(Z1,{d:XC(o.from.left+ut,o.from.bounds.top-xi+Ca,-1),strokeWidth:Jm}),o.from.isBelow&&l.jsx(Z1,{d:XC(o.from.left+ut,o.from.bounds.top+o.from.bounds.height+xi-Ca,1),strokeWidth:Jm}),o.to.isAbove&&l.jsx(Z1,{d:XC(o.to.bounds.left+ut,o.to.bounds.top-xi+Ca,-1),strokeWidth:Jm}),o.to.isBelow&&l.jsx(Z1,{d:XC(o.to.bounds.left+ut,o.to.bounds.top+o.to.bounds.height+xi-Ca,1),strokeWidth:Jm}),BXt]})});function AQt(e,t){h.useEffect(()=>XXt.observe(e,t),[e,t])}var xoe=Object.freeze,OQt=Object.defineProperty,PQt=(e,t)=>xoe(OQt(e,"raw",{value:xoe(t||e.slice())})),woe;const DQt=I.svg(woe||(woe=PQt([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));function _oe(e,t,n,r){const o=[],i=[];for(const u of e){if(!yQt(u)||!u[1].isChanged)continue;const[d,f]=u;if(d===t){o.push(u);continue}if(f.hasHover){o.push(u);continue}if(f.hasFocus){i.push(u);continue}}const s=o.length>0;return{connectors:(s?o:i).map(u=>{let[d]=u;const f=doe("field",d,n),p=doe("change",d,n);return!f||!p?null:{field:{id:d,...f},change:{id:d,...p}}}).filter(lo).map(u=>{let{field:d,change:f}=u;return{hasHover:d.hasHover||f.hasHover,hasFocus:d.hasFocus,hasRevertHover:f.hasRevertHover,field:{...d,...hoe(d.element,r)},change:{...f,...hoe(f.element,r)}}}),isHoverConnector:s}}function IQt(e){const{rootElement:t,onSetFocus:n}=e,[r,o]=ne.useState(null),i=Tz(),s=h.useMemo(()=>new Map(i),[i]),[{connectors:a},c]=h.useState(()=>_oe(i,r,s,t)),u=h.useMemo(()=>wm(a,f=>0-f.field.path.length).slice(0,1),[a]),d=h.useCallback(()=>{c(_oe(i,r,s,t))},[s,i,r,t]);return AQt(t,d),l.jsx(vQt,{onScroll:d,children:l.jsx(DQt,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(f=>{let{field:p,change:m}=f;return m?l.jsx(RQt,{field:p,change:m,onSetFocus:n,setHovered:o},p.id):null})})})}function RQt(e){const{change:t,field:n,onSetFocus:r,setHovered:o}=e,i=h.useCallback(()=>{foe(n),foe(t),r(n.path)},[n,t,r]),s=h.useCallback(()=>o(n.id),[n,o]),a=h.useCallback(()=>o(null),[o]),c=h.useMemo(()=>({rect:{left:n.rect.left+2,top:n.rect.top,height:n.rect.height,width:n.rect.width},bounds:n.bounds}),[n.bounds,n.rect]),u=h.useMemo(()=>({rect:t.rect,bounds:t.bounds}),[t.bounds,t.rect]);return l.jsxs(l.Fragment,{children:[l.jsx("g",{onClick:i,onMouseEnter:s,onMouseLeave:a,children:l.jsx(TQt,{from:c,to:u})}),NXt]})}function $Qt(e){let{children:t,className:n,isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i,...s}=e;const[a,c]=ne.useState(),u=h.useMemo(()=>({isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i}),[r,o,i]);return l.jsx(Om.Provider,{value:u,children:l.jsx(zXt,{children:l.jsxs(_O,{...s,ref:c,className:n,children:[t,a&&l.jsx(IQt,{rootElement:a,onSetFocus:i})]})})})}const MQt=$Qt;function FQt(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Dz(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&FQt(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Coe=Object.freeze,LQt=Object.defineProperty,SO=(e,t)=>Coe(LQt(e,"raw",{value:Coe(t||e.slice())})),Soe,Eoe,koe,joe;const BQt="data-active",D3="a,button",NQt=I.div(e=>{let{theme:t,offset:n}=e;return de(Soe||(Soe=SO([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-n,pe(t.sanity.radius[1]),-n,-n,-n,uIe,Dz({base:t.sanity.color.base,focusRing:t.sanity.focusRing}))}),zQt=I.div(Eoe||(Eoe=SO([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),uIe=I(M)(koe||(koe=SO([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),VQt=I(M).attrs(e=>{let{$height:t}=e;return{style:{height:"".concat(t,"px")}}})(joe||(joe=SO([`
  position: relative;
  width: 100%;
`]))),oh=h.forwardRef(function(t,n){let{activeItemDataAttr:r=BQt,ariaLabel:o,ariaMultiselectable:i=!1,autoFocus:s,canReceiveFocus:a,fixedHeight:c,focusRingOffset:u=0,getItemDisabled:d,getItemKey:f,getItemSelected:p,initialIndex:m,initialScrollAlign:v="start",inputElement:g,itemHeight:b,items:x,onEndReached:y,onEndReachedIndexOffset:w=0,onlyShowSelectionWhenActive:_,overscan:C,renderItem:S,wrapAround:E=!0,...j}=t;const k=h.useRef(!1),T=h.useRef(h.useId()),A=h.useRef(m??0),[O,P]=h.useState(null),[D,R]=h.useState(!1),[$,H]=h.useState(null),[F,V]=h.useState(null),W=h.useCallback(xe=>{if(!y)return;const[qe]=[...xe.getVirtualItems()].reverse();if(!qe)return;qe.index>=x.length-w-1&&k.current&&y()},[y,x.length,w]),z=_5e({count:x.length,getItemKey:f,getScrollElement:()=>F,estimateSize:()=>b,onChange:W,overscan:C}),q=h.useMemo(()=>{let xe=-1;return x.reduce((qe,Ze,Ne)=>{var pt,Oe;const Me=(pt=d==null?void 0:d(Ne))!=null?pt:!1,Xe=(Oe=p==null?void 0:p(Ne))!=null?Oe:!1;return Me||(xe+=1),qe[Ne]={activeIndex:Me?null:xe,disabled:Me,selected:Xe},qe},[])},[d,p,x]),oe=h.useMemo(()=>q.filter(xe=>!xe.disabled).length,[q]),N=h.useCallback(xe=>$==null?void 0:$.setAttribute("data-enabled",(!xe).toString()),[$]),G=h.useCallback(xe=>"".concat(T.current,"-item-").concat(xe),[]),Y=h.useCallback(()=>"".concat(T.current,"-children"),[]),K=h.useCallback(()=>{const xe=[g,F].some(Ze=>document.activeElement===Ze);if(_&&!xe&&!D)return;const qe=Array.from((O==null?void 0:O.children)||[]);qe==null||qe.forEach(Ze=>{var Ne,pt,Oe;const Me=Number((Ne=Ze.dataset)==null?void 0:Ne.index),Xe=(pt=q[Me])==null?void 0:pt.activeIndex;(Oe=Ze.querySelector(D3))==null||Oe.toggleAttribute(r,Xe===A.current)})},[r,O==null?void 0:O.children,D,g,q,_,F]),X=h.useCallback(()=>{const xe=Array.from((O==null?void 0:O.children)||[]);xe==null||xe.forEach(qe=>{var Ze;(Ze=qe.querySelector(D3))==null||Ze.toggleAttribute(r,!1)})},[r,O==null?void 0:O.children]),Q=h.useMemo(()=>bA(K,200),[K]),Z=h.useCallback(()=>{const xe=A==null?void 0:A.current;x.length>0?(g==null||g.setAttribute("aria-activedescendant",G(xe)),F==null||F.setAttribute("aria-activedescendant",G(xe))):(g==null||g.removeAttribute("aria-activedescendant"),F==null||F.removeAttribute("aria-activedescendant"))},[G,g,x.length,F]),re=h.useCallback(()=>{var xe,qe;const Ze=O==null?void 0:O.parentElement;if(O&&Ze){const Ne=Ze.getBoundingClientRect().top-O.getBoundingClientRect().top;return(qe=(xe=z.getVirtualItemForOffset(Ne))==null?void 0:xe.index)!=null?qe:-1}return-1},[O,z]),ae=h.useCallback(xe=>{let{index:qe,scrollAlign:Ze,scrollIntoView:Ne=!0}=xe;if(A.current=qe,Z(),K(),Ne){const pt=q.findIndex(Oe=>Oe.activeIndex===qe);pt>-1&&z.scrollToIndex(pt,Ze?{align:Ze}:{})}},[Z,q,K,z]),me=h.useCallback(xe=>{let qe=-1;const Ze=oe-1;if(xe==="next"){const Ne=E?0:Ze;qe=A.current<oe-1?A.current+1:Ne}if(xe==="previous"){const Ne=E?Ze:0;qe=A.current>0?A.current-1:Ne}ae({index:qe,scrollIntoView:!0}),N(!1)},[oe,N,ae,E]),ce=h.useCallback(xe=>{switch(xe){case"input":g==null||g.focus();break;case"list":F==null||F.focus();break}},[g,F]),Te=h.useCallback(()=>{g==null||g.focus()},[g]),je=h.useCallback(()=>{F==null||F.focus()},[F]),be=h.useCallback(xe=>()=>{ae({index:xe,scrollIntoView:!1})},[ae]),ge=h.useCallback(()=>{K()},[K]),De=h.useCallback(xe=>qe=>{const Ze=Array.from((O==null?void 0:O.children)||[]);if(Ze.length&&(qe.key==="ArrowDown"&&(qe.preventDefault(),ce(xe),me("next")),qe.key==="ArrowUp"&&(qe.preventDefault(),ce(xe),me("previous")),qe.key==="Enter")){qe.preventDefault(),ce(xe);const Ne=Ze.find(pt=>Number(pt.dataset.index)===q.findIndex(Oe=>Oe.activeIndex===A.current));if(Ne){const pt=Ne==null?void 0:Ne.querySelector(D3);pt==null||pt.click()}}},[O==null?void 0:O.children,ce,q,me]),Re=h.useCallback(xe=>De("input")(xe),[De]),at=h.useCallback(xe=>De("list")(xe),[De]),rt=h.useCallback(()=>{_&&(K(),R(!0))},[_,K]),Mt=h.useCallback(()=>{_&&(X(),R(!1))},[X,_]);h.useImperativeHandle(n,()=>({focusInputElement(){Te()},focusListElement(){je()},getTopIndex(){return re()},scrollToIndex(xe){ae({index:xe}),N(!0)}}),[N,Te,je,re,ae]),h.useEffect(()=>{typeof m<"u"&&!k.current&&ae({index:m,scrollAlign:v,scrollIntoView:!0}),k.current=!0},[m,v,_,ae]),h.useEffect(()=>{function xe(){N(!0)}return F==null||F.addEventListener("mousemove",xe),F==null||F.addEventListener("wheel",xe,{passive:!0}),()=>{F==null||F.removeEventListener("mousemove",xe),F==null||F.removeEventListener("wheel",xe)}},[N,F]),h.useEffect(()=>(g==null||g.addEventListener("focus",ge),g==null||g.addEventListener("keydown",Re),F==null||F.addEventListener("focus",ge),F==null||F.addEventListener("keydown",at),()=>{g==null||g.removeEventListener("focus",ge),g==null||g.removeEventListener("keydown",Re),F==null||F.removeEventListener("focus",ge),F==null||F.removeEventListener("keydown",at)}),[a,ge,De,Re,at,X,g,K,F]),h.useEffect(()=>{Z()},[Z,x]),h.useEffect(()=>{const xe=new MutationObserver(Q);return O&&xe.observe(O,{childList:!0,subtree:!0}),()=>{xe.disconnect()}},[O,Q]),h.useEffect(()=>{g==null||g.setAttribute("aria-autocomplete","list"),g==null||g.setAttribute("aria-expanded","true"),g==null||g.setAttribute("aria-controls",Y()),g==null||g.setAttribute("role","combobox")},[Y,g]),h.useEffect(()=>{s&&ce(s)},[s,a,je,Te,ce]);const un=a?0:-1;return l.jsxs(uIe,{id:Y(),onMouseEnter:rt,onMouseLeave:Mt,ref:V,sizing:"border",tabIndex:un,...j,children:[a&&l.jsx(NQt,{offset:u}),l.jsx(zQt,{"aria-hidden":"true","data-enabled":!0,ref:H}),z&&l.jsx(VQt,{forwardedAs:"ul",$height:z.getTotalSize(),"aria-label":o,"aria-multiselectable":i,flex:1,ref:P,role:"listbox",children:z.getVirtualItems().map(xe=>{const qe=xe.index,{activeIndex:Ze,disabled:Ne,selected:pt}=q[qe],Oe=S(x[qe],{activeIndex:Ze,disabled:Ne,selected:pt,virtualIndex:qe}),Me=h.cloneElement(Oe,{tabIndex:-1}),Xe=typeof Ze=="number"&&!Ne?{"aria-posinset":Ze+1,...i?{"aria-selected":pt.toString()}:{},"aria-setsize":oe,id:G(Ze),role:"option",onMouseEnter:be(Ze)}:{};return l.jsx(te,{as:"li","data-index":qe,ref:c?void 0:z.measureElement,style:{flex:1,...c?{height:"".concat(xe.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(xe.start,"px)"),width:"100%"},tabIndex:-1,...Xe,children:Me},xe.key)})})]})}),Toe=new WeakMap;let HQt=0;function Aoe(e){const t=Toe.get(e);if(t)return t;const n="".concat(e.name||e.displayName||"<anonymous>","-").concat(HQt++);return Toe.set(e,n),n}function UQt(e){const t=h.useRef(void 0);return Mu(e,t.current)||(t.current=e),[t.current]}function WQt(e,t){h.useEffect(e,UQt(t))}const YQt=h.memo(function(t){const{hook:n,args:r,id:o,onNext:i,onReset:s,onRequestUpdate:a}=t,c=n({...r,onComplete:()=>{s(o)}});return WQt(()=>(i(o,c),a(),()=>{i(o,null),a()}),c),null},(e,t)=>e.args===t.args),qQt=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},GQt=e=>clearTimeout(e),KQt=typeof requestIdleCallback>"u"?qQt:requestIdleCallback,ZQt=typeof cancelIdleCallback>"u"?GQt:cancelIdleCallback,XQt={trailing:!0};function dIe(e){const{hooks:t,args:n,children:r,onReset:o}=e,i=h.useRef({}),[s,a]=h.useState(0),[c,u]=h.useState({}),d=h.useRef(null),f=h.useCallback(()=>{d.current&&ZQt(d.current),d.current=KQt(()=>{d.current=null,a(x=>x+1)})},[]),p=lQt(f,60,XQt),m=h.useCallback((x,y)=>{if(y===null)delete i.current[x];else{const w=i.current[x];i.current[x]={...w,value:y}}},[]),v=h.useCallback(x=>{u(y=>({...y,[x]:(y[x]||0)+1})),o&&o()},[o]),g=h.useMemo(()=>t.map(x=>Aoe(x)),[t]),b=h.useMemo(()=>g.map(x=>{var y;return(y=i.current[x])==null?void 0:y.value}).filter(lo),[g,s]);return l.jsxs(l.Fragment,{children:[t.map(x=>{const y=Aoe(x),w=c[y]||0;return l.jsx(YQt,{hook:x,id:y,args:n,onNext:m,onRequestUpdate:p,onReset:v},"".concat(y,"-").concat(w))}),r({states:b})]})}function Iz(e){let{makePlatformAware:t=!0,keys:n=[],...r}=e;const o=t?n.map(QQt):n;return l.jsx(r7,{...r,keys:o})}const Ooe=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function QQt(e){const t=e.toLowerCase();return t==="alt"&&Ooe?Poe(e,"option"):t==="option"&&!Ooe?Poe(e,"alt"):e}function Poe(e,t){const n=e.length;return t.replace(/./g,(r,o)=>o<n&&e[o]===e[o].toUpperCase()?r.toUpperCase():r)}function kc(e){const{currentUser:t,title:n="Insufficient permissions",operationLabel:r="access this feature"}=e,o=(t==null?void 0:t.roles)||[],i=o.length!==1;return l.jsxs(M,{padding:2,children:[l.jsxs(Yt,{space:2,children:[l.jsx(B,{size:1,children:l.jsx(Cf,{})}),l.jsx(B,{weight:"semibold",children:n})]}),l.jsx(Yt,{marginTop:4,children:l.jsx(B,{size:1,children:o.length===0?l.jsxs(l.Fragment,{children:["You have no role that grants you permission to ",r]}):l.jsxs(l.Fragment,{children:["Your role",i&&"s"," ",JQt(o.map(s=>l.jsx("code",{children:s.title},s.name)),l.jsx(l.Fragment,{children:", "}))," ","do",i||"es"," not have permissions to ",r]})})})]})}function JQt(e,t){return e.reduce((n,r)=>n===null?[r]:[...n,t,r],null)}const eJt=I(oo)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return ht(r,e.$width,o=>({width:o==="auto"?"none":pe(n[o]),maxWidth:"100%"}))}),tJt=ne.forwardRef(function(t,n){const{width:r,...o}=t,i=ye(r);return l.jsx(eJt,{...o,"data-ui":"PopoverContainer",$width:i,ref:n})});var Doe=Object.freeze,nJt=Object.defineProperty,fIe=(e,t)=>Doe(nJt(e,"raw",{value:Doe(t||e.slice())})),Ioe,Roe;const rJt=I(nn)(()=>de(Ioe||(Ioe=fIe([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),oJt=I(Ji)(e=>{const t=e.theme.sanity.radius[3];return de(Roe||(Roe=fIe([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),t,t)});function iJt(e){const{children:t,header:n,onClose:r,referenceElement:o,containerRef:i,width:s}=e,a=h.useCallback(()=>{r(),o==null||o.focus()},[r,o]),c=l.jsx(tJt,{width:s,children:l.jsx(od,{autoFocus:!0,children:l.jsxs(te,{ref:i,children:[l.jsx(oJt,{children:l.jsx(M,{padding:2,paddingLeft:3,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(B,{textOverflow:"ellipsis",weight:"semibold",children:n})}),l.jsx(ie,{icon:Ei,mode:"bleed",onClick:a})]})})}),t]})})});return l.jsx(rJt,{portal:!0,constrainSize:!0,content:c,open:!0,referenceElement:o})}var $oe=Object.freeze,sJt=Object.defineProperty,aJt=(e,t)=>$oe(sJt(e,"raw",{value:$oe(t||e.slice())})),Moe;const lJt=I(J)(()=>de(Moe||(Moe=aJt([`
    /* this is a hack to avoid layout jumps while previews are loading
    there's probably better ways of solving this */
    min-height: 35px;

    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),hIe=h.createContext({selected:!1});function cJt(){const e=h.useContext(hIe);if(!e)throw new Error("PreviewCard: missing context value");return e}const Ep=h.forwardRef(function(t,n){const{children:r,selected:o,as:i,...s}=t;return l.jsx(lJt,{"data-ui":"PreviewCard",...s,forwardedAs:i,ref:n,selected:o,children:l.jsx(hIe.Provider,{value:{selected:o},children:r})})}),Ki={block:{width:33,height:33},blockImage:{width:600,height:400},default:{width:35,height:35},detail:{width:75,height:75},inline:{width:15,height:15},media:{width:160,height:160}},uJt={block:31,blockImage:45,default:33,detail:45,inline:15,media:45};var Foe=Object.freeze,dJt=Object.defineProperty,fJt=(e,t)=>Foe(dJt(e,"raw",{value:Foe(t||e.slice())})),Loe;const pIe=I.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:o}=e,i=t.width||0,s=t.width||0,a=uJt[n];return de(Loe||(Loe=fJt([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      display: block;
      flex: 1;
      font-size: calc(21 / 16 * 1em);
    }

    & [data-sanity-icon] {
      display: block;
      font-size: calc(`,` / 16 * 1em);
    }

    /*
      NOTE on why we can’t use the ":after" pseudo-element:
      The thing is we only want the shadow when then <MediaWrapper> contains
      something else than <svg> – icons should not have the shadow.
      This is why we use the "*:not(svg) + span" selector to target only that
      situation to render the shadow.
    */
    & *:not(svg) + span {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.2;
      border-radius: inherit;
    }
  `])),o?"100%":pe(i),o?"100%":pe(s),o?void 0:pe(i),c=>{let{theme:u}=c;return pe(u.sanity.radius[r])},a)});pIe.displayName="MediaWrapper";function Qw(e){const{border:t=!0,dimensions:n,layout:r,media:o,radius:i=1,responsive:s=!1,styles:a}=e;return l.jsxs(pIe,{$dimensions:n,$layout:r,$radius:i,$responsive:s,className:a==null?void 0:a.media,"data-testid":"Media",children:[hJt({dimensions:n,layout:r,media:o}),t&&l.jsx("span",{})]})}function hJt(e){const{dimensions:t,layout:n,media:r,styles:o}=e;return vr.isValidElementType(r)?h.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?l.jsx(B,{as:"span",className:o==null?void 0:o.mediaString,children:r}):h.isValidElement(r)?r:null}function pJt(e,t,n){return vr.isValidElementType(e)?h.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?l.jsx("div",{children:e}):e}function Io(e,t,n){return typeof e=="string"?e:vr.isValidElementType(e)?h.createElement(e,{layout:t}):e||n}var Boe=Object.freeze,mJt=Object.defineProperty,Rz=(e,t)=>Boe(mJt(e,"raw",{value:Boe(t||e.slice())})),Noe,zoe,Voe;const gJt={...Ki.default,aspect:1,fit:"crop",dpr:Cm()},Hoe=I(U)(Noe||(Noe=Rz([`
  height: `,`;
`])),pe(Ki.default.height)),vJt=I(ji).attrs({animated:!0,radius:1})(zoe||(zoe=Rz([`
  max-width: `,`;
  width: 80%;
`])),pe(160)),yJt=I(ji).attrs({animated:!0,radius:1,size:1})(Voe||(Voe=Rz([`
  max-width: `,`;
  width: 60%;
`])),pe(120));function mIe(e){const{title:t,subtitle:n,media:r,status:o,isPlaceholder:i,children:s,styles:a}=e,c=a1t(a==null?void 0:a.root,!!n&&(a==null?void 0:a.hasSubtitle)),u=o&&l.jsx(M,{className:a==null?void 0:a.status,"data-testid":"default-preview__status",paddingLeft:3,paddingRight:1,children:Io(o,"default")});return i?l.jsxs(Hoe,{align:"center",className:a==null?void 0:a.placeholder,"data-testid":"default-preview",children:[r!==!1&&l.jsx(C0,{animated:!0,marginRight:2,radius:2,style:Ki.default}),l.jsxs(te,{"data-testid":"default-preview__heading",flex:1,paddingLeft:r===!1?1:2,paddingRight:o?0:1,space:2,children:[l.jsx(vJt,{}),l.jsx(yJt,{})]}),u]}):l.jsxs(Hoe,{align:"center",className:c,"data-testid":"default-preview",children:[r!==!1&&r!==void 0&&l.jsx(Qw,{dimensions:gJt,layout:"default",media:r,styles:a}),l.jsxs(te,{className:a==null?void 0:a.heading,"data-testid":"default-preview__header",flex:1,paddingLeft:r?2:1,paddingRight:o?0:1,space:2,children:[l.jsxs(B,{className:a==null?void 0:a.title,style:{color:"inherit"},textOverflow:"ellipsis",children:[t&&Io(t,"default"),!t&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})]}),n&&l.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",className:a==null?void 0:a.subtitle,children:Io(n,"default")}),s&&l.jsx("div",{className:a==null?void 0:a.children,children:s})]}),u]})}var Uoe=Object.freeze,bJt=Object.defineProperty,Pm=(e,t)=>Uoe(bJt(e,"raw",{value:Uoe(t||e.slice())})),Woe,Yoe,qoe,Goe,Koe,Zoe,Xoe;const Qoe=I(U).attrs({align:"center"})(Woe||(Woe=Pm([`
  height: `,`;
`])),pe(Ki.detail.height)),xJt=I(M)(Yoe||(Yoe=Pm([`
  white-space: nowrap;
`]))),wJt=I(C0).attrs({animated:!0,radius:2})(qoe||(qoe=Pm([`
  width: `,`;
  height: `,`;
`])),pe(Ki.detail.width),pe(Ki.detail.height)),_Jt=I(ji).attrs({animated:!0,radius:1})(Goe||(Goe=Pm([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),pe(160)),CJt=I(ji).attrs({animated:!0,radius:1,size:1})(Koe||(Koe=Pm([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),pe(120)),SJt=I(ji).attrs({animated:!0,radius:1,size:1})(Zoe||(Zoe=Pm([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),pe(180)),EJt=I(B)(e=>{let{theme:t}=e;const{fonts:n}=t.sanity,r=n.text.sizes[1],o=2,i=r.lineHeight*o;return de(Xoe||(Xoe=Pm([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),pe(i),o)}),kJt={...Ki.detail,fit:"crop",aspect:1,dpr:Cm()};function jJt(e){const{title:t,subtitle:n,description:r,mediaDimensions:o=kJt,media:i,status:s,children:a,isPlaceholder:c}=e,u=s&&l.jsx(xJt,{marginLeft:3,paddingRight:1,children:Io(s,"detail")});return c?l.jsxs(Qoe,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(wJt,{"data-testid":"detail-preview__media"}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(U,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(te,{flex:1,space:2,children:[l.jsx(_Jt,{}),l.jsx(CJt,{})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(SJt,{})})]})]}):l.jsxs(Qoe,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(Qw,{dimensions:o,layout:"detail",media:i}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(U,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(te,{flex:1,space:2,children:[l.jsxs(B,{textOverflow:"ellipsis",style:{color:"inherit"},children:[t&&Io(t,"detail"),!t&&l.jsx(l.Fragment,{children:"Untitled"})]}),n&&l.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:Io(n,"detail")})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(EJt,{muted:!0,size:1,children:Io(r,"detail")})})]}),a]})}var Joe=Object.freeze,TJt=Object.defineProperty,$z=(e,t)=>Joe(TJt(e,"raw",{value:Joe(t||e.slice())})),eie,tie,nie;const rl=43,Mz=3,AJt=I.svg(eie||(eie=$z([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),rl,rl),OJt=I.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(tie||(tie=$z([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),fe.gray[n.dark?900:100].hex,Mz)}),PJt=I.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(nie||(nie=$z([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),fe.blue[n.dark?400:500].hex,Mz)});function DJt(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=rl/2-Mz/2,o=2*Math.PI*r,i=(100-n)/100*o,s="".concat(rl/2," ").concat(rl/2," ").concat(rl," ").concat(rl);return l.jsxs(AJt,{viewBox:s,children:[l.jsx(OJt,{cx:rl,cy:rl,r}),l.jsx(PJt,{cx:rl,cy:rl,r,style:{strokeDasharray:o,strokeDashoffset:"".concat(i,"px")}})]})}var rie=Object.freeze,IJt=Object.defineProperty,gIe=(e,t)=>rie(IJt(e,"raw",{value:rie(t||e.slice())})),oie,iie;const RJt=.5,$Jt=I(J)(oie||(oie=gIe([`
  overflow: hidden;
  overflow: clip;
`]))),MJt=I(J)(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(iie||(iie=gIe([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),RJt,fe.blue[n.dark?400:500].hex)});function FJt(e){const{value:t}=e;return l.jsx($Jt,{radius:5,children:l.jsx(MJt,{radius:5,style:{transform:"translate3d(".concat(t-100,"%, 0, 0)")}})})}var sie=Object.freeze,LJt=Object.defineProperty,Jw=(e,t)=>sie(LJt(e,"raw",{value:sie(t||e.slice())})),aie,lie,cie,uie,die;const BJt=I(M)(aie||(aie=Jw([`
  position: relative;
`]))),NJt=I(U).attrs({align:"center",justify:"center"})(lie||(lie=Jw([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),zJt=I(C0).attrs({animated:!0,radius:2})(cie||(cie=Jw([`
  width: 100%;
  height: 100%;
`]))),VJt=I(U).attrs({align:"center",justify:"center"})(uie||(uie=Jw([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),HJt=I(te).attrs({padding:2,space:2})(die||(die=Jw([`
  max-width: `,`;
`])),pe(200)),UJt={...Ki.media,aspect:1,fit:"crop",dpr:Cm()};function WJt(e){const{media:t,mediaDimensions:n=UJt,children:r,isPlaceholder:o,progress:i=-1,subtitle:s,title:a,withBorder:c=!0,withRadius:u=!0}=e,d=n.aspect||1,f=h.useMemo(()=>({paddingBottom:"".concat(100/d,"%")}),[d]),p=h.useMemo(()=>!a||!s?null:l.jsxs(HJt,{children:[a&&l.jsx(B,{align:"center",size:1,weight:"semibold",children:Io(a,"media")}),s&&l.jsx(B,{align:"center",muted:!0,size:1,children:Io(s,"media")})]}),[s,a]);return l.jsxs(BJt,{"data-testid":"media-preview",overflow:"hidden",flex:1,children:[l.jsx("div",{style:f}),l.jsx(st,{content:p,disabled:!p,placement:"top",portal:!0,children:l.jsxs(NJt,{children:[o?l.jsx(zJt,{}):l.jsx(Qw,{border:c,dimensions:n,layout:"media",media:t,radius:u?1:0,responsive:!0}),typeof i=="number"&&i>-1&&l.jsx(VJt,{children:l.jsx(DJt,{value:i})})]})}),r]})}var fie=Object.freeze,YJt=Object.defineProperty,Fz=(e,t)=>fie(YJt(e,"raw",{value:fie(t||e.slice())})),hie,pie,mie;const qJt=I(U).attrs({align:"center"})(hie||(hie=Fz([`
  box-shadow: 0 0 0 1px var(--card-border-color);
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),pe(Ki.block.height)),GJt=I(J)(pie||(pie=Fz([`
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),e=>{let{$ratio:t}=e;return t}),KJt=I(M).attrs({overflow:"hidden"})(mie||(mie=Fz([`
  border-radius: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.radius[1]}),ZJt={...Ki.blockImage,fit:"fillmax",dpr:Cm()},XJt=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function QJt(e){const{actions:t,title:n,subtitle:r,description:o,fallbackTitle:i="Untitled",mediaDimensions:s=ZJt,media:a,children:c,status:u}=e;return l.jsxs(KJt,{children:[l.jsxs(te,{children:[l.jsxs(qJt,{paddingLeft:2,paddingRight:1,paddingY:1,children:[l.jsxs(te,{flex:1,space:2,children:[(n||i)&&l.jsx(B,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Io(n,"block"):i}),r&&l.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:Io(r,"block")})]}),l.jsxs(U,{gap:1,paddingLeft:1,children:[u&&l.jsx(M,{paddingX:2,paddingY:3,children:Io(u,"block")}),t]})]}),l.jsx(GJt,{$ratio:XJt(s),__unstable_checkered:!0,display:"flex",sizing:"border",tone:"inherit",children:l.jsx(Qw,{border:!1,dimensions:s,layout:"blockImage",media:a,radius:0,responsive:!0})})]}),o&&l.jsx(M,{paddingX:2,paddingY:3,children:l.jsx(B,{muted:!0,size:1,children:Io(o,"block")})}),c&&l.jsx("div",{children:c})]})}var gie=Object.freeze,JJt=Object.defineProperty,een=(e,t)=>gie(JJt(e,"raw",{value:gie(t||e.slice())})),vie;const ten={...Ki.block,aspect:1,fit:"crop",dpr:Cm()},nen=I(U).attrs({align:"center"})(vie||(vie=een([`
  min-height: `,`;
`])),pe(Ki.block.height));function ren(e){const{actions:t,title:n,subtitle:r,description:o,mediaDimensions:i=ten,media:s,status:a,children:c}=e;return l.jsxs(te,{"data-testid":"block-preview",space:1,children:[l.jsxs(nen,{"data-testid":"block-preview__header",children:[s&&l.jsx(Qw,{dimensions:i,layout:"block",media:s}),l.jsxs(M,{flex:1,paddingLeft:s?2:1,children:[l.jsx(B,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Io(n,"block"):"Untitled"}),r&&l.jsx(M,{marginTop:2,children:l.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:Io(r,"block")})}),o&&l.jsx(M,{marginTop:3,children:l.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:Io(o,"block")})})]}),l.jsxs(U,{gap:1,paddingLeft:1,children:[a&&l.jsx(M,{paddingX:2,paddingY:3,children:Io(a,"block")}),t]})]}),c&&l.jsx("div",{"data-testid":"block-preview__children",children:c})]})}var yie=Object.freeze,oen=Object.defineProperty,Lz=(e,t)=>yie(oen(e,"raw",{value:yie(t||e.slice())})),bie,xie,wie;const ien=I.span(bie||(bie=Lz([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),sen=I.span(xie||(xie=Lz([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),e=>{let{theme:t}=e;return pe(t.sanity.radius[1])},e=>{let{theme:t}=e;return pe(t.sanity.radius[1])}),aen=I(B).attrs({forwardedAs:"span"})(e=>{let{theme:t}=e;const n=t.sanity.fonts.text,r=n.sizes[1];return de(wie||(wie=Lz([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),len={...Ki.inline,fit:"crop",aspect:1,dpr:Cm()};function cen(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:o=len}=e;return l.jsxs(ien,{"data-testid":"inline-preview",children:[r&&l.jsxs(sen,{"data-testid":"inline-preview-media",children:[pJt(r,"inline",o),l.jsx("span",{})]}),l.jsx(aen,{"data-testid":"inline-preview-title",size:1,children:Io(t,"inline",n)})]})}var _ie=Object.freeze,uen=Object.defineProperty,EO=(e,t)=>_ie(uen(e,"raw",{value:_ie(t||e.slice())})),Cie,Sie,Eie,kie;({...Ki.default,dpr:Cm()});I(M)(Cie||(Cie=EO([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));I(U).attrs({align:"center"})(Sie||(Sie=EO([`
  height: `,`;
`])),pe(Ki.default.height));I(ji).attrs({animated:!0,radius:1})(Eie||(Eie=EO([`
  max-width: `,`;
  width: 80%;
`])),pe(160));I(ji).attrs({animated:!0,radius:1,size:1})(kie||(kie=EO([`
  max-width: `,`;
  width: 60%;
`])),pe(120));const den=["aria-hidden","disabled","href"],fen='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function hen(e){return[...e.querySelectorAll(fen)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function vIe(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:o=["arrows"],pause:i=!1,rootElement:s}=e,[a,c]=h.useState(-1),[u,d]=h.useState([]),f=u.length,p=f-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",v=t==="horizontal"?"ArrowLeft":"ArrowUp",g=h.useCallback(()=>{if(s){const y=hen(s);d(y)}},[s]),b=h.useCallback(y=>{c(y)},[]),x=h.useCallback(y=>{if(i)return;const w=()=>{y.preventDefault(),c(C=>{const S=(C+p)%f;return!r&&S===p?C:S})},_=()=>{y.preventDefault(),c(C=>{const S=(C+1)%f;return!r&&S===0?C:S})};y.key==="Tab"&&o.includes("tab")&&(y.shiftKey?w():_()),o.includes("arrows")&&(y.key===v&&w(),y.key===m&&_())},[i,v,o,m,p,f,r]);h.useEffect(()=>{g()},[g,n,t]),h.useEffect(()=>{const y=new MutationObserver(g);return s&&y.observe(s,{childList:!0,subtree:!0,attributeFilter:den}),()=>{y.disconnect()}},[u,g,s]),h.useEffect(()=>{var y;u.forEach((w,_)=>{_===a?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>b(_),w.onblur=()=>b(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>b(_))}),a===-1&&u&&((y=u[n==="last"?p:0])==null||y.setAttribute("tabIndex","0"))},[u,a,b,n,p]),h.useEffect(()=>(s==null||s.addEventListener("keydown",x),()=>{s==null||s.removeEventListener("keydown",x)}),[x,s])}const pen=I(M)({position:"relative"}),men=I.div({position:"absolute",top:-4,right:-4,width:6,height:6,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),ih=h.forwardRef(function(t,n){const{disabled:r,fontSize:o,hotkey:i,icon:s,label:a,mode:c="bleed",space:u=3,text:d,tone:f,tooltip:p,...m}=t,v=Ts(),g=f&&v.sanity.color.solid[f],b=h.useMemo(()=>({backgroundColor:g==null?void 0:g.enabled.bg}),[g]),x=!!r,y=typeof r=="object"?l.jsx(B,{size:1,children:r.reason}):l.jsxs(U,{align:"center",gap:2,style:{lineHeight:0},children:[l.jsx(B,{size:1,children:a}),i&&l.jsx(Iz,{fontSize:0,keys:i,style:{margin:-4}})]});return l.jsx(st,{padding:2,placement:"bottom",...p,content:y,disabled:!a,portal:!0,children:l.jsx("div",{children:l.jsx(ie,{"data-ui":"StatusButton",...m,"aria-label":a,disabled:x,mode:c,ref:n,children:l.jsxs(U,{gap:u,children:[l.jsxs(pen,{children:[l.jsxs(B,{size:o,children:[h.isValidElement(s)&&s,vr.isValidElementType(s)&&h.createElement(s)]}),f&&l.jsx(men,{style:b})]}),d&&l.jsx(M,{flex:1,children:l.jsx(B,{size:o,children:d})})]})})})})});var jie=Object.freeze,gen=Object.defineProperty,ven=(e,t)=>jie(gen(e,"raw",{value:jie(t||e.slice())})),Tie;const yen=I(B)(e=>{let{$tone:t,theme:n}=e;const r=n.sanity.color.muted[t];return de(Tie||(Tie=ven([`
    &:not([data-muted]) {
      --card-fg-color: `,`;
    }

    &[data-dimmed] {
      opacity: 0.3;
    }
  `])),r?r.enabled.fg:void 0)}),tr=ne.forwardRef(function(t,n){const{tone:r,dimmed:o,muted:i,...s}=t;return l.jsx(yen,{"data-ui":"TextWithTone","data-dimmed":o?"":void 0,"data-muted":i?"":void 0,$tone:r,muted:i,ref:n,...s})}),e_=h.forwardRef(function(t,n){const{children:r,content:o,disabled:i,...s}=t;return l.jsx(st,{...s,content:o,disabled:i||!o,padding:2,ref:n,children:l.jsx("div",{children:r})})}),Bz=h.forwardRef((e,t)=>{const{push:n}=Bo();return h.useImperativeHandle(t,()=>({push:n})),null});Bz.displayName="ImperativeToast";const ben={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},xen=h.createContext(ben);function yIe(){return h.useContext(xen)}function Uu(e){let{children:t,zOffset:n}=e;const o=yIe()[n];return l.jsx(Ru,{zOffset:o,children:t})}function wen(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=t.get(u);if(d)return d;const f=n();return t.set(u,f),f}function o(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort((d,f)=>{let[p]=d,[m]=f;return p.localeCompare(m,"en")}).map(d=>{let[,f]=d;return f})}function i(u,d){if(!u.length)return;const[f,...p]=u,m=d.get(f);if(m)return p.length?i(p,m.next):m.value}function s(u,d,f){if(!u.length)return;const[p,...m]=u,v=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,v),!m.length){v.value=f;return}s(m,v.next,f)}function a(u){return i(o(u),e)}function c(u,d){s(o(u),e,d)}return{get:a,set:c}}const bIe=h.createContext(null);function _en(e){let{children:t}=e;const n=h.useMemo(()=>{const r=new Map,o={};return{get:i=>{let{namespace:s,dependencies:a}=i;const c=a.map(d=>d===null?o:d),u=r.get(s);return u==null?void 0:u.get(c)},set:i=>{let{namespace:s,dependencies:a,value:c}=i;const u=r.get(s)||wen(),d=a.map(f=>f===null?o:f);r.set(s,u),u.set(d,c)}}},[]);return l.jsx(bIe.Provider,{value:n,children:t})}function fd(){const e=h.useContext(bIe);if(!e)throw new Error("Could not find `cache` context");return e}class Nz extends Error{constructor(t){let{projectId:n}=t;super("CorsOriginError"),this.projectId=n}}const zz=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),Vz={};function xIe(e,t){zz?localStorage[e]=t:Vz[e]=t}function Cen(e){return zz?localStorage[e]:Vz[e]}function wIe(e){zz?localStorage.removeItem(e):delete Vz[e]}function Sen(e){const t=typeof window>"u"?ve():Ti(window,"storage"),n="__studio_local_storage_messaging_".concat(e),r=new gr,o=Qt(r,t.pipe(dt(s=>s.key===n),le(s=>s.newValue),dt(lo),le(s=>JSON.parse(s)))).pipe(_o(1));function i(s){try{xIe(n,JSON.stringify(s)),wIe(n),r.next(s)}catch{}}return{messages:o,broadcast:i}}const Aie=/sid=([^&]{20,})&?/;function Een(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(Aie)||[];if(!t)return null;const n=e.replace(Aie,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let Oie=Een();const ken=()=>{const e=Oie;return e&&(Oie=null),e};var Pie=Object.freeze,jen=Object.defineProperty,_Ie=(e,t)=>Pie(jen(e,"raw",{value:Pie(t||e.slice())})),Die,Iie;const Ten=I.svg(e=>{let{theme:t}=e;const{fg:n}=t.sanity.color.base;return de(Die||(Die=_Ie([`
    fill: `,`;
  `])),n)}),Aen=I.img(Iie||(Iie=_Ie([`
  height: 19px;
  width: 19px;
  object-fit: contain;
`]))),Oen=()=>l.jsx(Ten,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:l.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),Pen=()=>l.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[l.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),l.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),l.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),l.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function Den(e){const{provider:t}=e;return t.logo?l.jsx(Aen,{src:t.logo,alt:"Logo for ".concat(t.name)}):void 0}const Ien={google:Pen,github:Oen};async function Ren(e){let{client:t,mode:n,providers:r=[]}=e;if(n==="replace"&&Array.isArray(r))return r;const{providers:o}=await t.request({uri:"/auth/providers"});return typeof r=="function"?r(o):r.length===0?o:n==="replace"?r:o.filter(i=>r.some(s=>s.url!==i.url)).concat(r)}function Rie(e){let{loginMethod:t="dual",projectId:n,url:r,basePath:o}=e;const i=new URLSearchParams;return i.set("origin","".concat(window.location.origin).concat(o)),i.set("projectId",n),t==="token"?i.set("withSid","true"):i.set("type",t),"".concat(r,"?").concat(i)}function $en(e){let{getClient:t,loginMethod:n,redirectOnSingle:r,...o}=e;const i=rh(t);function s(a){let{projectId:c,basePath:u}=a;const[d,f]=h.useState(null),[p,m]=h.useState(null);if(p)throw p;const[v]=i();h.useEffect(()=>{v&&Ren({client:v,...o}).then(f).catch(m)},[v]);const g=r&&(d==null?void 0:d.length)===1&&(d==null?void 0:d[0])&&Rie({loginMethod:n,projectId:c,url:d[0].url,basePath:u}),b=!d||g;return h.useEffect(()=>{g&&(window.location.href=g)},[g]),b?l.jsxs(U,{align:"center",direction:"column",gap:4,justify:"center",padding:6,sizing:"border",children:[l.jsx(B,{muted:!0,children:"Loading…"}),l.jsx(ir,{muted:!0})]}):l.jsxs(te,{space:4,children:[l.jsx(Lo,{align:"center",size:1,children:"Choose login provider"}),l.jsx(te,{space:2,children:d.map((x,y)=>l.jsx(ie,{as:"a",icon:Ien[x.name]||l.jsx(Den,{provider:x}),href:Rie({loginMethod:n,projectId:c,url:x.url,basePath:u}),mode:"ghost",text:x.title},"".concat(x.url,"_").concat(y)))})]})}return s}const Hz=e=>{if(!e)throw new Error("Invalid project id");return"__studio_auth_token_".concat(e)},$ie=e=>{try{const t=Cen(Hz(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},CIe=e=>{try{wIe(Hz(e))}catch(t){console.error(t)}},Men=e=>{let{token:t,projectId:n}=e;try{xIe(Hz(n),JSON.stringify({token:t,time:new Date().toISOString()}))}catch(r){console.error(r)}},Mie=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return CIe(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new Nz({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(i))}throw r}};function Fen(e){let{clientFactory:t,projectId:n,dataset:r,apiHost:o,loginMethod:i="dual",...s}=e;const{broadcast:a,messages:c}=Sen("dual_mode_auth_".concat(n)),u=t??Qke,d=c.pipe(ei(i==="dual"?$ie(n):null)),f={};o&&(f.apiHost=o);const p=d.pipe(le(x=>u({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...f})),nt(x=>io(async()=>{const y=await Mie(x,a);return{currentUser:y,client:x,authenticated:!!y}})),Wn((x,y)=>zt(x.currentUser,y.currentUser)),_o(1));async function m(){const x=ken();if(!x){a(i==="cookie"?null:$ie(n));return}const y=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});let w;if((i==="dual"||i==="cookie")&&(w=await Mie(y,a)),w||i==="cookie"){a(null);return}const _=await v(y,x);a(_??null)}async function v(x,y){const{token:w}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:y},tag:"auth.fetch-token"});return Men({token:w,projectId:n}),w}async function g(){const x=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});CIe(n),await x.request({uri:"/auth/logout",method:"POST"}),a(null)}const b=$en({...s,getClient:()=>p.pipe(le(x=>x.client)),loginMethod:i});return{handleCallbackUrl:m,token:d,state:p,LoginComponent:b,logout:g}}function SIe(e){return typeof e!="object"||e===null?"".concat(e):JSON.stringify(Object.fromEntries(Object.entries(e).sort((t,n)=>{let[r]=t,[o]=n;return r.localeCompare(o,"en")}).map(t=>{let[n,r]=t;return[n,SIe(r)]})))}const Len=xA(Fen,SIe);function Ben(e){return bt(e)&&"state"in e&&bt(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function EIe(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function Nen(e){return t=>{let n=[];const r=jn((o,i)=>(n.push(o),e(o,n.length,i).pipe(r)));return t.pipe(mn(()=>{n=[]}),r)}}const Fie=typeof window>"u"?ve({}):Ti(window,"online"),zen=typeof window>"u"?ve({}):Ti(window,"offline"),Ven=e=>Math.pow(2,e)*100,Hen={type:"connecting"},kIe=DEe(),Uen=kIe[0];kIe[1];const Wen=e=>{let{error:t,isOffline:n,attemptNo:r,retryAt:o}=e;return{type:"error",error:t,attemptNo:r,isOffline:n,retryAt:o}};function Yen(e){let{bifur:t}=e;return{connectionStatus$:Qt(t.heartbeats,zen.pipe(Vp($u(new Error("The browser went offline"))))).pipe(le(r=>({type:"connected",lastHeartbeat:r})),Nen((r,o,i)=>{const s=Math.min(24e4,Ven(o)),a=new Date(new Date().getTime()+s),c=Mo(a),u=!navigator.onLine,d=Wen({error:r,retryAt:a,isOffline:u,attemptNo:o}),f=m7.pipe(b7(u?Fie:Qt(c,Fie,Uen)));return Fr(ve(d),f.pipe(_i(1)),i)}),ei(Hen))}}const qen=Qbe(e=>{let{theme:t}=e;const{color:n,fonts:r}=t.sanity;return{html:{backgroundColor:n.base.bg},"#sanity":{fontFamily:r.text.family}}});function Lie(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(jA);if(t.length)throw new Error(`Invalid plugin configuration:
`.concat(t.map(n=>"	".concat(n)).join(`
`)))}function Uz(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return Lie(r),r}}return Lie(e),()=>e}const Gen=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_fieldActions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof o))},Ken=[];const mf=class jIe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.message=t,this.paths=n.paths||[],this.children=n.children,this.operation=n.operation}cloneWithMessage(t){return new jIe(t,{paths:this.paths,children:this.children,operation:this.operation})}};function Zen(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function Wz(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(wl(n))return"".concat(t,'[_key=="').concat(n._key,'"]');throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function Xen(e){return e!==null||e!==void 0}function Cb(e,t,n){var r;if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(i=>Cb(i,t,n)).filter(Xen);if(typeof e=="string")return Cb(new mf(e),t,n);if(!(e instanceof mf)){if(typeof(e==null?void 0:e.message)!="string")throw new Error("".concat(Wz(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));return Cb(new mf(e.message,e),t,n)}const o=[];return(r=e.paths)!=null&&r.length?o.concat(e.paths.map(i=>({path:(n.path||[]).concat(i),level:t||"error",item:e}))):[{level:t||"error",item:e,path:n.path||[]}]}const Qen={}.toString,Bie=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function Jen(e){for(let t=0;t<Bie.length;t++)if(Bie[t]===e)return!0;return!1}function TIe(e){const t=Qen.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!Jen(n)?n.name:t}function Rx(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Rx(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!=="_key"&&!Rx(e[o],t[o]))return!1}return!0}return!1}const Nie=5e3,zie=e=>{var t;let n;return e.message?n=e.message:e.results.length===1?n=(t=e.results[0])==null?void 0:t.item.message:n="[".concat(e.results.map(r=>r.item.message).join(" - ".concat(e.operation," - ")),"]"),new mf(n,{children:e.results.length>1?e.results:void 0,operation:e.operation})},Dm={type:(e,t,n)=>{const r=TIe(t);return r!==e&&r!=="undefined"?n||'Expected type "'.concat(e,'", got "').concat(r,'"'):!0},presence:(e,t,n)=>t===void 0&&e==="required"?n||"Value is required":!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length?zie({message:n,results:i,operation:"AND"}):!0},either:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length<e.length?!0:zie({message:n,results:i,operation:"OR"})},valid:(e,t,n)=>{const r=typeof t;if(r==="undefined")return!0;const o=(r==="number"||r==="string")&&"".concat(t),i=o&&o.length>30?"".concat(o.slice(0,30),"…"):o,s=o?'Value "'.concat(i,'" did not match any allowed values'):"Value did not match any allowed values";return e.some(a=>Rx(a,t))?!0:n||s},custom:async(e,t,n,r)=>{const o=setTimeout(()=>{console.warn("Custom validator at ".concat(Wz(r.path)," has taken more than ").concat(Nie,"ms to respond"))},Nie);let i;try{i=await e(t,r)}finally{clearTimeout(o)}return typeof i=="string"&&n||i}},etn={...Dm,presence:(e,t,n)=>e==="required"&&typeof t!="boolean"?n||"Required":!0},ttn=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,ntn={...Dm,integer:(e,t,n)=>Number.isInteger(t)?!0:n||"Must be an integer",precision:(e,t,n)=>{if(t===void 0)return!0;const r=t.toString().match(ttn);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)>e?n||"Max precision is ".concat(e):!0},min:(e,t,n)=>t>=e?!0:n||"Must be greater than or equal ".concat(e),max:(e,t,n)=>t<=e?!0:n||"Must be less than or equal ".concat(e),greaterThan:(e,t,n)=>t>e?!0:n||"Must be greater than ".concat(e),lessThan:(e,t,n)=>t<e?!0:n||"Must be less than ".concat(e)},I3="http://sanity",rtn=e=>/^\.*\//.test(e),otn=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,itn={...Dm,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must be at least ".concat(e," characters long"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must be at most ".concat(e," characters long"),length:(e,t,n)=>(t||"").length===e?!0:n||"Must be exactly ".concat(e," characters long"),uri:(e,t,n)=>{const r=t||"",{options:o}=e,{allowCredentials:i,relativeOnly:s}=o,a=o.allowRelative||s;let c;try{c=a?new URL(r,I3):new URL(r)}catch{return n||"Not a valid URL"}if(s&&c.origin!==I3)return n||"Only relative URLs are allowed";if(!a&&c.origin===I3&&rtn(r))return n||"Relative URLs are not allowed";if(!i&&(c.username||c.password))return n||"Username/password not allowed";const u=c.protocol.replace(/:$/,"");return o.scheme.some(f=>f.test(u))?!0:n||"Does not match allowed protocols/schemes"},stringCasing:(e,t,n)=>{const r=t||"";return e==="uppercase"&&r!==r.toLocaleUpperCase()?n||"Must be all uppercase letters":e==="lowercase"&&r!==r.toLocaleLowerCase()?n||"Must be all lowercase letters":!0},presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,regex:(e,t,n)=>{const{pattern:r,name:o,invert:i}=e,s=o||'"'.concat(r.toString(),'"'),a=t||"";r.lastIndex=0;const c=r.test(a);if(!i&&!c||i&&c){const u=i?"Should not match ".concat(s,"-pattern"):"Does not match ".concat(s,"-pattern");return n||u}return!0},email:(e,t,n)=>{const r="".concat(t||"").trim();return!r||otn.test(r)?!0:n||"Must be a valid email address"}},stn={...Dm,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must have at least ".concat(e," items"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must have at most ".concat(e," items"),length:(e,t,n)=>!t||t.length===e?!0:n||"Must have exactly ".concat(e," items"),presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,valid:(e,t,n)=>{if(typeof t==="undefined")return!0;const o=[];for(let i=0;i<t.length;i++){const s=t[i];if(e.some(c=>Rx(c,s)))continue;const a=s&&s._key?{_key:s._key}:i;o.push([a])}return o.length===0?!0:new mf(n||"Value did not match any allowed values",{paths:o})},unique:(e,t,n)=>{const r=[];if(!t)return!0;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const a=t[i],c=t[s];Rx(a,c)&&(r.indexOf(i)===-1&&r.push(i),r.indexOf(s)===-1&&r.push(s))}const o=r.map(i=>{const s=t[i];return[s&&s._key?{_key:s._key}:i]});return r.length>0?new mf(n||"Can't be a duplicate",{paths:o}):!0}},atn=["_key","_type","_weak"],ltn={...Dm,presence:(e,t,n)=>{if(e!=="required")return!0;const r=t&&Object.keys(t).filter(o=>!atn.includes(o));return t===void 0||r&&r.length===0?n||"Required":!0},reference:async(e,t,n,r)=>{if(!t)return!0;if(!Zu(t))return n||"Must be a reference to a document";const{type:o,getDocumentExists:i}=r;if(!o)throw new Error("`type` was not provided in validation context");if("weak"in o&&o.weak)return!0;if(!i)throw new Error("`getDocumentExists` was not provided in validation context");return await i({id:t._ref})?!0:"This reference must be published"},assetRequired:(e,t,n)=>{if(!t||!t.asset||!t.asset._ref){const r=e.assetType||"Asset";return n||"".concat(r," required")}return!0}};function Vie(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const ctn=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,Hie=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="yyyy-MM-dd";return n&&n.dateFormat&&(r=n.dateFormat),e==="date"?Ko(new Date(t),r):(n&&n.timeFormat?r+=" ".concat(n.timeFormat):r+=" HH:mm",Ko(new Date(t),r))};function QC(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error('Unable to parse "'.concat(e,'" to a date'));return r?null:n}const utn={...Dm,type:(e,t,n)=>!"".concat(t)||ctn.test(t)?!0:n||"Must be a valid ISO-8601 formatted date string",min:(e,t,n,r)=>{const o=QC(t);if(!o||!t||o>=QC(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=Vie(r.type.options)?r.type.options:{},s=Hie(r.type.name,e,i);return n||"Must be at or after ".concat(s)},max:(e,t,n,r)=>{const o=QC(t);if(!o||!t||o<=QC(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=Vie(r.type.options)?r.type.options:{},s=Hie(r.type.name,e,i);return n||"Must be at or before ".concat(s)}};var ho;const dtn={Boolean:etn,Number:ntn,String:itn,Array:stn,Object:ltn,Date:utn},AIe=e=>e&&e.type?AIe(e.type):e,ftn=e=>typeof e!="object"||!e?!1:e.type===S6.FIELD_REF,htn=[],Uie=Symbol("FIELD_REF"),ptn=["Array","Boolean","Date","Number","Object","String"],S6=(ho=class{constructor(e){this._type=void 0,this._level=void 0,this._required=void 0,this._typeDef=void 0,this._message=void 0,this._rules=[],this._fieldRules=void 0,this.valueOfField=ho.valueOfField.bind(ho),this._typeDef=e,this.reset()}_mergeRequired(e){if(this._required==="required"||e._required==="required")return"required";if(this._required==="optional"||e._required==="optional")return"optional"}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>e.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const e=new ho;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=Cjt(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach(r=>{r.flag==="type"&&(t._type=r.constraint),n.add(r.flag)}),t._rules=t._rules.filter(r=>{const o=["type","uri","email"].includes(r.flag),i=n.has(r.flag);return!(o&&i)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level=this._level==="error"?e._level:this._level,t}type(e){const t="".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1));if(!ptn.includes(t))throw new Error('Unknown type "'.concat(e,'"'));const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e){return this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,o;const i=typeof t=="string"?t:(r=t==null?void 0:t.name)!=null?r:n==null?void 0:n.name,s=typeof t=="string"?!1:(o=t==null?void 0:t.invert)!=null?o:n==null?void 0:n.invert,a={pattern:e,name:i,invert:s||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=(e==null?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp("^".concat(Zen(o),"$")):o}),allowRelative:(e==null?void 0:e.allowRelative)||!1,relativeOnly:(e==null?void 0:e.relativeOnly)||!1,allowCredentials:(e==null?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=AIe(this._typeDef);let t;return e&&["image","file"].includes(e.name)?t=e.name==="image"?"Image":"File":t="Asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,t){if(!t)throw new Error("missing context");const n=e==null;if(n&&this._required==="optional")return htn;const r=this._required===void 0&&n?this._rules.filter(s=>s.flag==="custom"):this._rules,o=this._type&&dtn[this._type]||Dm;return(await Promise.all(r.map(async s=>{if(s.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const a=o[s.flag];if(!a){const d=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(s.flag,'" not found for ').concat(d))}let c="constraint"in s?s.constraint:null;ftn(c)&&(c=Fn(t.parent,c.path));let u;try{u=await a(c,e,this._message,t)}catch(d){const f=new mf("".concat(Wz(t.path),": Exception occurred while validating value: ").concat(d.message));return Cb(f,"error",t)}return Cb(u,this._level,t)}))).flat()}},ho.FIELD_REF=Uie,ho.array=e=>new ho(e).type("Array"),ho.object=e=>new ho(e).type("Object"),ho.string=e=>new ho(e).type("String"),ho.number=e=>new ho(e).type("Number"),ho.boolean=e=>new ho(e).type("Boolean"),ho.dateTime=e=>new ho(e).type("Date"),ho.valueOfField=e=>({type:Uie,path:e}),ho),mtn=function(t,n){const r=Date.now();return window.setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-r)}})},0)},gtn=function(t){return window.clearTimeout(t)},Ej=typeof window>"u"?void 0:window,vtn=(Ej==null?void 0:Ej.requestIdleCallback)||mtn,ytn=(Ej==null?void 0:Ej.cancelIdleCallback)||gtn,btn=xA(wtn);function xtn(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:"drafts.".concat(e)}}function Wie(e){return e.reduce((t,n,r)=>{const o=typeof n=="number",i=wl(n),s=r===0?"":".",a=o||i?"[]":"".concat(s).concat(n);return"".concat(t).concat(a)},"")}const Yie=(e,t)=>{const{getClient:n,document:r,path:o,type:i}=t,s=i==null?void 0:i.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!o)throw new Error("`path` was not provided in validation context.");const a=(s==null?void 0:s.disableArrayWarning)||!1,{published:c,draft:u}=xtn(r._id),d=r._type,f=Wie(o.concat("current"));!a&&f.includes("[]")&&btn(Wie(o));const p=["_type == $docType","!(_id in [$draft, $published])","".concat(f," == $slug")].join(" && ");return n({apiVersion:"2022-09-09"}).fetch("!defined(*[".concat(p,"][0]._id)"),{docType:d,draft:u,published:c,slug:e},{tag:"validation.slug-is-unique"})};function wtn(e){console.warn(["Slug field at path ".concat(e," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const _tn=async(e,t)=>{var n;if(!e)return!0;if(typeof e!="object")return"Slug must be an object";const r=e.current;if(!r)return"Slug must have a value";const o=(n=t==null?void 0:t.type)==null?void 0:n.options,i=(o==null?void 0:o.isUnique)||Yie,s={...t,parent:t.parent,type:t.type,defaultIsUnique:Yie};return await i(r,s)?!0:"Slug is already in use"},Ctn={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},Stn=e=>e in Ctn;function OIe(e,t){return e?t.has(e)?[]:(t.add(e),[...e.type?OIe(e.type,t):[],e]):[]}function Etn(e,t){let n=e;Stn(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(o=>ktn(o,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(_tn):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function PIe(e){return e?!("fields"in e)&&e.type?PIe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function ktn(e,t){return t.jsonType==="object"&&PIe(t)||e.value===void 0?e:e.value}function $x(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>$x({...e,validation:r}));if(t instanceof S6)return[t];const n=Object.values(OIe(e,new Set).reduce((r,o)=>(r[o.name]=o,r),{})).reduce(Etn,new S6(e));return t?$x({...e,validation:t(n)}):[n]}const qie=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),jtn=e=>e!=null;function Ttn(e,t){if(t.length===1)return t[0];const n=FL(e)&&e._type,r=e==null||!n&&TIe(e).toLowerCase();return r&&r!=="object"?t.find(o=>o.jsonType===r):t.find(o=>{var i;return((i=o.type)==null?void 0:i.name)===n})||t.find(o=>o.name===n)||t.find(o=>o.name==="object"&&r==="object")}const Atn=[];function Otn(e,t,n,r){const o=n.get(t._type);if(!o)return console.warn('Schema type for object type "%s" not found, skipping validation',t._type),ve(Atn);const i={getClient:e,schema:n,parent:void 0,value:t,path:[],document:t,type:o,getDocumentExists:r==null?void 0:r.getDocumentExists};return E6(i).pipe(jn(s=>(console.error(s),ve([{type:"validation",level:"error",path:[],item:new mf(s==null?void 0:s.message)}]))))}function E6(e){let{value:t,type:n,path:r=[],parent:o,...i}=e;const s=$x(n),a=s.map(p=>io(()=>p.validate(t,{...i,parent:o,path:r,type:n})));let c=[];const u=s.some(p=>p.isRequired());if((n==null?void 0:n.jsonType)==="object"&&(!!t||t==null&&u)){const p=n.fields.reduce((m,v)=>(m[v.name]=v.type,m),{});c=c.concat(s.map(m=>m._fieldRules).filter(jtn).flatMap(m=>Object.entries(m)).flatMap(m=>{let[v,g]=m;const b=p[v];return $x({...b,validation:g}).map(x=>{const y=qie(t)?t[v]:void 0;return io(()=>x.validate(y,{...i,parent:t,path:r.concat(v),type:b}))})})),c=c.concat(n.fields.map(m=>E6({...i,parent:t,value:qie(t)?t[m.name]:void 0,path:r.concat(m.name),type:m.type})))}return(n==null?void 0:n.jsonType)==="array"&&Array.isArray(t)&&(c=c.concat(t.map((p,m)=>E6({...i,parent:t,value:p,path:r.concat(wl(p)?{_key:p._key}:m),type:Ttn(p,n.of)})))),io(()=>Qt([...a,...c])).pipe(ct(p=>Fr(Ptn(),p),40),iA(),bEe(),le(En),le(p=>s.some(m=>m._fieldRules)?$f(p,m=>JSON.stringify(m)):p))}function Ptn(e){return new ft(t=>{const n=vtn(()=>{t.complete()},e?{timeout:e}:void 0);return()=>ytn(n)})}function Dtn(e){return gE(e,new Set),e}function gE(e,t){if(!t.has(e)){if(t.add(e),e.validation=$x(e),"fields"in e)for(const n of e.fields)gE(n.type,t);if("of"in e)for(const n of e.of)gE(n,t);if(e.annotations)for(const n of e.annotations)gE(n,t)}}function Itn(e){return e.getTypeNames().forEach(n=>{const r=e.get(n);r&&Dtn(r)}),e}var Rtn={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]},$tn={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},Mtn={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},Ftn={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},Ltn={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},Btn={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:"".concat(e.mimeType," (").concat((Number(e.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},Ntn={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},ztn={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},Vtn={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},Htn={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata…",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},Utn={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]};const Wtn=e=>e.severity==="error",Ytn=[Ltn,Rtn,$tn,Btn,Utn,Mtn,Ftn,Htn,Vtn,Ntn,ztn];function qtn(e){const t=pjt(e.types).getTypes(),n=pkt(t),r=n.some(i=>i.problems.some(Wtn)),o=hB.compile({name:e.name,types:r?[]:[...e.types,...Ytn].filter(Boolean)});return o._validation=n,Itn(o)}function kp(e){return typeof e.title=="string"?e.title:e.type?kp(e.type):e.name||e.jsonType}const tn={apiVersion:"2022-09-09"};var Gie=Object.freeze,Gtn=Object.defineProperty,Ktn=(e,t)=>Gie(Gtn(e,"raw",{value:Gie(t||e.slice())})),Kie;const Ztn=I(Ji)(Kie||(Kie=Ktn([`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
`])));function Xtn(){return l.jsx(Ztn,{children:l.jsx(U,{height:"fill",align:"center",justify:"center",children:l.jsx(ir,{})})})}function Qtn(e){const{text:t}=e;return l.jsxs(U,{direction:"row",justify:"center",align:"center",children:[l.jsx(ir,{}),l.jsx(M,{marginLeft:2,children:l.jsx(B,{children:t})})]})}const Zie={referringDocuments:[],isLoading:!0};function Jtn(e){const t=Xa();return co(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(le(n=>({referringDocuments:n,isLoading:!1})),ei(Zie)),[t,e],Zie)}const enn=()=>h.createElement(h.Fragment);function tnn(e,t){return n=>{let r=o=>h.createElement(e,o);for(const o of t){const i=r;r=s=>h.createElement(o,{...s,renderDefault:i})}return r({...n,renderDefault:enn})}}function Ml(e){const{options:t}=Pn().__internal,{defaultComponent:n,pick:r}=e;return h.useMemo(()=>{const o=[...tP(t,[])];o.reverse();const s=o.map(a=>{let{config:c}=a;return r(c)}).filter(Boolean);return tnn(n,s)},[n,t,r])}function hc(e,t){return t.name===e||!!(t.type&&hc(e,t.type))}const nnn={default:mIe,media:WJt,detail:jJt,inline:cen,block:ren,blockImage:QJt};function rnn(){return l.jsx(Sf,{className:"sanity-studio__preview-fallback-icon"})}function sh(e){const{icon:t,layout:n,media:r,imageUrl:o,title:i,...s}=e,a=ar(tn),c=h.useMemo(()=>$A(a),[a]),u=h.useCallback(v=>{const{dimensions:g}=v;return l.jsx("img",{alt:mv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:c.image(r).width(g.width||100).height(g.height||100).fit(g.fit).dpr(g.dpr||1).url()||""})},[c,r,i]),d=h.useCallback(()=>h.createElement(t||rnn),[t]),f=h.useMemo(()=>t===!1?!1:vr.isValidElementType(r)||h.isValidElement(r)?r:db(r)?u:mv(o)?l.jsx("img",{src:o,alt:mv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):d,[t,o,r,d,u,i]),p=h.useMemo(()=>({...s,media:f,title:i}),[f,s,i]),m=nnn[n||"default"];return h.createElement(m,p)}const onn=typeof window>"u"?Un:Ti(window,"resize").pipe(_o(1)),inn=typeof window>"u"?Un:Ti(window,"scroll",{passive:!0,capture:!0}).pipe(_o(1)),snn=typeof window>"u"?Un:Ti(window,"orientationchange").pipe(_o(1)),DIe=150;function ann(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const lnn=ann()?cnn():unn();function cnn(){const e=new gr,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:"".concat(DIe,"px")});return function(r){return new ft(o=>(t.observe(r),o.next(),()=>t.unobserve(r))).pipe(ct(()=>e.asObservable()),dt(o=>o.target===r),le(o=>({isIntersecting:o.isIntersecting})))}}function unn(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,o,i){return r.left<=o.right+i&&r.right>=o.left-i&&r.top<=o.bottom+i&&r.bottom>=o.top-i}function n(r){return()=>t(r.getBoundingClientRect(),e(),DIe)}return function(o){const i=n(o);return Qt(ve(i()),onn,inn,snn).pipe(le(i),le(s=>({isIntersecting:s})))}}const dnn=typeof window>"u"?Un:Ti(document,"visibilitychange").pipe(_o(1));function fnn(e){const{element:t,hideDelay:n=0}=e,[r,o]=h.useState(!1);return h.useEffect(()=>{if(!t)return;const i=Fr(ve(!document.hidden),dnn.pipe(le(u=>{var d;return u.target instanceof Document?!((d=u==null?void 0:u.target)!=null&&d.hidden):!1}))).pipe(Wn()),s=lnn(t).pipe(le(u=>u.isIntersecting)),c=i.pipe(nt(u=>u?s:ve(!1)),nt(u=>u?ve(!0):ve(!1).pipe(_Ee(n))),Wn()).subscribe(o);return()=>c.unsubscribe()},[t,n]),r}const hnn={isLoading:!0},pnn={isLoading:!1};function Yz(e){const{enabled:t=!0,ordering:n,schemaType:r,value:o}=e||{},{observeForPreview:i}=$i();return co(()=>!t||!o||!r?ve(pnn):i(o,r,{ordering:n}).pipe(le(s=>({isLoading:!1,value:s.snapshot||void 0})),jn(s=>ve({isLoading:!1,error:s}))),[t,i,n,r,o],hnn)}function mnn(e){return gnn(e==null?void 0:e._upload)}function X1(e){return mv(e)?e:void 0}function gnn(e){var t,n;if(!bt(e))return;const r=typeof e.progress=="number"?e.progress:0,o=X1(e.initiated||e.createdAt),i=X1(e.updated||e.updatedAt),s=X1((t=e==null?void 0:e.file)==null?void 0:t.name),a=X1((n=e==null?void 0:e.file)==null?void 0:n.type),c=X1(e.previewImage);if(o&&i&&s&&a)return{progress:r,createdAt:o,updatedAt:i,file:{name:s,type:a},previewImage:c}}const vnn=1e3*2;function IIe(e){const{layout:t,value:n,component:r,style:o,schemaType:i,skipVisibilityCheck:s,...a}=e,[c,u]=h.useState(null),d=fnn({element:s?null:c,hideDelay:vnn}),f=Yz({enabled:s||d,schemaType:i,value:n}),p=h.useMemo(()=>({...o,minWidth:(o==null?void 0:o.minWidth)||1,minHeight:(o==null?void 0:o.minHeight)||1}),[o]),m=h.useMemo(()=>mnn(n),[n]),v=h.useMemo(()=>{var g,b;return m!=null&&m.previewImage?l.jsx("img",{alt:"The image currently being uploaded",src:m.previewImage}):(g=f==null?void 0:f.value)!=null&&g.media?(b=f==null?void 0:f.value)==null?void 0:b.media:i.icon},[f,i,m]);return l.jsx("div",{ref:u,style:p,children:h.createElement(r,{...a,...(f==null?void 0:f.value)||{},media:v,error:f==null?void 0:f.error,isPlaceholder:f==null?void 0:f.isLoading,layout:t,schemaType:i})})}function qz(e){const t=e==null?void 0:e.select;if(t)return Object.values(t).map(n=>String(n).split("."))}const ynn=e=>e.liveEdit===!0;function kO(e,t,n,r){const o=ynn(t)?ve({snapshot:null}):e.observeForPreview({_type:"reference",_ref:ri(n)},t),i=e.observeForPreview({_type:"reference",_ref:Tn(n)},t);return $o([o,i]).pipe(le(s=>{let[a,c]=s;return{draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:c.snapshot?{title:r,...c.snapshot||{}}:null}}),ei({draft:null,isLoading:!0,published:null}))}const bnn=e=>({title:l.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:l.jsx("em",{children:e.title?"Missing document ID: ".concat(e._id):"Document ID: ".concat(e._id)}),media:()=>l.jsx(Pr,{})}),Gz=e=>{let{value:t,draft:n,published:r}=e;const o=n||r;return o?VWt({},o,t,(i,s)=>typeof s>"u"?i:s):bnn(t)},RIe=["_id","_rev","_type"],xnn=[...RIe,"_key"],Xie={available:!0,reason:"READABLE"},wnn={available:!1,reason:"PERMISSION_DENIED"},_nn={available:!1,reason:"NOT_FOUND"},Cnn={title:"Invalid preview config",subtitle:"Check the error log in the console",media:l.jsx(Pr,{})};function Snn(e){return Array.isArray(e)&&(e.length===0||e.some(zf))}function Enn(e){const t=Array.isArray(e)&&e.find(zf);return!t||!t.children?"":t.children.filter(Gs).map(n=>n.text).join("")}function $Ie(e){return Object.keys(e)}const knn=["_id","_type","_upload","_createdAt","_updatedAt"],e0=[],k6=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),jnn=rw(()=>{const e=k6.getAll(),n=En(Object.keys(e).map(r=>{const o=e[r];return $f(o,i=>i.error.message)})).length;n!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(n===1?"error":"".concat(n," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(e).forEach(r=>{const o=e[r],i=o[0];console.group('Check the preview config for schema type "'.concat(r,'": %o'),i.type.preview),$f(o,a=>a.error.message).forEach(a=>{var c;if(a.error.type==="returnValueError"){const u=typeof((c=a.type.preview)==null?void 0:c.prepare)=="function",{value:d,error:f}=a;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),d),console.error(f)}if(a.error.type==="prepareError"){const{value:u,error:d}=a;console.log("Encountered an error when calling prepare(%o):",u),console.error(d)}}),console.groupEnd()}),console.groupEnd(),k6.clear())},1e3),Q1=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?e0:[Zz("returnValueError",new Error('The "'.concat(e,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(Kz(t))))]},Tnn={media:()=>e0,title:Q1("title"),subtitle:Q1("subtitle"),description:Q1("description"),imageUrl:Q1("imageUrl"),date:Q1("date")};function Kz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(bt(e)){const n=Object.keys(e),r=n.length>3?"...":"",o="object with keys ";return"".concat(t?o:"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(e)){const n=e.length>3?"...":"",r="array with ";return"".concat(t?r:"","[").concat(e.map(o=>Kz(o,!1))).concat(n,"]")}return"the ".concat(typeof e," ").concat(e)}function Ann(e,t){if(typeof t>"u")return e0;const n=Tnn[e];return n&&n(t)||e0}function Zz(e,t){return Object.assign(t,{type:e})}function Onn(e){return!br(e)||e===null?[Zz("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(Kz(e))))]:Object.entries(e).reduce((t,n)=>{let[r,o]=n;return[...t,...Ann(r,o)]},e0)}function Pnn(e){return{...e,errors:[...e.errors||[],...Onn(e.returnValue)]}}function Dnn(e){return $Ie(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:Snn(r)?Enn(r):r}},{})}function j6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;const o=(r=e.preview)==null?void 0:r.prepare;try{return{returnValue:o?o(t,n):Dnn(t),errors:e0}}catch(i){return{returnValue:null,errors:[Zz("prepareError",i)]}}}function Qie(e,t,n){return e.errors.forEach(r=>k6.add(t,n,r)),jnn(),Cnn}function Inn(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function Rnn(e){return Inn(e)?e.options.list.map(n=>NL(n)?n:{title:n,value:n}):void 0}function kj(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o;const i=typeof((r=t.preview)==null?void 0:r.prepare)=="function",s=((o=t.preview)==null?void 0:o.select)||{},c=Object.keys(s).reduce((f,p)=>{var m;const v="fields"in t?t:null,g=s[p],b=(m=v==null?void 0:v.fields)==null?void 0:m.find(y=>y.name===g),x=b&&Rnn(b.type);if(!i&&x){const y=x&&x.find(w=>w.value===Fn(e,s[p]));f[p]=y?y.value:Fn(e,s[p])}else f[p]=Fn(e,s[p]);return f},{}),u=j6(t,c,n);if(u.errors.length>0)return Qie(u,t,c);const d=Pnn(j6(t,c,n));return d.errors.length>0?Qie(d,t,c):{...wt(e,knn),...u.returnValue}}function vE(e,t){let n,r={},o=0;return function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return new ft(d=>{clearTimeout(n),n=setTimeout(i,t);const f={args:c,observer:d,completed:!1},p=o++;return r[p]=f,()=>{f.completed=!0}})};function i(){const s=r;r={};const a=Object.keys(s).filter(u=>{const d=s[u];return d&&!d.completed});if(a.length===0)return;const c=a.map(u=>{const d=s[u];return d&&d.args}).filter(lo);e(c).subscribe({next(u){u.forEach((d,f)=>{const p=s[a[f]];p&&!p.completed&&p.observer.next(u[f])})},complete(){a.forEach(u=>{const d=s[u];d&&!d.completed&&d.observer.complete()})},error(u){a.forEach(d=>{const f=s[d];f&&!f.completed&&f.observer.error(u)})}})}}const $nn=11164;function Mnn(e){let t=[],n=0;const r=[];for(const o of e)n+o.length+1>=$nn&&(r.push(t),t=[],n=0),n+=o.length+1,t.push(o);return r.includes(t)||r.push(t),r}function Fnn(e,t){return e.push(...t),e}function MIe(e,t){function n(s){const a=ri(s),c=Tn(s);return $o([r(a),r(c)]).pipe(Wn(Mu),le(u=>{let[d,f]=u;return{draft:d,published:f}}))}function r(s){return t({_ref:s},[["_rev"]]).pipe(le(a=>bt(a)&&!!("_rev"in a&&(a!=null&&a._rev))),Wn(),nt(a=>a?ve(Xie):o(s)))}const o=vE(function(a){const c=[...new Set(En(a))];return yr(Mnn(c)).pipe(ct(i,10),yEe(Fnn,[]),le(u=>a.map(d=>{let[f]=d;return u[c.indexOf(f)]})))},1);function i(s){return io(()=>{const a={uri:e.getDataUrl("doc",s.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(a).pipe(le(c=>{const u=OB(c.omitted||[],d=>d.id);return s.map(d=>{const f=u[d];if(!f)return Xie;if(f.reason==="existence")return _nn;if(f.reason==="permission")return wnn;throw new Error('Unexpected reason for omission: "'.concat(f.reason,'"'))})}))})}return{observeDocumentPairAvailability:n}}function Jie(e,t,n){return{...e,[t]:n}}function Lnn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>new ft(n=>t.subscribe(n)).pipe(nt(n=>{const r=$Ie(n).map(o=>{const i=n[o];return xit(i)?yr(i).pipe(le(s=>[o,s])):ve([o,i])});return e.wait?$o(r).pipe(le(o=>o.reduce((i,s)=>{let[a,c]=s;return Jie(i,a,c)},{}))):yr(r).pipe(iA(),ta((o,i)=>{let[s,a]=i;return Jie(o,s,a)},{}))}))}function Bnn(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function Nnn(e,t){return t.filter(n=>!(n[0]in e))}function znn(e){return Zu(e)?e._ref:"_id"in e?e._id:void 0}function T6(e,t,n,r){if(!e||typeof e!="object")return ve(e);const o=znn(e),i=o?{...e,_id:o}:{...e};i._type==="reference"&&(delete i._type,delete i._ref,delete i._weak,delete i._dataset,delete i._projectId,delete i._strengthenOnPublish);const s=Nnn(i,t);if(o&&s.length>0){const u=so(s.map(f=>f[0])),d=sbe(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(o,u,d).pipe(nt(f=>f===null?ve(null):T6({...Bnn(u),...Zu(e)?{...e,...d}:e,...f},t,n,d)))}const a={};t.forEach(u=>{const[d,...f]=u;a[d]||(a[d]=[]),a[d].push(f)});const c=Object.keys(a).reduce((u,d)=>{const f=a[d].filter(p=>p.length>0);return f.length===0?u[d]=bt(e)?e[d]:void 0:u[d]=T6(e[d],f,n,r),u},i);return ve(c).pipe(Lnn({wait:!0}))}function Vnn(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function Hnn(e){const{observeFields:t}=e;return{observePaths(n,r,o){return T6(n,Vnn(r),t,o)}}}function Unn(e){return br(e)}function Wnn(e){return br(e)}function Ynn(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(o,i,s,a){if(BL(i)){if(!sbe(o))return ve({snapshot:void 0});const u={projectId:o._projectId,dataset:o._dataset};return t(o._ref,u).pipe(nt(d=>{if(d){const f=i.to.find(p=>p.type===d);return r(o,f,{},u)}return ve({snapshot:void 0})}))}if(Cu(i))return Wnn(o)?t(o._ref).pipe(nt(u=>{if(u){const d=i.to.find(f=>f.name===u);return r(o,d)}return ve({snapshot:void 0})})):ve({snapshot:void 0});const c=qz(i.preview);return c?n(o,c,a).pipe(le(u=>({type:i,snapshot:u&&kj(u,i,s)}))):ve({type:i,snapshot:o&&Unn(o)?j6(i,o,s).returnValue:null})}}function qnn(e,t){const{observeDocumentPairAvailability:n}=MIe(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:o};function o(i,s){const{draftId:a,publishedId:c}=oIe(i);return n(a).pipe(nt(u=>{if(!u.draft.available&&!u.published.available)return ve({id:c,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const d=[...s,...r];return $o([t({_type:"reference",_ref:a},d),t({_type:"reference",_ref:c},d)]).pipe(le(f=>{let[p,m]=f;const v=bt(p)&&"_type"in p&&p._type||bt(m)&&"_type"in m&&m._type||null;return{id:c,type:typeof v=="string"?v:null,draft:{availability:u.draft,snapshot:p},published:{availability:u.published,snapshot:m}}}))}))}}function Gnn(e){return KWt(e.reduce((t,n,r)=>{let[o,i]=n;const s=wm(i.join(","),f5e).join(".");t[s]||(t[s]={fields:i,ids:[],map:[]});const a=t[s].ids.length;return t[s].ids[a]=o,t[s].map[a]=r,t},{}))}function Knn(e){return JSON.stringify(e)}const Znn=e=>iIe(e)?'"'.concat(e,'": @').concat(Pz(e)):e;function Xnn(e){let{ids:t,fields:n}=e;const r=[...RIe,...n];return"*[_id in [".concat(t.map(Knn).join(","),"]][0...").concat(t.length,"]{").concat(r.map(Znn).join(","),"}")}function Qnn(e){return"[".concat(e.map(Xnn).join(","),"][0...").concat(e.length,"]")}function Jnn(e,t){return e.reduce((n,r,o)=>(t[o].map.forEach((s,a)=>{const c=t[o].ids[a],u=r.find(d=>d._id===c);n[s]=u||null}),n),[])}function ern(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const trn=e=>e;function nrn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:trn,n,r;for(let o=0;o<e.length;o++){if(o===0){n=t(e[o]);continue}if(r=t(e[o]),n!==r)return!1;n=r}return!0}function rrn(e){const{observePaths:t,versionedClient:n}=e;let r;const o=()=>{if(!r){const w=yr(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(na()),_=w.pipe(dt(S=>S.type==="welcome"),_o({refCount:!0,bufferSize:1}));_.subscribe();const C=w.pipe(dt(S=>S.type==="mutation"));r={welcome$:_,mutations$:C}}return r};function i(w){const _=o();return Qt(_.welcome$,_.mutations$.pipe(dt(C=>C.documentId===w)))}function s(w){return function(C){const S=Gnn(C);return w.observable.fetch(Qnn(S),{},{tag:"preview.document-paths"}).pipe(le(E=>Jnn(E,S)))}}const a=vE(s(n),100),c=vE(s(n),1e3);function u(w,_){return i(w).pipe(nt(C=>C.type==="welcome"||C.visibility==="query"?a(w,_).pipe(ct(S=>Fr(ve(S),S===void 0?c(w,_):[]))):c(w,_)))}const d={},f=xA(function(_){const C=n.withConfig(_),S=s(C);return vE(S,10)},w=>w.dataset+w.projectId),p=1e4,m=Ti(document,"visibilitychange").pipe(ei(0),le(()=>document.visibilityState==="visible"),nt(w=>w?Mo(0,p):Un),na());function v(w,_,C){return m.pipe(ei(0)).pipe(nt(()=>f(C)(w,_)))}function g(w,_,C){let S=null;const E=Qt(io(()=>S===null?Un:ve(S)),C?v(w,_,C):u(w,_)).pipe(mn(j=>S=j),_o({refCount:!0,bufferSize:1}));return{id:w,fields:_,changes$:E}}function b(w,_,C){const S=C?"".concat(C.projectId,":").concat(C.dataset,":").concat(w):"$current$-".concat(w);S in d||(d[S]=[]);const E=d[S];ax(_,En(E.map(T=>T.fields))).length>0&&E.push(g(w,_,C));const k=E.filter(T=>T.fields.some(A=>_.includes(A))).map(T=>T.changes$);return $o(k).pipe(le(T=>T.filter(Boolean)),dt(T=>nrn(T,A=>A._rev)),le(T=>T.length===0?null:x(T,_)),Wn(ern(_)))}return{observeFields:b};function x(w,_){return[...xnn,..._].reduce((C,S)=>{const E=y(w,S);return E!==void 0&&(C[S]=E),C},{})}function y(w,_){let C;return w.some(S=>_ in S?(C=S[_],!0):!1),C}}function orn(e){let{client:t}=e;const n=t.withConfig({apiVersion:"1"}),r=(d,f,p)=>i(d,f,p),{observeFields:o}=rrn({observePaths:r,versionedClient:n}),{observePaths:i}=Hnn({observeFields:o});function s(d,f){return i({_type:"reference",_ref:d},["_type"],f).pipe(le(p=>bt(p)&&typeof p._type=="string"?p._type:void 0),Wn())}const a=Ynn({observeDocumentTypeFromId:s,observePaths:i}),{observeDocumentPairAvailability:c}=MIe(n,i),{observePathsDocumentPair:u}=qnn(n,i);return{observePaths:i,observeForPreview:a,observeDocumentTypeFromId:s,unstable_observeDocumentPairAvailability:c,unstable_observePathsDocumentPair:u}}const irn=e=>!!(e.type&&e.type.name==="document"),srn=e=>e.name.startsWith("sanity."),arn=e=>e.getTypeNames().map(t=>e.get(t)).filter(lo).filter(t=>irn(t)).filter(t=>!srn(t)),lrn=(e,t)=>{const{phrases:n,words:r}=hrn(e),[o,i]=drn(n,t),[s,a]=frn(r,t);return[o+s,[a,i].join(", ")]},crn=e=>typeof e=="string"?e:JSON.stringify(e);function urn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=OB(e,o=>o.typeName);return t.map((o,i)=>{var s;const c=(s=r[o._type].paths||[])==null?void 0:s.map((d,f)=>{const p=crn(o["w".concat(f)]);if(!p)return{path:d.path,score:0,why:"No match"};const[m,v]=lrn(n,p);return{path:d.path,score:m*d.weight,why:"".concat(v," (*").concat(d.weight,")")}}),u=c.reduce((d,f)=>d+f.score,0);return{hit:o,resultIndex:t.length-i,score:u,stories:c}})}function drn(e,t){const n=t.toLowerCase().trim();let r=0,o=0;return e.forEach(i=>{n.includes(i)&&(r+=i.length/n.length,o+=i.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(o," of ").concat(n.length," characters")]}function frn(e,t){const n=so(MA(pje(sv(t)))),r=O5(e,n),o=MTe(n,e),i=r.length/o.length;return i===1?[1,"[Word] Exact match"]:[i/2,"[Word] Matched ".concat(r.length," of ").concat(o.length," terms: [").concat(r.join(", "),"]")]}function hrn(e){const t=so(e.map(sv)),[n,r]=yB(t,o=>/^".*"$/.test(o));return{phrases:so(n).map(sv).map(prn),words:so(r.map(sv))}}function prn(e){return e.replace(/^"(.*)"$/,"$1")}const mrn=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,grn=/(^[.]+)|([.]+$)/;function vrn(e){return(e.match(mrn)||[]).map(t=>t.replace(grn,""))}const yrn=4,brn=1e3,xrn=ERt([En,MTe,MA]);function ese(e,t){let n=!1;return{specs:e.map(o=>({typeName:o.name,paths:o.__experimental_search.map(i=>{const s=i.path.map(a=>typeof a=="number"&&(n=!0,t)?[]:a);return{weight:i.weight,path:oQt(s),mapWith:i.mapWith}})})),hasIndexedPaths:n}}const FIe=e=>{let{mapWith:t,path:n}=e;return t?"".concat(t,"(").concat(n,")"):n};function wrn(e,t){const n=xrn(t.map(o=>(o.paths||[]).map(i=>FIe(i))));return e.map((o,i)=>n.map(s=>"".concat(s," match $t").concat(i))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}function _rn(e){const t=[],n=e.replace(/("[^"]*")/g,i=>pje(i).length>1?(t.push(i),""):i),r=t.map(i=>NRt(sv(i))),o=so(MA(vrn(sv(n))));return[...r,...o]}function Crn(e){function t(n){return n.mapWith?"".concat(n.mapWith,"(").concat(n.field,")"):n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function LIe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,r;const{filter:o,params:i,tag:s}=t,{specs:a,hasIndexedPaths:c}=ese(e.types,!1),u=_rn(e.query),d=c?ese(e.types,!0).specs:a,f=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...wrn(u,d),o?"(".concat(o,")"):"",e.filter?"(".concat(e.filter,")"):""].filter(Boolean),p=a.map(S=>{const E='_type == "'.concat(S.typeName,'" => '),j="{ ".concat(S.paths.map((k,T)=>'"w'.concat(T,'": ').concat(FIe(k)))," }");return"".concat(E).concat(j)}),m=Crn((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),v=["_type","_id"],g=p.length>0?"...select(".concat(p.join(`,
`),")"):"",b=v.join(", ")+(g?", ".concat(g):"");let x="*[".concat(f.join(" && "),"]")+"| order(".concat(m,")")+"[$__offset...$__limit]"+"{".concat(b,"}");if(t!=null&&t.__unstable_extendedProjection){const S=t==null?void 0:t.__unstable_extendedProjection,E=v.concat(S).join(", ");x=["*[".concat(f.join(" && "),"]{").concat(E,"}"),"order(".concat(m,")[$__offset...$__limit]{").concat(b,"}")].join("|")}const y=["findability-mvi:".concat(yrn)].concat((t==null?void 0:t.comments)||[]).map(S=>"// ".concat(S)).join(`
`),w=y?"".concat(y,`
`).concat(x):x,_=(n=t==null?void 0:t.offset)!=null?n:0,C=((r=t==null?void 0:t.limit)!=null?r:brn)+_;return{query:w,params:{...Srn(u),__types:a.map(S=>S.typeName),__limit:C,__offset:_,...i||{}},options:{tag:s},searchSpec:a,terms:u}}const Srn=e=>{const t={};return e.reduce((n,r,o)=>(n["t".concat(o)]="".concat(r,"*"),n),t)};function Ern(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}function Xz(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=Ern(o,e),{query:a,params:c,options:u,searchSpec:d,terms:f}=LIe(s,{...n,...i});return t.observable.fetch(a,c,u).pipe(n.unique?le(WXt):mn(),le(p=>urn(d,p,f)),i!=null&&i.skipSortByScore?mn():le(p=>wm(p,m=>-m.score)))}}const krn={available:!0,reason:"READABLE"},tse={available:!1,reason:"PERMISSION_DENIED"},nse={available:!1,reason:"NOT_FOUND"};function BIe(e,t,n){const{publishedId:r,draftId:o}=oIe(t);return e.unstable_observeDocumentPairAvailability(t).pipe(nt(s=>{if(!s.draft.available&&!s.published.available){const d=s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?tse:nse;return ve({id:t,type:void 0,availability:d,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:o},c={_type:"reference",_ref:r};return $o([e.observeDocumentTypeFromId(o),e.observeDocumentTypeFromId(r)]).pipe(le(d=>{let[f,p]=d;return f||p})).pipe(nt(d=>{if(!d)return ve({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const f=n.to.find(b=>b.name===d);if(!f)return ve({id:t,type:d,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const p=[...qz(f==null?void 0:f.preview)||[],["_updatedAt"],["_createdAt"]],m=e.observePaths(a,p).pipe(le(b=>b?{_id:o,...kj(b,f)}:void 0),ei(void 0)),v=e.observePaths(c,p).pipe(le(b=>b?{_id:r,...kj(b,f)}:void 0),ei(void 0));return $o([m,v]).pipe(le(b=>{let[x,y]=b;return{draft:x,published:y}})).pipe(le(b=>{const x=s.draft.available||s.published.available?krn:s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?tse:nse;return{type:d,id:r,availability:x,preview:{draft:bt(b.draft)?b.draft:void 0,published:bt(b.published)?b.published:void 0}}}))}))}))}function jrn(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:ri(t.id))}function Trn(e,t){return t.length===0?ve([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function NIe(e,t,n,r){return Xz(n.to,e,r)(t,{includeDrafts:!0}).pipe(le(i=>i.map(s=>s.hit)),le(wO),le(i=>i.slice(0,100)),ct(i=>Trn(e,jrn(i)).pipe(le(s=>i.map(a=>{const c=ri(a.id);return{id:a.id,type:a.type,draft:a.draft||s.includes(c)?{_id:c,_type:a.type}:void 0,published:a.published||s.includes(a.id)?{_id:a.id,_type:a.type}:void 0}})))))}function Arn(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}const Xp=Symbol.for("sanity.patch");function qi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Xp,type:"setIfMissing",path:t,value:e}}function Xd(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:Xp,type:"insert",path:n,position:t,items:e}}function vt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Xp,type:"set",path:t,value:e}}function Je(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:Xp,type:"unset",path:e}}function Orn(e,t){return{...e,path:[t,...e.path]}}class lt{static from(t){return t instanceof lt?t:new lt(Array.isArray(t)?En(t):[t])}constructor(t){this.patches=t}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return lt.from([...En(n),...this.patches])}append(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return lt.from([...this.patches,...En(n)])}prefixAll(t){return lt.from(this.patches.map(n=>Orn(n,t)))}}var rse=Object.freeze,Prn=Object.defineProperty,Drn=(e,t)=>rse(Prn(e,"raw",{value:rse(t||e.slice())})),ose;const Irn={warning:"caution",error:"critical"},Rrn=I(M)(ose||(ose=Drn([`
  border-top: 1px solid var(--card-border-color);
`])));function Lc(e){const{children:t,status:n="warning",suffix:r,title:o,...i}=e;return l.jsxs(J,{radius:2,tone:Irn[n],...i,"data-ui":"Alert",children:[l.jsxs(U,{padding:4,children:[l.jsx(M,{children:l.jsxs(B,{size:1,children:[n==="warning"&&l.jsx(Pr,{}),n==="error"&&l.jsx(sa,{})]})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(B,{size:1,weight:"semibold",children:o}),t&&l.jsx(M,{marginTop:3,children:t})]})]}),r&&l.jsx(Rrn,{children:r})]})}function Qz(e,t){const n=h.useRef(t||null);return h.useEffect(()=>{n.current=e},[e]),n.current}function Ri(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mu;const r=Qz(e);h.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}function zIe(e,t){h.useEffect(()=>{const n=r=>{const o=r.target;if(o instanceof HTMLElement){if(e.some(i=>{var s;return(s=i.current)==null?void 0:s.contains(o)}))return;t(r)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])}const VIe=h.createContext(null);function ii(){const e=h.useContext(VIe);if(!e)throw new Error("FormBuilder: missing context value");return e}const $rn={constrainSize:!0,portal:!0,fallbackPlacements:["top","bottom"]};function Jz(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=h.useCallback(u=>{const d=o(u);i(d)},[o,i]),c=ne.useCallback(()=>{a(t.of[0])},[t,a]);return n?l.jsx(st,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(B,{size:1,children:"This field is read-only"})}),children:l.jsx(en,{children:l.jsx(ie,{icon:Ks,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(en,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(ie,{icon:Ks,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(Kt,{button:l.jsx(ie,{icon:Ks,mode:"ghost",text:"Add item…"}),id:s||"",menu:l.jsx(Ft,{children:t.of.map((u,d)=>{var f,p;const m=Cu(u)&&(u.to||[]).length===1&&u.to[0].icon,v=u.icon||((f=u.type)==null?void 0:f.icon)||m;return l.jsx(Be,{text:u.title||((p=u.type)==null?void 0:p.name),onClick:()=>a(u),icon:v},d)})}),popover:$rn}),r]})}var ise=Object.freeze,Mrn=Object.defineProperty,Frn=(e,t)=>ise(Mrn(e,"raw",{value:ise(t||e.slice())})),sse;const Lrn=e=>e==="error"?l.jsx(sa,{}):e==="warning"?l.jsx(Pr,{}):l.jsx(lm,{}),Brn=I(B)(e=>{let{theme:t}=e;return de(sse||(sse=Frn([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),t.sanity.color.muted.primary.enabled.fg,t.sanity.color.muted.caution.enabled.fg,t.sanity.color.muted.critical.enabled.fg)});function HIe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:o}=ii().__internal.components;return t.length===0&&n.length===0?null:l.jsxs(te,{space:1,children:[n.length>0&&n.map((i,s)=>{let{message:a,level:c}=i;return l.jsxs(U,{children:[l.jsx(M,{marginRight:2,marginBottom:s+1===n.length?0:2,children:l.jsx(Brn,{size:1,"data-error":c==="error"?"":void 0,"data-warning":c==="warning"?"":void 0,"data-info":c==="info"?"":void 0,children:Lrn(c)})}),l.jsx(M,{children:l.jsx(B,{size:1,children:a||"Error"})})]},"validationItem-".concat(s))}),t.length>0&&l.jsxs(M,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&l.jsx(o,{markers:t})]})]})}function Nrn(){return l.jsxs(B,{size:1,children:["This is a example custom marker, please implement ",l.jsx("code",{children:"renderCustomMarkers"})," function."]})}const eV=ne.createContext(null),t_=h.memo(function(t){const n=h.useRef(t);n.current=t;const r=h.useCallback(p=>{var m,v,g;return(g=(v=(m=n.current)==null?void 0:m.transformPatches)==null?void 0:v.call(m,p))!=null?g:[]},[n]),o=h.useCallback(p=>{n.current.onChange(p)},[]),i=h.useCallback(p=>{n.current.onPathFocus(p)},[]),s=h.useCallback(p=>{n.current.onPathBlur(p)},[]),a=h.useCallback(p=>{n.current.onPathOpen(p)},[]),c=h.useCallback((p,m)=>{n.current.onSetPathCollapsed(p,m)},[]),u=h.useCallback((p,m)=>{n.current.onSetFieldSetCollapsed(p,m)},[]),d=h.useCallback((p,m)=>{n.current.onFieldGroupSelect(p,m)},[]),f=h.useMemo(()=>({transformPatches:r,onChange:o,onPathFocus:i,onPathBlur:s,onPathOpen:a,onSetPathCollapsed:c,onSetFieldSetCollapsed:u,onFieldGroupSelect:d}),[o,d,s,i,a,u,c,r]);return l.jsx(eV.Provider,{value:f,children:t.children})});function ua(){const e=h.useContext(eV);if(!e)throw new Error("Form context not provided");return e}function tV(e,t){return A6(e,t,new WeakSet)}function A6(e,t,n){if(e===t)return e;if(n.has(t)||e==null||t==null||typeof e!==typeof t)return t;if(Array.isArray(t)){n.add(t);let i=e.length===t.length;const s=[];for(let a=0;a<t.length;a++){const c=A6(e[a],t[a],n);c!==e[a]&&(i=!1),s[a]=c}return i?e:s}if(typeof t=="object"){n.add(t);const i=Object.keys(t);let s=Object.keys(e).length===i.length;const a={};for(const c of i){const u=A6(e[c],t[c],n);u!==e[c]&&(s=!1),a[c]=u}return s?e:a}return t}const UIe=h.createContext([]);function zrn(e){return l.jsx(UIe.Provider,{value:e.presence,children:e.children})}function Vrn(){const e=h.useContext(UIe);if(!e)throw new Error("Form context not provided");return e}function q0(e,t){const n=Vrn(),r=h.useRef(n),o=tV(r.current,n.filter(i=>yi(e,i.path)&&(t||!pn(e,i.path))));return r.current=o,o}const WIe=h.createContext([]);function Hrn(e){return l.jsx(WIe.Provider,{value:e.validation,children:e.children})}function Urn(){const e=h.useContext(WIe);if(!e)throw new Error("Form context not provided");return e}function nV(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Urn();return h.useMemo(()=>n.filter(r=>yi(e,r.path)&&(t||!pn(e,r.path))).map(r=>({message:r.item.message,level:r.level,path:r.path})),[t,e,n])}function Wrn(e){const{action:t}=e,n=h.useCallback(()=>{t.onAction()},[t]),r=typeof t.disabled=="object"&&l.jsx(B,{size:1,children:t.disabled.reason});return l.jsx(e_,{content:r,placement:"left",children:l.jsx(Be,{disabled:!!t.disabled,fontSize:1,icon:t.icon,iconRight:t.iconRight||(t.selected?Ma:void 0),onClick:n,padding:3,pressed:t.selected,space:3,text:t.title,tone:t.tone})})}const Yrn={placement:"right",fallbackPlacements:["top","bottom"]};function qrn(e){const{group:t}=e;return t.expanded?l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Nt,{muted:!0,size:0,children:t.title})}),t.children.map((n,r)=>{var o;return l.jsx(O6,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})]}):l.jsx(o7,{fontSize:1,icon:t.icon,padding:3,popover:Yrn,space:3,text:t.title,tone:t.tone,children:t.children.map((n,r)=>{var o;return l.jsx(O6,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})})}function O6(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?l.jsx(kr,{}):t.type==="group"?l.jsxs(l.Fragment,{children:[!n&&l.jsx(kr,{}),l.jsx(qrn,{group:t})]}):l.jsxs(l.Fragment,{children:[r&&l.jsx(kr,{}),l.jsx(Wrn,{action:t})]})}const YIe={placement:"top"};function ase(e){return"renderAsButton"in e&&e.renderAsButton}const Grn=h.memo(function(t){const{nodes:n,onMenuOpenChange:r}=t,[o,i]=h.useState(!1),s=h.useCallback(()=>{r(!0),i(!0)},[r]),a=h.useCallback(()=>{r(!1),i(!1)},[r]),c=h.useMemo(()=>n.filter(ase),[n]),u=h.useMemo(()=>n.filter(p=>!ase(p)),[n]),d=h.useMemo(()=>{const p=u.length;if(p===0||p>1)return u;const m=u[0];return m.type==="group"?[{...m,expanded:!0}]:u},[u]),f=h.useMemo(()=>[...d.length?[{type:"group",children:d,icon:Fo,title:"Field actions"}]:[],...c],[c,d]);return l.jsx(l.Fragment,{children:f.map((p,m)=>l.jsx(Krn,{node:p,onOpen:s,onClose:a,open:o},m))})}),Krn=h.memo(function(t){const{node:n,onOpen:r,onClose:o,open:i}=t;return n.type==="divider"?l.jsx(J,{borderLeft:!0,flex:"none"}):n.type==="action"?l.jsx(ih,{fontSize:1,icon:n.icon,label:i?void 0:n.title,mode:"bleed",onClick:n.onAction,padding:2,tooltip:YIe}):l.jsx(Xrn,{node:n,onOpen:r,onClose:o,open:i})}),Zrn={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function Xrn(e){const{node:t,onOpen:n,onClose:r,open:o}=e;return l.jsx(Kt,{button:l.jsx(ih,{fontSize:1,icon:t.icon,label:o?void 0:t.title,mode:"bleed",padding:2,tooltip:YIe}),id:h.useId(),menu:l.jsx(Ft,{children:t.children.map((i,s)=>{var a;return l.jsx(O6,{action:i,isFirst:s===0,prevIsGroup:((a=t.children[s-1])==null?void 0:a.type)==="group"},s)})}),onOpen:n,onClose:r,popover:Zrn})}function qIe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:qIe(t.children)}:t)}const n_=h.memo(function(t){const{actions:n,documentId:r,documentType:o,onActions:i,path:s,schemaType:a}=t,c=n.length,u=h.useRef(c),[d,f]=h.useState(()=>Array.from(new Array(c))),p=h.useRef(d),m=h.useCallback((v,g)=>{f(b=>{const x=[...b];return x[v]=g,x})},[]);return h.useEffect(()=>{p.current!==d&&(p.current=d,i(qIe(d)))},[d,i]),h.useEffect(()=>{if(u.current!==c){const v=Array.from(new Array(c));for(let g=0;g<c;g++)v[g]=p.current[g];u.current=c,f(v),p.current=v}},[c]),l.jsx(l.Fragment,{children:n.map((v,g)=>l.jsx(Qrn,{action:v,index:g,documentId:r,documentType:o,path:s,schemaType:a,setFieldAction:m},g))})}),Qrn=h.memo(function(t){const{action:n,documentId:r,documentType:o,index:i,path:s,schemaType:a,setFieldAction:c}=t,u=Do(n.useAction({documentId:r,documentType:o,path:s,schemaType:a}));return h.useEffect(()=>{c(i,u)},[i,u,c]),null}),GIe=h.createContext(null);function rV(){const e=h.useContext(GIe);if(!e)throw new Error("UserColorManager: missing context value");return e}function Jrn(e){const t=rV();return co(e?t.listen(e):iit(),[e],t.get(null))}const eon="purple",ton=["green","red","gray"],non=Jbe.filter(e=>!ton.includes(e)),KIe=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},ron=e=>{const{background:t,border:n,text:r}=KIe(e);return non.reduce((o,i)=>(o[i]={name:i,background:fe[i][t].hex,border:fe[i][n].hex,text:fe[i][r].hex,tints:fe[i]},o),{})},oon=e=>{const{background:t,border:n,text:r}=KIe(e);return{name:"gray",background:fe.gray[t].hex,border:fe.gray[n].hex,text:fe.gray[r].hex,tints:fe.gray}};function ion(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:o}=e,i=n||ron(o),s=t||oon(o),a=r||eon;if(!i.hasOwnProperty(a))throw new Error("'colors' must contain 'currentUserColor' (".concat(a,")"));const c=Object.keys(i),u=new Map,d=new Map,f=c.reduce((k,T)=>(k[T]=0,k),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(k=>E(k?k.id:null)),{get:v,listen:b};function v(k){return k?i[g(k)]:s}function g(k){if(k===m)return a;const T=p.get(k);if(T)return T;const A=d.get(k);if(A&&(f[A]===0||!_()))return x(k,A);const O=j(k);return f[O]===0?x(k,O):x(k,C(A))}function b(k){let T=u.get(k);if(T)return T;const A=g(k);return T=S(k,A),u.set(k,T),T}function x(k,T){return p.set(k,T),d.set(k,T),f[T]++,T}function y(k,T){p.delete(k),f[T]--}function w(){return c.find(k=>f[k]===0)}function _(){return!!w()}function C(k){let T=1/0,A=[];return c.forEach(O=>{const P=f[O];P===T?A.push(O):P<T&&(T=P,A=[O])}),k&&A.includes(k)?k:A[0]}function S(k,T){return new ft(A=>{const O=i[T];return A.next(O),()=>{u.delete(k),y(k,T)}}).pipe(_o({refCount:!0}))}function E(k){m=k,f[a]+=k?1:-1}function j(k){let T=0;for(let A=0;A<k.length;A++)T=(T<<5)-T+k.charCodeAt(A)|0;return c[Math.abs(T)%c.length]}}function son(e){let{children:t,manager:n}=e;const{scheme:r}=Nc(),o=h.useMemo(()=>n||ion({scheme:r}),[n,r]);return l.jsx(GIe.Provider,{value:o,children:t})}const aon=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lon=/_key\s*==\s*['"](.*)['"]/;function gn(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Tr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function xl(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(ml(n))return xl(Array.isArray(e)?e[n]:void 0,r);if(Tr(n))return xl(Array.isArray(e)?e.find(o=>o._key===n._key):void 0,r);if(typeof n=="string")return xl(bt(e)?e[n]:void 0,r);throw new Error("Unknown segment type ".concat(JSON.stringify(n)))}function con(e,t){return typeof t!="number"&&!Tr(t)?-1:typeof t=="number"?t:e.findIndex(n=>wl(n)&&n._key===t._key)}function uon(e){const t=e.match(aon);if(!t)throw new Error("Invalid path string");return t.map(don)}function don(e){return ml(e)?fon(e):Tr(e)?hon(e):Ap(e)?pon(e):e}function fon(e){return Number(e.replace(/[^\d]/g,""))}function hon(e){const t=e.match(lon);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function pon(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function ZIe(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const o=t[r];return Tr(n)&&Tr(o)?n._key===o._key:ml(n)?Number(n)===Number(o):Ap(n)&&Ap(o)?n[0]===o[0]&&n[1]===o[1]:n===o})}function XIe(e){return wl(e)?e._key:void 0}function P6(e){const t=XIe(e);return t?{_key:t}:void 0}function mon(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function QIe(e,t){return e.get((t==null?void 0:t.author)||null)}function r_(e,t){const n=Array.isArray(t)?t:uon(t);return gon(e,n)}function gon(e,t){const n=D6(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function D6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.length===0)return e;const r=t[0],o=t.slice(1);if(Ap(r))throw new Error("Index tuples are not supported in diff paths");if(ml(r)||Tr(r)){const s=ml(r)?"at index ".concat(r):"with key ".concat(r._key);if(e.type!=="array"){"Failed to get item ".concat(s," at path ").concat(gn(n)," (not an array)");return}const a=e.items.find(ml(r)?c=>c.toIndex===r:c=>von(c,r));if(!a){"Failed to get item ".concat(s," at path ").concat(gn(n)," (item missing)");return}return D6(a.diff,o,n.concat(r))}if(e.type!=="object"){"Failed to get property ".concat(r," at path ").concat(gn(n)," (not an object)");return}const i=e.fields[r];if(typeof i>"u"){"Failed to get property ".concat(r," at path ").concat(gn(n)," (field did not exist)");return}return D6(i,o,n.concat(r))}function von(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function jO(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t(e,n)){if(e.type==="array"){yon(e,t,n);return}if(e.type==="object"){bon(e,t,n);return}e.type==="string"&&xon(e,t,n)}}function yon(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var o;const i=r.diff.type==="object"&&((o=r.diff.toValue)==null?void 0:o._key),s=i?{_key:i}:won(r);jO(r.diff,t,n.concat(s))})}function bon(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const o=e.fields[r];jO(o,t,n.concat(r))})}function xon(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{jO(r,t,n)})}function won(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function JIe(e){const t=rV();return QIe(t,e)}function t0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=rV(),r=h.useMemo(()=>r_(e,t),[e,t]);return h.useMemo(()=>QIe(n,r),[r,n])}function Gi(e){if("diff"in e){const{diff:t,path:n=[],...r}=e,o=r_(t,n);return l.jsx(lse,{...r,annotations:o?[o]:[]})}return l.jsx(lse,{...e})}function lse(e){const{annotations:t,children:n,description:r="Changed",...o}=e;if(!t)return n;const i=l.jsxs(te,{padding:3,space:2,children:[l.jsx(Nt,{size:1,style:{textTransform:"uppercase"},children:r}),l.jsx(te,{space:2,children:t.map((s,a)=>l.jsx(_on,{annotation:s},a))})]});return l.jsx(Uu,{zOffset:"paneFooter",children:l.jsx(st,{content:i,portal:!0,...o,children:n})})}function _on(e){let{annotation:t}=e;const{author:n,timestamp:r}=t,[o]=o1(n),i=JIe(t),s=qo(r,{minimal:!0});return l.jsxs(Yt,{space:2,children:[l.jsxs(U,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[l.jsx(Na,{user:n}),l.jsx(Yt,{paddingLeft:2,children:l.jsx(B,{muted:!0,size:1,style:{color:i.text},children:o?o.displayName:"Loading…"})})]}),l.jsx(B,{as:"time",muted:!0,size:1,dateTime:r,children:s})]})}var cse=Object.freeze,Con=Object.defineProperty,Son=(e,t)=>cse(Con(e,"raw",{value:cse(t||e.slice())})),use;const Eon=I(J)(use||(use=Son([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),e=>{let{theme:t}=e;return pe(t.sanity.radius[2])},e=>{let{theme:t}=e;return t.sanity.color.card.enabled.bg}),kon=[],Si=h.forwardRef(function(t,n){const{annotation:r,as:o="div",children:i,className:s,diff:a,disableHoverEffect:c,path:u=kon,style:d={},tooltip:f,...p}=t,m=h.useMemo(()=>r||r_(a,u),[r,a,u]),v=JIe(m),g=l.jsx(Eon,{...p,as:o,className:s,"data-hover":c||!m?void 0:"",ref:n,radius:1,style:{...d,backgroundColor:v.background,color:v.text},children:i});return f&&m?l.jsx(Gi,{annotations:[m],description:f&&typeof f=="object"&&f.description,children:g}):g});var dse=Object.freeze,jon=Object.defineProperty,e3e=(e,t)=>dse(jon(e,"raw",{value:dse(t||e.slice())})),fse,hse;const oV=I.div(fse||(fse=e3e([`
  border-radius: `,`;
  padding: `,`;
`])),e=>{let{theme:t}=e;return pe(t.sanity.radius[2])},e=>{let{theme:t}=e;return pe(t.sanity.space[1])}),jj=I(B)(hse||(hse=e3e([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function Ton(e){const{change:t,segment:n}=e;if(typeof n=="string")return l.jsx(M,{children:l.jsx(B,{title:n,size:1,weight:"semibold",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:o,toIndex:i,annotation:s}=n,a=typeof o>"u",c=typeof i>"u";if(a)return l.jsx(Aon,{annotation:s,change:t,toIndex:i});if(c)return l.jsx(Oon,{annotation:s,fromIndex:o});if(r&&typeof i<"u"&&typeof o<"u")return l.jsx(Pon,{annotation:s,fromIndex:o,toIndex:i});const u=(i||0)+1;return l.jsx(M,{padding:1,children:l.jsxs(B,{size:1,weight:"semibold",children:["#",u]})})}function Aon(e){const{annotation:t,change:n,toIndex:r=0}=e,o=r+1,i="Added in position ".concat(o),s=l.jsxs(l.Fragment,{children:["#",o]}),c=(n!=null&&n.diff?r_(n.diff,[]):void 0)||t;return c?l.jsx(Si,{annotation:c,tooltip:{description:i},as:oV,children:l.jsx(jj,{size:1,weight:"semibold",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):l.jsx(B,{size:1,weight:"semibold",children:s})}function Oon(e){const{annotation:t,fromIndex:n=0}=e,r=n+1,o="Removed from position ".concat(r);return l.jsx(Si,{annotation:t||null,as:oV,tooltip:{description:o},children:l.jsxs(jj,{size:1,weight:"semibold",forwardedAs:"del",children:["#",r]})})}function Pon(e){const{annotation:t,fromIndex:n,toIndex:r}=e,o=r-n,i=o<0?"↑":"↓",s=Math.abs(o),a="Moved ".concat(s," position").concat(s===1?"":"s"," ").concat(o<0?"up":"down");return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:1,children:l.jsxs(jj,{size:1,weight:"semibold",children:["#",r+1]})}),l.jsx(Si,{annotation:t,as:oV,tooltip:{description:a},children:l.jsxs(jj,{size:1,weight:"semibold",children:[i,Math.abs(o)]})})]})}function t3e(e){const{change:t,titlePath:n}=e;return l.jsx(n7,{maxLength:4,separator:l.jsx(B,{muted:!0,size:1,children:l.jsx(Tc,{})}),children:n.map((r,o)=>typeof r=="string"||!t||t.showIndex?l.jsx(Ton,{change:t,segment:r},o):null)})}function Don(e){return bt(e)&&typeof(e==null?void 0:e.then)=="function"}function Ion(e,t,n){const{currentUser:r,document:o,parent:i,value:s}=n,a=h.useRef(!1);return h.useMemo(()=>{let c=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{c=e({document:o,parent:i,value:s,currentUser:r})}catch(u){return console.error("An error occurred while running the callback from `".concat(t,"`: ").concat(u.message)),!1}return Don(c)&&!a.current?(console.warn("The `".concat(t,"` option is either a promise or a promise returning function. Async callbacks for `").concat(t,"` option is not currently supported.")),!1):(typeof c>"u"&&console.warn("The `".concat(t,"` option is or returned `undefined`. `").concat(t,"` should return a boolean.")),c)},[e,o,i,s,r,t])}const I6=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:o,value:i}=e,s=Do(i),a=No();return Ion(t,n,{currentUser:a,document:r,parent:o,value:s})},Wu=h.createContext({path:[]});function R6(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{message:"Value is ".concat(r,", expected ").concat(n),value:e};if(Ron(t)&&$on(e))for(const o of t.fields){const i=R6(e[o.name],o.type);if(i)return i}}}function Ron(e){return e.jsonType==="object"}function $on(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function Mon(e){return FL(e)?e._type:Lon(e)}function Fon(e,t){return e.action==="added"?{toType:J1(t,e.toValue)}:e.action==="changed"?{fromType:J1(t,e.fromValue),toType:J1(t,e.toValue)}:e.action==="removed"?{fromType:J1(t,e.fromValue)}:{toType:J1(t,e.toValue)}}function J1(e,t){const n=Mon(t),r=e.of.find(o=>o.name===n);return r||(e.of.length===1?e.of[0]:void 0)}function Lon(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const G0=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],TO="",K0=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],Bon="↲",Tj=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Non=" ",n3e="⁠";function zon(e){return e.of.some(o3e)}const Von=K0.map(e=>e[0]).concat(G0.map(e=>e[0])),Hon=K0.map(e=>e[1]).concat(G0.map(e=>e[1])),r3e=Von.concat(Hon).concat(Tj).concat(TO).concat(n3e),pse=new RegExp("".concat(r3e.join("|")),"g"),Uon=new RegExp("".concat(r3e.join("|"),`|
`),"g");function o3e(e){return e.jsonType==="object"&&e.name==="block"}function Won(e){return zf(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function mse(e,t){return e.fields.children.items.filter(r=>r.diff.isChanged&&(r.diff.toValue===t||r.diff.fromValue===t)).map(r=>r.diff).map(r=>r)[0]}function $6(e,t){const n=e.find(o=>o.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(o=>o.name===t._type)||void 0}function iV(e){return e.decorators?$0(e.decorators,["value"],["asc"]):[]}function i3e(e,t){return iV(t).some(n=>n.value===e)}function gse(e,t,n,r,o){return t?t.children.map(i=>{var s;let a=Gs(i)?(s=i.text)==null?void 0:s.replace(pse,""):"";if(Gs(i)){const c=sV(e,i),u=c==null?void 0:c.fields.text;u&&u.toValue===i.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(pse,"")).join(n3e)),i.marks&&i.marks.forEach(d=>{!!n[d]?a="".concat(n[d][0]).concat(a).concat(n[d][1]):r[d]&&(a="".concat(r[d][0]).concat(a).concat(r[d][1]))})}else a=o[i._key];return"".concat(TO).concat(a)}).join(""):""}function Yon(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const o={},i={},s={},a=$6(t.fields,{_key:"bogus",_type:"span"});a&&iV(a).forEach((g,b)=>{i[g.value]=K0[b]}),l3e(r.origin).forEach((g,b)=>{o[g._key]=G0[b]}),s3e(r.origin).forEach((g,b)=>{s[g._key]=Tj[b]});const d=gse(r.origin,r.fromValue,i,o,s),f=gse(r.origin,r.toValue,i,o,s),p={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]},m={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:d,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:p,fromValue:m,toValue:p,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:d,toValue:f,segments:qon(d,f).map(g=>({...g,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:m.children[0],toValue:p.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:m.children,toValue:p.children}}}}throw new Error("Can not display this diff")}function qon(e,t){const n=[],r=MB(Lw(e,t));let o=0,i=0;for(const[s,a]of r)switch(s){case Ct:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Cn:n.push({type:"stringSegment",action:"removed",text:e.substring(o,o+a.length),annotation:null}),o+=a.length;break;case Vn:n.push({type:"stringSegment",action:"added",text:t.substring(i,i+a.length),annotation:null}),i+=a.length;break}return En(n.map(s=>{const a=[];if(s.text.length>1){const c=[...s.text.matchAll(Uon)];let u=-1;c.forEach(d=>{const f=d.index||0;f>u&&(a.push({...s,text:s.text.substring(u+1,f)}),a.push({...s,text:d[0]})),d===c[c.length-1]&&a.push({...s,text:s.text.substring(f+1)}),u=f}),c.length===0&&a.push(s)}else a.push(s);return a}))}function s3e(e){const t=[...e.toValue?e.toValue.children.filter(r=>r._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(r=>r._type!=="span"):[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),$0(t,["_key"],["asc"])}function sV(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function Gon(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function a3e(e){return e&&zt(Object.keys(e),["_key","_type"])||!1}function Kon(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function l3e(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),$0(t,["_key"],["asc"])}const Zon=[];function Xon(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:n==null?void 0:n.background,children:[l.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof t>"u"&&l.jsx("path",{d:"M4.07996 8.5H12.92",stroke:n==null?void 0:n.text,strokeWidth:"2"}),t&&l.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:n==null?void 0:n.text,strokeWidth:"2"})]})}function Qon(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{width:"38",height:"22",rx:"11",fill:t?n==null?void 0:n.border:n==null?void 0:n.background}),typeof t>"u"&&l.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),t&&l.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof t=="boolean"&&!t&&l.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const Jon=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o}=t,{title:i,options:s}=n,a=(s==null?void 0:s.layout)==="checkbox"?Xon:Qon,c=t0(t,[]),u=o!=null;return l.jsxs(U,{align:"center",children:[l.jsx(Gi,{diff:t,children:l.jsxs(U,{align:"center",children:[l.jsx(a,{checked:r,color:c}),u&&l.jsxs(l.Fragment,{children:[l.jsx(M,{marginX:2,children:l.jsx(hV,{})}),l.jsx(a,{checked:o,color:c})]})]})}),u&&i&&l.jsx(M,{marginLeft:2,children:l.jsx(B,{size:1,weight:"semibold",children:i})})]})};var vse=Object.freeze,ein=Object.defineProperty,tin=(e,t)=>vse(ein(e,"raw",{value:vse(t||e.slice())})),yse;const nin="YYYY-MM-DD",rin="HH:mm",oin=I.div(yse||(yse=tin([`
  display: inline-block;
  word-wrap: break-word;
`]))),iin=function(t){let{value:n,schemaType:r}=t;return l.jsx(M,{as:oin,paddingX:2,paddingY:1,children:sin(n,r)})};function sin(e,t){const{options:n,name:r}=t,o=(n==null?void 0:n.dateFormat)||nin,i=(n==null?void 0:n.timeFormat)||rin;return XA(new Date(e),r==="date"?o:"".concat(o," ").concat(i))}const bse=e=>{let{diff:t,schemaType:n}=e;return l.jsx(o_,{align:"center",diff:t,layout:"grid",previewComponent:iin,schemaType:n})},c3e=h.createContext(null);function AO(){const e=h.useContext(c3e);if(!e)throw new Error("DocumentChange: missing context value");return e}function xse(e){const[t,n]=h.useState(void 0),r=ar(tn);return h.useEffect(()=>{if(!e)return;const o=r.observable.getDocument(e).subscribe(n);return()=>{o.unsubscribe()}},[r,e]),e?t:void 0}function ain(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}var wse=Object.freeze,lin=Object.defineProperty,cin=(e,t)=>wse(lin(e,"raw",{value:wse(t||e.slice())})),_se;const uin=I.div(_se||(_se=cin([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),e=>{let{theme:t}=e;return`
    --size-diff-positive: `.concat(t.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(t.sanity.color.solid.critical.enabled.bg,`;
  `)}),din=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o,fields:i}=t,s=r==null?void 0:r.asset,a=o==null?void 0:o.asset,c=xse(s==null?void 0:s._ref),u=xse(a==null?void 0:a._ref),d=Object.entries(i).filter(S=>{let[E,j]=S;return j.isChanged&&E!=="_type"}).map(S=>{let[E]=S;return E}),f=d.includes("asset"),p=n.fields.filter(S=>S.name!=="asset"&&d.includes(S.name)).map(S=>S.name),m=(c==null?void 0:c.size)&&c.size/1e3/1e3,v=(u==null?void 0:u.size)&&u.size/1e3/1e3,g=ain(m,v),b=m?m.toFixed(2):void 0,x=v?v.toFixed(2):void 0,y=h.useMemo(()=>({display:"block",flex:1}),[]),w=c&&l.jsx(Si,{as:"del",diff:t,path:"asset._ref",style:y,children:l.jsx(N6,{title:c.originalFilename||"Untitled",icon:Sf,children:l.jsx(B,{size:0,style:{color:"inherit"},children:"".concat(b,"MB")})})}),_=u&&l.jsx(Si,{as:"ins",diff:t,path:"asset._ref",style:y,children:l.jsx(N6,{title:u.originalFilename||"Untitled",icon:Sf,children:l.jsxs(U,{align:"center",children:[l.jsx(B,{size:0,style:{color:"inherit"},children:"".concat(x,"MB")}),g!==0&&l.jsx(J,{radius:2,padding:1,as:uin,marginLeft:2,children:l.jsxs(B,{size:0,"data-number":g>0?"positive":"negative",children:[g>0&&"+",g,"%"]})})]})})}),C=l.jsxs(l.Fragment,{children:[w&&!_&&l.jsx(Gi,{diff:t,path:"asset._ref",description:"Removed",children:w}),w&&_&&l.jsx(Gi,{diff:t,path:"asset._ref",children:l.jsx(pV,{from:w,layout:"grid",to:_})}),!w&&_&&l.jsx(Gi,{diff:t,path:"asset._ref",description:"Added",children:_})]});return l.jsxs(l.Fragment,{children:[f&&C,p.length>0&&l.jsx(M,{marginTop:f?4:3,children:l.jsx(i_,{diff:t,schemaType:n,fields:p})})]})};function Cse(e,t){const n=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(r=>parseInt(r,16)).concat(t);return"rgba(".concat(n.join(", "),")")}function fin(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function hin(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function pin(e){const{crop:t,diff:n,hash:r,hotspot:o,width:i=100,height:s=100,...a}=e,c=t0(n,"crop"),u=t0(n,"hotspot");return l.jsxs("svg",{...a,fill:"none",width:i,height:s,viewBox:"0 0 ".concat(i," ").concat(s),children:[l.jsx("defs",{children:t&&o&&l.jsxs("mask",{id:"mask-hotspot-".concat(r),children:[l.jsx("rect",{x:0,y:0,width:i,height:s,fill:"#fff"}),l.jsx(Sse,{hotspot:o,fill:"#000",offset:1,width:i,height:s,stroke:"#000",strokeWidth:3})]})}),t&&l.jsx(Gi,{diff:n,path:"crop",description:"Crop changed",children:l.jsx("g",{children:l.jsx(min,{crop:t,fill:Cse(c.border,.25),mask:o?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:c.border,strokeWidth:1,width:i,height:s})})}),o&&l.jsx(Gi,{diff:n,path:"hotspot",description:"Hotspot changed",children:l.jsx("g",{children:l.jsx(Sse,{hotspot:o,fill:Cse(u.border,.25),stroke:u.border,strokeWidth:1,width:i,height:s})})})]})}function min(e){let{crop:t,width:n,height:r,...o}=e;const i={x:t.left*n,y:t.top*r,width:(1-t.right-t.left)*n,height:(1-t.bottom-t.top)*r};return l.jsx("rect",{...o,...i,style:{vectorEffect:"non-scaling-stroke"}})}function Sse(e){let{hotspot:t,offset:n=0,width:r,height:o,...i}=e;const s={cx:t.x*r,cy:t.y*o,rx:t.width/2*r+n,ry:t.height/2*o+n};return l.jsx("ellipse",{...i,...s,style:{vectorEffect:"non-scaling-stroke"}})}var Ese=Object.freeze,gin=Object.defineProperty,aV=(e,t)=>Ese(gin(e,"raw",{value:Ese(t||e.slice())})),kse,jse,Tse;const vin=["originalFilename"],Ase=()=>l.jsx(J,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:l.jsx(U,{align:"center",justify:"center",height:"fill",children:l.jsx(B,{size:1,muted:!0,children:"(no image)"})})}),yin=I.div(kse||(kse=aV([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),fe.gray[100].hex,fe.gray[50].hex,fe.gray[50].hex,fe.gray[50].hex,fe.gray[50].hex),bin=I.img(jse||(jse=aV([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),xin=I.div(Tse||(Tse=aV([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function R3(e){var t,n,r,o;const{id:i,action:s,diff:a,hotspot:c,crop:u,is:d}=e,f=ar(tn),[p,m]=ne.useState(),{value:v}=c5n(i,vin),g=h3t(i),b=h.useMemo(()=>$A(f),[f]),x=v===null,y=v&&v.originalFilename||"Untitled",w=b.image(i).height(190).dpr(hin()).fit("max"),_=((n=(t=a.fromValue)==null?void 0:t.asset)==null?void 0:n._ref)!==((o=(r=a.toValue)==null?void 0:r.asset)==null?void 0:o._ref),C=s==="changed"?void 0:s;return l.jsxs(U,{direction:"column",height:"fill",flex:1,children:[l.jsx(M,{flex:1,padding:2,paddingBottom:0,children:l.jsxs(U,{as:yin,direction:"column","data-changed":d==="from"&&_?"":void 0,"data-error":p?"":void 0,children:[!x&&!p&&l.jsx(bin,{src:w.toString()||"",alt:y,"data-action":C,onError:m,width:g.width,height:g.height}),(x||p)&&l.jsx(M,{paddingY:5,children:l.jsx(B,{size:1,muted:!0,align:"center",children:x?"Image is deleted":"Error loading image"})}),l.jsx(xin,{children:l.jsx(pin,{crop:u&&!JIt(u)?u:void 0,diff:a,hash:fin("".concat(w.toString()||"","-").concat(d)),hotspot:c&&!e3t(c)?c:void 0,width:g.width,height:g.height})})]})}),l.jsx(N6,{title:y,icon:Cl,markRemoved:_&&d==="from",children:C?l.jsx("div",{children:C}):l.jsxs("div",{children:[g.width," × ",g.height]})})]})}const win=["crop","hotspot"],_in=["asset",...win],$3={flex:1},Cin=e=>{let{diff:t,schemaType:n}=e;var r,o;const{fromValue:i,toValue:s,fields:a,isChanged:c}=t,u=(r=i==null?void 0:i.asset)==null?void 0:r._ref,d=(o=s==null?void 0:s.asset)==null?void 0:o._ref,f=r_(t,["asset","_ref"]),p=Object.keys(a).filter(j=>a[j].isChanged&&j!=="_type"),m=n.fields.filter(j=>!_in.includes(j.name)&&p.includes(j.name)).map(j=>j.name);let v="changed";!u&&d?v="added":!d&&u&&(v="removed");const g=p.includes("asset"),b=p.includes("crop"),x=p.includes("hotspot"),y=b||x,w=g||y,_=y&&!g,C=i&&u?l.jsx(Si,{annotation:f,style:$3,children:l.jsx(R3,{is:"from",id:u,diff:t,action:v,hotspot:_&&x?i.hotspot:void 0,crop:_&&b?i.crop:void 0})}):l.jsx(Ase,{}),S=s&&d?l.jsx(Si,{annotation:f,style:$3,children:l.jsx(R3,{is:"to",id:d,diff:t,hotspot:_&&x?s.hotspot:void 0,crop:_&&b?s.crop:void 0})}):l.jsx(Ase,{});if(!C&&!S)return l.jsx(J,{padding:4,radius:2,tone:"transparent",children:l.jsx(B,{muted:!0,size:1,align:"center",children:"Image not set"})});if(!c)return d?l.jsx(Si,{annotation:f,style:$3,children:l.jsx(R3,{id:d,is:"to",diff:t})}):null;const E=l.jsx(pV,{align:"center",from:C,layout:"grid",to:S});return l.jsxs(l.Fragment,{children:[w&&(g?l.jsx(Gi,{annotations:f?[f]:[],description:"".concat(v[0].toUpperCase()).concat(v.slice(1)),children:E}):E),m.length>0&&l.jsx(M,{marginTop:w?4:3,children:l.jsx(i_,{diff:t,schemaType:n,fields:m})})]})};var Ose=Object.freeze,Sin=Object.defineProperty,Ein=(e,t)=>Ose(Sin(e,"raw",{value:Ose(t||e.slice())})),Pse;const kin=I.div(Pse||(Pse=Ein([`
  display: inline-block;
  word-break: break-all;
`]))),jin=e=>{const{value:t}=e;return l.jsx(M,{as:kin,paddingX:2,paddingY:1,children:t})},Tin=e=>{let{diff:t,schemaType:n}=e;return l.jsx(o_,{diff:t,schemaType:n,previewComponent:jin,layout:"inline"})};var Dse=Object.freeze,Ain=Object.defineProperty,Oin=(e,t)=>Dse(Ain(e,"raw",{value:Dse(t||e.slice())})),Ise;const Pin=I.blockquote(Ise||(Ise=Oin([`
  margin: 0;
`])));function Din(e){let{children:t}=e;return l.jsx("div",{children:l.jsx(Pin,{children:t})})}var Rse=Object.freeze,Iin=Object.defineProperty,Rin=(e,t)=>Rse(Iin(e,"raw",{value:Rse(t||e.slice())})),$se;const $in={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},Min=I(Lo)($se||($se=Rin([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function Fin(e){let{style:t,children:n}=e;return l.jsx(Min,{size:$in[t],children:n})}var Mse=Object.freeze,Lin=Object.defineProperty,Bin=(e,t)=>Mse(Lin(e,"raw",{value:Mse(t||e.slice())})),Fse;const Nin=I.div(Fse||(Fse=Bin([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function zin(e){let{children:t}=e;return l.jsx(Nin,{children:t})}const Vin=[];function Hin(e){var t,n,r;const{diff:o,block:i,children:s}=e,a=t0(o,Vin),{path:c}=h.useContext(Wu),{onSetFocus:u}=h.useContext(Om),d=o.action==="removed";let f=s;const p=h.useCallback(v=>{v.stopPropagation(),d||u(c)},[c,d,u]);i.style==="blockquote"?f=l.jsx(Din,{children:f}):i.style&&Won(i)?f=l.jsx(Fin,{style:i.style,children:f}):f=l.jsx(zin,{children:f});let m;if(o.origin.action==="changed"&&o.origin.fields.style&&o.origin.fields.style.action==="changed"&&o.origin.fields.style.annotation){m=(n=(t=o==null?void 0:o.origin)==null?void 0:t.fromValue)==null?void 0:n.style;const v=a?{background:a.background,color:a.text}:{};f=l.jsx(J,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:l.jsxs(te,{space:2,children:[l.jsx(Gi,{annotations:[(r=o.origin.fields.style)==null?void 0:r.annotation],diff:o.origin.fields.style,children:l.jsxs(B,{size:0,children:["Changed block style from '",m,"' to '",i.style,"'"]})}),l.jsx(M,{style:v,children:f})]})})}return l.jsx("div",{onClick:p,"data-diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:f})}var Lse=Object.freeze,Uin=Object.defineProperty,OO=(e,t)=>Lse(Uin(e,"raw",{value:Lse(t||e.slice())})),Bse,Nse,zse,Vse;const Z0=I(M)(Bse||(Bse=OO([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),u3e=I(B)(Nse||(Nse=OO([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),lV=I(M)(zse||(zse=OO([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),Z0),d3e=I(M)(Vse||(Vse=OO([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var Hse=Object.freeze,Win=Object.defineProperty,Yin=(e,t)=>Hse(Win(e,"raw",{value:Hse(t||e.slice())})),Use;const M6=I.div(Use||(Use=Yin([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),lV);function qin(e){let{children:t,diff:n,object:r,schemaType:o,path:i,...s}=e;return o?n&&n.action!=="unchanged"?l.jsx(Gin,{...s,diff:n,object:r,schemaType:o,path:i,children:t}):l.jsx(M6,{children:t}):l.jsx(M6,{...s,children:"Unknown schema type"})}function Gin(e){let{diff:t,children:n,object:r,schemaType:o,path:i,...s}=e;const{onSetFocus:a}=h.useContext(Om),{path:c}=h.useContext(Wu),[u,d]=h.useState(null),f=t0(t,[]),p=h.useMemo(()=>f?{background:f.background,color:f.text}:{},[f]),m=t.action==="removed",[v,g]=h.useState(!1),b=r&&a3e(r),x=h.useMemo(()=>[i[0]].concat(["markDefs",{_key:r._key}]),[r._key,i]),y=h.useMemo(()=>c.slice(0,c.findIndex(P=>Tr(P)&&P._key===r._key)),[c,r._key]),w=h.useMemo(()=>y.concat(i),[i,y]),_=h.useMemo(()=>y.concat(x),[x,y]),C="field-".concat(Cr(_)),S=Tz(),E=h.useMemo(()=>S.filter(P=>{let[D]=P;return D.startsWith(C)}).length>0,[C,S]);h.useEffect(()=>{!v&&E&&(g(!0),a(_))},[E,_,a,v]);const j=h.useCallback(P=>{P.stopPropagation(),g(!0),m||(P.preventDefault(),a(w),setTimeout(()=>a(_),10))},[w,m,_,a]),k=h.useCallback(()=>{E||g(!1)},[E]);rr(k,[u]);const T=t.action!=="unchanged"&&t.annotation||null,A=h.useMemo(()=>T?[T]:[],[T]),O=l.jsx(Wu.Provider,{value:{path:_},children:l.jsx(d3e,{padding:3,children:l.jsxs("div",{children:[b&&l.jsxs(Nt,{size:1,muted:!0,children:["Empty ",o.title]}),!b&&l.jsx(i_,{diff:t,schemaType:o})]})})});return l.jsx(M6,{...s,onClick:j,style:p,"data-changed":"","data-removed":t.action==="removed"?"":void 0,children:l.jsx(nn,{content:O,open:v,ref:d,portal:!0,children:l.jsx(lV,{paddingLeft:1,children:l.jsx(Gi,{annotations:A,description:"".concat(t.action," annotation"),children:l.jsxs(Z0,{style:{display:"inline-flex"},children:[l.jsx("span",{children:n}),l.jsx(U,{align:"center",paddingX:1,children:l.jsx(u3e,{size:0,children:l.jsx(Ya,{})})})]})})})})})}var Wse=Object.freeze,Kin=Object.defineProperty,Zin=(e,t)=>Wse(Kin(e,"raw",{value:Wse(t||e.slice())})),Yse;const Xin=I.span(Yse||(Yse=Zin([`
  display: inline;
  `,`
`])),e=>{let{theme:t,decoration:n}=e;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(t.sanity.fonts.code.family,`;
          background: `).concat(t.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function Qin(e){let{mark:t,children:n}=e;return l.jsx(Xin,{decoration:t,children:n})}var qse=Object.freeze,Jin=Object.defineProperty,esn=(e,t)=>qse(Jin(e,"raw",{value:qse(t||e.slice())})),Gse;const F6=I(J)(Gse||(Gse=esn([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),Z0);function tsn(e){let{diff:t,object:n,schemaType:r,...o}=e;return r?t?l.jsx(nsn,{...o,diff:t,object:n,schemaType:r}):l.jsx(F6,{children:l.jsx(d_,{schemaType:r,value:n,layout:"inline"})}):l.jsxs(F6,{...o,border:!0,radius:1,children:["Unknown schema type: ",n._type]})}function nsn(e){let{diff:t,object:n,path:r,schemaType:o,...i}=e;const{path:s}=h.useContext(Wu),{onSetFocus:a}=h.useContext(Om),c=t0(t,[]),u=h.useMemo(()=>c?{background:c.background,color:c.text}:{},[c]),[d,f]=h.useState(!1),p=n&&a3e(n),m=t.action==="removed",g=s.slice(0,s.findIndex(k=>Tr(k)&&k._key===n._key)).concat(r),b="field-".concat(Cr(g)),y=Tz().filter(k=>{let[T]=k;return T.startsWith(b)}).length>0,w=s.slice(0,-1).concat(r).concat([wbe]);h.useEffect(()=>{y&&(f(!0),a(w))},[w,y,a]);const _=h.useCallback(k=>{if(k.stopPropagation(),f(!0),!m){a(w);return}k.preventDefault()},[w,m,a]),C=h.useCallback(()=>{f(!1)},[]),S=l.jsx(Wu.Provider,{value:{path:g},children:l.jsx(rsn,{diff:t,emptyObject:p,onClose:C,schemaType:o})}),E=t.action!=="unchanged"&&t.annotation||null,j=E?[E]:[];return l.jsx(F6,{...i,onClick:_,style:u,"data-removed":t.action==="removed"?"":void 0,border:!0,radius:2,children:l.jsx(nn,{content:S,open:d,portal:!0,children:l.jsx(lV,{children:l.jsx(Gi,{annotations:j,description:"".concat(t.action," inline object"),children:l.jsxs(Z0,{children:[l.jsx(d_,{schemaType:o,value:n,layout:"inline"}),l.jsx(U,{align:"center",paddingX:1,children:l.jsx(u3e,{size:0,children:l.jsx(Ya,{})})})]})})})})})}function rsn(e){let{diff:t,emptyObject:n,onClose:r,schemaType:o}=e;const[i,s]=h.useState(null),a=h.useCallback(()=>{r()},[r]);return rr(a,[i]),l.jsxs(d3e,{ref:s,padding:3,children:[n&&l.jsxs(Nt,{size:1,muted:!0,children:["Empty ",o.title]}),!n&&l.jsx(i_,{diff:t,schemaType:o})]})}function osn(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const a=t||n;return a&&a.action!=="unchanged"&&i.action!=="unchanged"?l.jsx(isn,{...s,childDiff:n,diff:t,segment:i,path:o,children:r}):l.jsx(Z0,{children:r})}function isn(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const{onSetFocus:a}=ne.useContext(Om),{path:c}=ne.useContext(Wu),u=h.useMemo(()=>o.slice(-2,1)[0],[o]),d=t&&t.action==="removed",p=c.slice(0,c.findIndex(y=>Tr(y)&&Tr(u)&&y._key===u._key)).concat(o),m=h.useCallback(y=>{y.stopPropagation(),d||(y.preventDefault(),a(p))},[p,d,a]),g=t&&t.segments.find(y=>y.text===i.text)||t||n,b=g&&g.action!=="unchanged"&&g.annotation||null,x=b&&i.action!=="unchanged"?l.jsx(Si,{annotation:b,as:i.action==="removed"?"del":"ins",tooltip:{description:"".concat(rn(i.action)," text")},children:r}):null;return l.jsx(Z0,{...s,onClick:m,"data-changed":"",children:l.jsx("span",{children:l.jsx(l.Fragment,{children:x||r})})})}const cV=K0.map(e=>e[0]),uV=K0.map(e=>e[1]),yE=G0.map(e=>e[0]),L6=G0.map(e=>e[1]),ssn=cV.concat(yE),f3e=uV.concat(L6),asn=cV.concat(uV),lsn=new RegExp("".concat(asn.concat(f3e).join("|")),"g");function csn(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,o=h.useMemo(()=>t.origin.toValue?s3e(t.origin):[],[t.origin]),i=h.useCallback(s=>{const a=$6(n.fields,s);let c=[];if(a){c=iV(a);const u=t.fields.children,d=u.items[0].diff&&u.items[0].diff.type==="object"&&u.items[0].diff.fields.text.type==="string"&&u.items[0].diff.fields.text.segments||[],f=[],p={};if(fsn(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const y=mse(t.origin,r.children[0])||t.origin;if(y&&y.action!=="unchanged")return l.jsx(Si,{annotation:y.annotation,as:y.action==="removed"?"del":"ins",tooltip:{description:"".concat(rn(y.action)," empty text")},children:l.jsx("span",{children:Bon})},"empty-block-".concat(r._key))}let m=-1,v=-1;const g=[];let b;const x=l3e(t.origin);return d.forEach(y=>{var w,_,C;v++;const S=Tj.includes(y.text),E=ssn.includes(y.text),j=f3e.includes(y.text),k=y.text===TO,T=y.action==="removed";if(k)T||m++;else if(E||j){if(E&&yE.includes(y.text)){const A=x[yE.indexOf(y.text)];A&&g.push({mark:A._key,symbols:[y.text,L6[yE.indexOf(y.text)]],object:A})}j&&L6.includes(y.text)&&(b=g.pop())}else if(S){const A=Tj.findIndex(D=>D===y.text),O=(w=o[A])==null?void 0:w._key,P=o[A];if(O){const D=$6(n.fields,P),R=mse(t.origin,P);f.push(l.jsx(tsn,{object:P,path:[{_key:r._key},"children",{_key:P._key}],diff:R,schemaType:D},"inline-object-".concat(P._key)))}}else if(y.text){const A=()=>{var $;return($=t.origin.fromValue)==null?void 0:$.children.find(H=>H.text&&H.text.match(Kon(y.text)))},O=r.children[m]||A(),P=O&&sV(t.origin,O);if(!O)throw new Error("Could not find child");const D=(_=P==null?void 0:P.fields)!=null&&_.text?(C=P==null?void 0:P.fields)==null?void 0:C.text:void 0,R=l.jsx(osn,{diff:D,path:[{_key:r._key},"children",{_key:O._key}],childDiff:P,segment:y,children:usn({diff:t,child:O,decoratorTypes:c,seg:y,segIndex:v,spanSchemaType:a})},"text-".concat(O._key,"-").concat(v));if(g.length>0&&g.forEach($=>{p[$.mark]=p[$.mark]||[],p[$.mark].push(R)}),b){const $="annotation-".concat(b.object._key),H=f[f.length-1];if(H&&H.key!==$){const F=Gon(t.origin,b.mark),V=b&&a.annotations&&a.annotations.find(W=>b&&b.object&&W.name===b.object._type);f.push(l.jsx(qin,{object:b.object,diff:F,path:[{_key:r._key},"children",{_key:O._key}],schemaType:V,children:l.jsx(l.Fragment,{children:p[b.mark]})},$))}b=void 0}g.length===0&&f.push(R)}}),ne.createElement("div",{key:r._key},...f)}throw new Error("'span' schemaType not found")},[r,t,o,n]);return l.jsx(Hin,{block:t.displayValue,diff:t,children:l.jsx(l.Fragment,{children:(t.displayValue.children||[]).map(s=>i(s))})})}function usn(e){let{diff:t,child:n,decoratorTypes:r,seg:o,segIndex:i,spanSchemaType:s}=e;if(o.text===`
`)return l.jsx("br",{});let a=l.jsx("span",{children:o.text.replace(/ /g,Non)},"text-".concat(i));const c=n&&sV(t.origin,n),u=Gs(n)?n.marks||[]:[];return c&&(a=dsn({activeMarks:u,decoratorTypes:r,diff:t,children:a,seg:o,segIndex:i,spanDiff:c,spanSchemaType:s})),u&&u.length>0&&u.forEach(d=>{i3e(d,s)&&(a=l.jsx(Qin,{mark:d,children:a},"decorator-".concat(d,"-").concat(n._key,"-").concat(i)))}),a}function dsn(e){let{activeMarks:t,decoratorTypes:n,diff:r,children:o,seg:i,segIndex:s,spanDiff:a,spanSchemaType:c}=e;var u;let d=l.jsx("span",{children:o},"text-segment-".concat(s));const f=r.origin.fromValue&&r.fromValue&&r.fromValue.children[0].text||"",p=a&&a.action!=="unchanged"&&a.annotation||void 0,m=(u=a==null?void 0:a.fields)==null?void 0:u.marks,v=m&&m.action!=="unchanged"&&m.annotation||p;let g=[];const x=f.split(TO).filter(S=>!!S).join(""),y=x.substring(0,x.indexOf(i.text)+i.text.length),w=y.substring(0,y.indexOf(i.text)),_=[];return[...w.matchAll(lsn)].forEach(S=>{var E;const j=S[0],k=K0.concat(G0).find(T=>T.indexOf(j)>-1);if(k){const T=j===k[0],A=((E=n[T?cV.indexOf(j):uV.indexOf(j)])==null?void 0:E.value)||j;w.lastIndexOf(j)>w.lastIndexOf(k[1])&&_.push(A)}}),g=tVt(t,so(_)),v&&g.length>0&&g.some(S=>i3e(S,c))&&(d=l.jsx(Si,{annotation:v,as:"ins",tooltip:{description:"Changed formatting"},children:d},"diffcard-annotation-".concat(s,"-").concat(g.join("-")))),d}function fsn(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const hsn=e=>{const{diff:t,schemaType:n}=e,r=h.useMemo(()=>Yon(t,n),[t,n]);return l.jsx("div",{"data-diff-action":t.action,children:l.jsx(csn,{diff:r,schemaType:n})})};var Kse=Object.freeze,psn=Object.defineProperty,msn=(e,t)=>Kse(psn(e,"raw",{value:Kse(t||e.slice())})),Zse;const gsn=I.div(Zse||(Zse=msn([`
  word-wrap: break-word;
`]))),vsn=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{as:gsn,padding:2,children:l.jsx(d_,{schemaType:n,value:t,layout:"default"})})},ysn=e=>{let{diff:t,schemaType:n}=e;return l.jsx(o_,{align:"center",diff:t,layout:"grid",path:"_ref",previewComponent:vsn,schemaType:n})};var Xse=Object.freeze,bsn=Object.defineProperty,xsn=(e,t)=>Xse(bsn(e,"raw",{value:Xse(t||e.slice())})),Qse;const wsn=I.div(Qse||(Qse=xsn([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),_sn=e=>{const{value:t}=e;return l.jsx(M,{as:wsn,paddingX:2,paddingY:1,children:t})};var Jse=Object.freeze,Csn=Object.defineProperty,Ssn=(e,t)=>Jse(Csn(e,"raw",{value:Jse(t||e.slice())})),eae;const Esn=I.div(eae||(eae=Ssn([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),ksn=e=>{let{diff:t,schemaType:n}=e;const{options:r}=n;return r!=null&&r.list?l.jsx(o_,{diff:t,previewComponent:_sn,schemaType:n}):l.jsx(Esn,{children:l.jsx(yan,{diff:t})})},tae={block:hsn,boolean:{component:Jon,showHeader:!1},date:bse,datetime:bse,file:din,image:Cin,number:Tin,reference:ysn,string:ksn};function h3e(e,t){var n;let r=e;for(;r;){const s=((n=r==null?void 0:r.components)==null?void 0:n.diff)||jsn(r,t)||tae[r.name];if(s)return s;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return tae[i]}function jsn(e,t){const n=Zon;let r;for(const o of n){if(typeof o!="function"){console.error("Diff component resolver is not a function: ",o);continue}if(r=o({schemaType:e,parentSchemaType:t}),r)return r}}function Tsn(e){const t=nae(e.fromValue),n=nae(e.toValue);return!t&&n?"Added":!n&&t?"Removed":"Changed"}function p3e(e){return e.type==="field"}function nae(e){return e!==null&&typeof e<"u"&&e!==""}function dV(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!h3e(e,o.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return m3e(e,t,n,r,o);if(e.jsonType==="array"&&t.type==="array")return Psn(e,t,n,r)}return g3e(e,t,n,r,o)}function m3e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=[],s={...o,parentSchema:e},a=e.fieldsets||e.fields.map(c=>({single:!0,field:c}));for(const c of a)c.single?i.push(...Asn(c.field,t,n,r,s)):i.push(...Osn(c,t,n,r,s));return i.length<2?i:[{type:"group",key:gn(n)||"root",path:n,titlePath:r,changes:fV(i,r.length),schemaType:e}]}function Asn(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:i,...s}=o,a=t.fields[e.name];if(!a||!a.isChanged||i&&!i.includes(e.name))return[];const c=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return dV(e.type,a,c,u,s)}function Osn(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:i,name:s,title:a,readOnly:c,hidden:u}=e,{fieldFilter:d,...f}=o,p=u,m=c,v=r.concat([a||s]),g=[];for(const b of i){const x=t.fields[b.name];if(!x||!x.isChanged||d&&!d.includes(b.name))continue;const y=n.concat([b.name]),w=v.concat([b.type.title||b.name]);g.push(...dV({readOnly:m,hidden:p,...b.type},x,y,w,f))}return g.length<2?g:[{type:"group",key:gn(n)||"root",fieldsetName:s,path:n,titlePath:v,changes:fV(g,v.length),readOnly:m,hidden:p}]}function Psn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const o=t.items.filter(c=>c.hasMoved&&c.fromIndex!==c.toIndex||c.diff.action!=="unchanged");if(o.length===0)return[];const i=zon(e),s=[],a=o.reduce((c,u)=>{const d=Fon(u.diff,e),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",gn(n)),c;const p=P6(u.diff.fromValue)||P6(u.diff.toValue)||t.items.indexOf(u),m=n.concat(p),v={itemDiff:u,parentDiff:t,parentSchema:e},g=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),b=y=>(y.type==="field"&&ZIe(m,y.path)&&(y.itemDiff=u),y),x=dV(f,u.diff,m,g,v).map(b);return i&&x.filter(p3e).forEach((y,w,_)=>{y.showHeader=_.length===1,y.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),x.length===0?c.push(...g3e(f,u.diff,m,g,v)):c.push(...x),c},s);return a.length>1?[{type:"group",key:gn(n)||"root",path:n,titlePath:r,changes:fV(a,r.length),schemaType:e}]:a}function g3e(e,t,n,r){let{itemDiff:o,parentDiff:i,parentSchema:s}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:a,toValue:c,type:u}=t;if(u==="array"&&rae(a)&&rae(c))return[];let d;typeof a<"u"&&(d=R6(a,e)),!d&&typeof c<"u"&&(d=R6(c,e));let f=!0,p;const m=h3e(e,s);return m&&typeof m=="function"?p=m:m&&(p=m.component,f=typeof m.showHeader>"u"?f:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:o,parentDiff:i,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:gn(n)||"root",diffComponent:d?void 0:p,parentSchema:s}]}function fV(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function rae(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const oae=e=>e.type==="field"&&e.diff.action==="added",v3e=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...v3e(n))}),t},y3e=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Dsn=(e,t)=>{const n=e[t],r=XIe(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},Isn={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function PO(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const o=v3e(e),i=o.filter(oae);o.filter(s=>!oae(s)).forEach(s=>PO(s,t,n)),r.push(...iae(t,i.map(s=>s.path).reverse()))}else e.diff.action==="added"?r.push(...iae(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...$sn(e.itemDiff,e.parentDiff,e.path)):r.push(...Msn(e.diff,t,e.path));n.patch.execute(r)}function Rsn(e,t,n){const r=e.toValue;return b3e(r,t,n)}function iae(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>y3e(t[r],i))||n.push(Rsn(e,t[r],t));return[{unset:[...new Set(n.map(gn))]}]}function b3e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(t.length<=0){if(!r)throw new Error("Root has no ancestor");return r}const o=t.slice(0,-1),i=xl(e,o),s=[o,...n.filter(a=>!y3e(a,o))];return x3e(i,o,n)?b3e(e,o,s,r):t}function $sn(e,t,n){const r=n.slice(0,-1),{parentValue:o,fromIndex:i,fromValue:s}=Bsn(t,e);let a;if(i===0)a={before:gn([...r,0])};else{const c=i-1,d=P6(o[c])||c;a={after:gn([...r,d])}}return[{unset:[gn(n)]},{insert:{...a,items:[s]}}]}function Msn(e,t,n){const r=sO(e.toValue,e.fromValue,Isn,n),o=r.filter(d=>d.op==="insert").map(d=>{let{after:f,items:p}=d;return{insert:{after:gn(f),items:p}}}),i=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(gn(f.path)),[]),s=new Set,a=[];let c=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(c=!0,a.push(...Fsn(f.path,t,s)),d[gn(f.path)]=f.value,d),{});return[...a,...o,...i.length>0?[{unset:i}]:[],...c?[{set:u}]:[]]}function Fsn(e,t,n){const r=t.fromValue,o=t.toValue,i=[];for(let s=1;s<=e.length;s++){const a=e.slice(0,s),c=gn(a);if(n.has(c))continue;const u=e[s],d=Tr(u)||ml(u),f=xl(r,a),p=sae(f);if(d&&Array.isArray(f)&&!xl(o,e.slice(0,s+1))){const m=con(f,u),v=f[m-1],g=xl(r,a.concat(u)),b=wl(v)?{_key:v._key}:m-1,x=gn(a.concat(m<1?0:b));i.push({setIfMissing:{[c]:[]}}),i.push({insert:{after:x,items:[sae(g)]}}),s++;continue}typeof p>"u"||(n.add(c),i.push({setIfMissing:{[c]:p}}))}return i}function Lsn(e,t,n){if(!bt(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const o=[...t,Dsn(e,r)];if(!x3e(e[r],o,n))return!1}return!0}function x3e(e,t,n){const r=n==null?void 0:n.some(i=>gn(i)===gn(t)),o=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||o||mon(e)||Lsn(e,t,n)}function sae(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return wl(e)&&(t._key=e._key),FL(e)&&(t._type=e._type),t}function Bsn(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error("Failed to find item at index ".concat(t.fromIndex))}const Bc=!1;class Nsn extends ne.Component{constructor(){super(...arguments),this.state={}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){console.error("Error rendering diff component: "),console.error(t)}render(){const{error:t}=this.state;return t?l.jsx(J,{padding:3,radius:2,tone:"critical",children:l.jsxs(U,{children:[l.jsx(B,{size:1,children:l.jsx(sa,{})}),l.jsxs(M,{paddingLeft:3,children:[l.jsx(B,{as:"h3",size:1,weight:"medium",children:"Rendering the changes to this field caused an error"}),Bc]})]})}):this.props.children}}const zsn={down:exe,right:txe};function hV(e){const{direction:t="right",...n}=e,r=zsn[t];return l.jsx(B,{muted:!0,size:1,...n,children:h.createElement(r)})}var aae=Object.freeze,Vsn=Object.defineProperty,w3e=(e,t)=>aae(Vsn(e,"raw",{value:aae(t||e.slice())})),lae,cae;const M3=I.pre(lae||(lae=w3e([`
  overflow-x: auto;
  position: relative;
`]))),Hsn=I.div(cae||(cae=w3e([`
  position: absolute;
  top: 0;
  right: 0;
`])));function Usn(e){const{children:t,as:n,change:r,...o}=e,i=h.useRef(!1),[s,a]=h.useState(!1),c=h.useCallback(()=>a(f=>!f),[a]),u=h.useCallback(()=>i.current=!0,[]),d=h.useCallback(()=>i.current=!1,[i]);return h.useEffect(()=>{function f(p){const{metaKey:m,key:v}=p;m&&v==="i"&&i.current&&c()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[c]),l.jsx(M,{as:n,onMouseEnter:u,onMouseLeave:d,...o,children:s?l.jsx(Wsn,{change:r}):t})}const F3=e=>{let{title:t}=e;return l.jsx(M,{padding:3,display:"inline-block",as:Hsn,children:l.jsx(Nt,{size:1,muted:!0,children:t})})};function Wsn(e){let{change:t}=e;var n,r,o;return l.jsxs(te,{space:3,children:[l.jsxs(J,{padding:3,tone:"transparent",as:M3,radius:1,children:[l.jsx(F3,{title:"meta"}),l.jsx(er,{language:"json",size:1,children:Ysn({path:gn(t.path),fromIndex:(n=t.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=t.itemDiff)==null?void 0:r.toIndex,hasMoved:(o=t.itemDiff)==null?void 0:o.hasMoved,action:t.diff.action,isChanged:t.diff.isChanged})})]}),l.jsxs(J,{as:M3,tone:"critical",padding:3,radius:1,children:[l.jsx(F3,{title:"from"}),l.jsx(er,{language:"json",size:1,children:uae(t.diff.fromValue)})]}),l.jsx(J,{children:l.jsx(hV,{direction:"down",align:"center"})}),l.jsxs(J,{as:M3,tone:"positive",padding:3,radius:1,children:[l.jsx(F3,{title:"to"}),l.jsx(er,{language:"json",size:1,children:uae(t.diff.toValue)})]})]})}function uae(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function Ysn(e){const t=[];return Object.entries(e).forEach(n=>{let[r,o]=n;typeof o<"u"&&o!==null&&t.push("".concat(r,": ").concat(o))}),t.join(`
`)}const qsn={flexShrink:0},Gsn={alignItems:"stretch"},dae={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},pV=h.forwardRef(function(t,n){const{align:r="top",layout:o="inline",from:i,to:s,style:a,...c}=t,u=Ts(),d=o==="inline"?U:en,f=h.useMemo(()=>({...a,...o==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(pe(u.sanity.space[5])," minmax(0, 1fr)")}}),[o,a,u]),p=o==="inline"?qsn:Gsn;return l.jsxs(d,{...c,ref:n,style:f,"data-from-to-layout":!0,children:[i&&l.jsxs(l.Fragment,{children:[l.jsx(U,{align:dae[r],style:p,children:i}),l.jsx(U,{align:"center",justify:"center",padding:2,children:l.jsx(hV,{})})]}),l.jsx(U,{align:dae[r],style:p,children:s})]})}),L3={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function o_(e){const{align:t,cardClassName:n,diff:r,layout:o,path:i,previewComponent:s,schemaType:a}=e,{action:c}=r,u=Tsn(r);if(c==="unchanged")return l.jsx(Si,{className:n,style:L3,children:h.createElement(s,{schemaType:a,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&l.jsx(Si,{as:"del",className:n,diff:r,path:i,style:L3,children:h.createElement(s,{schemaType:a,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&l.jsx(Si,{as:"ins",className:n,diff:r,path:i,style:L3,children:h.createElement(s,{schemaType:a,value:r.toValue})});return d&&!f?l.jsx(Gi,{description:u,diff:r,path:i,children:d}):!d&&f?l.jsx(Gi,{description:u,diff:r,path:i,children:f}):l.jsx(Gi,{description:u,diff:r,path:i,children:l.jsx(pV,{align:t,from:d,layout:o,to:f})})}const Ksn=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{padding:2,children:l.jsx(d_,{schemaType:n,value:t,layout:"default"})})},Zsn=e=>{const{diff:t,schemaType:n}=e;return l.jsx(o_,{diff:t,schemaType:n,previewComponent:Ksn,layout:"grid"})};var fae=Object.freeze,Xsn=Object.defineProperty,Qsn=(e,t)=>fae(Xsn(e,"raw",{value:fae(t||e.slice())})),hae;const Jsn=I(ie)(hae||(hae=Qsn([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),_3e=h.forwardRef(function(t,n){const{selected:r,...o}=t;return l.jsx(Jsn,{icon:c8,selected:r,text:"Revert changes",mode:"bleed",padding:1,fontSize:1,space:2,ref:n,...o})});function ean(e){let{error:t}=e;return l.jsx(J,{tone:"critical",padding:3,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(M,{children:l.jsx(B,{children:l.jsx(sa,{})})}),l.jsx(M,{flex:1,paddingLeft:3,children:l.jsxs(B,{size:1,as:"p",children:["Value error: ",t.message]})})]})})}var pae=Object.freeze,tan=Object.defineProperty,mV=(e,t)=>pae(tan(e,"raw",{value:pae(t||e.slice())})),mae,gae,vae;const nan=I.div(mae||(mae=mV([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),ran=I.div(gae||(gae=mV([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return pe(t.sanity.space[1])},e=>{let{theme:t}=e;return pe(t.sanity.space[2])}),oan=I(nn)(vae||(vae=mV([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function ian(e){var t;const{change:n,hidden:r,readOnly:o}=e,i=n.diffComponent||Zsn,{documentId:s,schemaType:a,rootDiff:c,isComparingCurrent:u,FieldWrapper:d=ne.Fragment}=AO(),f=Bl(s,a.name),[p,m]=h.useState(!1),[v,g]=h.useState(!1),[b,x]=h.useState(null),[y,w]=ch({id:s,type:a.name,permission:"update"}),_=h.useCallback(()=>{PO(n,c,f)},[n,c,f]),C=h.useCallback(()=>{m(!0)},[]),S=ne.useCallback(()=>{m(!1)},[]),E=h.useCallback(()=>{g(!0)},[]),j=h.useCallback(()=>{g(!1)},[]),k=h.useCallback(()=>m(!1),[]);rr(k,[b]);const A=((t=n.parentSchema)==null?void 0:t.jsonType)==="array"?n.path.slice(0,-1):n.path;return h.useMemo(()=>r?null:l.jsxs(te,{space:1,as:nan,children:[n.showHeader&&l.jsx(t3e,{change:n,titlePath:n.titlePath}),l.jsx(d,{path:A,hasHover:v,children:l.jsxs(Usn,{change:n,as:ran,"data-revert-field-hover":v?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?l.jsx(ean,{error:n.error}):l.jsx(Nsn,{children:l.jsx(Wu.Provider,{value:{path:n.path},children:l.jsx(i,{diff:n.diff,schemaType:n.schemaType})})}),u&&!w&&(y==null?void 0:y.granted)&&l.jsx(oan,{content:l.jsxs(M,{padding:3,sizing:"border",children:["Are you sure you want to revert the changes?",l.jsxs(en,{columns:2,gap:2,marginTop:2,children:[l.jsx(ie,{mode:"ghost",onClick:S,children:l.jsx(B,{align:"center",children:"Cancel"})}),l.jsx(ie,{tone:"critical",onClick:_,children:l.jsx(B,{align:"center",children:"Revert change"})})]})]}),open:p,portal:!0,placement:"left",ref:x,children:l.jsx(M,{flex:1,children:l.jsx(_3e,{onClick:C,onMouseEnter:E,onMouseLeave:j,selected:p,disabled:o,"data-testid":"single-change-revert-button-".concat(n==null?void 0:n.key)})})})]})})]}),[n,S,o,p,i,d,r,E,j,_,C,u,w,y,v,A])}function san(){const e=h.useRef(null),[t,n]=h.useState(!1);return h.useEffect(()=>{const r=e.current;if(!r)return()=>{};const o=()=>n(!0),i=()=>n(!1);return r.addEventListener("mouseover",o),r.addEventListener("mouseout",i),()=>{r.removeEventListener("mouseover",o),r.removeEventListener("mouseout",i)}},[]),[e,t]}var yae=Object.freeze,aan=Object.defineProperty,gV=(e,t)=>yae(aan(e,"raw",{value:yae(t||e.slice())})),bae,xae,wae;const lan=I.div(bae||(bae=gV([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),can=I.div(xae||(xae=gV([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return pe(t.sanity.space[1])},e=>{let{theme:t}=e;return pe(t.sanity.space[2])}),uan=I(nn)(wae||(wae=gV([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function dan(e){const{change:t,readOnly:n,hidden:r,...o}=e,{titlePath:i,changes:s,path:a}=t,{path:c}=h.useContext(Wu),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:p,isComparingCurrent:m}=AO(),v=s.every(P=>p3e(P)&&o3e(P.schemaType)),g=ZIe(c,a),[b,x]=san(),y=Bl(u,d.name),[w,_]=h.useState(!1),[C,S]=h.useState(null),[E,j]=ch({id:u,type:d.name,permission:"update"}),k=h.useCallback(()=>PO(t,p,y),[t,p,y]),T=h.useCallback(()=>{_(!0)},[]),A=h.useCallback(()=>{_(!1)},[]);rr(()=>_(!1),[C]);const O=h.useMemo(()=>r?null:l.jsxs(te,{space:1,as:can,"data-revert-group-hover":x?"":void 0,"data-portable-text":v?"":void 0,children:[l.jsx(te,{as:lan,space:5,children:s.map(P=>l.jsx(C3e,{change:P,readOnly:n,hidden:r},P.key))}),m&&!j&&(E==null?void 0:E.granted)&&l.jsx(uan,{content:l.jsxs(M,{children:["Are you sure you want to revert the changes?",l.jsxs(en,{columns:2,gap:2,marginTop:2,children:[l.jsx(ie,{mode:"ghost",onClick:A,children:l.jsx(B,{align:"center",children:"Cancel"})}),l.jsx(ie,{tone:"critical",onClick:k,children:l.jsx(B,{align:"center",children:"Revert change"})})]})]}),portal:!0,padding:4,placement:"left",open:w,ref:S,children:l.jsx(M,{children:l.jsx(_3e,{onClick:T,ref:b,selected:w,disabled:n,"data-testid":"group-change-revert-button-".concat(t.fieldsetName)})})})]}),[s,A,w,n,t.fieldsetName,k,T,r,m,x,j,v,E,b]);return r?null:l.jsxs(te,{space:1,...o,children:[l.jsx(t3e,{titlePath:i}),g||!f?O:l.jsx(f,{hasHover:x,path:t.path,children:O})]})}function C3e(e){var t,n;const{change:r,hidden:o,readOnly:i}=e,{value:s}=AO(),a=I6({document:s,checkProperty:o||((t=r.schemaType)==null?void 0:t.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),c=I6({document:s,checkProperty:i||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return a?null:r.type==="field"?l.jsx(ian,{change:r,readOnly:c}):r.type==="group"?l.jsx(dan,{change:r,"data-testid":"group-change-".concat(r.fieldsetName),readOnly:c}):l.jsxs(B,{children:["Unknown change type: ",l.jsx("code",{children:r.type||"undefined"})]})}function B6(){return l.jsxs(te,{space:3,children:[l.jsx(B,{size:1,weight:"semibold",as:"h3",children:"There are no changes"}),l.jsx(B,{as:"p",size:1,muted:!0,children:"Edit the document or select an older version in the timeline to see a list of changes appear in this panel."})]})}var _ae=Object.freeze,fan=Object.defineProperty,S3e=(e,t)=>_ae(fan(e,"raw",{value:_ae(t||e.slice())})),Cae,Sae;const han=I.div(Cae||(Cae=S3e([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),pan=I(nn)(Sae||(Sae=S3e([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function i_(e){let{diff:t,fields:n,schemaType:r}=e;const{documentId:o,isComparingCurrent:i,value:s}=AO(),a=Bl(o,r.name),{path:c}=h.useContext(Wu),u=c.length===0,[d,f]=h.useState(!1),[p,m]=h.useState(!1),v=I6({document:s,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if(r.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[g,b]=ch({id:o,type:r.name,permission:"update"}),x=h.useMemo(()=>m3e(r,t,c,[],{fieldFilter:n}),[r,n,c,t]),y=h.useMemo(()=>n&&n.length===0?[]:man(x),[x,n]),w=x[0],_=h.useCallback(()=>{PO(w,t,a),f(!1)},[w,t,a]),C=h.useCallback(()=>{f(!0)},[]),S=h.useCallback(()=>{m(!0)},[]),E=h.useCallback(()=>{m(!1)},[]),j=h.useCallback(()=>{f(!1)},[]),[k,T]=h.useState(null),A=h.useCallback(()=>f(!1),[]);if(rr(A,[k]),y.length===0)return u?l.jsx(B6,{}):null;const O=u&&y.length>1;return l.jsx(J,{children:l.jsxs(te,{space:5,children:[l.jsx(te,{as:han,space:5,children:y.map(P=>l.jsx("div",{children:l.jsx(C3e,{change:P,"data-revert-all-changes-hover":p?"":void 0,readOnly:v||(P==null?void 0:P.readOnly),hidden:P==null?void 0:P.hidden},P.key)},P.key))}),O&&i&&!b&&(g==null?void 0:g.granted)&&l.jsx(pan,{content:l.jsxs(M,{children:["Are you sure you want to revert all ",y.length," changes?",l.jsxs(en,{columns:2,gap:2,marginTop:2,children:[l.jsx(ie,{mode:"ghost",text:"Cancel",onClick:j}),l.jsx(ie,{tone:"critical",text:"Revert all",onClick:_})]})]}),open:d,padding:4,placement:"left",portal:!0,ref:T,children:l.jsx(te,{children:l.jsx(ie,{tone:"critical",mode:"ghost",text:"Revert all changes",icon:c8,onClick:C,onMouseEnter:S,onMouseLeave:E,disabled:v})})})]})})}function man(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}var Eae=Object.freeze,gan=Object.defineProperty,E3e=(e,t)=>Eae(gan(e,"raw",{value:Eae(t||e.slice())})),kae,jae;const Tae=I.span(kae||(kae=E3e([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return pe(t.sanity.radius[1])}),Aae=I(B)(jae||(jae=E3e([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function van(e){const{segment:t}=e,{text:n}=t;return t.action==="added"?l.jsx(Si,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:"Added"},as:Tae,children:l.jsx(Aae,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?l.jsx(Si,{annotation:t.annotation,as:Tae,disableHoverEffect:!0,tooltip:{description:"Removed"},children:l.jsx(Aae,{as:"del",children:n})}):l.jsx(J,{as:"span",radius:2,style:{display:"inline"},children:n})}function yan(e){const{diff:t}=e;return l.jsx(l.Fragment,{children:(t.segments||[]).map((n,r)=>l.jsx(van,{segment:n},r))})}var Oae=Object.freeze,ban=Object.defineProperty,xan=(e,t)=>Oae(ban(e,"raw",{value:Oae(t||e.slice())})),Pae;const B3=I(B)(Pae||(Pae=xan([`
  color: inherit;
`])));function N6(e){const{title:t,action:n,icon:r,children:o,markRemoved:i}=e;return l.jsxs(U,{padding:2,align:"center",children:[r&&l.jsx(M,{padding:2,children:l.jsx(B3,{size:4,forwardedAs:i?"del":"div",children:h.createElement(r)})}),l.jsxs(te,{space:2,paddingLeft:2,children:[l.jsx(B3,{size:1,weight:"semibold",forwardedAs:i?"del":"h3",textOverflow:"ellipsis",children:t}),n&&l.jsx("div",{children:n}),l.jsx(B3,{size:0,textOverflow:"ellipsis",children:o})]})]})}var Dae=Object.freeze,wan=Object.defineProperty,_an=(e,t)=>Dae(wan(e,"raw",{value:Dae(t||e.slice())})),Iae;I.div(Iae||(Iae=_an([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));const k3e=h.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function Rae(){return h.useContext(k3e)}const j3e=h.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function s_(e){const{actions:t,children:n,path:r,focused:o}=e,{onMouseEnter:i,onMouseLeave:s}=Rae(),a=Rae().hoveredStack[0],c=Zp||(a?gn(r)===a:!1),u=h.useCallback(()=>{i(r)},[i,r]),d=h.useCallback(()=>{s(r)},[s,r]),f=h.useMemo(()=>({actions:t,focused:o,hovered:c,onMouseEnter:u,onMouseLeave:d}),[t,o,u,d,c]);return l.jsx(j3e.Provider,{value:f,children:n})}function vV(){return h.useContext(j3e)}function Can(e){const{children:t}=e,[n,r]=h.useState([]),o=h.useCallback(a=>{const c=gn(a);r(u=>u.includes(c)?u:[c,...u])},[]),i=h.useCallback(a=>{const c=gn(a);r(u=>u.includes(c)?u.filter(d=>d!==c):u)},[]),s=h.useMemo(()=>({hoveredStack:n,onMouseEnter:o,onMouseLeave:i}),[o,i,n]);return l.jsx(k3e.Provider,{value:s,children:t})}const San={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function Ean(e){const{__internal_fieldActions:t=Bn,__internal_patchChannel:n=San,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,file:c,filterField:u,focusPath:d,focused:f,groups:p,id:m,image:v,members:g,onChange:b,onFieldGroupSelect:x,onPathBlur:y,onPathFocus:w,onPathOpen:_,onSetFieldSetCollapsed:C,onSetPathCollapsed:S,presence:E,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:O,renderInput:P,renderItem:D,renderPreview:R,schemaType:$,unstable:H,validation:F,value:V}=e,W=h.useRef(V);h.useEffect(()=>{W.current=V},[V]);const z=h.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:Jz,CustomMarkers:(H==null?void 0:H.CustomMarkers)||Nrn,Markers:(H==null?void 0:H.Markers)||HIe},field:{actions:t},file:{assetSources:c.assetSources,directUploads:(c==null?void 0:c.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:v.assetSources,directUploads:(v==null?void 0:v.directUploads)!==!1},getDocument:()=>W.current,onChange:b}),[t,c.assetSources,c==null?void 0:c.directUploads,u,v.assetSources,v==null?void 0:v.directUploads,b,n,H==null?void 0:H.CustomMarkers,H==null?void 0:H.Markers]),q=h.useMemo(()=>({__internal:z,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:d,focused:f,groups:p,id:m,members:g,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:O,renderInput:P,renderItem:D,renderPreview:R,schemaType:$,value:V}),[z,r,o,s,a,V,d,f,p,m,g,j,k,T,A,O,P,D,R,$]);return l.jsx(VIe.Provider,{value:q,children:l.jsx(t_,{onChange:b,onFieldGroupSelect:x,onPathBlur:y,onPathFocus:w,onPathOpen:_,onSetPathCollapsed:S,onSetFieldSetCollapsed:C,children:l.jsx(zrn,{presence:E,children:l.jsx(Hrn,{validation:F,children:l.jsx(Can,{children:i})})})})})}function kan(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,focusPath:c,focused:u,groups:d,id:f,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:b,onFieldGroupSelect:x,onSetPathCollapsed:y,onSetFieldSetCollapsed:w,presence:_,readOnly:C,schemaType:S,validation:E,value:j}=e,{file:k,image:T}=Pn().form,A=cyn(),O=uyn(),P=j$e(),D=dyn(),R=fyn(),$=hyn(),H=pyn(),F=h.useCallback(G=>l.jsx(A,{...G}),[A]),V=h.useCallback(G=>l.jsx(O,{...G}),[O]),W=h.useCallback(G=>l.jsx(D,{...G}),[D]),z=h.useCallback(G=>l.jsx(IIe,{component:P,...G}),[P]),q=h.useCallback(G=>l.jsx(R,{...G}),[R]),oe=h.useCallback(G=>l.jsx($,{...G}),[$]),N=h.useCallback(G=>l.jsx(H,{...G}),[H]);return l.jsx(Ean,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,file:k,focusPath:c,focused:u,groups:d,id:f,image:T,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:b,onFieldGroupSelect:x,onSetPathCollapsed:y,onSetFieldSetCollapsed:w,presence:_,readOnly:C,renderAnnotation:N,renderBlock:q,renderField:V,renderInlineBlock:oe,renderInput:F,renderItem:W,renderPreview:z,schemaType:S,validation:E,value:j,children:i})}function jan(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:b,onSetFieldSetCollapsed:x,onSetPathCollapsed:y,presence:w,readOnly:_,schemaType:C,validation:S,value:E}=e;return l.jsx(kan,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:b,onSetPathCollapsed:y,onSetFieldSetCollapsed:x,presence:w,validation:S,readOnly:_,schemaType:C,value:E,children:l.jsx(Tan,{})})}function Tan(){const{focusPath:e,focused:t,groups:n,id:r,members:o,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:c,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,value:v}=ii(),{onChange:g,onFieldGroupSelect:b,onPathBlur:x,onPathFocus:y,onPathOpen:w,onSetFieldSetCollapsed:_,onSetPathCollapsed:C}=ua(),S=h.useCallback(F=>C([F],!0),[C]),E=h.useCallback(F=>C([F],!1),[C]),j=h.useCallback(()=>x(Bn),[x]),k=h.useCallback(()=>y(Bn),[y]),T=h.useCallback(F=>g(lt.from(F)),[g]),A=h.useRef(null),O=h.useCallback(F=>b(Bn,F),[b]),P=h.useCallback(F=>w([F]),[w]),D=h.useCallback(()=>w([]),[w]),R=h.useCallback(F=>_([F],!0),[_]),$=h.useCallback(F=>_([F],!1),[_]),H={focusPath:e,elementProps:{ref:A,id:r,onBlur:j,onFocus:k,"aria-describedby":void 0},changed:o.some(F=>F.kind==="field"&&F.field.changed),focused:t,groups:n,id:r,level:0,members:o,onChange:T,onFieldClose:D,onFieldCollapse:S,onFieldSetCollapse:R,onFieldExpand:E,onFieldSetExpand:$,onPathFocus:y,onFieldOpen:P,onFieldGroupSelect:O,path:Bn,presence:Bn,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:c,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,validation:Bn,value:v};return l.jsx(l.Fragment,{children:d(H)})}const T3e=h.createContext({});function A3e(){return h.useContext(T3e)}function Aan(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}=e,s=h.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}),[n,r,o,i]);return l.jsx(T3e.Provider,{value:s,children:t})}h.createContext(null);function DO(e,t){return Ri(t,h.useCallback((n,r)=>{e.current&&!n&&r&&_x(e.current,{scrollMode:"always"})},[e]))}function Oan(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return sN(t),t}const Pan=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function Mx(e){const t=Pan();return Oan(e).reduce((n,r)=>n+t[r],"").slice(0,e)}var $ae=Object.freeze,Dan=Object.defineProperty,O3e=(e,t)=>$ae(Dan(e,"raw",{value:$ae(t||e.slice())})),Mae,Fae;const Ian={portal:!0},Ran=I(J)(e=>{let{theme:t,$selected:n}=e;var r;const{color:o}=t.sanity;return de(Mae||(Mae=O3e([`
    --card-bg-color: inherit;
    --card-fg-color: inherit;
    --card-hairline-hard-color: `,`;
  `])),n?(r=o.selectable)==null?void 0:r.default.pressed.border:void 0)}),$an=I(M)(Fae||(Fae=O3e([`
  max-width: 150px;
`]))),Lae=e=>{if(e.length===1)return"".concat(e[0].user.displayName," is editing this document");if(e.length>1)return"".concat(e.length," people are editing this document right now")};function yV(e){const{presence:t}=e,{color:n}=Zbe().sanity,r=n.dark?"light":"dark",{selected:o}=cJt(),i=h.useMemo(()=>Array.from(new Set(t.map(a=>a.user.id))).map(a=>t.find(c=>c.user.id===a)).filter(lo),[t]),s=h.useMemo(()=>l.jsx($an,{padding:2,children:l.jsx(B,{align:"center",size:1,children:Lae(i)})}),[i]);return l.jsx(st,{content:s,...Ian,children:l.jsx(Ran,{scheme:o?r:void 0,$selected:o,children:l.jsx(XT,{maxLength:2,"aria-label":Lae(i),children:i.map(a=>l.jsx(Na,{user:a.user},a.user.id))})})})}const Man=3,P3e=3,Aj=-4,Fx=23,Bae=4,Fan=[0,.25,.75,1],JC=23,Lan=8,Ban=8,D3e=20,I3e=20,N3=!1,Nan=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function zan(e){return-Aj+(Fx+Aj)*e}var Nae=Object.freeze,Van=Object.defineProperty,R3e=(e,t)=>Nae(Van(e,"raw",{value:Nae(t||e.slice())})),zae,Vae;const $3e=I(U)(zae||(zae=R3e([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),Han=I(U)(Vae||(Vae=R3e([`
  height: 23px;
  min-width: 23px;
  vertical-align: top;
`]))),Uan=ne.createContext([]);function Wan(e){const{children:t,items:n}=e,r=h.useMemo(()=>l.jsx(te,{padding:1,sizing:"border",children:n.map(o=>l.jsxs(U,{align:"center",gap:2,padding:1,children:[l.jsx("div",{children:l.jsx(Na,{user:o.user,status:"online"})}),l.jsx(B,{size:1,children:o.user.displayName})]},o.user.id))}),[n]);return l.jsx(st,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const{Tracker:Yan,useReporter:qan,useReportedValues:Gan}=nIe(),M3e=h.memo(function(t){let{presence:n,position:r="inside",animateArrowFrom:o="inside",maxAvatars:i=P3e,stack:s=!0}=t;const a=$f(n||[],p=>p.user.id),c=wm(a,p=>p.lastActiveAt),[u,d]=s?Nan(c,i):[[],c],f=[...d.reverse().map(p=>({key:p.user.id,element:l.jsx(Na,{animateArrowFrom:o,position:r,status:"online",user:p.user})})),u.length>=2?{key:"counter",element:l.jsx(cM,{count:u.length})}:null].filter(Boolean);return l.jsxs($3e,{children:[l.jsx("div",{}),l.jsx(Han,{direction:"row-reverse",children:f.map((p,m)=>p&&l.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-m*(Fx+Aj),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-m},children:p.element},p.key))})]})});function Kan(e){const t=h.useContext(Uan),{presence:n=t,maxAvatars:r=P3e}=e,o=h.useRef(null);qan(h.useId(),()=>({presence:n,element:o.current,maxAvatars:r}));const i=h.useMemo(()=>$f(n||[],s=>s.user.id),[n]);return l.jsx(Wan,{items:i,children:l.jsx($3e,{ref:o,style:{minHeight:Fx,minWidth:Fx}})})}const a_=Kan,Zan=e=>{const t=new gr,n=new IntersectionObserver(r=>{r.forEach(o=>{t.next(o)})},e);return{observe:r=>new ft(o=>{const i=t.pipe(dt(s=>s.target===r)).subscribe(o);return n.observe(r),()=>{i.unsubscribe(),n.unobserve(r)}})}},bV=e=>{const{onIntersection:t,io:n,id:r,...o}=e,i=ne.useRef(null);return ne.useEffect(()=>{const s=i.current;if(!s)return;const a=n.observe(s).pipe(mn(c=>t(r,c))).subscribe();return()=>a.unsubscribe()},[n,r,t]),l.jsx("div",{ref:i,...o})};var Hae=Object.freeze,Xan=Object.defineProperty,Qp=(e,t)=>Hae(Xan(e,"raw",{value:Hae(t||e.slice())})),Uae,Wae,Yae,qae,Gae,Kae,Zae;const Qan=I.div(Uae||(Uae=Qp([`
  position: relative;
`]))),Jan=I.div(Wae||(Wae=Qp([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),xV=de(Yae||(Yae=Qp([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),eln=I(bV)(e=>{let{$debug:t,margins:n}=e;return de(qae||(qae=Qp([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),xV,n?"".concat(n[0]-1,"px"):void 0,t?"red":"none")}),tln=I(bV)(e=>{let{$debug:t}=e;return de(Kae||(Kae=Qp([`
    `,`

    visibility: none;

    `,`
  `])),xV,t&&de(Gae||(Gae=Qp([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),nln=I(bV)(e=>{let{$debug:t}=e;return de(Zae||(Zae=Qp([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),xV,t?"blue":"transparent")}),rln=e=>"".concat(e,"px"),oln=e=>0-e,iln=h.forwardRef(function(t,n){const{regions:r,render:o,children:i,margins:s}=t,a=h.useRef(null),c=h.useMemo(()=>s,[JSON.stringify(s)]),u=h.useMemo(()=>Zan({rootMargin:c.map(oln).map(rln).join(" "),threshold:Fan}),[c]),[d,f]=h.useState({}),p=h.useCallback((b,x)=>{f(y=>({...y,[b]:x}))},[]),m=d["::top"],v=d["::bottom"],g=h.useMemo(()=>m&&v?r.filter(b=>{var x;return((x=b.presence)==null?void 0:x.length)>0}).map(b=>{const x=d[b.id];if(!x)return null;const{bottom:y,top:w}=x.boundingClientRect,_=x.boundingClientRect.top<m.boundingClientRect.bottom,C=x.boundingClientRect.top<v.boundingClientRect.top,S=x.isIntersecting?w-(x.intersectionRect.top-JC):_?-m.boundingClientRect.bottom:v.boundingClientRect.top,E=x.isIntersecting?-(y-(x.intersectionRect.bottom+JC)):C?v.boundingClientRect.top:-m.boundingClientRect.bottom,j=S<=Lan?"top":E<=Ban?"bottom":"inside";return{distanceTop:S,distanceBottom:E,region:b,position:j}}).filter(Boolean):[],[v,d,r,m]);return l.jsxs(Qan,{ref:n,children:[l.jsx(eln,{$debug:N3,io:u,id:"::top",onIntersection:p,margins:c}),l.jsx("div",{children:i}),l.jsx(Jan,{ref:a,children:a.current&&o(g,a.current.offsetWidth)}),r.map(b=>{const x=b.rect.width===0;return l.jsx(tln,{$debug:N3,io:u,onIntersection:p,id:b.id,style:{width:x?1:b.rect.width,left:b.rect.left-(x?1:0),top:b.rect.top-JC,height:b.rect.height+JC*2}},b.id)}),l.jsx(nln,{$debug:N3,id:"::bottom",io:u,onIntersection:p})]})}),F3e={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},sln=e=>e.top+e.height;function aln(e){return e.map((t,n,r)=>{var o;const i=(o=r[n-1])==null?void 0:o.region.rect,s=i?sln(i):0;return{...t,spacerHeight:t.region.rect.top-s}})}const e2=e=>$0(e,t=>t.region.rect.top),lln=(e,t)=>e+t,Xae=e=>e.reduce(lln,0);function cln(e){const t=aln(e2(e)),n={top:[],inside:[],bottom:[],...MN(t,r=>r.position)};return{top:e2(n.top).map((r,o,i)=>({...r,indent:i.slice(o+1).reduce((s,a)=>s+a.region.rect.width,0)})),inside:e2(n.inside).map(r=>({...r,indent:0})),bottom:e2(n.bottom).map((r,o,i)=>({...r,indent:i.slice(0,o).reduce((s,a)=>s+a.region.rect.width,0)}))}}const Qae=e=>{let{height:t,...n}=e;return l.jsx("div",{style:{height:Math.max(0,t),...n==null?void 0:n.style}})},uln=[0,0,0,0],dln=(e,t)=>{let n=e,r=-n.scrollTop,o=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,o+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:o}};function fln(e,t){return{...dln(e,t),width:e.offsetWidth,height:e.offsetHeight}}function hln(e,t){return e.map(n=>{let[r,o]=n;return{...o,id:r,rect:fln(o.element,t)}})}function pln(e){const{children:t,margins:n=uln}=e,r=Gan(),o=ne.useRef(null),i=ne.useMemo(()=>o.current?hln(r,o.current):z6,[r]),s=ne.useCallback((a,c)=>{const u=cln(a.filter(m=>m.region.presence.length>0)),d=Xae(u.top.map(m=>m.region.rect.height+m.spacerHeight)),f=Xae([...u.inside,...u.bottom].map(m=>m.region.rect.height+m.spacerHeight)),p=u.inside.reduce((m,v)=>{const{distanceTop:g,distanceBottom:b}=v,x=g<=D3e,y=b<=I3e;return{nearTop:m.nearTop+(x?v.region.presence.length:0),nearBottom:m.nearBottom+(y?v.region.presence.length:0)}},{nearTop:0,nearBottom:0});return l.jsxs(l.Fragment,{children:[l.jsx(Jae,{closeCount:p.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:u.top}),l.jsx(Qae,{height:d}),l.jsx(mln,{containerWidth:c,regionsWithIntersectionDetails:u.inside}),l.jsx(Qae,{height:f}),l.jsx(Jae,{closeCount:p.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[n]);return l.jsx(iln,{ref:o,margins:n,regions:i,render:s,children:t})}const z6=[],Jae=h.memo(function(t){const{closeCount:n,margins:r,position:o,regionsWithIntersectionDetails:i}=t,s=o==="top"?1:-1,a=h.useMemo(()=>i.length?En(wm(i,g=>g.region.rect.top*s).map(g=>g.region.presence||z6)):z6,[s,i]),[c,u,d,f]=r,p=(f||0)+(a.length>0?-n*(Fx+Aj):0)-u,m=o==="top"?c:d,v=h.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...F3e,transform:"translate3d(".concat(p,"px, 0px, 0px)"),top:Bae+1+m,bottom:Bae+1+m}),[p,m]);return l.jsx("div",{"data-dock":o,style:v,children:l.jsx(M3e,{position:o,maxAvatars:Man,presence:a})},"sticky-".concat(o))});function mln(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return l.jsx(l.Fragment,{children:t.map(r=>{const o=r.region.rect.left,{distanceTop:i,distanceBottom:s}=r,a=i<=D3e,c=s<=I3e,u=n-o-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return l.jsx(ne.Fragment,{children:l.jsx("div",{style:{zIndex:2,position:"absolute",...F3e,left:o,transform:"translate3d(".concat(a||c?u:0,"px, 0px, 0px)"),height:r.region.rect.height,top:r.region.rect.top},children:l.jsx(vln,{value:()=>"⤒".concat(i," | ").concat(s,"⤓"),children:l.jsx(M3e,{stack:!a&&!c,position:a?"top":c?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const gln=e=>e.children,vln=gln,yln=[0,0,0,0];function bln(e){let{children:t,margins:n}=e;return l.jsx(Yan,{children:l.jsx(pln,{margins:n||yln,children:t})})}const l_=bln;var ele=Object.freeze,xln=Object.defineProperty,c_=(e,t)=>ele(xln(e,"raw",{value:ele(t||e.slice())})),tle,nle,rle,ole,ile;const wln=I(U)(tle||(tle=c_([`
  /* Prevent buttons from taking up extra vertical space */
  line-height: 1;
  /* For floating actions menu */
  position: relative;
`]))),_ln=I(M)(e=>{let{theme:t,$right:n}=e;const{space:r}=t.sanity;return de(nle||(nle=c_([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),n+r[1])}),Cln=I(M)(e=>{let{theme:t,$presenceMaxWidth:n}=e;const{space:r}=t.sanity;return de(rle||(rle=c_([`
    max-width: calc(100% - `,`px);
    min-width: 75%;
  `])),n+r[1])}),Sln=I(M)(e=>{let{theme:t,$right:n,$fieldActionsVisible:r}=e;const{space:o}=t.sanity,i=r?n+o[1]:n;return de(ole||(ole=c_([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),i)}),Eln=I(J)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(ile||(ile=c_([`
    align-items: center;
    bottom: 0;
    gap: `,`px;
    padding: `,`px;
    position: absolute;
    right: 0;
  `])),n[1]/2,n[1]/2)}),sle=4;function L3e(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:o,fieldFocused:i,fieldHovered:s,presence:a}=e,[c,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState(0),[v,g]=h.useState(null),[b,x]=h.useState(0),{hasComments:y=!1,button:w=null,isAddingComment:_=!1}=t||{},C=r&&r.length>0,S=i||s||c||_,E=S&&C||!y?3:void 0,j=(t==null?void 0:t.button)||C,k=S||y;h.useEffect(()=>{if(d){const{width:A}=d.getBoundingClientRect();m(A||0)}},[d,S]),h.useEffect(()=>{if(v){const{width:A}=v.getBoundingClientRect();x(A||0)}},[v]);const T=h.useMemo(()=>n?l.jsx(Sln,{$fieldActionsVisible:!!S,$right:p,ref:g,children:n}):null,[p,S,n]);return l.jsxs(wln,{align:"flex-end",children:[l.jsx(Cln,{flex:1,paddingY:2,$presenceMaxWidth:zan(sle),children:o}),a&&a.length>0&&l.jsx(_ln,{flex:"none",paddingBottom:1,$right:p+b,children:l.jsx(a_,{maxAvatars:sle,presence:a})}),T,k&&j&&l.jsxs(Eln,{display:"flex",radius:2,ref:f,shadow:E,sizing:"border",children:[S&&C&&l.jsx(Grn,{nodes:r,onMenuOpenChange:u}),w]})]})}function ah(e,t){if(!(!t||!e))return"desc_".concat(e)}var ale=Object.freeze,kln=Object.defineProperty,jln=(e,t)=>ale(kln(e,"raw",{value:ale(t||e.slice())})),lle;const Tln=[],gv={error:fe.red[500].hex,warning:fe.yellow[500].hex,info:fe.blue[500].hex},vv={error:l.jsx(sa,{"data-testid":"input-validation-icon-error","aria-label":"Has error","aria-hidden":!0,role:"presentation"}),warning:l.jsx(Pr,{"data-testid":"input-validation-icon-warning","aria-label":"Has warning","aria-hidden":!0,role:"presentation"}),info:l.jsx(lm,{"data-testid":"input-validation-icon-info","aria-label":"Has information","aria-hidden":!0,role:"presentation"})},Aln=I(te)(lle||(lle=jln([`
  max-width: 200px;
`])));function X0(e){const{validation:t=Tln,__unstable_showSummary:n,fontSize:r,placement:o="top"}=e,i=t.filter(m=>m.level==="error"),s=t.filter(m=>m.level==="warning"),a=t.filter(m=>m.level==="info"),c=i.length>0,u=s.length>0,d=a.length>0,f=h.useMemo(()=>{if(c)return vv.error;if(u)return vv.warning;if(d)return vv.info},[c,d,u]),p=h.useMemo(()=>{if(c)return gv.error;if(u)return gv.warning;if(d)return gv.info},[c,d,u]);return l.jsx(st,{content:l.jsxs(Aln,{padding:3,space:3,children:[n&&l.jsx(Pln,{validation:t}),!n&&l.jsx(l.Fragment,{children:t.map((m,v)=>l.jsx(Oln,{validation:m},v))})]}),portal:!0,placement:o,fallbackPlacements:["bottom","right","left"],children:l.jsx("div",{children:l.jsx(B,{muted:!0,size:r,weight:"semibold",style:{color:p},children:f})})})}function Oln(e){const{validation:t}=e,n=h.useMemo(()=>{if(t.level==="error")return vv.error;if(t.level==="warning")return vv.warning;if(t.level==="info")return vv.info},[t]),r=h.useMemo(()=>{if(t.level==="error")return gv.error;if(t.level==="warning")return gv.warning;if(t.level==="info")return gv.info},[t]);return l.jsxs(U,{children:[l.jsx(M,{marginRight:2,children:l.jsx(B,{size:1,style:{color:r},children:n})}),l.jsx(M,{flex:1,children:l.jsx(B,{size:1,children:t.message})})]})}function Pln(e){let{validation:t}=e;const n=t.filter(m=>m.level==="error"),r=t.filter(m=>m.level==="warning"),o=n.length,i=r.length,s="error".concat(o===1?"":"s"),a="warning".concat(i===1?"":"s"),c=o&&"".concat(o," ").concat(s),u=i&&"".concat(i," ").concat(a),d=o>0,f=i>0,p=d&&f;return l.jsxs(B,{size:1,children:[c||"",p&&l.jsx(l.Fragment,{children:" and "}),u||""]})}const Dln=[],B3e=h.memo(function(t){const{description:n,inputId:r,title:o,validation:i=Dln}=t,s=i.length>0;return l.jsxs(te,{space:2,children:[l.jsxs(U,{children:[l.jsx(B,{as:"label",htmlFor:r,weight:"semibold",size:1,children:o||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}),s&&l.jsx(M,{marginLeft:2,children:l.jsx(X0,{fontSize:1,validation:i})})]}),n&&l.jsx(B,{muted:!0,size:1,id:ah(r,n),children:n})]})}),cle=[],Q0=h.memo(function(t){const{__unstable_headerActions:n=cle,__unstable_presence:r=cle,__internal_slot:o=null,__internal_comments:i,children:s,description:a,inputId:c,level:u,title:d,validation:f,...p}=t,{focused:m,hovered:v,onMouseEnter:g,onMouseLeave:b}=vV();return l.jsxs(te,{...p,"data-level":u,onMouseEnter:g,onMouseLeave:b,space:1,children:[d&&l.jsx(L3e,{__internal_comments:i,__internal_slot:o,actions:n,fieldFocused:!!m,fieldHovered:v,presence:r,content:l.jsx(B3e,{description:a,inputId:c,title:d,validation:f})}),l.jsx("div",{children:s})]})});var ule=Object.freeze,Iln=Object.defineProperty,wV=(e,t)=>ule(Iln(e,"raw",{value:ule(t||e.slice())})),dle,fle,hle;const ple=I.legend(dle||(dle=wV([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),Rln=I(U).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:o}=t.sanity.color;return de(fle||(fle=wV([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),pe(r[1]),Dz({base:o,focusRing:n}))}),$ln=I(M)(hle||(hle=wV([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),Mln=h.memo(function(t){const{collapsed:n,collapsible:r,onClick:o,title:i}=t,s=l.jsx(B,{weight:"semibold",size:1,children:i||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})});return r?l.jsx(ple,{children:l.jsxs(Rln,{type:"button",onClick:o,children:[l.jsx($ln,{children:l.jsx(B,{muted:!0,size:1,children:l.jsx(bT,{style:{transform:"rotate(".concat(n?"0":"90deg",") translate3d(0, 0, 0)")}})})}),s]})}):l.jsx(ple,{children:s})});var mle=Object.freeze,Fln=Object.defineProperty,N3e=(e,t)=>mle(Fln(e,"raw",{value:mle(t||e.slice())})),gle,vle;function Lln(e){return typeof e=="function"?e():e}const Bln=I(M).attrs({forwardedAs:"fieldset"})(gle||(gle=N3e([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),Nln=I(M)(e=>{const{$borderLeft:t,theme:n}=e,{focusRing:r,radius:o}=n.sanity,{base:i}=n.sanity.color;return de(vle||(vle=N3e([`
    outline: none;
    border-left: `,`;
    border-radius: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),t?"1px solid var(--card-border-color)":void 0,pe(o[1]),Dz({base:i,focusRing:{...r,offset:2}}))}),z3=[],IO=h.forwardRef(function(t,n){const{__internal_comments:r,__internal_slot:o=null,__unstable_headerActions:i=z3,__unstable_presence:s=z3,children:a,collapsed:c,collapsible:u,columns:d,description:f,level:p=0,onCollapse:m,onExpand:v,onFocus:g,tabIndex:b,title:x,validation:y=z3,inputId:w,..._}=t,{focused:C,hovered:S,onMouseEnter:E,onMouseLeave:j}=vV(),k=y.length>0,T=or(n),A=h.useCallback(D=>{T.current===D.target&&g&&g(D)},[T,g]),O=h.useCallback(()=>c?v==null?void 0:v():m==null?void 0:m(),[c,m,v]),P=h.useMemo(()=>c?null:l.jsx(en,{columns:d,gapX:4,gapY:5,children:Lln(a)}),[a,c,d]);return l.jsxs(Bln,{"data-level":p,..._,onMouseEnter:E,onMouseLeave:j,children:[l.jsx(L3e,{__internal_comments:r,__internal_slot:o,actions:i,fieldFocused:!!C,fieldHovered:S,presence:s,content:l.jsxs(te,{space:2,children:[l.jsxs(U,{children:[l.jsx(Mln,{collapsed:!!c,collapsible:u,onClick:u?O:void 0,title:x}),k&&l.jsx(M,{marginLeft:2,children:l.jsx(X0,{fontSize:1,validation:y})})]}),f&&l.jsx(B,{muted:!0,size:1,id:ah(w,f),children:f})]})}),l.jsx(Nln,{$borderLeft:p>0,hidden:c,marginTop:1,paddingLeft:p===0?0:3,onFocus:typeof b=="number"&&b>-1?A:void 0,ref:T,tabIndex:b,children:!c&&P})]})});var yle=Object.freeze,zln=Object.defineProperty,Vln=(e,t)=>yle(zln(e,"raw",{value:yle(t||e.slice())})),ble;const Hln=I.div(ble||(ble=Vln([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function Uln(e){let{children:t,maxAvatars:n,position:r="bottom"}=e;return l.jsx(Hln,{"data-max-avatars":n,"data-position":r,children:t})}var xle=Object.freeze,Wln=Object.defineProperty,Yln=(e,t)=>xle(Wln(e,"raw",{value:xle(t||e.slice())})),wle;const qln=I(ie)(wle||(wle=Yln([`
  cursor: `,`;
`])),e=>e.grid?"move":"ns-resize"),z3e=ne.createContext(null),V3e=function(t){const n=h.useContext(z3e),{listeners:r,attributes:o}=bPe({id:n});return l.jsx(qln,{icon:hxe,mode:"bleed","data-ui":"DragHandleButton",...o,...t,...r})};function Gln(e,t,n,r){const o={...e},i=r.y||0,s=r.x||0;return t.top+o.y<=n.top+i?o.y=n.top-t.top+i:t.bottom+o.y>=n.top+n.height-i&&(o.y=n.top+n.height-t.bottom-i),t.left+o.x<=n.left-s?o.x=n.left-t.left+s:t.right+o.x>=n.left+n.width+s&&(o.x=n.left+n.width-t.right+s),o}const Kln=e=>t=>{let{containerNodeRect:n,draggingNodeRect:r,transform:o}=t;return!r||!n?o:Gln(o,r,n,e)};var _le=Object.freeze,Zln=Object.defineProperty,Cle=(e,t)=>_le(Zln(e,"raw",{value:_le(t||e.slice())})),Sle,Ele;const _V="moving",H3e=I(M)(Ele||(Ele=Cle([`
  `,`
`])),e=>e.$moving&&de(Sle||(Sle=Cle([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),Xln={threshold:{x:0,y:.02}},Qln={coordinateGetter:fUt},Jln={duration:200,easing:"ease"};function ecn(e){return e==="x"?pUt:mUt}function tcn(e){return e==="x"?JHt:tUt}const ncn=h.memo(function(t){const{items:n,axis:r,onItemMove:o,onItemMoveStart:i,onItemMoveEnd:s,children:a,...c}=t,u=NVt(xne(UN),xne(VN,Qln)),d=h.useCallback(p=>{var m,v,g,b;const{active:x,over:y}=p;x.id!==(y==null?void 0:y.id)&&(o==null||o({fromIndex:(v=(m=x.data.current)==null?void 0:m.sortable)==null?void 0:v.index,toIndex:(b=(g=y==null?void 0:y.data.current)==null?void 0:g.sortable)==null?void 0:b.index})),s==null||s()},[o,s]),f=h.useMemo(()=>[Kln({y:4}),...r?[ecn(r)]:[]],[r]);return l.jsx(VHt,{sensors:u,autoScroll:Xln,modifiers:f,collisionDetection:VVt,onDragEnd:d,onDragStart:i,children:l.jsx(rUt,{items:n,strategy:r?tcn(r):void 0,children:l.jsx(en,{...c,children:a})})})}),rcn=h.forwardRef(function(t,n){const{id:r,children:o,disableTransition:i}=t,{setNodeRef:s,transform:a,transition:c,active:u}=bPe({id:r,transition:i?null:Jln}),d=r===(u==null?void 0:u.id),f=h.useMemo(()=>({transform:Ex.Translate.toString(a),transition:c,pointerEvents:u?"none":void 0}),[a,c,u]),p=h.useCallback(m=>{s(m),typeof n=="function"?n(m):n&&(n.current=m)},[n,s]);return l.jsx(H3e,{ref:p,style:f,$moving:d,className:d?_V:"","data-index":t["data-index"],children:o})});function CV(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:o,...i}=e,s=h.useCallback(a=>{t==null||t(a)},[t]);return o?l.jsx(ncn,{onItemMove:s,onItemMoveStart:r,onItemMoveEnd:n,...i}):l.jsx(en,{...i})}const SV=h.forwardRef(function(t,n){const{sortable:r,...o}=t;return l.jsx(z3e.Provider,{value:t.id,children:r?l.jsx(rcn,{ref:n,...o}):l.jsx(H3e,{ref:n,...o})})});var kle=Object.freeze,ocn=Object.defineProperty,icn=(e,t)=>kle(ocn(e,"raw",{value:kle(t||e.slice())})),jle;const scn=I(J)(jle||(jle=icn([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),_V);function RO(e){const{validation:t,selected:n,tone:r,presence:o,focused:i,children:s,dragHandle:a,menu:c,footer:u}=e,d=h.useRef(null);return Ri(i,(f,p)=>{var m;!f&&p&&((m=d.current)==null||m.focus())}),l.jsx(scn,{ref:d,selected:n,"aria-selected":n,radius:2,padding:1,tone:r,children:l.jsxs(te,{space:1,children:[l.jsxs(U,{align:"center",children:[a&&l.jsx(M,{marginRight:1,paddingY:1,children:l.jsx(V3e,{paddingX:1,paddingY:3})}),l.jsx(M,{flex:1,children:s}),(o||t||c)&&l.jsxs(U,{align:"center",marginLeft:1,children:[o&&l.jsx(M,{marginLeft:1,children:o}),t&&l.jsx(M,{marginLeft:1,children:t}),c]})]}),u]})})}var Tle=Object.freeze,acn=Object.defineProperty,$O=(e,t)=>Tle(acn(e,"raw",{value:Tle(t||e.slice())})),Ale,Ole,Ple,Dle;const lcn=I.button(Ale||(Ale=$O([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),ccn=I(bT)(Ole||(Ole=$O([`
  transform: `,`;
`])),e=>e.open?"rotate(90deg)":""),ucn=I(U)(Ple||(Ple=$O([`
  cursor: default;
`]))),dcn=I(M)(Dle||(Dle=$O([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function Im(e){const{children:t,open:n,icon:r,title:o="Details",...i}=e,[s,a]=h.useState(n||!1),c=h.useCallback(()=>a(u=>!u),[]);return h.useEffect(()=>a(n||!1),[n]),l.jsxs(M,{...i,children:[l.jsx(lcn,{type:"button",onClick:c,children:l.jsx(ucn,{align:"center",children:l.jsxs(Yt,{children:[l.jsx(dcn,{"data-open":s?"":void 0,children:l.jsx(B,{size:1,children:l.jsx(ccn,{open:s})})}),r&&l.jsx(M,{marginLeft:1,children:r}),l.jsx(M,{flex:1,marginLeft:1,children:l.jsx(B,{size:1,weight:"medium",children:o})})]})})}),l.jsx(M,{hidden:!s,marginTop:3,children:t})]})}const fcn={warning:"caution",error:"critical",info:"positive"},hcn={warning:l.jsx(Pr,{}),error:l.jsx(sa,{}),info:l.jsx(lm,{})};function gf(e){const{children:t,status:n="warning",title:r,...o}=e;return l.jsx(J,{radius:2,tone:fcn[n],...o,"data-ui":"Alert",children:l.jsx(U,{padding:1,children:t&&l.jsx(M,{flex:1,children:l.jsx(Im,{icon:hcn[n],title:r,children:l.jsx(M,{marginLeft:3,marginTop:3,children:t})})})})})}function EV(e){if(Va(e))return e.name==="object"?{}:{_type:e.name};if(Pl(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function J0(e){if(!Va(e))throw new Error('Invalid item type: "'.concat(e.type,'". Default array input can only contain objects (for now)'));return{...EV(e),_key:Hw(12)}}const pcn={portal:!0,tone:"default",placement:"left",constrainSize:!0},MO=h.memo(function(t){const{types:n,onInsert:r}=t;return l.jsxs(l.Fragment,{children:[l.jsx(Ile,{pos:"before",types:n,onInsert:r,text:"Add item before",icon:yxe}),l.jsx(Ile,{pos:"after",types:n,onInsert:r,text:"Add item after",icon:bxe})]})});function Ile(e){const{types:t,onInsert:n,pos:r,text:o,icon:i}=e;return(t==null?void 0:t.length)===1?l.jsx(Be,{text:o,icon:i,onClick:()=>n(r,t[0])},r):l.jsx(o7,{text:o,popover:pcn,children:t==null?void 0:t.map(s=>l.jsx(Be,{icon:s.icon,text:s.title,onClick:()=>n(r,s)},s.name))},r)}const U3e=()=>{},V3={isLoading:!0,result:void 0,error:void 0,retry:U3e},mcn={isLoading:!1,result:void 0,error:void 0,retry:U3e};function FO(e,t){const n=h.useMemo(()=>new gr,[]),r=h.useMemo(()=>n.asObservable(),[n]),o=h.useCallback(()=>{n.next({type:"retry"})},[n]),i=co(()=>Fr(ve(null),r).pipe(le(()=>e),TM(a=>a?t(a).pipe(le(c=>({isLoading:!1,result:c,error:void 0,retry:o})),ei(V3),jn(c=>(console.error(c),ve({isLoading:!1,result:void 0,error:c,retry:o})))):ve(mcn))),[t,e,r,o],V3),s=Qz(e,e);return e&&s!==e?V3:i}function W3e(e){var t,n,r,o,i,s;const{id:a,layout:c,preview:u,refType:d,renderPreview:f,showTypeLabel:p}=e,m=b0(),v=g_(a),g=((t=u.draft)==null?void 0:t._id)||((n=u.published)==null?void 0:n._id)||a,b=h.useMemo(()=>({_id:g,_type:d.name}),[g,d.name]),x=h.useMemo(()=>({layout:c,schemaType:d,value:b}),[c,b,d]),y=qo(((r=u.published)==null?void 0:r._updatedAt)||"",{minimal:!0,agoSuffix:!0}),w=qo(((o=u.draft)==null?void 0:o._updatedAt)||"",{minimal:!0,agoSuffix:!0});return l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,children:f(x)}),l.jsx(M,{paddingLeft:3,children:l.jsxs(Yt,{space:3,children:[p&&l.jsx(Nt,{size:1,muted:!0,children:d.title}),v&&v.length>0&&l.jsx(yV,{presence:v}),l.jsxs(Yt,{space:4,children:[l.jsx(M,{children:l.jsx(st,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(B,{size:1,children:(i=u.published)!=null&&i._updatedAt?"Published ".concat(y):"Not published"})}),children:l.jsx(tr,{tone:m.tone==="default"?"positive":"default",size:1,dimmed:!u.published,muted:!u.published,children:l.jsx(f0,{"aria-label":u.published?"Published":"Not published"})})})}),l.jsx(M,{children:l.jsx(st,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(B,{size:1,children:(s=u.draft)!=null&&s._updatedAt?"Edited ".concat(w):"No unpublished edits"})}),children:l.jsx(tr,{tone:m.tone==="default"?"caution":"default",size:1,dimmed:!u.draft,muted:!u.draft,children:l.jsx(Eu,{"aria-label":u.draft?"Edited":"No unpublished edits"})})})})]})]})})]})}function Y3e(e){var t,n,r,o,i,s;const{referenceInfo:a,renderPreview:c,type:u,value:d,showTypeLabel:f}=e;if(a.isLoading||a.error)return l.jsx(sh,{isPlaceholder:!0});if(((t=a.result)==null?void 0:t.availability.reason)==="NOT_FOUND"&&d._strengthenOnPublish){const x=u.to.find(w=>{var _;return w.name===((_=d==null?void 0:d._strengthenOnPublish)==null?void 0:_.type)});if(!x)return l.jsx($le,{documentId:d._ref,actualType:(n=d._strengthenOnPublish)==null?void 0:n.type,declaredTypes:u.to.map(w=>w.name)});const y=(r=d._strengthenOnPublish)!=null&&r.type?{_id:d._ref,_type:(o=d._strengthenOnPublish)==null?void 0:o.type}:d;return l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,children:c({layout:"default",schemaType:x,value:y,skipVisibilityCheck:!0})}),l.jsx(M,{children:l.jsx(Yt,{space:4,children:f&&l.jsx(Nt,{size:1,muted:!0,children:x.title})})})]})}const p=a.result.availability,m=p.reason==="NOT_FOUND",v=p.reason==="PERMISSION_DENIED";if(v||m)return l.jsxs(Yt,{space:2,children:[l.jsx(M,{padding:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(B,{muted:!0,children:"Document unavailable"})})})}),v||m?l.jsx(M,{children:l.jsx(st,{portal:!0,content:m?l.jsxs(Rle,{title:"Not found",icon:Av,children:["The referenced document does not exist",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d._ref}),")"]}):l.jsx(Rle,{title:"Insufficient permissions",icon:Cf,children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(tr,{tone:"default",children:l.jsx(Av,{})})})}):null]});const g=(i=a.result)==null?void 0:i.type,b=u.to.find(x=>x.name===g);return b?l.jsx(W3e,{id:d._ref,layout:"default",preview:(s=a.result)==null?void 0:s.preview,refType:b,renderPreview:c,showTypeLabel:f}):l.jsx($le,{documentId:d._ref,actualType:g||"<unknown>",declaredTypes:u.to.map(x=>x.name)})}function Rle(e){const t=e.icon;return l.jsxs(U,{padding:3,children:[l.jsx(M,{children:l.jsx(B,{size:1,children:l.jsx(t,{})})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(B,{size:1,weight:"semibold",children:e.title}),l.jsx(M,{marginTop:3,children:l.jsx(B,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function $le(e){return l.jsxs(U,{align:"center",justify:"flex-start",children:[l.jsx(M,{padding:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(B,{muted:!0,children:"Document of invalid type"})})})}),l.jsx(M,{children:l.jsx(st,{portal:!0,content:l.jsxs(te,{space:3,padding:3,children:[l.jsxs(B,{size:1,children:["Referenced document (",l.jsx("code",{children:e.documentId}),") is of type"," ",l.jsx("code",{children:e.actualType}),"."]}),l.jsxs(B,{size:1,children:["According to the schema, referenced documents can only be of type"," ",gcn(e.declaredTypes.map(t=>l.jsx("code",{children:t},t)),"or"),"."]})]}),children:l.jsx(M,{padding:2,children:l.jsx(tr,{tone:"default",children:l.jsx(Av,{})})})})})]})}const gcn=(e,t)=>e.length===1?e[0]:e.length===2?[e[0],l.jsxs(h.Fragment,{children:[" ",t," "]},"comma"),e[1]]:[...e.slice(0,-1).map((r,o)=>l.jsxs(h.Fragment,{children:[r,", "]},o)),l.jsxs(h.Fragment,{children:[t," ",e[e.length-1]]},"last")];var Mle=Object.freeze,vcn=Object.defineProperty,ycn=(e,t)=>Mle(vcn(e,"raw",{value:Mle(t||e.slice())})),Fle;const bcn=I(J)(Fle||(Fle=ycn([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 35px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),q3e=h.forwardRef(function(t,n){const{as:r,documentId:o,documentType:i,...s}=t,a=o&&i&&{"data-as":"a",forwardedAs:r,documentId:o,documentType:i};return l.jsx(bcn,{...s,...a,ref:n})}),G3e=h.createContext(null);function xcn(){const e=h.useContext(G3e);return e||{menuRef:{current:null},containerRef:{current:null}}}function wcn(e){const{menuRef:t,containerRef:n}=e;return l.jsx(G3e.Provider,{value:{menuRef:t,containerRef:n},children:e.children})}function _cn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Ccn={portal:!0,tone:"default"},Scn={position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.6};function Ecn(e){var t,n,r,o,i,s,a,c,u,d,f;const{schemaType:p,parentSchemaType:m,path:v,readOnly:g,onRemove:b,value:x,open:y,onInsert:w,presence:_,validation:C,inputId:S,changed:E,focused:j,children:k,inputProps:{onChange:T,focusPath:A,onPathFocus:O,renderPreview:P,elementProps:D}}=e,R=!g&&((t=m.options)==null?void 0:t.sortable)!==!1,$=m.of,H=h.useRef(null),F=h.useRef(null),V=h.useRef(null),{EditReferenceLink:W,getReferenceInfo:z,selectedState:q,isCurrentDocumentLiveEdit:oe}=VV({path:v,schemaType:p,value:x});DO(H,y),Ri(j,(Oe,Me)=>{var Xe;!Oe&&Me&&H.current&&((Xe=H.current)==null||Xe.focus())});const N=e.validation.some(Oe=>Oe.level==="error"),G=e.validation.some(Oe=>Oe.level==="warning"),Y=x._resolvingInitialValue,K=h.useCallback(()=>{w({items:[{...x,_key:Mx()}],position:"after"})},[w,x]),X=h.useCallback((Oe,Me)=>{w({items:[{...J0(Me),_key:Mx()}],position:Oe})},[w]),Q=FO(x==null?void 0:x._ref,z),Z=x._ref,re=((n=Q.result)==null?void 0:n.type)||((r=x==null?void 0:x._strengthenOnPublish)==null?void 0:r.type),ae=Z&&((s=(i=(o=Q.result)==null?void 0:o.preview)==null?void 0:i.published)==null?void 0:s._id),me=h.useCallback(()=>{T([p.weak===!0?vt(!0,["_weak"]):Je(["_weak"]),Je(["_strengthenOnPublish"])])},[T,p.weak]),ce=re?p.to.find(Oe=>Oe.name===re):void 0,Te=q==="pressed",je=q==="selected",be=_cn({readOnly:g,hasErrors:N,hasWarnings:G}),ge=!Z||A[0]==="_ref",De=h.useMemo(()=>h.forwardRef(function(Me,Xe){return l.jsx(_m,{...Me,intent:"edit",params:{id:x==null?void 0:x._ref,type:ce==null?void 0:ce.name},target:"_blank",rel:"noopener noreferrer",ref:Xe})}),[ce==null?void 0:ce.name,x==null?void 0:x._ref]),Re=h.useCallback(()=>{O(Z&&ge?[]:["_ref"])},[Z,ge,O]),at=h.useMemo(()=>g?null:l.jsx(M,{marginLeft:1,children:l.jsx(Kt,{button:l.jsx(ie,{paddingY:3,paddingX:2,mode:"bleed",icon:Fo}),id:"".concat(S,"-menuButton"),menu:l.jsxs(Ft,{ref:F,children:[!g&&l.jsxs(l.Fragment,{children:[l.jsx(Be,{text:"Remove",tone:"critical",icon:ao,onClick:b}),l.jsx(Be,{text:Z&&ge?"Cancel replace":"Replace",icon:Z&&ge?Ei:h0,onClick:Re}),l.jsx(Be,{text:"Duplicate",icon:Su,onClick:K}),l.jsx(MO,{onInsert:X,types:$})]}),!g&&!ge&&Z&&l.jsx(kr,{}),!ge&&Z&&l.jsx(Be,{as:De,"data-as":"a",text:"Open in new tab",icon:cm})]}),popover:Ccn})}),[g,S,b,Z,ge,Re,K,X,$,De]),rt=h.useCallback(()=>{T(p.weak===!0?vt(!0,["_weak"]):Je(["_weak"]))},[T,p]),Mt=x!=null&&x._weak?"weak":"strong",un=p.weak===!0?"weak":"strong",xe=Z&&!Q.isLoading&&(x==null?void 0:x._strengthenOnPublish),qe=!Q.isLoading&&((a=Q.result)==null?void 0:a.availability.available)&&Z&&Mt!==un&&!xe,Ze=((c=Q.result)==null?void 0:c.preview.draft)||((u=Q.result)==null?void 0:u.preview.published),Ne=l.jsxs(l.Fragment,{children:[oe&&ae&&x._strengthenOnPublish&&l.jsx(gf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(te,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(f=(d=Q.result)==null?void 0:d.preview.published)==null?void 0:f.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(ie,{onClick:me,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),qe&&l.jsx(gf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(te,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:Mt}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[un,"."]})]}),l.jsx(B,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",Ze!=null&&Ze.title?l.jsxs(l.Fragment,{children:['"',Ze==null?void 0:Ze.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",Ze!=null&&Ze.title?l.jsxs(l.Fragment,{children:['"',Ze==null?void 0:Ze.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(ie,{onClick:rt,text:l.jsxs(l.Fragment,{children:["Convert to ",un," reference"]}),tone:"caution"})]})}),Q.error&&l.jsx(gf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(te,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["Error: ",Q.error.message]}),l.jsx(ie,{onClick:Q.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),pt=l.jsx(wcn,{menuRef:F,containerRef:V,children:l.jsx(RO,{dragHandle:R,presence:!ge&&_.length>0&&l.jsx(a_,{presence:_,maxAvatars:1}),validation:!ge&&C.length>0&&l.jsx(X0,{validation:C}),menu:at,footer:ge?void 0:Ne,tone:ge?void 0:be,focused:j,children:ge?l.jsx(M,{padding:1,ref:V,children:l.jsx(IO,{title:p.title,description:p.description,__unstable_presence:_,validation:C,inputId:S,children:k})}):l.jsxs(q3e,{as:W,tone:"inherit",radius:2,documentId:x==null?void 0:x._ref,documentType:ce==null?void 0:ce.name,disabled:Y,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:je,pressed:Te,"data-selected":je?!0:void 0,"data-pressed":Te?!0:void 0,...D,children:[l.jsx(Y3e,{value:x,referenceInfo:Q,renderPreview:P,type:p}),Y&&l.jsx(J,{style:Scn,tone:"transparent",radius:2,as:U,justify:"center",children:l.jsxs(U,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(ir,{muted:!0})}),l.jsx(B,{children:"Resolving initial value…"})]})})]})})});return l.jsx(oi,{path:v,isChanged:E,hasFocus:!!j,children:l.jsx(M,{paddingX:1,children:pt})})}function Lle(e){return Va(e.schemaType)}function Ble(e){return Pl(e.schemaType)}function kcn(e){return e._key!==void 0}function bE(e){return kcn(e)?e:{...e,_key:Mx(12)}}const K3e=4;function Nle(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function jcn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K3e;const n=Tcn(t);return function(){return yr(n(e(...arguments)))}}function Tcn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K3e;const t=[],n=[],r=new gr;return o;function o(a){return new ft(c=>{if(t.length>=e)return i(a).pipe(ct(o)).subscribe(c);const u=a.subscribe(c);return t.push(u),()=>{Nle(t,u),Nle(n,a),u.unsubscribe(),s()}})}function i(a){return n.push(a),r.asObservable().pipe(kEe(c=>c===a))}function s(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const Acn=4;function Ocn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.metadata,i=r.storeOriginalFilename,{label:s,title:a,description:c,creditLine:u,source:d}=r;return $cn(n).pipe(jn(()=>ve(null)),ct(f=>f?Icn(e,"sanity.".concat(t,"Asset"),f):ve(null)),ct(f=>f?ve({type:"complete",id:f._id,asset:f}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:o,preserveFilename:i,label:s,title:a,description:c,creditLine:u,source:d}).pipe(le(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const Z3e=jcn(Ocn,Acn),Pcn=(e,t,n)=>Z3e(e,"image",t,n),Dcn=(e,t,n)=>Z3e(e,"file",t,n);function X3e(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function Q3e(e,t){return X3e(e,t)}function J3e(e,t){return X3e(e,t)}function Icn(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function Rcn(e){return new ft(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function $cn(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?ve(null):Rcn(e).pipe(ct(t=>crypto.subtle.digest("SHA-1",t)),le(Mcn))}function Mcn(e){return Array.prototype.map.call(new Uint8Array(e),t=>"00".concat(t.toString(16)).slice(-2)).join("")}function Fcn(e,t){return new ft(n=>{const r=new window.FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(t===void 0?e:e.slice(0,t)),()=>r.abort()})}const Lcn=/(invalid image format)|(No exif data)/i,Bcn=128e3;function Ncn(e){return yr(Fcn(e,Bcn)).pipe(le(t=>uWt(t)),jn(t=>(Lcn.test(t.message)||console.warn("Exif read failed, continuing anyway: ".concat(t.message)),ve({}))))}function zle(e){return[5,6,7,8].indexOf(e)>-1}function zcn(e,t){const n=t.x,r=t.y,o=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(o),e==null||e.translate(-n,-r)}function Vle(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const Vcn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],Hcn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],Ucn="top-left",Wcn=120;function Ycn(e,t){const n=Vcn[t-1],r=e.height/e.width;e.width=Wcn/r,e.height=e.width*r;const o=document.createElement("canvas"),i=o.getContext("2d");if(zle(t)?(o.height=e.width,o.width=e.height):(o.width=e.width,o.height=e.height),n.op==="flip-x"&&Vle(o,!0,!1),n.op==="flip-y"&&Vle(o,!1,!0),n.degrees&&(zcn(i,{degrees:n.degrees,x:o.width/2,y:o.height/2}),zle(t))){const s=o.width-o.height;i==null||i.translate(s/2,-s/2)}return i==null||i.drawImage(e,0,0,e.width,e.height),o}function qcn(e,t){return new ft(n=>{const r=Hcn.indexOf(t)+1,o=Ycn(e,r);n.next(o.toDataURL("image/jpeg",.1)),n.complete()})}function Gcn(e){return new ft(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error('Could not load image from url "'.concat(e,'". Image may be of an unsupported format')))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function Kcn(e,t){return Gcn(window.URL.createObjectURL(e)).pipe(ct(n=>qcn(n,t)))}const cl="_upload",Zcn=Je([cl]);function jp(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const eRe=jp([Zcn]);function tRe(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return jp([vt(n,[cl])])}function Xcn(e,t,n){const r=Pcn(e,t,n).pipe(dt(i=>i.stage!=="download"),le(i=>({...i,progress:2+i.percent/100*98})),le(i=>i.type==="complete"?jp([vt({_type:"reference",_ref:i.asset._id},["asset"]),vt(100,[cl,"progress"]),vt(new Date().toISOString(),[cl,"updatedAt"])]):jp([vt(i.percent,[cl,"progress"]),vt(new Date().toISOString(),[cl,"updatedAt"])]))),o=Ncn(t).pipe(ct(i=>Kcn(t,i.orientation||Ucn)),jn(i=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,i.message),ve(null))),dt(Boolean),le(i=>jp([vt(i,[cl,"previewImage"])])));return Fr(ve(tRe(t)),Qt(r,o),ve(eRe))}function nRe(e,t,n){const r=Dcn(e,t,n).pipe(le(o=>o.type==="complete"?jp([vt({_type:"reference",_ref:o.asset._id},["asset"]),vt(100,[cl,"progress"]),vt(new Date().toISOString(),[cl,"updated"])]):jp([vt(o.percent,[cl,"progress"]),vt(new Date().toISOString(),[cl,"updated"])])));return Fr(ve(tRe(t)),r,ve(eRe))}const Qcn={type:"image",accepts:"image/*",upload:(e,t,n,r)=>Xcn(e,t,r)},Jcn={type:"file",accepts:"",upload:(e,t,n,r)=>nRe(e,t,r)},eun={type:"string",accepts:"text/*",upload:(e,t,n,r)=>nRe(e,t,r).pipe(le(o=>({type:"uploadProgress",patches:[vt(o)]})))},tun=[Qcn,eun,Jcn].map((e,t)=>({...e,priority:t}));function V6(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):o===a})}function kV(e,t){return tun.find(n=>{var r;return hc(n.type,e)&&V6(t,n.accepts)&&V6(t,((r=e.options)==null?void 0:r.accept)||"")})||null}const nun=["_key","_type","_weak"];function rRe(e){return Object.keys(e).every(t=>nun.includes(t))}const run=(e,t)=>{const n=ks(t);return e.of.find(r=>r.name===n)};function oun(e,t){return Object.entries(e).map(n=>{let[r,o]=n;return vt(o,[...t,r])})}function oRe(e,t,n){return yr(e).pipe(ct(r=>{const o={_key:r._key};return ve(run(t,r)).pipe(ct(i=>i?ve(i):Un),ct(i=>!rRe(r)||!n?Un:Fr(ve({type:"patch",patches:[vt(!0,[o,"_resolvingInitialValue"])]}),io(()=>n(i,r)).pipe(dt(lo),le(s=>({type:"patch",patches:oun(s,[o])})),jn(s=>ve({type:"error",error:s,item:r,schemaType:i}))),ve({type:"patch",patches:[Je([o,"_resolvingInitialValue"])]}))))}))}const Hle="before",Ule="after";function iun(e,t,n){if(t!==Hle&&t!==Ule)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(Hle," or ").concat(Ule));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=Wle(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...Wle(s)),d}function Wle(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const Yle=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function sun(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function aun(e,t){if(typeof t=="number")return t;const n=kN(e,t);return n===-1?!1:n}function lun(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!Yle(t.value,"from")||!Yle(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return sun(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=aun(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return iun(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=TV(n[i],{...t,path:o}),n}function cun(e,t){const n=yOe(e);if(t.path.length===0){if(t.type==="set"){if(!nw(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Ai(n,r):(n[r]=TV(n[r],{...t,path:o}),n)}const iRe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},uun=Object.keys(iRe);function dun(e,t){if(!uun.includes(t.type))throw new Error('Received patch of unsupported type "'.concat(t.type,'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return iRe[t.type](e,t.value)}const sRe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=HTe(WTe(t),e,{allowExceedingIndices:!0});return n}},fun=Object.keys(sRe);function hun(e,t){if(!fun.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return sRe[t.type](e,t.value)}function jV(e,t){return t.reduce(TV,e)}function pun(e,t){return Array.isArray(e)?lun(e,t):jA(e)?hun(e,t):nw(e)?cun(e,t):dun(e,t)}function TV(e,t){return pun(e,t)}function mun(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:o,onSetFieldSetCollapsed:i,onPathOpen:s,onFieldGroupSelect:a}=ua(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:b}}=ii().__internal,x=h.useRef(),y=h.useRef({});Ri(c.field.focused,(re,ae)=>{var me;!re&&ae&&((me=x.current)==null||me.focus())});const w=h.useCallback(re=>{re.currentTarget===re.target&&re.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),_=h.useCallback(re=>{re.currentTarget===re.target&&re.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),C=h.useRef(c.field.value);h.useEffect(()=>{C.current=c.field.value},[c.field.value]);const S=h.useCallback(re=>{const ae=lt.from(re).patches;if(ae.some(ce=>ce.type==="unset"&&ce.path.length===1)&&(C.current=jV(C.current||[],ae),Array.isArray(C.current)&&!C.current.length)){r(lt.from(Je([c.name])));return}r(lt.from(re).prepend(qi([])).prefixAll(c.name))},[r,c.name,C]),E=gH(),j=Bo(),k=h.useCallback(()=>{o(c.field.path,!0)},[o,c.field.path]),T=h.useCallback(()=>{o(c.field.path,!1)},[o,c.field.path]),A=h.useCallback(re=>{o(c.field.path.concat({_key:re}),!0)},[o,c.field.path]),O=h.useCallback(re=>{o(c.field.path.concat({_key:re}),!1)},[o,c.field.path]),P=h.useCallback(re=>{s(re),o(re,!1)},[s,o]),D=h.useCallback(()=>{s(c.field.path),o(c.field.path,!0)},[s,c.field.path,o]),R=h.useCallback(re=>{if(re.items.length===0)throw new Error("Insert event should include at least one item");const ae=re.items.map(je=>bE(je));S(lt.from([Xd(ae,re.position,[re.referenceItem])]));const me=ae[0]._key,ce=[...c.field.path,{_key:me}];n(ce);const Te=re.open!==!1;re.skipInitialValue?Te&&P(ce):oRe(ae,c.field.schemaType,E).pipe(mn(je=>{je.type==="patch"?S(je.patches):j.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(je.schemaType.title,": ").concat(je.error.message,"."),status:"error"})})).subscribe({complete:()=>{Te&&P(ce)}})},[S,P,c.field.path,c.field.schemaType,n,E,j]),$=h.useCallback(re=>{const ae=c.field.value,me=ae==null?void 0:ae[re.fromIndex],ce=ae==null?void 0:ae[re.toIndex];if(re.fromIndex!==re.toIndex){if(!(me!=null&&me._key)||!(ce!=null&&ce._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}S([Je([{_key:me._key}]),Xd([me],re.fromIndex>re.toIndex?"before":"after",[{_key:ce._key}])])}},[S,c.field.value]),H=h.useCallback(re=>{S([qi([]),Xd([bE(re)],"before",[0])])},[S]),F=h.useCallback(re=>{S([qi([]),Xd([bE(re)],"after",[-1])])},[S]),V=h.useCallback(re=>{y.current[re]&&(y.current[re].unsubscribe(),delete y.current[re]),S([Je([{_key:re}])])},[S]),W=h.useCallback(re=>{n(c.field.path.concat(re))},[c.field.path,n]),z=h.useMemo(()=>({onBlur:_,onFocus:w,id:c.field.id,ref:x,"aria-describedby":ah(c.field.id,c.field.schemaType.description)}),[_,w,c.field.id,c.field.schemaType.description]),q=ar(tn),oe=ii(),N=oe.__internal.image.directUploads,G=oe.__internal.file.directUploads,Y=h.useCallback((re,ae)=>hc("image",re)&&!N||hc("file",re)&&!G?null:kV(re,ae),[G,N]),K=h.useCallback(re=>{let{file:ae,schemaType:me,uploader:ce}=re;const Te=J0(me),je=Te._key;R({items:[Te],position:"after",referenceItem:-1,open:!1});const be=ce.upload(q,ae,me).pipe(le(ge=>lt.from(ge.patches||[]).prefixAll({_key:je})),mn(ge=>S(ge.patches)));y.current={...y.current,[je]:be.subscribe()}},[q,S,R]),X=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,onItemExpand:O,onItemCollapse:A,onItemClose:D,onItemOpen:P,focusPath:c.field.focusPath,focused:c.field.focused,path:c.field.path,onChange:S,onInsert:R,onItemMove:$,onItemRemove:V,onItemAppend:F,onItemPrepend:H,onPathFocus:W,resolveInitialValue:E,onUpload:K,resolveUploader:Y,validation:c.field.validation,presence:c.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:f,renderItem:v,renderPreview:g,elementProps:z}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.focusPath,c.field.focused,c.field.path,c.field.validation,c.field.presence,O,A,D,P,S,R,$,V,F,H,W,E,K,Y,u,d,p,m,f,v,g,z]),Q=h.useMemo(()=>m(X),[X,m]),Z=h.useMemo(()=>({actions:b,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,changed:c.field.changed,onCollapse:k,onExpand:T,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:Q,inputProps:X}),[b,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,k,T,Q,X]);return l.jsx(t_,{onFieldGroupSelect:a,onChange:S,onSetFieldSetCollapsed:i,onSetPathCollapsed:o,onPathOpen:s,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(Z),[Z,f])})}function aRe(e,t,n){return Op(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function gun(e){const{member:t,renderInput:n,renderField:r}=e,{field:{actions:o}}=ii().__internal,i=h.useRef(),[s,a]=h.useState(),{onPathBlur:c,onPathFocus:u,onChange:d}=ua();h.useEffect(()=>{var _;t.field.focused&&((_=i.current)==null||_.focus())},[t.field.focused]);const f=h.useCallback(()=>{c(t.field.path)},[t.field.path,c]),p=h.useCallback(()=>{u(t.field.path)},[t.field.path,u]),m=h.useCallback(_=>{d(lt.from(_).prefixAll(t.name))},[d,t.name]),v=h.useCallback(_=>{let C=_.currentTarget.value;if(Op(t.field.schemaType)){if(C=_.currentTarget.valueAsNumber,C>Number.MAX_SAFE_INTEGER||C<Number.MIN_SAFE_INTEGER)return}else ew(t.field.schemaType)&&(C=_.currentTarget.checked);const S=C===""||typeof C=="number"&&isNaN(C);Op(t.field.schemaType)&&a(S?void 0:_.currentTarget.value),d(lt.from(S?Je():vt(C)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),g=h.useMemo(()=>t.field.validation.filter(_=>_.level==="error").map(_=>_.message).join(`
`),[t.field.validation])||void 0,b=h.useMemo(()=>({onBlur:f,onFocus:p,id:t.field.id,ref:i,onChange:v,value:aRe(t.field.schemaType,t.field.value,s),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":ah(t.field.id,t.field.schemaType.description)}),[f,p,v,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,s]),x=h.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:g,elementProps:b}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,g,b]),y=h.useMemo(()=>n(x),[x,n]),w=h.useMemo(()=>({actions:o,changed:t.field.changed,children:y,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:x,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[o,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,y,x]);return l.jsx(l.Fragment,{children:r(w)})}const vun=function(t){const{onPathBlur:n,onPathFocus:r,onChange:o,onPathOpen:i,onSetPathCollapsed:s,onSetFieldSetCollapsed:a,onFieldGroupSelect:c}=ua(),{member:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:b}=t,{field:{actions:x}}=ii().__internal,y=h.useRef(),w=h.useRef(u.field.value);h.useEffect(()=>{w.current=u.field.value},[u.field.value]),Ri(u.field.focused,(oe,N)=>{var G;!oe&&N&&((G=y.current)==null||G.focus())});const _=h.useCallback(()=>{n(u.field.path)},[u.field.path,n]),C=h.useCallback(()=>{r(u.field.path)},[u.field.path,r]),S=h.useCallback(oe=>{r(u.field.path.concat(oe))},[u.field.path,r]),E=h.useCallback(oe=>{if(!(u.field.path.length===0)){const G=lt.from(oe).patches;if(w.current=jV(w.current||{},G),w.current&&C6t(w.current)){o(lt.from(Je([u.name])));return}}o(lt.from(oe).prepend(qi(EV(u.field.schemaType))).prefixAll(u.name))},[o,u,w]),j=h.useCallback(()=>{s(u.field.path,!0)},[s,u.field.path]),k=h.useCallback(()=>{s(u.field.path,!1)},[s,u.field.path]),T=h.useCallback(oe=>{s(u.field.path.concat(oe),!0)},[s,u.field.path]),A=h.useCallback(oe=>{s(u.field.path.concat(oe),!1)},[s,u.field.path]),O=h.useCallback(oe=>{i(u.field.path.concat(oe))},[i,u.field.path]),P=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),D=h.useCallback(oe=>{a(u.field.path.concat(oe),!1)},[a,u.field.path]),R=h.useCallback(oe=>{a(u.field.path.concat(oe),!0)},[a,u.field.path]),$=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),H=h.useCallback(()=>{i(u.field.path.slice(0,-1))},[i,u.field.path]),F=h.useCallback(oe=>{c(u.field.path,oe)},[c,u.field.path]),V=h.useMemo(()=>({onBlur:_,onFocus:C,id:u.field.id,ref:y,"aria-describedby":ah(u.field.id,u.field.schemaType.description)}),[_,C,u.field.id,u.field.schemaType.description]),W=h.useMemo(()=>({elementProps:V,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:F,onFieldOpen:O,onFieldClose:P,onFieldCollapse:T,onFieldExpand:A,onFieldSetExpand:D,onFieldSetCollapse:R,onPathFocus:S,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:E,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:b}),[V,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,F,O,P,T,A,D,R,S,E,d,f,p,m,v,g,b]),z=h.useMemo(()=>v(W),[W,v]),q=h.useMemo(()=>({actions:x,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:j,onExpand:k,open:u.open,changed:u.field.changed,onOpen:$,onClose:H,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:z,inputProps:W}),[x,u.name,u.index,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.collapsible,u.collapsed,u.open,j,k,$,H,z,W]);return l.jsx(t_,{onFieldGroupSelect:c,onChange:E,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:s,onPathBlur:n,onPathFocus:r,children:h.useMemo(()=>p(q),[q,p])})};function yun(e,t){return new ft(n=>{const r=new FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function bun(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function xun(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function wun(e){return/^\d+$/.test(e)}function _un(e,t){let n=!1,r=!1,o=!1;return t.forEach(i=>{ew(i)&&(n=!0),abe(i)&&(o=!0),Op(i)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&wun(e)?Number(e):o?e:void 0}function Cun(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return yun(n,"utf-8").pipe(le(r=>r==null?void 0:r.split(/[\n\r]/).map(o=>_un(o,e)).filter(o=>o!==void 0)),dt(r=>Array.isArray(r)),le(r=>({type:"uploadProgress",patches:[Xd(r,"after",[-1])]})))}}}function Sun(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:o,onSetPathCollapsed:i,onSetFieldSetCollapsed:s,onFieldGroupSelect:a}=ua(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:b}}=ii().__internal,x=h.useRef(),y=h.useRef(),w=ar(tn);Ri(c.field.focused,(N,G)=>{var Y;!N&&G&&((Y=x.current)==null||Y.focus())});const _=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),C=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),S=h.useCallback(N=>{const G=lt.from(N).patches;if(G.some(K=>K.type==="unset"&&K.path.length===1)){const K=jV(c.field.value||[],G);if(Array.isArray(K)&&!K.length){r(lt.from(Je([c.name])));return}}r(lt.from(N).prepend(qi([])).prefixAll(c.name))},[r,c.name,c.field.value]),E=h.useCallback(N=>{i(c.field.path,N)},[i,c.field.path]),j=h.useCallback(()=>{i(c.field.path,!0)},[i,c.field.path]),k=h.useCallback(()=>{i(c.field.path,!1)},[i,c.field.path]),T=h.useCallback(N=>{S(N.length===0?Je():vt(N))},[S]),A=h.useCallback(N=>{const{value:G=[]}=c.field;N.fromIndex!==N.toIndex&&T(bun(G,N.fromIndex,N.toIndex))},[c.field,T]),O=h.useCallback(N=>{const{value:G=[]}=c.field;T(G.concat(N))},[c.field,T]),P=h.useCallback(N=>{const{value:G=[]}=c.field;T([N].concat(G||[]))},[c.field,T]),D=h.useCallback(N=>{const{value:G=[]}=c.field,Y=N.referenceIndex+(N.position==="before"?-1:0);T(xun(Y,G,N.items))},[c.field,T]),R=h.useCallback(N=>{S(Je([N]))},[S]),$=h.useCallback(N=>{n(c.field.path.concat([N]))},[c.field.path,n]),H=h.useMemo(()=>({onBlur:C,onFocus:_,id:c.field.id,ref:x,"aria-describedby":ah(c.field.id,c.field.schemaType.description)}),[C,_,c.field.id,c.field.schemaType.description]),F=h.useMemo(()=>Cun(c.field.schemaType.of),[c.field.schemaType.of]),V=h.useCallback((N,G)=>V6(G,"text/*")?F:null,[F]),W=h.useCallback(N=>{let{file:G,schemaType:Y,uploader:K}=N;const X=K.upload(w,G,Y).pipe(le(Q=>lt.from(Q.patches||[])),mn(Q=>S(Q.patches)));y.current&&y.current.unsubscribe(),y.current=X.subscribe()},[w,S]),z=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,onSetCollapsed:E,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,elementProps:H,path:c.field.path,focusPath:c.field.focusPath,focused:c.field.focused,onChange:S,onInsert:D,onMoveItem:A,onItemRemove:R,onItemAppend:O,onItemPrepend:P,validation:c.field.validation,presence:c.field.presence,resolveUploader:V,onUpload:W,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:v,onIndexFocus:$,renderPreview:g}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.focusPath,c.field.focused,c.field.validation,c.field.presence,E,H,S,D,A,R,O,P,V,W,u,d,p,m,v,$,g]),q=h.useMemo(()=>m(z),[z,m]),oe=h.useMemo(()=>({actions:b,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,onExpand:k,changed:c.field.changed,onCollapse:j,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:q,inputProps:z}),[b,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,k,j,q,z]);return l.jsx(t_,{onFieldGroupSelect:a,onChange:S,onPathOpen:o,onSetFieldSetCollapsed:s,onSetPathCollapsed:i,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(oe),[oe,f])})}function lRe(e){return Va(e.field.schemaType)}function Eun(e){return Pl(e.field.schemaType)&&e.field.schemaType.of.every(t=>lbe(t))}function AV(e){return Pl(e.field.schemaType)&&e.field.schemaType.of.every(t=>Va(t))}const u_=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=t;return lRe(n)?l.jsx(vun,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):Eun(n)?l.jsx(Sun,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInput:a,renderInlineBlock:s,renderItem:c,renderPreview:u}):AV(n)?l.jsx(mun,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):l.jsx(gun,{member:n,renderField:i,renderInput:a})}),cRe=["yes","true","1"],uRe=["false","no","false","0","null"],kun=cRe.concat(uRe),t2=()=>!0,jun=e=>t=>t&&t[e],Tun=e=>t=>(t&&t._type)===e;function Aun(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function Oun(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const H3={string:{number:{test:Number,convert:Number},boolean:{test:e=>kun.includes(e.toLowerCase()),convert:e=>cRe.includes(e.toLowerCase())||!uRe.includes(e.toLowerCase())},richDate:{test:e=>Lu(e),convert:e=>({_type:"richDate",local:Aun(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:Oun(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:Tun("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:jun("utc"),convert:e=>e.utc}},number:{string:{test:t2,convert:String},boolean:{test:t2,convert:Number}},boolean:{string:{test:t2,convert:e=>e?"Yes":"No"},number:{test:t2,convert:Number}}};function Pun(e){let{value:t,targetType:n,onChange:r}=e;const o=h.useMemo(()=>({...t,_type:n}),[n,t]),i=h.useCallback(()=>r(lt.from(qi(n,["_type"])),o),[o,r,n]);return l.jsx(ie,{onClick:i,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:n})]})})}function Dun(e){let{value:t,onChange:n,validTypes:r}=e;const o=h.useMemo(()=>({...t,_type:r[0]}),[r,t]),i=h.useCallback(()=>n(lt.from(Je()),o),[o,n]);return l.jsx(ie,{onClick:i,tone:"critical",text:"Unset value"})}function Iun(e){let{validTypes:t,value:n,onChange:r}=e;const o=xn(),i=t.length===1,s=o.has(t[0]);return l.jsx(Lc,{status:"warning",title:l.jsxs(l.Fragment,{children:["Property value missing ",l.jsx("code",{children:"_type"})]}),children:l.jsx(Im,{open:Bc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(te,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["Encountered an object value without a ",l.jsx("code",{children:"_type"})," property."]}),i&&!s&&l.jsxs(B,{as:"p",muted:!0,size:1,children:["Either remove the ",l.jsx("code",{children:"name"})," property of the object declaration, or set"," ",l.jsx("code",{children:"_type"})," property on items."]}),!i&&l.jsx(B,{as:"p",muted:!0,size:1,children:"The following types are valid here according to schema:"}),!i&&l.jsx(te,{as:"ul",space:2,children:t.map(a=>l.jsx(B,{as:"li",muted:!0,size:1,children:l.jsx("code",{children:a})},a))}),l.jsxs(te,{space:2,children:[l.jsxs(B,{as:"h4",weight:"semibold",size:1,children:["Current value (",l.jsx("code",{children:"object"}),"):"]}),l.jsx(J,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:l.jsx(er,{language:"json",children:JSON.stringify(n,null,2)})})]}),l.jsxs(en,{columns:[1,2,2],gap:1,children:[i&&l.jsx(Pun,{onChange:r,targetType:t[0],value:n}),l.jsx(Dun,{onChange:r,validTypes:t,value:n})]})]})})})}function Run(e,t,n){return t in H3?Object.keys(H3[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...H3[t][r]})).filter(r=>r.test(e)):[]}const dRe=h.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:o,onChange:i}=e;h.useImperativeHandle(t,()=>({focus:()=>{}}));const s=h.useCallback(()=>{i(lt.from(Je()))},[i]),a=h.useCallback(d=>{i(lt.from(vt(d)))},[i]),c=h.useMemo(()=>Run(n,r,o),[n,r,o]);if(br(n)&&!("_type"in n))return l.jsx(Iun,{value:n,validTypes:o,onChange:i});const u=l.jsx(te,{padding:2,children:l.jsx(ie,{onClick:s,tone:"critical",text:"Reset value"})});return l.jsxs(Lc,{status:"error",suffix:u,title:l.jsx(l.Fragment,{children:"Invalid property value"}),children:[l.jsx(B,{as:"p",muted:!0,size:1,children:"The property value is stored as a value type that does not match the expected type."}),l.jsx(Im,{marginTop:4,open:Bc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(te,{space:3,children:[o.length===1&&l.jsxs(B,{as:"p",muted:!0,size:1,children:["The value of this property must be of type ",l.jsx("code",{children:o[0]})," according to the schema."]}),o.length===1&&l.jsx(B,{as:"p",muted:!0,size:1,children:"Mismatching value types typically occur when the schema has recently been changed."}),o.length!==1&&l.jsx(B,{as:"p",muted:!0,size:1,children:"Only the following types are valid here according to schema:"}),o.length!==1&&l.jsx(te,{as:"ul",space:2,children:o.map(d=>l.jsx(B,{as:"li",children:l.jsx("code",{children:d})},d))}),l.jsxs(te,{marginTop:2,space:2,children:[l.jsxs(B,{size:1,weight:"semibold",children:["The current value (",l.jsx("code",{children:r}),")"]}),l.jsx(J,{border:!0,padding:2,radius:2,tone:"inherit",children:l.jsx(er,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),c.length>0&&l.jsx(te,{space:1,children:c.map(d=>l.jsx($un,{converter:d,onConvert:a,value:n},"".concat(d.from,"-").concat(d.to)))})]})})]})});dRe.displayName="InvalidValueInput";function $un(e){let{converter:t,onConvert:n,value:r}=e;const o=h.useCallback(()=>n(t.convert(r)),[t,n,r]);return l.jsx(ie,{onClick:o,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:t.to})]})})}function Mun(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(lt.from((t.value||[]).map((o,i)=>qi(Hw(),[i,"_key"]))))},[t.value,n]);return l.jsx(Q0,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Lc,{status:"warning",suffix:l.jsx(te,{padding:2,children:l.jsx(ie,{onClick:r,text:"Add missing keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Missing keys"}),children:[l.jsx(B,{as:"p",muted:!0,size:1,children:"Some items in the list are missing their keys. This must be fixed in order to edit the list."}),l.jsx(Im,{marginTop:4,open:Bc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(te,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property has not been included."]}),l.jsxs(B,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function Fun(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(lt.from((t.duplicates||[]).map(o=>{let[i,s]=o;return vt("".concat(s,"_deduped_").concat(i),[i,"_key"])})))},[t.duplicates,n]);return l.jsx(Q0,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Lc,{status:"warning",suffix:l.jsx(te,{padding:2,children:l.jsx(ie,{onClick:r,text:"Generate unique keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Non-unique keys"}),children:[l.jsx(B,{as:"p",muted:!0,size:1,children:"Several items in this list share the same identifier (key). Every item must have an unique identifier."}),l.jsx(Im,{marginTop:4,open:Bc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(te,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property of each elements has been generated non-uniquely."]}),l.jsxs(B,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function Lun(e){const{error:t,onChange:n}=e,r=()=>{const i=(t.value||[]).flatMap((s,a)=>br(s)?[]:[a]).reverse().map(s=>Je([s]));n(lt.from(i))};return l.jsx(Q0,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Lc,{status:"error",suffix:l.jsx(te,{padding:2,children:l.jsx(ie,{onClick:r,text:"Remove non-object values",tone:"critical"})}),title:l.jsx(l.Fragment,{children:"Invalid list values"}),children:[l.jsx(B,{as:"p",muted:!0,size:1,children:"Some items in this list are not objects. This must be fixed in order to edit the list."}),l.jsx(Im,{marginTop:4,open:Bc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsx(te,{space:3,children:l.jsx(B,{as:"p",muted:!0,size:1,children:"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list."})})})]})})}function LO(e){const{member:t}=e,{onChange:n}=ua(),r=h.useCallback(o=>{n(lt.from(o).prefixAll(t.fieldName))},[n,t.fieldName]);return t.error.type==="INCOMPATIBLE_TYPE"?l.jsx(dRe,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?l.jsx(Mun,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?l.jsx(Fun,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?l.jsx(Lun,{onChange:r,error:t.error}):l.jsxs(M,{children:["Unexpected error: ",e.member.error.type]})}const OV=h.memo(function(t){var n;const{member:r,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d}=t,{onSetFieldSetCollapsed:f}=ua(),p=h.useCallback(()=>{f(r.fieldSet.path,!0)},[r.fieldSet.path,f]),m=h.useCallback(()=>{f(r.fieldSet.path,!1)},[r.fieldSet.path,f]);return l.jsx(IO,{title:r.fieldSet.title||Sm(r.fieldSet.name),description:r.fieldSet.description,level:r.fieldSet.level,collapsible:r.fieldSet.collapsible,collapsed:r.fieldSet.collapsed,onCollapse:p,onExpand:m,columns:(n=r==null?void 0:r.fieldSet)==null?void 0:n.columns,"data-testid":"fieldset-".concat(r.fieldSet.name),inputId:r.fieldSet.name,children:r.fieldSet.members.map(v=>v.kind==="error"?l.jsx(LO,{member:v},r.key):l.jsx(u_,{member:v,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d},v.key))})});function PV(e){const t=h.useRef(),{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=e,{onPathBlur:d,onPathFocus:f,onChange:p,onPathOpen:m,onSetPathCollapsed:v,onSetFieldSetCollapsed:g,onFieldGroupSelect:b}=ua(),x=gH();Ri(n.item.focused,(Y,K)=>{var X;!Y&&K&&((X=t.current)==null||X.focus())});const y=h.useCallback(()=>{p(lt.from([Je([{_key:n.key}])]))},[n.key,p]),w=h.useCallback(Y=>{m(Y),v(Y,!1)},[m,v]),_=Bo(),C=h.useCallback(Y=>{if(Y.items.length===0)throw new Error("Insert event should include at least one item");const K=Y.items.map(ae=>bE(ae));p(lt.from([Xd(K,Y.position,[{_key:n.key}])]));const X=K[0]._key,Z=[...n.item.path.slice(0,-1),{_key:X}];f(Z);const re=Y.open!==!1;Y.skipInitialValue?re&&w(Z):oRe(K,n.parentSchemaType,x).pipe(mn(ae=>{ae.type==="patch"?p(lt.from(ae.patches)):_.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(ae.schemaType.title,": ").concat(ae.error.message,"."),status:"error"})})).subscribe({complete:()=>{re&&w(Z)}})},[w,n.item.path,n.key,n.parentSchemaType,p,f,x,_]),S=h.useCallback(()=>{d(n.item.path)},[n.item.path,d]),E=h.useCallback(()=>{f(n.item.path)},[n.item.path,f]),j=h.useCallback(Y=>{f(n.item.path.concat(Y))},[n.item.path,f]),k=h.useCallback(Y=>{p(lt.from(Y).prepend(qi(EV(n.item.schemaType))).prefixAll({_key:n.key}))},[p,n.item.schemaType,n.key]),T=h.useCallback(()=>{v(n.item.path,!0)},[v,n.item.path]),A=h.useCallback(()=>{v(n.item.path,!1)},[v,n.item.path]),O=h.useCallback(Y=>{v(n.item.path.concat(Y),!0)},[v,n.item.path]),P=h.useCallback(Y=>{v(n.item.path.concat(Y),!1)},[v,n.item.path]),D=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),R=h.useCallback(Y=>{m(n.item.path.concat(Y))},[m,n.item.path]),$=h.useCallback(Y=>{g(n.item.path.concat(Y),!1)},[g,n.item.path]),H=h.useCallback(Y=>{g(n.item.path.concat(Y),!0)},[g,n.item.path]),F=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),V=!n.item.value||rRe(n.item.value),W=h.useCallback(()=>{V&&y();const Y=n.item.path.slice(0,-1);m(Y),f(Y)},[V,m,n.item.path,f,y]),z=h.useCallback(Y=>{b(n.item.path,Y)},[b,n.item.path]),q=h.useMemo(()=>({onBlur:S,onFocus:E,id:n.item.id,ref:t,"aria-describedby":ah(n.item.id,n.item.schemaType.description)}),[S,E,n.item.id,n.item.schemaType.description]),oe=h.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:k,onFieldClose:D,onFieldCollapse:O,onFieldSetCollapse:H,onFieldExpand:P,onFieldSetExpand:$,onFieldGroupSelect:z,onPathFocus:j,onFieldOpen:R,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:q}),[q,k,D,O,H,P,$,j,R,z,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,o,i,s,a,c,u]),N=h.useMemo(()=>a(oe),[oe,a]),G=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:C,onRemove:y,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:F,onClose:W,onExpand:A,onCollapse:T,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:E,onBlur:S,inputId:n.item.id,path:n.item.path,children:N,changed:n.item.changed,inputProps:oe}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,C,y,F,W,A,T,E,S,N,oe]);return l.jsx(t_,{onFieldGroupSelect:b,onChange:k,onPathOpen:m,onSetFieldSetCollapsed:g,onSetPathCollapsed:v,onPathBlur:d,onPathFocus:f,children:h.useMemo(()=>c(G),[G,c])})}function DV(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(e.jsonType,'"'))}}function Bun(e){const t=h.useRef(),{member:n,renderItem:r,renderInput:o}=e,[i,s]=h.useState(),{onPathBlur:a,onPathFocus:c,onChange:u}=ua();Ri(n.item.focused,(_,C)=>{var S;!_&&C&&((S=t.current)==null||S.focus())});const d=h.useCallback(_=>{a(n.item.path)},[n.item.path,a]),f=h.useCallback(_=>{c(n.item.path)},[n.item.path,c]),p=h.useCallback(_=>{u(lt.from(_).prefixAll(n.index))},[u,n.index]),m=h.useCallback(_=>{let C=_.currentTarget.value;if(Op(n.item.schemaType)){if(C=_.currentTarget.valueAsNumber,C>Number.MAX_SAFE_INTEGER||C<Number.MIN_SAFE_INTEGER)return}else ew(n.item.schemaType)&&(C=_.currentTarget.checked);const S=C===""||typeof C=="number"&&isNaN(C);Op(n.item.schemaType)&&s(S?void 0:_.currentTarget.value),p(vt(S?DV(n.item.schemaType):C))},[p,n.item.schemaType]),v=h.useMemo(()=>({onBlur:d,onFocus:f,id:n.item.id,ref:t,onChange:m,value:Nun(n.item.schemaType,n.item.value,i),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":ah(n.item.id,n.item.schemaType.description)}),[d,f,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,i]),g=h.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:p,validation:n.item.validation,presence:n.item.presence,elementProps:v}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,p,v]),b=h.useMemo(()=>o(g),[g,o]),x=h.useCallback(()=>{u(lt.from([Je([n.index])]))},[n.index,u]),y=h.useCallback(_=>{u(lt.from([Xd(_.items,_.position,[n.index])]))},[n.index,u]),w=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:y,onRemove:x,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:d,inputId:n.item.id,path:n.item.path,children:b}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,y,x,f,d,b]);return l.jsx(l.Fragment,{children:h.useMemo(()=>r(w),[w,r])})}function Nun(e,t,n){return Object.is(t,-0)?"":aRe(e,t,n)}var qle=Object.freeze,zun=Object.defineProperty,Vun=(e,t)=>qle(zun(e,"raw",{value:qle(t||e.slice())})),Gle;const Hun=I(J)(Gle||(Gle=Vun([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function fRe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ne.useState(!1),[a,c]=ne.useState(null);rr(()=>s(!1),[a]);const u=ne.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=ks(t);return l.jsx(nn,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Hun,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(te,{space:4,children:[l.jsxs(B,{weight:"semibold",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]}),l.jsx(B,{size:1,weight:"semibold",children:"Why is this happening?"}),l.jsxs(B,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(B,{size:1,children:[l.jsx(pT,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(te,{space:2,children:[l.jsx(B,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(J,{padding:2,overflow:"auto",border:!0,children:l.jsx(er,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(J,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(B,{children:l.jsx(vl,{})})}),l.jsx(M,{flex:1,children:l.jsxs(B,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Uun(e){const{member:t}=e;return t.error.type==="INVALID_ITEM_TYPE"?l.jsx(fRe,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})}const Wun=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderInput:i,renderInlineBlock:s,renderField:a,renderItem:c,renderPreview:u}=t;return n.kind==="field"?l.jsx(u_,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):n.kind==="error"?l.jsx(LO,{member:n},n.key):n.kind==="fieldSet"?l.jsx(OV,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):(console.warn(new Error("Unhandled member kind ".concat(n.kind))),null)});function Yun(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:o,renderInlineBlock:i,renderField:s,renderItem:a,renderPreview:c}=e,u=h.useMemo(()=>t.map(d=>l.jsx(Wun,{member:d,renderAnnotation:n,renderBlock:r,renderField:s,renderInlineBlock:i,renderInput:o,renderItem:a,renderPreview:c},d.key)),[t,n,r,s,i,o,a,c]);return l.jsx(l.Fragment,{children:u})}const ey=e=>{let{children:t}=e;return t};function qun(e){return"absolutePath"in e}const hRe=h.memo(function(t){const n=h.useMemo(()=>qun(t)?t.absolutePath:t.path.concat(t.relativePath),[t]),r=h.useCallback(()=>l.jsx(l.Fragment,{children:"Missing destination render function"}),[]);return l.jsx(Gun,{...t,absolutePath:n,destinationRenderAnnotation:t.renderAnnotation||r,destinationRenderBlock:t.renderBlock||r,destinationRenderField:t.renderField,destinationRenderInlineBlock:t.renderInlineBlock||r,destinationRenderInput:t.renderInput,destinationRenderItem:t.renderItem,destinationRenderPreview:t.renderPreview})}),Gun=h.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderInput:a,destinationRenderItem:c,destinationRenderPreview:u}=t,d=h.useCallback(b=>{if(pn(b.path,n)||yi(n,b.path))return a(b);if(!Lle(b)&&!Ble(b))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(b.path)));return l.jsx(e,{...b,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderInput:a,destinationRenderItem:c,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderPreview:u})},[n,r,o,i,s,a,c,u]),f=h.useCallback(b=>yi(n,b.path)&&(t.includeField||!pn(n,b.path))?i(b):ey(b),[n,i,t.includeField]),p=h.useCallback(b=>yi(n,b.path)&&(t.includeItem||!pn(n,b.path))?c(b):ey(b),[n,c,t.includeItem]),m=h.useCallback(b=>yi(n,b.path)&&(t.includeItem||!pn(n,b.path))?o(b):ey(b),[n,o,t.includeItem]),v=h.useCallback(b=>yi(n,b.path)&&(t.includeItem||!pn(n,b.path))?s(b):ey(b),[n,s,t.includeItem]),g=h.useCallback(b=>yi(n,b.path)&&(t.includeItem||!pn(n,b.path))?r(b):ey(b),[n,r,t.includeItem]);if(Ble(t)){const b=By(t.path,n),x=t.members.find(y=>y.kind=="item"&&Tr(b[0])&&y.key===b[0]._key);if(!x){const w=By(t.path,n)[0]._key;return l.jsxs("div",{children:["No array item with _key ",l.jsxs("code",{children:['"',w,'"']})," found at path ",JSON.stringify(t.path)]})}return x.kind==="error"?l.jsx(Uun,{member:x}):l.jsx(PV,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderField:f,renderInlineBlock:v,renderItem:p,renderPreview:u})}if(Lle(t)){const b=By(t.path,n),x=t.members.find(y=>y.kind=="field"&&b[0]===y.name);if(!x){const y=b[0];return l.jsxs("div",{children:["Field ",JSON.stringify(y)," not found among members – please verify that it's both defined in the schema and that it has not been conditionally hidden."]})}return l.jsx(u_,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderInlineBlock:v,renderField:f,renderItem:p,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),pRe=h.createContext(null);function Kun(){const e=h.useContext(pRe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}function Lx(e){const{scrollElement:t,containerElement:n}=e;return l.jsx(pRe.Provider,{value:{scrollElement:t,containerElement:n},children:e.children})}const Zun=[0,0,1,0];function mRe(e){const{children:t,header:n,id:r,legacy_referenceElement:o,onClose:i,type:s,width:a,autofocus:c}=e,[u,d]=h.useState(null),f=h.useRef(null),p=l.jsx(l_,{margins:Zun,children:l.jsx(M,{ref:f,padding:4,children:t})});return s==="dialog"?l.jsx(Lx,{scrollElement:u,containerElement:f,children:l.jsx(Pi,{header:n,id:r||"",onClickOutside:i,onClose:i,width:a,contentRef:d,__unstable_autoFocus:c,children:p})}):l.jsx(iJt,{header:n,onClose:i,referenceElement:o,width:a,containerRef:d,children:l.jsx(Lx,{scrollElement:u,containerElement:f,children:p})})}function Xun(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Qun={portal:!0,tone:"default"},Jun={position:"absolute",top:0,left:0,bottom:0,right:0,opacity:.6},edn={position:"relative"};function tdn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:b,onClose:x,changed:y,focused:w,children:_,inputProps:{renderPreview:C}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,E=c.of,j=h.useRef(null);DO(j,m),Ri(w,(q,oe)=>{var N;!q&&oe&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Mx()}],position:"after"})},[v,p]),A=h.useCallback((q,oe)=>{v({items:[J0(oe)],position:q})},[v]),O=q0(u,!0),P=h.useMemo(()=>O.length===0?null:l.jsx(a_,{presence:O,maxAvatars:1}),[O]),D=nV(u,!0),R=h.useMemo(()=>D.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(X0,{validation:D,__unstable_showSummary:!0})}),[D]),$=D.some(q=>q.level==="error"),H=D.some(q=>q.level==="warning"),F=h.useMemo(()=>d?null:l.jsx(Kt,{button:l.jsx(ie,{padding:2,mode:"bleed",icon:Fo}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Ft,{children:[l.jsx(Be,{text:"Remove",tone:"critical",icon:ao,onClick:f}),l.jsx(Be,{text:"Duplicate",icon:Su,onClick:T}),l.jsx(MO,{types:E,onInsert:A})]}),popover:Qun}),[T,A,f,E,e.inputId,d]),V=Xun({readOnly:d,hasErrors:$,hasWarnings:H}),W=l.jsx(RO,{menu:F,presence:P,validation:R,tone:V,focused:w,dragHandle:S,selected:m,children:l.jsxs(J,{as:"button",type:"button",tone:"inherit",radius:2,disabled:k,padding:1,onClick:b,ref:j,onFocus:g,__unstable_focusRing:!0,style:edn,children:[C({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),k&&l.jsx(J,{style:Jun,tone:"transparent",radius:2,as:U,justify:"center",children:l.jsxs(U,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(ir,{muted:!0})}),l.jsx(B,{size:1,muted:!0,children:"Resolving initial value…"})]})})]})}),z=kp(a);return l.jsxs(l.Fragment,{children:[l.jsx(oi,{path:u,isChanged:y,hasFocus:!!w,children:l.jsx(M,{paddingX:1,children:W})}),m&&l.jsx(mRe,{header:d?"View ".concat(z):"Edit ".concat(z),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:_})]})}function ndn(e){var t;return(t=e.components)!=null&&t.item?e.components.item:Cu(e)?Ecn:tdn}function BO(e){const t=Do(e),{value:n}=ii();return xl(n,t)}function NO(){const e=BO(["_id"]);if(typeof e=="string")return Tn(e)}function rdn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const odn={portal:!0,tone:"default"};function idn(e){var t,n,r,o,i,s,a,c,u,d;const f=h.useRef(null),{schemaType:p,path:m,open:v,inputId:g,children:b,inputProps:x}=e,{readOnly:y,focused:w,renderPreview:_,onChange:C}=e.inputProps,[S,E]=h.useState([]),j=NO(),k=h.useCallback(()=>x.onChange(Je()),[x]),T=e.value,{EditReferenceLink:A,getReferenceInfo:O,selectedState:P,isCurrentDocumentLiveEdit:D}=VV({path:m,schemaType:p,value:T});DO(f,v),Ri(w,(be,ge)=>{!be&&ge&&f.current&&f.current.focus()});const R=e.validation.some(be=>be.level==="error"),$=e.validation.some(be=>be.level==="warning"),H=FO(T==null?void 0:T._ref,O),F=((t=H.result)==null?void 0:t.type)||((n=T==null?void 0:T._strengthenOnPublish)==null?void 0:n.type),V=F?p.to.find(be=>be.name===F):void 0,W=P==="pressed",z=P==="selected",q=T==null?void 0:T._ref,oe=q&&((i=(o=(r=H.result)==null?void 0:r.preview)==null?void 0:o.published)==null?void 0:i._id),N=h.useCallback(()=>{C([p.weak===!0?vt(!0,["_weak"]):Je(["_weak"]),Je(["_strengthenOnPublish"])])},[C,p.weak]),G=h.useCallback(()=>{C(p.weak===!0?vt(!0,["_weak"]):Je(["_weak"]))},[C,p]),Y=h.useCallback(()=>{x.onPathFocus(["_ref"])},[x]),K=T!=null&&T._weak?"weak":"strong",X=p.weak===!0?"weak":"strong",Q=q&&!H.isLoading&&(T==null?void 0:T._strengthenOnPublish),Z=!H.isLoading&&((s=H.result)==null?void 0:s.availability.available)&&q&&K!==X&&!Q,re=rdn({readOnly:y,hasErrors:R,hasWarnings:$}),ae=!(T!=null&&T._ref)||x.focusPath[0]==="_ref",me=((a=H.result)==null?void 0:a.preview.draft)||((c=H.result)==null?void 0:c.preview.published),ce=l.jsxs(l.Fragment,{children:[D&&oe&&T._strengthenOnPublish&&l.jsx(gf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(te,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(d=(u=H.result)==null?void 0:u.preview.published)==null?void 0:d.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(ie,{onClick:N,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),Z&&l.jsx(gf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(te,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:K}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[X,"."]})]}),l.jsx(B,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",me!=null&&me.title?l.jsxs(l.Fragment,{children:['"',me==null?void 0:me.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",me!=null&&me.title?l.jsxs(l.Fragment,{children:['"',me==null?void 0:me.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(ie,{onClick:G,text:l.jsxs(l.Fragment,{children:["Convert to ",X," reference"]}),tone:"caution"})]})}),H.error&&l.jsx(gf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(te,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["Error: ",H.error.message]}),l.jsx(ie,{onClick:H.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),Te=h.useMemo(()=>h.forwardRef(function(ge,De){return l.jsx(_m,{...ge,intent:"edit",params:{id:T==null?void 0:T._ref,type:V==null?void 0:V.name},target:"_blank",rel:"noopener noreferrer",ref:De})}),[V==null?void 0:V.name,T==null?void 0:T._ref]),je=h.useMemo(()=>y?null:l.jsx(M,{marginLeft:1,children:l.jsx(Kt,{button:l.jsx(ie,{paddingY:3,paddingX:2,mode:"bleed",icon:Fo}),id:"".concat(g,"-menuButton"),menu:l.jsxs(Ft,{children:[!y&&l.jsxs(l.Fragment,{children:[l.jsx(Be,{text:"Clear",tone:"critical",icon:ao,onClick:k}),l.jsx(Be,{text:"Replace",icon:h0,onClick:Y})]}),!y&&(T==null?void 0:T._ref)&&l.jsx(kr,{}),(T==null?void 0:T._ref)&&l.jsx(Be,{as:Te,"data-as":"a",text:"Open in new tab",icon:cm})]}),popover:odn})}),[k,Y,g,Te,y,T==null?void 0:T._ref]);return l.jsxs(l.Fragment,{children:[j&&e.actions&&e.actions.length>0&&l.jsx(n_,{actions:e.actions,documentId:j,documentType:p.name,onActions:E,path:m,schemaType:p}),l.jsx(s_,{actions:S,focused:!!e.inputProps.focused,path:m,children:l.jsx(Q0,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:S,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,children:ae?l.jsx(M,{children:b}):l.jsx(J,{shadow:1,radius:1,padding:1,tone:re,children:l.jsxs(te,{space:1,children:[l.jsxs(U,{gap:1,align:"center",children:[l.jsx(q3e,{__unstable_focusRing:!0,as:A,"data-pressed":W?!0:void 0,"data-selected":z?!0:void 0,documentId:T==null?void 0:T._ref,documentType:V==null?void 0:V.name,flex:1,paddingX:2,paddingY:1,pressed:W,radius:2,ref:f,selected:z,tone:"inherit",children:l.jsx(Y3e,{value:T,referenceInfo:H,renderPreview:_,type:p})}),l.jsx(M,{children:je})]}),ce]})})})})]})}function gRe(e,t){return Fn(e.options,t)}const Kle=["array","file","image","reference","slug"],sdn=["asset","crop","hotspot","_ref","_weak"],adn=["tags"],ldn=["slug"];function IV(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?IV(e.type,t):[];return[e,...n]}function cdn(e,t){return Pl(e)?ddn(e,t):udn(e,t)}function udn(e,t){var n,r,o;const{type:i,options:s}=e,a=vRe(i,Kle),c=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,u=(a==null?void 0:a.name)||"";if(ldn.includes(u))return 0;const d=Kle.includes(u),f=((n=c==null?void 0:c.filter(m=>!sdn.includes(m.name)).length)!=null?n:0)>0,p=((o=(r=s==null?void 0:s.list)==null?void 0:r.length)!=null?o:0)>0;return f||p||!d?t:0}function ddn(e,t){var n;const{options:r}=e,o=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,i=adn.includes((r==null?void 0:r.layout)||"");return o&&!i?t:0}function vRe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return vRe(e.type,t)}const Oj=[];function fdn(e){return l.jsx(oi,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function U3(e){const[t,n]=h.useState(Oj),r=NO(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(n_,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(s_,{actions:t,focused:o,path:e.path,children:l.jsx(Q0,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":"field-".concat(e.inputId),description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,children:l.jsx(oi,{hasFocus:o,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function hdn(e){const[t,n]=h.useState(Oj),r=NO(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(n_,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(s_,{actions:t,focused:o,path:e.path,children:l.jsx(IO,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":"field-".concat(e.inputId),description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function pdn(e){const[t,n]=h.useState(Oj),r=NO(),o=!!e.inputProps.focused,i=e.inputProps.members.find(a=>a.kind==="field"&&a.name==="hotspot"),s=i!=null&&i.open?e.presence:e.presence.concat((i==null?void 0:i.field.presence)||Oj);return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(n_,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(s_,{actions:t,focused:o,path:e.path,children:l.jsx(IO,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:s,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function mdn(e){var t;if((t=e.components)!=null&&t.field)return e.components.field;if(ew(e))return fdn;const n=IV(e,new Set);return n.some(r=>r.name==="image"||r.name==="file")?pdn:n.some(r=>BL(r))||n.some(r=>r.name==="slug")?U3:n.some(r=>Cu(r))?idn:e.jsonType!=="object"&&e.jsonType!=="array"?U3:hdn}function gdn(e){const{allowedDecorators:t,block:n,onChange:r}=e;let o;return i=>{o=Array.isArray(i)?i:[i],o=o.map(a=>bx(a,{allowedDecorators:t}));const s=[Xd(o,"after",[{_key:n._key}])];return r(lt.from(s))}}function vdn(e){const{allowedDecorators:t,block:n,onChange:r}=e;return o=>{const i=[vt(bx(o,{allowedDecorators:t}),[{_key:n._key}])];return r(lt.from(i))}}function ydn(e){const{block:t,onChange:n}=e;return()=>{const r=[Je([{_key:t._key}])];return n(lt.from(r))}}var Zle=Object.freeze,bdn=Object.defineProperty,xdn=(e,t)=>Zle(bdn(e,"raw",{value:Zle(t||e.slice())})),Xle;const wdn=I.div(Xle||(Xle=xdn([`
  display: flex;
  pointer-events: all;
`])));function yRe(e){const t=uo(),{block:n,onChange:r,renderBlockActions:o}=e,i=h.useMemo(()=>t.schemaTypes.decorators.map(a=>a.value),[t]),s=h.useMemo(()=>{if(o){const a={block:n,value:_e.getValue(t),set:vdn({allowedDecorators:i,block:n,onChange:r}),unset:ydn({block:n,onChange:r}),insert:gdn({allowedDecorators:i,block:n,onChange:r})};return o(a)}},[o,n,t,r,i]);return s?l.jsx(wdn,{contentEditable:!1,children:s}):null}var Qle=Object.freeze,_dn=Object.defineProperty,Cdn=(e,t)=>Qle(_dn(e,"raw",{value:Qle(t||e.slice())})),Jle;const bRe=I.div(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=jt(o.spot.yellow,.2);return de(Jle||(Jle=Cdn([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),n[3],r[2],r[1]+r[1],r[4]+r[1],i)});var ece=Object.freeze,Sdn=Object.defineProperty,Edn=(e,t)=>ece(Sdn(e,"raw",{value:ece(t||e.slice())})),tce;const xRe=I(oi)(()=>de(tce||(tce=Edn([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function zO(e){return e.type?zO(e.type):e.name==="block"}function kdn(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const jdn=["@@_NONEXISTENT_PATH_@@"];function VO(e){const t=h.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:Bn,r=nV((e==null?void 0:e.path)||jdn),o=h.useMemo(()=>e!=null&&e.schemaType&&zO(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[i,s,a]=h.useMemo(()=>[o.filter(u=>u.level==="error").length>0,o.filter(u=>u.level==="warning").length>0,o.filter(u=>u.level==="info").length>0],[o]),c=tV(t.current,o);return t.current=c,h.useMemo(()=>({validation:c,hasError:i,hasWarning:s,hasInfo:a}),[c,i,s,a])}const wRe=h.createContext([]);function Tdn(e){return l.jsx(wRe.Provider,{value:e.markers,children:e.children})}function HO(e){const t=h.useContext(wRe);if(!t)throw new Error("Form context not provided");return h.useMemo(()=>t.filter(r=>pn(r.path,e)),[t,e])}const RV=h.createContext([]);function Adn(e){return l.jsx(RV.Provider,{value:e.memberItems,children:e.children})}function UO(e){const t=h.useContext(RV);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function Odn(){const e=h.useContext(RV);if(!e)throw new Error("Form context not provided");return e}var nce=Object.freeze,Pdn=Object.defineProperty,Yu=(e,t)=>nce(Pdn(e,"raw",{value:nce(t||e.slice())})),rce,oce,ice,sce,ace,lce,cce,uce,dce;const Ddn=I(J)(e=>{var t;const{color:n,radius:r,space:o}=e.theme.sanity,i=de(rce||(rce=Yu([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),o[1],o[1],o[1],o[1],r[2],n.dark?"screen":"multiply");return de(oce||(oce=Yu([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      box-shadow: 0 0 0 1px `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],(t=n.selectable)==null?void 0:t.primary.selected.border,n.input.default.hovered.border,i,n.dark?fe.purple[950].hex:fe.purple[50].hex,i,n.muted.caution.hovered.bg,n.muted.caution.hovered.border,i,n.input.invalid.enabled.bg,n.input.invalid.hovered.border)}),Idn=I(M)(ice||(ice=Yu([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),Rdn=I.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return de(ace||(ace=Yu([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),r[2],r[1],!n&&de(sce||(sce=Yu([`
        display: none;
      `]))))}),$dn=I(U)(lce||(lce=Yu([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),Mdn=I(M)(cce||(cce=Yu([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),Fdn=I(U)(uce||(uce=Yu([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),Ldn=I(M)(dce||(dce=Yu([`
  max-width: 250px;
`]))),Bdn={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function Ndn(e){const{children:t,focused:n,isOpen:r,onOpen:o,onRemove:i,readOnly:s,value:a}=e,c=h.useId(),u=h.useRef(null),d=h.useRef(!1),f=h.useMemo(()=>Zu(a)?h.forwardRef(function(v,g){return l.jsx(_m,{...v,intent:"edit",params:{id:a._ref},ref:g})}):void 0,[a]);h.useEffect(()=>{r&&(d.current=!1)},[r]),Qi(h.useCallback(m=>{n&&m.key==="Tab"&&u.current&&!d.current&&!r&&(m.preventDefault(),m.stopPropagation(),u.current.focus(),d.current=!0)},[n,r]));const p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation(),i()},[i]);return l.jsxs(U,{children:[l.jsx(M,{flex:1,children:t}),l.jsx(M,{children:l.jsx(Kt,{button:l.jsx(ie,{"aria-label":"Open menu",fontSize:1,iconRight:Fo,mode:"bleed",paddingX:2,tabIndex:n?0:1}),ref:u,id:c,menu:l.jsx(Ft,{children:l.jsxs(l.Fragment,{children:["_ref"in a&&a._ref&&l.jsx(Be,{as:f,"data-as":"a",icon:Ef,text:"Open reference"}),s&&l.jsx(Be,{icon:o8,onClick:o,text:"View"}),!s&&l.jsx(Be,{icon:Eu,onClick:o,text:"Edit"}),!s&&l.jsx(Be,{icon:ao,onClick:p,text:"Delete",tone:"critical"})]})}),popover:Bdn})})]})}const _Re=e=>Array.isArray(e)?e.flatMap(_Re):typeof e=="number"?[e]:e==="auto"?["auto"]:[],zdn=e=>e==="dialog"||e==="popover"?e:void 0;function Vdn(e){var t;const n=(t=e.options)==null?void 0:t.modal;return typeof n=="object"&&n!==null?{type:zdn(n.type),width:_Re(n.width)}:void 0}function Hdn(e){const{onClose:t,children:n,title:r,width:o=1,autoFocus:i}=e,s=h.useId(),[a,c]=h.useState(null),u=h.useRef(null);return l.jsx(Pi,{header:r,id:s,onClickOutside:t,onClose:t,portal:"default",width:o,contentRef:c,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:i,children:l.jsx(l_,{margins:[0,0,1,0],children:l.jsx(Lx,{scrollElement:a,containerElement:u,children:l.jsx(M,{padding:4,ref:u,children:n})})})})}var fce=Object.freeze,Udn=Object.defineProperty,$V=(e,t)=>fce(Udn(e,"raw",{value:fce(t||e.slice())})),hce,pce,mce;const Wdn=I(nn)(hce||(hce=$V([`
  &[data-popper-reference-hidden='true'] {
    visibility: hidden;
    pointer-events: none;
  }

  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),Ydn=I(M)(pce||(pce=$V([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),qdn=I(M)(mce||(mce=$V([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),Gdn=["top","bottom"];function Kdn(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:o=0}=e,[i,s]=h.useState(!1);return h.useEffect(()=>{s(!0)},[]),l.jsx(Wdn,{content:l.jsx(Zdn,{...e}),constrainSize:!0,"data-ui":"PopoverEditDialog",fallbackPlacements:Gdn,floatingBoundary:t,open:i,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:o})}function Zdn(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:o,autoFocus:i}=e;Qi(h.useCallback(u=>{u.key==="Escape"&&t()},[t])),rr(t,r?[r]:[],n);const[s,a]=h.useState(null),c=h.useRef(null);return l.jsx(Lx,{scrollElement:s,containerElement:c,children:l.jsxs(U,{ref:c,direction:"column",height:"fill",children:[l.jsx(qdn,{flex:"none",padding:1,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,padding:2,children:l.jsx(B,{weight:"semibold",children:o})}),l.jsx(ie,{autoFocus:!!i,icon:Ei,mode:"bleed",onClick:t,padding:2})]})}),l.jsx(Ydn,{flex:1,children:l.jsx(l_,{margins:[0,0,1,0],children:l.jsx(M,{padding:3,ref:a,children:e.children})})})]})})}function MV(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:o,referenceBoundary:i,referenceElement:s,schemaType:a}=e,c=h.useMemo(()=>Vdn(a),[a]),u=(c==null?void 0:c.type)||n,d=l.jsxs(l.Fragment,{children:["Edit ",a.title]}),f=h.useCallback(()=>{o()},[o]),p=c==null?void 0:c.width;return u==="popover"?l.jsx(Kdn,{autoFocus:t,floatingBoundary:r,onClose:f,referenceBoundary:i,referenceElement:s,title:d,width:p,children:e.children}):l.jsx(Hdn,{onClose:f,title:d,width:p,autoFocus:t,children:e.children})}function Xdn(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,relativePath:f,renderAnnotation:p,renderBlock:m,renderBlockActions:v,renderCustomMarkers:g,renderField:b,renderInlineBlock:x,renderInput:y,renderItem:w,renderPreview:_,schemaType:C,selected:S,value:E}=e,{onChange:j}=ua(),{Markers:k}=ii().__internal.components,[T,A]=h.useState(!1),O=HO(c),P=uo(),D=UO(gn(c)),R=h.useRef(!1),$=h.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),H=h.useCallback(()=>A(!0),[]),F=h.useCallback(()=>A(!1),[]),V=h.useCallback(()=>{D&&(_e.blur(P),s(D.node.path))},[P,D,s]),W=h.useCallback(()=>{i(),_e.select(P,$),_e.focus(P)},[i,P,$]),z=h.useCallback(()=>{if(!R.current)try{_e.delete(P,$,{mode:"blocks"})}catch(ge){console.error(ge)}finally{R.current=!0}},[P,$]);h.useEffect(()=>()=>{R.current&&_e.focus(P)},[P]);const q=h.useMemo(()=>o&&!v?{paddingX:5}:o&&v?{paddingLeft:5,paddingRight:2}:v?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,v]),{validation:oe,hasError:N,hasWarning:G,hasInfo:Y}=VO(D==null?void 0:D.node),K=P.schemaTypes.portableText,X=O.length>0,Q=q0(c,!0),Z=h.useMemo(()=>Q.filter(ge=>pn(ge.path,c)),[c,Q]),re=N||G||Y||X,ae=h.useMemo(()=>re&&l.jsx(Ldn,{padding:2,children:l.jsx(k,{markers:O,validation:oe,renderCustomMarkers:g})})||null,[k,O,g,re,oe]),me=!!(D!=null&&D.member.open),ce=D==null?void 0:D.input,Te=(D==null?void 0:D.node.path)||Bn,je=(t=D==null?void 0:D.elementRef)==null?void 0:t.current,be=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:je||null,children:ce,focused:r,markers:O,onClose:W,onOpen:V,onPathFocus:a,onRemove:z,open:me,parentSchemaType:K,path:Te,presence:Z,readOnly:!!u,renderAnnotation:p,renderBlock:m,renderDefault:CRe,renderField:b,renderInlineBlock:x,renderInput:y,renderItem:w,renderPreview:_,schemaType:C,selected:S,validation:oe,value:E}),[n,je,ce,r,O,W,V,a,z,me,K,Te,Z,u,d,p,m,b,x,y,w,_,C,S,oe,E]);return h.useMemo(()=>l.jsx(M,{ref:D==null?void 0:D.elementRef,contentEditable:!1,children:l.jsx(U,{paddingBottom:1,marginY:3,style:void 0,children:l.jsxs($dn,{flex:1,children:[l.jsx(st,{placement:"top",portal:"editor",disabled:!re,content:ae,children:l.jsx(Idn,{...q,children:m&&m(be)})}),l.jsx(Mdn,{marginRight:1,children:l.jsx(Fdn,{children:v&&E&&r&&!u&&l.jsx(yRe,{block:E,onChange:j,renderBlockActions:v})})}),o&&D&&l.jsx(Rdn,{$hasChanges:D.member.item.changed,onMouseOut:F,onMouseOver:H,children:l.jsx(xRe,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})}),T&&l.jsx(bRe,{})]})})}),[be,r,F,H,q,o,D,j,u,m,v,T,ae,re,E])}const CRe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,value:g,validation:b}=e,x=lLe(g),y=b.filter(E=>E.level==="error").length>0,w=b.filter(E=>E.level==="warning").length>0,_=s.length>0,C=v||i?"primary":"default",S=h.useCallback(E=>{E.preventDefault(),E.stopPropagation(),c()},[c]);return l.jsxs(l.Fragment,{children:[l.jsx(Ddn,{"data-focused":i?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":y?"":void 0,"data-markers":_?"":void 0,"data-read-only":f?"":void 0,"data-selected":v?"":void 0,"data-testid":"pte-block-object","data-warning":w?"":void 0,flex:1,onDoubleClick:S,padding:x?0:1,tone:C,children:p({actions:l.jsx(Ndn,{isOpen:d,focused:i,onOpen:c,onRemove:u,readOnly:f,value:g}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:g})}),d&&l.jsx(MV,{floatingBoundary:t,defaultType:"dialog",onClose:a,autoFocus:i,schemaType:m,referenceBoundary:n,referenceElement:r,children:o})]})},ty=[1,2,3,4,5,6,7,8,9],gce=["●","○","■"],vce=["number","lower-alpha","lower-roman"],Qdn={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},Jdn={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};function Gh(e){return"list-level-".concat(e)}var yce=Object.freeze,efn=Object.defineProperty,jc=(e,t)=>yce(efn(e,"raw",{value:yce(t||e.slice())})),bce,xce,wce,_ce,Cce,Sce,Ece,kce,jce,Tce;function tfn(e){var t;const{$level:n,theme:r}=e,{color:o,fonts:i,radius:s,space:a}=r.sanity,c=vce[(n-1)%vce.length],u=gce[(n-1)%gce.length];return de(bce||(bce=jc([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),o.dark?"screen":"multiply",a[1],a[1],a[1],a[1],s[2],o.dark?fe.purple[950].hex:fe.purple[50].hex,o.muted.caution.enabled.border,o.muted.caution.hovered.bg,o.muted.critical.enabled.border,o.muted.critical.hovered.bg,Gh(n),Gh(n),c,u,i.text.family,(t=o.selectable)==null?void 0:t.primary.pressed.bg)}const nfn=I.div(tfn),rfn=I(M)(xce||(xce=jc([`
  position: relative;
  display: flex;
`]))),ofn=I.div(wce||(wce=jc([`
  user-select: none;
  white-space: nowrap;
`]))),ifn=I(M)(_ce||(_ce=jc([`
  user-select: none;
`]))),sfn=I(M)(Cce||(Cce=jc([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),afn=I(U)(e=>{let{theme:t}=e;const{fonts:n,space:r}=t.sanity,o=n.text.sizes[1],i=n.text.sizes[2],s=o.lineHeight-o.ascenderHeight-o.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight,u=0-(s+r[2]+r[2]-a)/2;return de(Sce||(Sce=jc([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),lfn=I(M)(Ece||(Ece=jc([`
  max-width: 250px;
`]))),cfn=I(U)(kce||(kce=jc([`
  position: relative;
  padding-left: `,`px;
`])),e=>{let{$level:t}=e;return t?t*32:0}),ufn=I.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return de(Tce||(Tce=jc([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),r[2],r[1],!n&&de(jce||(jce=jc([`
        display: none;
      `]))))});var Ace=Object.freeze,dfn=Object.defineProperty,SRe=(e,t)=>Ace(dfn(e,"raw",{value:Ace(t||e.slice())})),Oce,Pce;const hd=I.div(Oce||(Oce=SRe([`
  display: block;
`]))),FV=e=>{let{children:t,...n}=e;return l.jsx(B,{"data-testid":"text-style--normal",...n,children:l.jsx(hd,{children:t})})},ERe=e=>{let{children:t,...n}=e;return l.jsx(Lo,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:l.jsx(hd,{children:t})})},kRe=e=>{let{children:t,...n}=e;return l.jsx(Lo,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:l.jsx(hd,{children:t})})},jRe=e=>{let{children:t,...n}=e;return l.jsx(Lo,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:l.jsx(hd,{children:t})})},TRe=e=>{let{children:t,...n}=e;return l.jsx(Lo,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:l.jsx(hd,{children:t})})},ARe=e=>{let{children:t,...n}=e;return l.jsx(Lo,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:l.jsx(hd,{children:t})})},ORe=e=>{let{children:t,...n}=e;return l.jsx(Lo,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:l.jsx(hd,{children:t})})},ffn=I.blockquote(Pce||(Pce=SRe([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),e=>{let{theme:t}=e;return t.sanity.space[3]}),PRe=e=>{let{children:t,...n}=e;return l.jsx(ffn,{"data-testid":"text-style--blockquote",...n,children:l.jsx(B,{as:"p",children:t})})},W3={normal:FV,h1:ERe,h2:kRe,h3:jRe,h4:TRe,h5:ARe,h6:ORe,blockquote:PRe};function hfn(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:b,renderInput:x,renderItem:y,renderPreview:w,schemaType:_,selected:C,spellCheck:S,value:E}=e,{Markers:j}=ii().__internal.components,[k,T]=h.useState(!1),A=HO(c),O=UO(gn(c)),P=uo(),{onChange:D}=ua(),R=q0(c,!0),$=h.useMemo(()=>R.filter(ce=>pn(ce.path,c)||ce.path.slice(-3)[1]==="children"&&ce.path.length-c.length===2),[c,R]),H=h.useCallback(()=>T(!0),[]),F=h.useCallback(()=>T(!1),[]),{validation:V,hasError:W,hasWarning:z,hasInfo:q}=VO(O==null?void 0:O.node),oe=!!v&&A.length>0,N=W||z||oe||q,G=h.useCallback(()=>{O&&s(O.node.path)},[s,O]),Y=h.useCallback(()=>{const ce={path:c.slice(-1),offset:0},Te={focus:ce,anchor:ce};_e.delete(P,Te,{mode:"blocks"}),_e.focus(P)},[c,P]),K=h.useMemo(()=>l.jsxs(cfn,{align:"flex-start",$level:E==null?void 0:E.level,children:[E.listItem&&l.jsx(ofn,{contentEditable:!1,children:l.jsx(B,{"data-list-prefix":"",children:l.jsx(hd,{})})}),l.jsx("div",{"data-text":"",style:void 0,children:t})]}),[E.listItem,E.level,t]),X=h.useMemo(()=>o&&!m?{paddingX:5}:o&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,m]),Q=h.useMemo(()=>E.listItem?{paddingY:2}:Jdn[E.style||"normal"]||{paddingY:2},[E]),Z=!!(O!=null&&O.member.open),re=P.schemaTypes.portableText,ae=h.useMemo(()=>{var ce;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((ce=O==null?void 0:O.elementRef)==null?void 0:ce.current)||null,children:K,focused:r,markers:A,onClose:i,onOpen:G,onPathFocus:a,onRemove:Y,open:Z,parentSchemaType:re,path:(O==null?void 0:O.node.path)||Bn,presence:$,readOnly:!!u,renderAnnotation:p,renderBlock:f,renderDefault:DRe,renderField:g,renderInput:x,renderInlineBlock:b,renderItem:y,renderPreview:w,schemaType:_,selected:C,validation:V,value:E}},[n,r,Z,A,O==null?void 0:O.elementRef,O==null?void 0:O.node.path,i,G,a,Y,re,u,d,p,f,g,b,x,y,w,_,C,K,$,V,E]),me=h.useMemo(()=>N&&l.jsx(lfn,{padding:2,children:l.jsx(j,{markers:A,renderCustomMarkers:v,validation:V})})||null,[j,A,v,N,V]);return h.useMemo(()=>l.jsx(M,{"data-testid":"text-block",...Q,style:void 0,ref:O==null?void 0:O.elementRef,children:l.jsx(rfn,{"data-testid":"text-block__wrapper",children:l.jsxs(U,{flex:1,...X,children:[l.jsx(M,{flex:1,children:l.jsx(st,{content:me,disabled:!N,placement:"top",portal:"editor",children:l.jsx(nfn,{$level:E.level||1,"data-error":W?"":void 0,"data-list-item":E.listItem,"data-markers":oe?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":z?"":void 0,spellCheck:S,children:f&&f(ae)})})}),l.jsxs(ifn,{contentEditable:!1,children:[l.jsx(sfn,{marginRight:1,children:l.jsx(afn,{children:m&&r&&!u&&l.jsx(yRe,{onChange:D,block:E,renderBlockActions:m})})}),o&&O&&l.jsx(ufn,{$hasChanges:O.member.item.changed,onMouseEnter:H,onMouseLeave:F,children:l.jsx(xRe,{hasFocus:r,isChanged:O.member.item.changed,path:O.member.item.path,withHoverEffect:!1})})]}),k&&l.jsx(bRe,{})]})})}),[ae,r,H,F,W,oe,z,X,o,O,D,Q,u,f,m,k,S,me,N,E])}const DRe=e=>l.jsx(l.Fragment,{children:e.children});var Dce=Object.freeze,pfn=Object.defineProperty,mfn=(e,t)=>Dce(pfn(e,"raw",{value:Dce(t||e.slice())})),Ice;const gfn=I(nn)(Ice||(Ice=mfn([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),vfn=["top","bottom"];function yfn(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:o,referenceBoundary:i,referenceElement:s,title:a,open:c}=e,{sanity:u}=Ts(),d=h.useRef(null),f=h.useRef(null),p=u.color.dark?"light":"dark";Qi(h.useCallback(g=>{g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),n())},[n]));const m=h.useCallback(g=>{var b;if(!((b=f.current)!=null&&b.disabled)){g.preventDefault(),g.stopPropagation();try{o(g)}catch(x){console.error(x)}finally{f.current&&(f.current.disabled=!0)}}},[o]),v=h.useMemo(()=>l.jsx(M,{padding:1,children:l.jsxs(Yt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(B,{weight:"semibold",size:1,children:a})}),l.jsx(ie,{icon:Eu,mode:"bleed",onClick:r,padding:2,ref:d,alt:"Edit object"}),l.jsx(ie,{ref:f,icon:ao,mode:"bleed",padding:2,onClick:m,tone:"critical",alt:"Remove object"})]})}),[m,r,a]);return l.jsx(gfn,{constrainSize:!0,content:v,fallbackPlacements:vfn,floatingBoundary:t,open:c,placement:"top",portal:!0,referenceBoundary:i,referenceElement:s,scheme:p})}var Rce=Object.freeze,bfn=Object.defineProperty,LV=(e,t)=>Rce(bfn(e,"raw",{value:Rce(t||e.slice())})),$ce,Mce,Fce;const xfn=I(J)(Cfn),wfn=I.span($ce||($ce=LV([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),_fn=I(M)(Mce||(Mce=LV([`
  max-width: 250px;
`])));function Cfn(e){let{theme:t}=e;var n,r,o;const{color:i,radius:s}=t.sanity;return de(Fce||(Fce=LV([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),s[2],(n=i.selectable)==null?void 0:n.primary.selected.border,(r=i.selectable)==null?void 0:r.primary.pressed.fg,(o=i.selectable)==null?void 0:o.primary.pressed.bg,i.input.default.hovered.border,i.dark?fe.purple[950].hex:fe.purple[50].hex,i.muted.caution.hovered.bg,i.muted.caution.hovered.border,i.input.invalid.enabled.bg,i.input.invalid.enabled.border,i.input.invalid.hovered.border)}const Sfn=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:o,onItemOpen:i,onPathFocus:s,path:a,readOnly:c,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:p,renderCustomMarkers:m,renderField:v,renderItem:g,renderInlineBlock:b,renderInput:x,renderPreview:y,schemaType:w,selected:_,value:C}=e,{Markers:S}=ii().__internal.components,E=uo(),j=HO(a),k=UO(gn(a)),{validation:T,hasError:A,hasInfo:O,hasWarning:P}=VO(k==null?void 0:k.node),D=E.schemaTypes.block,R=j.length>0,$=h.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),H=h.useCallback(()=>{_e.delete(E,$,{mode:"children"}),_e.focus(E)},[$,E]),F=h.useCallback(()=>{k&&(_e.blur(E),i(k.node.path))},[E,i,k]),V=h.useCallback(()=>{o(),_e.select(E,$),_e.focus(E)},[o,E,$]),W=!!(k!=null&&k.member.open),z=k==null?void 0:k.input,q=(k==null?void 0:k.node.path)||Bn,oe=(t=k==null?void 0:k.elementRef)==null?void 0:t.current,N=q0(a,!0),G=h.useMemo(()=>N.filter(Q=>pn(Q.path,a)),[a,N]),Y=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:oe,children:z,focused:r,onClose:V,onOpen:F,onPathFocus:s,onRemove:H,open:W,markers:j,member:k==null?void 0:k.member,parentSchemaType:D,path:q,presence:G,readOnly:!!c,renderAnnotation:f,renderBlock:p,renderDefault:IRe,renderField:v,renderInlineBlock:b,renderInput:x,renderItem:g,renderPreview:y,schemaType:w,selected:_,value:C,validation:T}),[n,r,z,W,j,k==null?void 0:k.member,q,V,F,s,H,D,c,u,oe,f,p,v,b,x,g,y,G,w,_,T,C]),K=A||P||O||R,X=h.useMemo(()=>K&&l.jsx(_fn,{padding:2,children:l.jsx(S,{markers:j,validation:T,renderCustomMarkers:m})})||null,[S,j,m,K,T]);return h.useMemo(()=>l.jsx("span",{ref:k==null?void 0:k.elementRef,contentEditable:!1,children:l.jsx(st,{placement:"bottom",portal:"editor",disabled:!K,content:X,children:b&&l.jsx("span",{style:{position:"relative"},children:b(Y)})})}),[Y,k==null?void 0:k.elementRef,b,X,K])},IRe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,validation:g,value:b}=e,x=s.length>0,[y,w]=h.useState(!1),_=(m==null?void 0:m.title)||m.name,C=g.filter(T=>T.level==="error").length>0,S=g.filter(T=>T.level==="warning").length>0,E=h.useCallback(()=>{w(!1),c()},[c]);h.useEffect(()=>{w(d?!1:!!i)},[i,d]);const j=h.useMemo(()=>{if(C)return"critical";if(S)return"caution";if(v||i)return"primary"},[i,C,S,v]),k=h.useCallback(()=>{w(!1)},[]);return l.jsxs(l.Fragment,{children:[l.jsx(xfn,{"data-focused":i||void 0,"data-invalid":C||void 0,"data-markers":x||void 0,"data-read-only":f||void 0,"data-selected":v||void 0,"data-warning":S||void 0,forwardedAs:"span",onClick:f?E:void 0,onDoubleClick:E,tone:j,children:l.jsx(wfn,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:b,fallbackTitle:"Click to edit"})})}),r&&l.jsx(yfn,{floatingBoundary:t,onClosePopover:k,onDelete:u,onEdit:E,open:y,referenceBoundary:n,referenceElement:r,title:_}),d&&l.jsx(MV,{defaultType:"popover",onClose:a,autoFocus:i,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};var Lce=Object.freeze,Efn=Object.defineProperty,kfn=(e,t)=>Lce(Efn(e,"raw",{value:Lce(t||e.slice())})),Bce;const jfn=I(nn)(Bce||(Bce=kfn([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),Tfn=["top","bottom"];function Afn(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:o,referenceBoundary:i,referenceElement:s,selected:a,title:c}=e,[u,d]=h.useState(!1),[f,p]=h.useState(null),m=h.useRef(null),{sanity:v}=Ts(),g=h.useRef(null),b=v.color.dark?"light":"dark",x=h.useMemo(()=>f?{getBoundingClientRect:()=>f}:null,[f]);Qi(h.useCallback(S=>{u&&S.key==="Escape"&&d(!1)},[u]));const y=h.useCallback(()=>{if(t){d(!1),p(null);return}const S=window.getSelection();if(!S||S.rangeCount===0)return;const E=S.getRangeAt(0);if(!(s==null?void 0:s.contains(E.commonAncestorContainer))){d(!1),p(null);return}const k=E==null?void 0:E.getBoundingClientRect();k&&(d(!0),p(k))},[t,s]);h.useEffect(()=>(document.addEventListener("selectionchange",y,{passive:!0}),()=>{document.removeEventListener("selectionchange",y)}),[y]);const w=h.useCallback(()=>{d(!1),r()},[r]);h.useEffect(()=>{!t&&a&&d(!0),t&&d(!1)},[t,a]);const _=h.useCallback(()=>{d(!1),o()},[o]),C=h.useCallback(()=>{m.current&&p(m.current.getBoundingClientRect())},[]);return h.useEffect(()=>{if(u)return i==null||i.addEventListener("scroll",C),()=>{i==null||i.removeEventListener("scroll",C)}},[u,i,C]),u?l.jsx(jfn,{open:u,floatingBoundary:n,constrainSize:!0,content:l.jsx(M,{padding:1,"data-testid":"annotation-toolbar-popover",children:l.jsxs(Yt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(B,{weight:"semibold",size:1,children:c})}),l.jsx(ie,{icon:Eu,mode:"bleed",onClick:w,padding:2,alt:"Edit annotation",tabIndex:0}),l.jsx(ie,{icon:ao,mode:"bleed",padding:2,onClick:_,tone:"critical",alt:"Remove annotation",tabIndex:0})]})}),fallbackPlacements:Tfn,placement:"top",portal:!0,preventOverflow:!0,ref:g,referenceBoundary:i,referenceElement:x,scheme:b}):null}var Nce=Object.freeze,Ofn=Object.defineProperty,RRe=(e,t)=>Nce(Ofn(e,"raw",{value:Nce(t||e.slice())})),zce,Vce;const Pfn=I.span(e=>{var t,n,r,o;const{$toneKey:i="default",theme:s}=e;return de(zce||(zce=RRe([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(t=s.sanity.color.selectable)==null?void 0:t[i].enabled.bg,(n=s.sanity.color.selectable)==null?void 0:n[i].enabled.fg,(r=s.sanity.color.selectable)==null?void 0:r[i].enabled.fg,(o=s.sanity.color.selectable)==null?void 0:o[i].enabled.fg,s.sanity.color.dark?fe.purple[950].hex:fe.purple[50].hex,s.sanity.color.muted.caution.hovered.bg,s.sanity.color.muted.critical.hovered.bg)}),Dfn=I(M).attrs({forwardedAs:"span"})(Vce||(Vce=RRe([`
  max-width: 250px;
`])));function Ifn(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:o,focused:i,onItemClose:s,onItemOpen:a,onPathFocus:c,path:u,readOnly:d,referenceBoundary:f,renderAnnotation:p,renderBlock:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:b,renderInput:x,renderItem:y,renderPreview:w,schemaType:_,selected:C,value:S}=e,{Markers:E=HIe}=ii().__internal.components,j=uo(),k=h.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:S._key}]),[u,S._key]),[T,A]=h.useState(null),O=h.useMemo(()=>u.slice(u.length-3,u.length),[u]),P=UO(gn(k)),{validation:D}=VO(P==null?void 0:P.node),R=HO(u),$=h.useMemo(()=>l.jsx("span",{"data-annotation":"",children:n}),[n]),H=h.useCallback(()=>{P&&(_e.blur(j),c(P.node.focusPath),a(P.node.path))},[j,P,a,c]),F=h.useCallback(()=>{s();const Z=_e.getSelection(j),re=(Z==null?void 0:Z.focus.path)&&pn(Z.focus.path,O)&&Z.focus.offset,ae=(Z==null?void 0:Z.anchor.path)&&pn(Z.anchor.path,O)&&Z.anchor.offset;_e.select(j,{anchor:{path:O,offset:ae||0},focus:{path:O,offset:re||0}}),_e.focus(j)},[j,O,s]),V=h.useCallback(()=>{_e.removeAnnotation(j,_),_e.focus(j)},[j,_]),W=h.useMemo(()=>D.length>0||R.length>0?l.jsx(st,{placement:"bottom",portal:"default",content:l.jsx(Dfn,{padding:2,children:l.jsx(E,{markers:R,renderCustomMarkers:v,validation:D})}),children:$}):void 0,[E,R,v,$,D]),z=q0(u,!0),q=h.useMemo(()=>z.filter(Z=>pn(Z.path,u)),[u,z]),oe=!!(P!=null&&P.member.open),N=P==null?void 0:P.input,G=(P==null?void 0:P.node.path)||Bn,Y=T,K=h.useMemo(()=>({__unstable_floatingBoundary:o,__unstable_referenceBoundary:f,__unstable_referenceElement:Y,__unstable_textElementFocus:r,children:N,focused:i,markers:R,onClose:F,onOpen:H,onPathFocus:c,onRemove:V,open:oe,parentSchemaType:j.schemaTypes.block,path:G,presence:q,readOnly:!!d,renderAnnotation:p,renderBlock:m,renderField:g,renderInlineBlock:b,renderInput:x,renderPreview:w,renderItem:y,renderDefault:H6,schemaType:_,selected:C,textElement:W||$,validation:D,value:S}),[j.schemaTypes.block,r,o,i,N,oe,R,W,G,F,H,c,V,d,f,Y,p,m,g,b,x,y,w,q,_,C,$,D,S]),X=(t=_.components)==null?void 0:t.annotation,Q=h.useCallback(Z=>{P!=null&&P.elementRef&&(P.elementRef.current=Z),A(Z)},[P]);return h.useMemo(()=>l.jsx("span",{ref:Q,style:void 0,children:X?l.jsx(X,{...K}):l.jsx(H6,{...K})}),[X,K,Q])}const H6=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,selected:p,schemaType:m,textElement:v,validation:g}=e,b=m.name==="link",x=g.filter(C=>C.level==="error").length>0,y=g.filter(C=>C.level==="warning").length>0,w=s.length>0,_=h.useMemo(()=>x?"critical":y?"caution":b?"primary":"default",[b,x,y]);return l.jsxs(Pfn,{$toneKey:_,"data-link":b?"":void 0,"data-error":x?"":void 0,"data-warning":y?"":void 0,"data-markers":w||void 0,onClick:f?c:void 0,children:[v,l.jsx(Afn,{annotationOpen:d,floatingBoundary:t,onOpen:c,onRemove:u,referenceBoundary:n,referenceElement:r,selected:p,title:m.title||m.name}),d&&l.jsx(MV,{defaultType:"popover",floatingBoundary:t,onClose:a,autoFocus:i,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};function Rfn(e){var t;return(t=e.components)!=null&&t.block?e.components.block:zO(e)?DRe:CRe}function $fn(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:IRe}function Mfn(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:H6}const Ffn=/^\d+$/;function Lfn(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function Bfn(e){const[t,n]=e.split("==");return{[t]:Lfn(n)}}function Nfn(e){return Ffn.test(e)?Number(e):e}function zfn(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?Bfn(t):Nfn(t))}function eg(e){return zfn(e)}class e9n extends ne.Component{constructor(){super(...arguments),this.state={focusPath:[]},this.handleFocus=t=>{this.setState({focusPath:t})},this.handleBlur=()=>{}}render(){return this.props.children({onBlur:this.handleBlur,onFocus:this.handleFocus,focusPath:this.state.focusPath})}}function n0(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:o}=e,i=t==null?void 0:t._ref,s=co(()=>r(i),[i,r]);return l.jsx(l.Fragment,{children:i&&s?n(s):o})}function Vfn(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):$Re(Array.from(e.items||[])).then(En)}function Hfn(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):$Re(n).then(En)}function Hce(e){return e===null?[]:[e]}function $Re(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return Hce(t.getAsFile())}return n?n.isDirectory?MRe(n):Hce(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function MRe(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(MRe)).then(En))}return Promise.resolve([])}function Ufn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,o)=>{const i=new Image;i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.onload=()=>{const s=document.createElement("canvas");s.width=i.width,s.height=i.height;const a=s.getContext("2d");a==null||a.drawImage(i,0,0,s.width,s.height);try{s.toBlob(r,t,n)}catch(c){o(c)}},i.src=e})}const Wfn={opacity:0,position:"absolute"};function FRe(e){return ne.forwardRef(function(n,r){const{onFiles:o,onFilesOver:i,onFilesOut:s,disabled:a,...c}=n,[u,d]=ne.useState(!1),f=ne.useRef(null),p=or(r),m=ne.useRef([]),v=h.useCallback(S=>{o==null||o(S)},[o]),g=h.useCallback(S=>{S.target===p.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&d(!0)},[p]),b=h.useCallback(S=>{Vfn(S.clipboardData).then(E=>f.current?E.length>0?E:Yfn(f.current,"image/jpeg"):[]).then(E=>{var j;v(E),d(!1),(j=p.current)==null||j.focus()})},[v,p]),x=h.useCallback(S=>{m.current=[],S.preventDefault(),S.stopPropagation();const E=S.nativeEvent.dataTransfer;o&&E&&Hfn(E).then(j=>{j&&v(j)}),s==null||s()},[v,o,s]),y=h.useCallback(S=>{o&&(S.preventDefault(),S.stopPropagation())},[o]),w=h.useCallback(S=>{if(S.stopPropagation(),i&&p.current===S.currentTarget){m.current=[...new Set(m.current),S.currentTarget];const E=Array.from(S.dataTransfer.items).map(j=>({type:j.type,kind:j.kind}));i(E)}},[i,p]),_=h.useCallback(S=>{S.stopPropagation();const E=m.current.indexOf(S.currentTarget);E>-1&&m.current.splice(E,1),m.current.length===0&&(s==null||s())},[s]),C=ne.useRef(!1);return ne.useEffect(()=>{var S;!C.current&&u&&f.current?(f.current.focus(),qfn(f.current)):C.current&&!u&&((S=f.current)==null||S.focus()),C.current=u},[u]),l.jsxs(l.Fragment,{children:[l.jsx(e,{...c,ref:p,onKeyDown:a?void 0:g,onDragOver:a?void 0:y,onDragEnter:a?void 0:w,onDragLeave:a?void 0:_,onDrop:a?void 0:x}),!a&&u&&l.jsx("div",{contentEditable:!0,onPaste:b,ref:f,style:Wfn})]})})}function Yfn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>Ufn(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(e.tagName)))}function qfn(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function BV(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function NV(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&BV(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Uce=Object.freeze,Gfn=Object.defineProperty,Kfn=(e,t)=>Uce(Gfn(e,"raw",{value:Uce(t||e.slice())})),Wce;function LRe(e){return I(e)(t=>{const n={width:t.$border?1:0,color:"var(--card-border-color)"};return de(Wce||(Wce=Kfn([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),BV(n),pe(t.theme.sanity.radius[1]),NV({base:t.theme.sanity.color.base,border:n,focusRing:t.theme.sanity.focusRing}))})}const BRe=LRe(FRe(J));var Yce=Object.freeze,Zfn=Object.defineProperty,WO=(e,t)=>Yce(Zfn(e,"raw",{value:Yce(t||e.slice())})),qce,Gce,Kce,Zce;const Xfn=I(J)(qce||(qce=WO([`
  min-height: 82px;
  box-sizing: border-box;
`]))),Qfn=I(U)(Gce||(Gce=WO([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Jfn=I(te)(Kce||(Kce=WO([`
  position: relative;
  width: 60%;
`]))),ehn=I(er)(Zce||(Zce=WO([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),thn=1e3*60*2,nhn=e=>new Date().getTime()-new Date(e).getTime();function NRe(e){let{uploadState:t,onCancel:n,onStale:r,height:o}=e;const i=t.file.name;return h.useEffect(()=>{nhn(t.updatedAt)>thn&&(r==null||r())},[t.updatedAt,r]),l.jsx(Xfn,{tone:"primary",padding:4,border:!0,style:{height:"".concat(o,"px")},children:l.jsxs(Qfn,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[l.jsxs(Jfn,{children:[l.jsx(U,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:l.jsx(B,{size:1,children:l.jsxs(Yt,{space:2,children:["Uploading",l.jsx(ehn,{size:1,children:i||"..."})]})})}),l.jsx(J,{marginTop:3,radius:5,shadow:1,children:l.jsx(FJt,{value:t.progress})})]}),n?l.jsx(ie,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})}function rhn(e,t){return new Promise((n,r)=>{const o=new XMLHttpRequest;o.onload=()=>{const i=new FileReader;i.onloadend=()=>{var s;const a=(s=i.result)==null?void 0:s.toString(),c=a==null?void 0:a.substring(11,a.indexOf(";base64"));if(!c&&!t){r(new Error("Could not find mime type for image"));return}n(zRe(i.result,t||"".concat(sd(),".").concat(c)))},i.readAsDataURL(o.response)},o.onerror=i=>{r(i)},o.open("GET",e),o.responseType="blob",o.send()})}function ohn(e,t){return new Promise((n,r)=>{const o=e.toString(),i=o.substring(11,o.indexOf(";base64"));if(!i&&!t){r(new Error("Could not find mime type for image"));return}n(zRe(e,t||"".concat(sd(),".").concat(i)))})}function zRe(e,t){var n;const r=e.split(","),o=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],i=atob(r[1]);let s=i.length;const a=new Uint8Array(s);for(;s--;)a[s]=i.charCodeAt(s);return new File([a],t,{type:o})}function VRe(e){let{assetFromSource:t,onChange:n,type:r,resolveUploader:o,uploadWith:i,isImage:s}=e;if(!t)throw new Error("No asset given");if(!Array.isArray(t)||t.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=t[0],c=a.assetDocumentProps,u=c==null?void 0:c.originalFilename,d=c==null?void 0:c.label,f=c==null?void 0:c.title,p=c==null?void 0:c.description,m=c==null?void 0:c.creditLine,v=c==null?void 0:c.source,g=s?[Je(["hotspot"]),Je(["crop"])]:[];switch(a.kind){case"assetDocumentId":n([qi({_type:r.name}),...g,vt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const b=o(r,a.value);b&&i(b,a.value,{label:d,title:f,description:p,creditLine:m,source:v});break}case"base64":ohn(a.value,u).then(b=>{const x=o(r,b);x&&i(x,b,{label:d,title:f,description:p,creditLine:m,source:v})});break;case"url":rhn(a.value,u).then(b=>{const x=o(r,b);x&&i(x,b,{label:d,title:f,description:p,creditLine:m,source:v})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var Xce=Object.freeze,ihn=Object.defineProperty,shn=(e,t)=>Xce(ihn(e,"raw",{value:Xce(t||e.slice())})),Qce;const ahn=I(Be)(Qce||(Qce=shn([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),lhn=ne.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,b="".concat(o||"","-").concat(h.useId()),x=ne.useCallback(w=>{u&&w.target.files&&u(Array.from(w.target.files))},[u]),y=l.jsxs(U,{align:"center",justify:"flex-start",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(B,{size:a,children:[h.isValidElement(r)&&r,vr.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(B,{align:p,size:a,textOverflow:"ellipsis",children:m})]});return l.jsxs(ahn,{...g,htmlFor:b,padding:0,fontSize:2,disabled:v,ref:n,children:[y,l.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:s,id:b,multiple:c,onChange:x,type:"file",value:"",disabled:v})]})});function HRe(e){const{onUpload:t,onReset:n,readOnly:r,accept:o,directUploads:i,browse:s,downloadUrl:a,copyUrl:c}=e,{push:u}=Bo(),d=h.useCallback(()=>{navigator.clipboard.writeText(c||""),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"})},[u,c]);return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,children:l.jsx(Nt,{muted:!0,size:1,children:"Replace"})}),l.jsx(lhn,{icon:xT,mode:"bleed",onSelect:t,accept:o,text:"Upload","data-testid":"file-input-upload-button",disabled:r||!i,fontSize:2}),s,(a||c)&&l.jsx(kr,{}),a&&l.jsx(Be,{as:"a",icon:r8,text:"Download",href:a}),c&&l.jsx(Be,{icon:Su,text:"Copy URL",onClick:d}),l.jsx(kr,{}),l.jsx(Be,{tone:"critical",icon:ku,text:"Clear field",onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}var Jce=Object.freeze,chn=Object.defineProperty,uhn=(e,t)=>Jce(chn(e,"raw",{value:Jce(t||e.slice())})),eue;const dhn=I(U)(eue||(eue=uhn([`
  pointer-events: none;
`])));function URe(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:o,rejectedFilesCount:i,directUploads:s}=e,a=n==="file",c=h.useMemo(()=>r?l.jsx(iw,{}):t&&i>0||!s?l.jsx(Cf,{}):a?l.jsx(d0,{}):l.jsx(Cl,{}),[s,t,a,r,i]),u=h.useMemo(()=>{let d="Drag or paste ".concat(n," here");return s?(r&&(d="Read only"),t&&s&&!r&&(o.length>0&&(d="Drop to upload ".concat(n)),i>0&&(d="Can't upload ".concat(i," file").concat(i>1?"s":""," here"))),d):"Can't upload files here"},[o.length,s,t,r,i,n]);return l.jsxs(dhn,{align:"center",gap:2,justify:"center",children:[l.jsx(B,{muted:!0,children:c}),l.jsx(B,{size:1,muted:!0,children:u})]})}var tue=Object.freeze,fhn=Object.defineProperty,hhn=(e,t)=>tue(fhn(e,"raw",{value:tue(t||e.slice())})),nue;const phn=I(ie).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e;const{focusRing:n}=t.sanity,r=t.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return de(nue||(nue=hhn([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      & input {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),NV({base:r,border:o,focusRing:n}))}),mhn=ne.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,b="".concat(o||"","-").concat(h.useId()),x=Ts(),y=ne.useCallback(_=>{u&&_.target.files&&u(Array.from(_.target.files))},[u]),w=l.jsxs(U,{align:"center",justify:"center",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(B,{size:a,children:[h.isValidElement(r)&&r,vr.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(B,{align:p,size:a,textOverflow:"ellipsis",weight:x.sanity.button.textWeight,children:m})]});return l.jsxs(phn,{...g,htmlFor:b,padding:0,fontSize:2,disabled:v,children:[w,l.jsx("input",{"data-testid":"file-button-input",accept:i,capture:s,id:b,multiple:c,onChange:y,ref:n,type:"file",value:"",disabled:v})]})});function ghn(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:o,hoveringFiles:i,onUpload:s,readOnly:a,rejectedFilesCount:c,type:u}=e,[d,f]=h.useState(null),p=ZT(d),m=(p==null?void 0:p.border)&&p.border.width<440;return l.jsxs(U,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:f,children:[l.jsx(U,{flex:1,justify:"center",children:l.jsx(URe,{acceptedFiles:n,directUploads:o,hoveringFiles:i,readOnly:a,rejectedFilesCount:c,type:u})}),l.jsxs(U,{align:"center",gap:2,justify:"center",wrap:"wrap",children:[l.jsx(mhn,{accept:t,"data-testid":"file-input-upload-button",disabled:a||!o,icon:xT,mode:"ghost",onSelect:s,text:"Upload"}),r]})]})}const WRe=ne.memo(ghn);var rue=Object.freeze,vhn=Object.defineProperty,yhn=(e,t)=>rue(vhn(e,"raw",{value:rue(t||e.slice())})),oue;const bhn=I(ie)(oue||(oue=yhn([`
  width: 100%;
`])));function YRe(e){let{onClearStale:t}=e;return l.jsxs(J,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(B,{size:1,children:l.jsx(Pr,{})})}),l.jsxs(te,{space:3,children:[l.jsx(B,{size:1,weight:"semibold",children:"Incomplete upload"}),l.jsx(B,{size:1,children:"An upload has made no progress in the last 6m and likely got interrupted. You can safely clear the incomplete upload and try uploading again."})]})]}),l.jsx(bhn,{icon:ku,text:"Clear upload",onClick:t,mode:"ghost"})]})}var iue=Object.freeze,xhn=Object.defineProperty,qRe=(e,t)=>iue(xhn(e,"raw",{value:iue(t||e.slice())})),sue,aue;const whn=I(J)(sue||(sue=qRe([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),_hn=I(U)(aue||(aue=qRe([`
  height: 100%;
`])));function GRe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,i)).toFixed(r))," ").concat(o[i])}function Chn(e){const{originalFilename:t,size:n,children:r,muted:o,disabled:i,onClick:s,isMenuOpen:a,onMenuOpen:c,setMenuButtonElement:u}=e,[d,f]=h.useState(null),[p,m]=h.useState(null),v=h.useCallback(()=>c(!0),[c]);Qi(h.useCallback(b=>{a&&(b.key==="Escape"||b.key==="Tab")&&(c(!1),p==null||p.focus())},[a,c,p])),rr(h.useCallback(b=>{p!=null&&p.contains(b.target)||c(!1)},[p,c]),[d]);const g=h.useCallback(b=>{u(b),m(b)},[u]);return h.useEffect(()=>{a&&(d==null||d.focus())},[a,d]),l.jsxs(U,{wrap:"nowrap",justify:"space-between",align:"center",children:[l.jsx(J,{as:o||i?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:s,flex:1,children:l.jsxs(U,{wrap:"nowrap",align:"center",children:[l.jsx(J,{padding:3,tone:"transparent",shadow:1,radius:1,children:l.jsx(B,{muted:o,children:l.jsx(d0,{})})}),l.jsxs(te,{flex:1,space:2,marginLeft:3,children:[l.jsx(B,{size:2,textOverflow:"ellipsis",muted:o,"data-testid":"file-name",children:t}),l.jsx(B,{size:1,muted:!0,"data-testid":"file-size",children:GRe(n)})]})]})}),l.jsx(M,{padding:2,children:l.jsx(U,{justify:"center",children:l.jsx(nn,{content:l.jsx(Ft,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:a,constrainSize:!0,children:l.jsx(ie,{"aria-label":"Open file options menu","data-testid":"options-menu-button",icon:Fo,mode:"bleed",onClick:v,ref:g})})})})]})}function lue(){return l.jsxs(U,{align:"center",justify:"flex-start",padding:2,children:[l.jsx(C0,{padding:3,radius:1,animated:!0}),l.jsxs(te,{flex:1,space:2,marginLeft:3,children:[l.jsx(x5,{style:{width:"100%"},radius:1,animated:!0}),l.jsx(x5,{style:{width:"100%"},radius:1,animated:!0})]})]})}var cue=Object.freeze,Shn=Object.defineProperty,Ehn=(e,t)=>cue(Shn(e,"raw",{value:cue(t||e.slice())})),uue;const khn=I(ie)(uue||(uue=Ehn([`
  width: 100%;
`])));function jhn(e){let{onClearValue:t}=e;return l.jsxs(J,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(B,{size:1,children:l.jsx(Pr,{})})}),l.jsxs(te,{space:3,children:[l.jsx(B,{size:1,weight:"semibold",children:"Invalid file value"}),l.jsx(B,{size:1,children:"The value of this field is not a valid file. Resetting this field will let you choose a new file."})]})]}),l.jsx(khn,{icon:ku,text:"Reset value",onClick:t,mode:"ghost"})]})}function Thn(e){let{children:t}=e;return t}const Ahn=["asset"];class Ohn extends ne.PureComponent{constructor(t){var n;super(t),n=this,this.uploadSubscription=null,this.browseButtonElement=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1},this.toast=null,this.handleRemoveButtonClick=()=>{const{path:r,value:o}=this.props,s=typeof r.slice(-1)[0]!="string",a=Object.keys(o||{}),u=a.filter(f=>!["_type","_key","_upload","asset"].includes(f)).length===0,d=["asset"].concat(a.filter(f=>["_upload"].includes(f))).map(f=>Je([f]));this.props.onChange(lt.from(u&&!s?Je():d))},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange(Je(["asset"]))},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectFileFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.browseButtonElement)==null||r.focus()},this.setBrowseButtonElement=r=>{this.browseButtonElement=r},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{source:u}=i,d={metadata:Fn(s,"options.metadata"),storeOriginalFilename:Fn(s,"options.storeOriginalFilename"),source:u};n.cancelUpload(),n.setState({isUploading:!0}),a(lt.from([qi({_type:s.name})])),n.uploadSubscription=r.upload(c,o,s,d).subscribe({next:f=>{f.patches&&a(lt.from(f.patches))},error:f=>{var p;console.error(f),(p=n.toast)==null||p.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{n.setState({isUploading:!1})}})},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;VRe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleUpload=r=>{let{file:o,uploader:i}=r;this.uploadWith(i,o)},this.setToast=r=>{this.toast=r},this._assetFieldPath=t.path.concat(Ahn)}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(lt.from([Je(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n}=this.props,r=t.map(o=>{var i,s;return{file:o,uploader:(s=(i=this.props).resolveUploader)==null?void 0:s.call(i,n,o)}}).find(o=>o.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(t){const{isUploading:n}=this.state;return l.jsx(NRe,{uploadState:t,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props;if(!t)return null;const i=Fn(r,"options.accept",""),s=t.component;return n&&n.asset?l.jsx(n0,{observeAsset:o,reference:n.asset,waitPlaceholder:l.jsx(lue,{}),children:a=>l.jsx(s,{selectedAssets:[a],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:t,changed:n,readOnly:r,elementProps:o}=this.props,{hoveringFiles:i,isStale:s}=this.state,a=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!XJ(t)?()=>l.jsx(jhn,{onClearValue:this.handleClearField}):c=>l.jsxs(l.Fragment,{children:[s&&l.jsx(M,{marginBottom:2,children:l.jsx(YRe,{onClearStale:this.handleClearUploadState})}),l.jsx(oi,{path:this._assetFieldPath,hasFocus:!!c.focused,isChanged:n,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsx(BRe,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||i.length>0,style:{padding:1},sizing:"border",radius:2,children:l.jsxs("div",{style:{position:"relative"},children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),t!=null&&t.asset&&i.length>0?this.renderAssetMenu(this.getFileTone()):null,!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:t,readOnly:n,assetSources:r,schemaType:o,directUploads:i,observeAsset:s}=this.props,{isMenuOpen:a}=this.state,c=t==null?void 0:t.asset;if(!c)return null;const u=Fn(o,"options.accept","");let d=r&&(r==null?void 0:r.length)===0?null:l.jsx(Be,{icon:Zo,text:"Browse",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(d=r.map(f=>l.jsx(Be,{text:f.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(f)},icon:f.icon||Cl,disabled:n,"data-testid":"file-input-browse-button-".concat(f.name)},f.name))),l.jsx(n0,{reference:c,observeAsset:s,waitPlaceholder:l.jsx(lue,{}),children:f=>{let{originalFilename:p,extension:m,url:v,size:g}=f;const b=p||"download.".concat(m);let x,y;return XJ(t)&&(y="".concat(v,"?dl"),x=v),l.jsx(Chn,{size:g,originalFilename:b,muted:!n,onMenuOpen:w=>this.setState({isMenuOpen:w}),isMenuOpen:a,setMenuButtonElement:this.setBrowseButtonElement,children:l.jsx(HRe,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:y,copyUrl:x,readOnly:n,accept:u,directUploads:i})})}})}renderAssetMenu(t){const{schemaType:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return l.jsx(whn,{tone:t,children:l.jsx(_hn,{align:"center",justify:"center",gap:2,flex:1,children:l.jsx(URe,{readOnly:r,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:c,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t.length===0?null:t.length>1&&!n&&r?l.jsx(Kt,{id:"".concat(o,"_assetFileButton"),ref:this.setBrowseButtonElement,button:l.jsx(ie,{mode:"ghost",text:"Select","data-testid":"file-input-multi-browse-button",icon:Zo}),"data-testid":"input-select-button",menu:l.jsx(Ft,{children:t.map(i=>l.jsx(Be,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i)},icon:i.icon||Cl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))})}):l.jsx(ie,{fontSize:2,text:"Browse",icon:Zo,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:t,schemaType:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o==null?void 0:o(n,u)),a=i.length-s.length,c=Fn(n,"options.accept","");return l.jsx("div",{style:{padding:1},children:l.jsx(J,{tone:t?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(WRe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:t,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"file",accept:c,directUploads:r})})})}getFileTone(){const{directUploads:t,schemaType:n,value:r,readOnly:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return s.length>0&&(c>0||!t)?"critical":!(r!=null&&r._upload)&&!o&&s.length>0?"primary":r!=null&&r._upload&&(r!=null&&r.asset)&&o?"transparent":"default"}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderItem:i,renderInput:s,renderField:a,renderPreview:c}=this.props,{selectedAssetSource:u}=this.state;return l.jsxs(l.Fragment,{children:[l.jsx(Bz,{ref:this.setToast}),t.map(d=>d.kind==="field"&&(d.name==="crop"||d.name==="hotspot")?null:d.kind==="field"?l.jsx(u_,{member:d,renderAnnotation:n,renderInlineBlock:o,renderBlock:r,renderInput:d.name==="asset"?this.renderAsset():s,renderField:d.name==="asset"?Thn:a,renderItem:i,renderPreview:c},d.key):d.kind==="fieldSet"?l.jsx(OV,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:i,renderPreview:c},d.key):d.kind==="error"?l.jsx(LO,{member:d},d.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",d.kind]})),u&&this.renderAssetSource()]})}}function Phn(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,r=$i(),{file:o}=ii().__internal,i=ar(tn),s=h.useCallback((u,d)=>o.directUploads?kV(u,d):null,[o.directUploads]),a=h.useMemo(()=>n||o.assetSources,[o,n]),c=h.useCallback(u=>J3e(r,u),[r]);return l.jsx(Ohn,{...e,client:i,assetSources:a,directUploads:o.directUploads,observeAsset:c,resolveUploader:s})}var due=Object.freeze,Dhn=Object.defineProperty,Ihn=(e,t)=>due(Dhn(e,"raw",{value:due(t||e.slice())})),fue;const hue=I(M)(fue||(fue=Ihn([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),e=>{let{ratio:t=3/2}=e;return 1/t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t});function Rhn(e){const{src:t,children:n}=e,[r,o]=h.useState(!0),[i,s]=h.useState(null),[a,c]=h.useState(null);return h.useEffect(()=>{s(null),c(null),o(!0);const u=new Image;u.onload=()=>{s(u),c(null),o(!1)},u.onerror=()=>{c(new Error("Could not load image from ".concat(JSON.stringify(t)))),o(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=t},[t]),n({image:i,error:a,isLoading:r})}const $hn=["","webkit","moz","ms","o"].map(e=>"".concat(e,"backingStoreRatio"));let n2=-1;function Mhn(e){return n2===-1&&(n2=$hn.find(t=>t in e)),n2&&e[n2]}function pue(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,o=t.height/2;if(r<=0||o<=0)return!1;const i={x:e.x-n.x,y:e.y-n.y};return Math.pow(i.x,2)/Math.pow(r,2)+Math.pow(i.y,2)/Math.pow(o,2)<=1}function mue(e,t){let{x:n,y:r}=e;return Math.pow(n-t.x,2)+Math.pow(r-t.y,2)<Math.pow(t.radius,2)}function Y3(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function gue(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}class U6{constructor(t,n){this.x=t,this.y=n}}class vue{constructor(t,n,r){this.y=t,this._left=n,this._right=r}get right(){return new U6(this._right,this.y)}get left(){return new U6(this._left,this.y)}get length(){return this._right-this._left}}class Fhn{constructor(t){this.rect=t}get top(){return new vue(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new vue(this.rect.bottom,this.rect.left,this.rect.right)}}class Xr{static fromEdges(t){let{left:n,right:r,top:o,bottom:i}=t;return new Xr(n,o,1-n-r,1-o-i)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.left=t,this.top=n,this.width=r,this.height=o}setTopLeft(t,n){return new Xr(t,n,this.width||0,this.height||0)}setSize(t,n){return new Xr(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,o=this.height||0;return new Xr(t-r/2,n-o/2,r||0,o||0)}get center(){return new U6(this.left+this.width/2,this.top+this.height/2)}get corners(){return new Fhn(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new Xr((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new Xr(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,o=this.height*t.height,i=this.width*t.width;return new Xr(r,n,i,o)}clamp(t){let{left:n,top:r,width:o,height:i}=this;return t.width<o&&(o=t.width,n=t.left),t.height<i&&(i=t.height,r=t.top),n+o>t.left+t.width&&(n=t.right-o),r+i>t.top+t.height&&(r=t.bottom-i),new Xr(Math.max(n,t.left),Math.max(r,t.top),o,i)}}const r2=xs("sanity-imagetool");function Lhn(e){return class extends ne.PureComponent{constructor(){super(...arguments),this.domNode=null,this.currentPos=null,this.isDragging=!1,this.handleTouchMove=n=>{this.isDragging&&n.preventDefault()},this.handleDragStart=n=>{const{onDragStart:r,readOnly:o}=this.props;if(o||!this.domNode)return;if(this.isDragging){r2("Start cancelled, already a drag in progress");return}this.isDragging=!0;const i=G3(n);r2("Drag started %o",i),r(q3(i.x,i.y,this.domNode.getBoundingClientRect())),this.currentPos=i},this.handleDrag=n=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:r}=this.props,o=G3(n),i=Bhn(o,this.currentPos);r(i),r2("moving by %o",i),this.currentPos=o},this.handleDragEnd=n=>{const{onDragEnd:r,readOnly:o}=this.props;if(!this.isDragging||o||!this.domNode)return;const i=G3(n);r(q3(i.x,i.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,r2("Done moving %o",i)},this.handleDragCancel=()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:n}=this.props;this.isDragging=!1,n(q3(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null},this.setDomNode=n=>{this.domNode=n}}componentDidMount(){Zp?(document.body.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.handleDragEnd),document.body.addEventListener("touchcancel",this.handleDragCancel)):(document.body.addEventListener("mousemove",this.handleDrag),document.body.addEventListener("mouseup",this.handleDragEnd),document.body.addEventListener("mouseleave",this.handleDragCancel))}componentWillUnmount(){Zp?(document.body.removeEventListener("touchmove",this.handleTouchMove),document.body.removeEventListener("touchend",this.handleDragEnd),document.body.removeEventListener("touchcancel",this.handleDragCancel)):(document.body.removeEventListener("mousemove",this.handleDrag),document.body.removeEventListener("mouseup",this.handleDragEnd),document.body.removeEventListener("mouseleave",this.handleDragCancel))}render(){const{readOnly:n,onDragStart:r,onDragEnd:o,onDrag:i,...s}=this.props;return l.jsx(e,{ref:this.setDomNode,onTouchStart:n?void 0:this.handleDragStart,onMouseDown:n?void 0:this.handleDragStart,onTouchMove:n?void 0:this.handleDrag,...s})}}}function q3(e,t,n){return{x:e-n.left,y:t-n.top}}function G3(e){return"touches"in e?e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:0,y:0}:{x:e.clientX,y:e.clientY}}function Bhn(e,t){return{x:e.x-t.x,y:e.y-t.y}}var yue=Object.freeze,Nhn=Object.defineProperty,KRe=(e,t)=>yue(Nhn(e,"raw",{value:yue(t||e.slice())})),bue,xue;const zhn=Lhn("canvas"),Vhn=I.div(bue||(bue=KRe([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),Hhn=I(zhn)(xue||(xue=KRe([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
`]))),Uhn="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",Whn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",qu={x:.5,y:.5,height:1,width:1},Gu={top:0,left:0,right:0,bottom:0},ny=8,Yhn=12,qhn=10;function Ghn(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function Khn(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function wue(e,t){const{top:n,right:r,bottom:o,left:i}=e.crop||Gu,s={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:o+(t.bottom||0)>0?o:0,left:i+(t.left||0)>0?i:0}},a={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:o+(t.bottom||0)>0&&t.bottom||0,left:i+(t.left||0)>0&&t.left||0};return{value:s,delta:a}}function Zhn(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const _ue=xA(()=>{const e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d"),n=t&&Mhn(t)||1;return e/n}),Cue=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class Xhn extends ne.PureComponent{constructor(){super(...arguments),this.state={cropping:!1,cropMoving:!1,moving:!1,resizing:!1,mousePosition:null},this.handleDragStart=t=>{let{x:n,y:r}=t;const o={x:n*this.getScale(),y:r*this.getScale()},i=pue(o,this.getHotspotRect()),s=mue(o,this.getDragHandleCoords()),a=this.getActiveCropHandleFor(o),c=Y3(o,this.getCropRect());a?this.setState({cropping:a}):s?this.setState({resizing:!0}):i?this.setState({moving:!0}):c&&this.setState({cropMoving:!0})},this.handleDrag=t=>{this.state.cropping?this.emitCrop(this.state.cropping,t):this.state.cropMoving?this.emitCropMove(t):this.state.moving?this.emitMove(t):this.state.resizing&&this.emitResize(t)},this.handleDragEnd=()=>{const{onChange:t,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:o}=this.getClampedValue(),i=Ghn(o),s={crop:{top:i.top,bottom:1-i.bottom,left:i.left,right:1-i.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};t(s),n&&n(s)},this.handleMouseOut=()=>{this.setState({mousePosition:null})},this.handleMouseMove=t=>{const n=t.currentTarget.getBoundingClientRect();this.setState({mousePosition:{x:(t.clientX-n.left)*this.getScale(),y:(t.clientY-n.top)*this.getScale()}})},this.setCanvas=t=>{this.canvas=t}}getHotspotRect(){const{value:t,image:n}=this.props,r=t.hotspot||qu,o=new Xr().setSize(r.width,r.height).setCenter(r.x,r.y);return new Xr().setSize(n.width,n.height).shrink(ny*this.getScale()).multiply(o)}getCropRect(){const{value:t,image:n}=this.props;return new Xr().setSize(n.width,n.height).shrink(ny*this.getScale()).cropRelative(Xr.fromEdges(t.crop||Gu).clamp(new Xr(0,0,1,1)))}getCropHandles(){const t=this.getCropRect(),n=Yhn*this.getScale(),r=n/2,o=new Xr(0,0,n,n);return{left:o.setTopLeft(t.left-r,t.center.y-r),right:o.setTopLeft(t.right-r,t.center.y-r),top:o.setTopLeft(t.center.x-r,t.top-r),topLeft:o.setTopLeft(t.left-r,t.top-r),topRight:o.setTopLeft(t.right-r,t.top-r),bottom:o.setTopLeft(t.center.x-r,t.bottom-r),bottomLeft:o.setTopLeft(t.left-r,t.bottom-r),bottomRight:o.setTopLeft(t.right-r,t.bottom-r)}}getActiveCropHandleFor(t){let{x:n,y:r}=t;const o=this.getCropHandles();for(const i of Cue)if(Y3({x:n,y:r},o[i]))return i;return!1}emitMove(t){const{image:n,value:r,onChange:o}=this.props,i=this.getScale(),s={x:t.x*i/n.width,y:t.y*i/n.height};o(Qhn(r,s))}emitCropMove(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s=t.x*i/n.width,a=-t.x*i/n.width,c=t.y*i/n.height,u=-t.y*i/n.height,d={left:s,right:a,top:c,bottom:u};Khn(o,d)&&r(Sue(o,d))}emitCrop(t,n){const{image:r,onChange:o,value:i}=this.props,s=this.getScale();let a=0,c=0,u=0,d=0;t=="left"||t==="topLeft"||t==="bottomLeft"?a=n.x*s/r.width:(t=="right"||t==="topRight"||t==="bottomRight")&&(c=-n.x*s/r.width),t=="top"||t==="topLeft"||t==="topRight"?u=n.y*s/r.height:(t=="bottom"||t==="bottomLeft"||t==="bottomRight")&&(d=-n.y*s/r.height);const f={left:a,right:c,top:u,bottom:d},p=wue(i,f).value,m=wue(i,f).delta;o(Sue(p,m))}emitResize(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s={x:t.x*i*2/n.width,y:t.y*i*2/n.height};r(Jhn(o,{height:s.y,width:s.x}))}getClampedValue(){const t=this.props.value,n=Xr.fromEdges(t.crop||Gu).clamp(new Xr(0,0,1,1)),r=t.hotspot||qu,o=new Xr(0,0,1,1).setSize(r.width,r.height).setCenter(r.x,r.y).clamp(n);return{crop:n,hotspot:o}}paintHotspot(t,n){const{image:r,readOnly:o}=this.props,i=new Xr().setSize(r.width,r.height),{hotspot:s,crop:a}=this.getClampedValue(),c=this.getScale(),u=ny*c;t.save(),m(),d(),t.clip(),p(),t.restore(),o||v(Math.PI*1.25);function d(){t.save();const g=i.shrink(u).multiply(s),b=g.height/g.width;t.scale(1,b),t.beginPath(),t.globalAlpha=n,t.arc(g.center.x,g.center.y/b,Math.abs(g.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*c,t.stroke(),t.closePath(),t.restore()}function f(g,b,x,y,w,_,C,S){t.save(),t.drawImage(r,g,b,x,y,w,_,C,S),t.restore()}function p(){const g=i.multiply(s),b=i.shrink(u).multiply(s);f(g.left,g.top,g.width,g.height,b.left,b.top,b.width,b.height)}function m(){const g=i.cropRelative(a),b=i.shrink(u).cropRelative(a);t.save(),f(g.left,g.top,g.width,g.height,b.left,b.top,b.width,b.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(b.left,b.top,b.width,b.height),t.restore()}function v(g){t.save();const b=qhn*c,x=i.shrink(u).multiply(s),y=gue(g,x);t.beginPath(),t.arc(y.x,y.y,b,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(y.x,y.y,b,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*c,t.stroke(),t.closePath()}}getActualSize(){var t;const n=(t=this.canvas)==null?void 0:t.domNode;return n?{height:n.clientHeight,width:n.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const t=this.getHotspotRect(),n=gue(Math.PI*1.25,t);return{x:n.x,y:n.y,radius:8*this.getScale()}}debug(t){t.save();const{image:n}=this.props,r=this.getHotspotRect(),o=this.getScale(),i=ny*o;t.setLineDash&&t.setLineDash([2*o,2*o]),t.lineWidth=.5*o,t.strokeStyle="rgba(200, 200, 200, 0.5)",s(r.center.x),a(r.center.y),t.strokeStyle="rgba(150, 150, 150, 0.5)",a(r.top),a(r.bottom),s(r.left),s(r.right),t.restore();function s(u){c(u,i,u,n.height-i)}function a(u){c(i,u,n.width-i,u)}function c(u,d,f,p){t.beginPath(),t.moveTo(u,d),t.lineTo(f,p),t.stroke(),t.closePath()}}paintBackground(t){const{image:n}=this.props,r=new Xr().setSize(n.width,n.height).shrink(ny*this.getScale());t.save(),t.fillStyle="white",t.clearRect(0,0,n.width,n.height),t.globalAlpha=.3,t.drawImage(n,r.left,r.top,r.width,r.height),t.restore()}paint(t){const{readOnly:n}=this.props;t.save();const r=_ue();t.scale(r,r);const o=!n&&this.state.mousePosition?.8:.2;this.paintBackground(t),this.paintHotspot(t,o),this.debug(t),this.paintCropBorder(t),n||this.highlightCropHandles(t,o),t.restore()}paintMousePosition(t){if(!this.state.mousePosition)return;const{x:n,y:r}=this.state.mousePosition;t.beginPath(),t.arc(n,r,14*this.getScale(),0,2*Math.PI,!1),t.fillStyle="lightblue",t.fill(),t.restore()}paintCropBorder(t){const n=this.getCropRect();t.save(),t.beginPath(),t.fillStyle="rgba(66, 66, 66, 0.9)",t.lineWidth=1,t.rect(n.left,n.top,n.width,n.height),t.stroke(),t.closePath(),t.restore()}highlightCropHandles(t,n){t.save();const r=this.getCropHandles();Cue.forEach(o=>{t.fillStyle=this.state.cropping===o?"rgba(202, 54, 53, ".concat(n,")"):"rgba(230, 230, 230, ".concat(n+.4,")");const{left:i,top:s,height:a,width:c}=r[o];t.fillRect(i,s,c,a),t.beginPath(),t.fillStyle="rgba(66, 66, 66, ".concat(n,")"),t.rect(i,s,c,a),t.closePath(),t.stroke()}),t.restore()}getScale(){const t=this.getActualSize();return this.props.image.width/t.width}getCursor(){const{mousePosition:t}=this.state,{readOnly:n}=this.props;if(!t||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(t);if(r)return Zhn(r)||"auto";const o=mue(t,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(Whn,"), move");const i=pue(t,this.getHotspotRect()),s=Y3(t,this.getCropRect());return i||s?"url(".concat(Uhn,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const t=this.canvas.domNode,n=t.getContext("2d");if(!n)return;this.paint(n);const r=t.style.cursor,o=this.getCursor();r!==o&&(t.style.cursor=o)}render(){const{image:t,readOnly:n}=this.props,r=_ue();return l.jsx(Vhn,{children:l.jsx(Hhn,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,height:t.height*r,width:t.width*r})})}}function Qhn(e,t){const n=e&&e.hotspot||qu;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function Jhn(e,t){const n=e&&e.hotspot||qu;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function Sue(e,t){const n=e&&e.crop||Gu;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function epn(e){const{image:t,maxHeight:n,maxWidth:r,children:o}=e,[i]=h.useState(()=>{const a=document.createElement("canvas");return a.style.display="none",a});h.useEffect(()=>(document.body.appendChild(i),()=>{document.body.removeChild(i)}),[i]);const s=h.useCallback((a,c,u)=>{const d=a.width/a.height,f=Math.min(a.width,u),p=Math.min(a.height,c),m=a.width>a.height,v=m?f:p*d,g=m?f/d:p;i.width=v,i.height=g;const b=i.getContext("2d");return b&&b.drawImage(a,0,0,a.width,a.height,0,0,v,g),i},[i]);return o(s(t,n,r))}function Bx(e){return l.jsx(Rhn,{src:e.src,children:t=>{let{isLoading:n,image:r,error:o}=t;return n?l.jsx("div",{children:"Loading..."}):o?l.jsx("div",{children:o.message}):r?l.jsx(epn,{image:r,maxHeight:Bx.maxHeight,maxWidth:Bx.maxWidth,children:i=>l.jsx(Xhn,{image:i,...e})}):null}})}Bx.maxHeight=500;Bx.maxWidth=1e3;function tpn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Eue(e.image)||1,n=e.hotspot||qu,r=e.crop||Gu,o=Eue(e.container)||t*rpn(r),i=e.align||{x:"center",y:"center"},s=npn(t,{hotspot:n,crop:r},{aspect:o,align:i}),a=XRe(ZRe(100/o));return{debug:{result:s},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:bd(s.crop.height),width:bd(s.crop.width),top:bd(s.crop.top),left:bd(s.crop.left)},image:{position:"absolute",height:bd(s.image.height),width:bd(s.image.width),top:bd(s.image.top),left:bd(s.image.left)}}}function Eue(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(e)));return e.width/e.height}return null}function ZRe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const n=Math.pow(10,t);return Math.round(e*n)/n}function npn(e,t,n){const r=t.crop,o=n.aspect,i=n.align,s=1-r.left-r.right,a=1-r.top-r.bottom,c={top:-r.top/a,left:-r.left/s,width:1/s,height:1/a},d=s/a*e,f={x:(t.hotspot.x-r.left)/s,y:(t.hotspot.y-r.top)/a,height:t.hotspot.height/a,width:t.hotspot.width/s},p=1/f.width,m=1/f.height*d/o,v=Math.min(p,m);let g;const b=d<=o;b?g=1:g=d/o;let x,y;if(g>v){x="letterbox";let w;const _=g-v;b?w=1-_:w=v,y={width:w,height:w/d*o,left:0,top:0};const C=f.x*y.width-f.width*y.width/2;switch(i.x){case"left":y.left=b?0:-C;break;case"right":y.left=b?1-y.width:C;break;case"center":y.left=b?(1-y.width)/2:-C;break;default:throw new Error("Invalid x alignment: '".concat(i.x,"'. Must be either 'left', 'right' or 'center'"))}const S=f.y*y.height-f.height*y.height/2;switch(i.y){case"top":y.top=b?-S:0;break;case"bottom":y.top=S;break;case"center":y.top=b?-S:(1-y.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(i.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(b){x="full_width";let w=-f.y/d*o+.5;const _=g/d*o;w>0?w=0:-w>_-1&&(w=-(_-1)),y={width:g,height:_,left:0,top:w}}else{x="full_height";const w=g;let _=.5-f.x*g;_>0?_=0:-_>w-1&&(_=-(w-1)),y={width:w,height:g/d*o,top:0,left:_}}return{method:x,crop:y,image:c}}function rpn(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function XRe(e){return e===0?0:"".concat(e,"%")}function bd(e){return XRe(ZRe(e*100))}var kue=Object.freeze,opn=Object.defineProperty,ipn=(e,t)=>kue(opn(e,"raw",{value:kue(t||e.slice())})),jue;const spn=I.div(jue||(jue=ipn([`
  position: relative;
  width: 100%;
`]))),apn=xs("sanity-imagetool");function lpn(e,t){const n=1/t,r=t*n,o=r-(e.left+e.right)*r,i=n-(e.top+e.bottom)*n;return o/i}const cpn=h.memo(function(t){const{alignX:n="center",alignY:r="center",alt:o,aspectRatio:i="none",className:s="",crop:a=Gu,hotspot:c=qu,onError:u,onLoad:d,src:f,srcAspectRatio:p,srcSet:m,style:v}=t,[g,b]=h.useState(null),x=h.useRef(null),y=h.useRef(null),w=h.useCallback(()=>{if(x.current)if(i==="auto"){const S=x.current.parentNode;h.startTransition(()=>b(S.offsetWidth/S.offsetHeight))}else b(null)},[i]);h.useEffect(()=>{const S=y.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(apn("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",f),S.src=S.src),w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[f,w]);const _=h.useMemo(()=>i==="none"?a?lpn(a,p):p:i==="auto"?g:i||null,[i,g,a,p]),C=h.useMemo(()=>tpn({container:{aspectRatio:_||p},image:{aspectRatio:p},hotspot:c,crop:a,align:{x:n,y:r}}),[n,r,a,c,p,_]);return l.jsx(spn,{className:"".concat(s),style:v,ref:x,children:l.jsxs("div",{style:C.container,children:[l.jsx("div",{style:C.padding}),l.jsx("div",{style:C.crop,children:l.jsx("img",{ref:y,src:f,alt:o,srcSet:m,onLoad:d,onError:u,style:C.image})})]})})}),upn="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function dpn(e){return e.startsWith("blob:")}function fpn(e){return new ft(t=>{const n=document.createElement("img");let r=!1;const o=()=>{r=!0,t.next(n),t.complete()},i=()=>{r=!0,t.error(new Error("Could not load image from ".concat(dpn(e)?"blob":e)))};return n.onload=o,n.onerror=i,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=upn)}})}const Tue={isLoading:!0};function hpn(e){const[t,n]=h.useState(Tue);return h.useEffect(()=>{n(Tue);const r=fpn(e).subscribe({error:o=>{n({isLoading:!1,error:o})},next:o=>{n({image:o,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}var Aue=Object.freeze,ppn=Object.defineProperty,mpn=(e,t)=>Aue(ppn(e,"raw",{value:Aue(t||e.slice())})),Oue;const Pue=["hotspot"],Due=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],Iue={crop:Gu,hotspot:qu},gpn=I.div(Oue||(Oue=mpn([`
  min-height: 6em;
`])));function vpn(e){return l.jsx(U,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function ypn(e){const{imageUrl:t,value:n,changed:r,level:o,path:i,focusPath:s=Bn,presence:a,onChange:c,schemaType:u,onPathFocus:d,readOnly:f,elementProps:p}=e,[m,v]=h.useState(n||Iue),{image:g,isLoading:b,error:x}=hpn(t),y=h.useCallback(()=>{d(Pue)},[d]);h.useEffect(()=>{v(n||Iue)},[n]);const w=s[0]==="hotspot";Ri(w,C=>{var S;!C&&w&&((S=p.ref.current)==null||S.focus())});const _=h.useCallback(C=>{if(f)return;const S=u.fields.find(T=>T.name==="crop"&&T.type.name!=="object"),E=u.fields.find(T=>T.type.name!=="object"&&T.name==="hotspot"),j=S?{_type:S.type.name,...C.crop||Gu}:C.crop,k=E?{_type:E.type.name,...C.hotspot||qu}:C.hotspot;c([vt(j,["crop"]),vt(k,["hotspot"])])},[c,f,u.fields]);return l.jsx(Q0,{title:"Hotspot & crop",level:o,description:"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.",__unstable_presence:a,children:l.jsxs("div",{children:[l.jsx(J,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:y,children:l.jsx(oi,{path:i.concat(Pue),hasFocus:s[0]==="hotspot",isChanged:r,children:l.jsxs(hue,{ratio:3/2,children:[(b||x)&&l.jsx(vpn,{children:x?l.jsx(J,{padding:4,radius:2,tone:"critical",border:!0,children:l.jsxs(B,{children:["Error: ",x.message]})}):l.jsx(B,{muted:!0,children:"Loading image… "})}),!b&&g&&l.jsx(M,{margin:1,children:l.jsx(Bx,{value:m,src:g.src,readOnly:!!f,onChangeEnd:_,onChange:v})})]})})}),l.jsx(M,{marginTop:3,children:l.jsx(en,{columns:Due.length,gap:1,children:Due.map(C=>{let[S,E]=C;return l.jsxs("div",{children:[l.jsx(Lo,{as:"h4",size:0,children:S}),l.jsx(M,{marginTop:2,children:l.jsx(hue,{ratio:E,children:l.jsx(J,{__unstable_checkered:!0,children:!b&&g?l.jsx(cpn,{aspectRatio:E,src:g.src,srcAspectRatio:g.width/g.height,hotspot:m.hotspot||qu,crop:m.crop||Gu}):l.jsx(gpn,{})})})})]},E)})})})]})})}var Rue=Object.freeze,bpn=Object.defineProperty,xpn=(e,t)=>Rue(bpn(e,"raw",{value:Rue(t||e.slice())})),$ue;const wpn=I(Yt)($ue||($ue=xpn([`
  position: absolute;
  top: 0;
  right: 0;
`])));function _pn(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:o,setMenuButtonElement:i,onMenuOpen:s,isMenuOpen:a}=e,[c,u]=h.useState(null),[d,f]=h.useState(null),p=h.useCallback(()=>s(!a),[s,a]);Qi(h.useCallback(v=>{a&&(v.key==="Escape"||v.key==="Tab")&&(s(!1),d==null||d.focus())},[a,s,d])),rr(h.useCallback(v=>{d!=null&&d.contains(v.target)||s(!1)},[d,s]),[c]);const m=h.useCallback(v=>{i(v),f(v)},[i]);return h.useEffect(()=>{a&&(c==null||c.focus())},[a,c]),l.jsxs(wpn,{"data-buttons":!0,space:1,padding:2,children:[r&&l.jsx(ie,{"aria-label":"Open image edit dialog","data-testid":"options-menu-edit-details",icon:uxe,mode:"ghost",onClick:t,ref:o}),l.jsx(nn,{id:"image-actions-menu",content:l.jsx(Ft,{ref:u,children:n}),portal:!0,open:a,constrainSize:!0,children:l.jsx(ie,{"aria-label":"Open image options menu","data-testid":"options-menu-button",icon:Fo,mode:"ghost",onClick:p,ref:m})})]})}var Mue=Object.freeze,Cpn=Object.defineProperty,YO=(e,t)=>Mue(Cpn(e,"raw",{value:Mue(t||e.slice())})),Fue,Lue,Bue,Nue;const zue=30,Spn=I(J)(Fue||(Fue=YO([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),Epn=I(ir)(Lue||(Lue=YO([`
  position: absolute;
`]))),kpn=I(U)(e=>{let{$drag:t,$tone:n}=e;const r=Df.color.light[n].card.enabled.fg,o=jt(Df.color.light[n].card.enabled.bg,.8);return de(Bue||(Bue=YO([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: `,`;
    color: `,`;
    background-color: `,`;
  `])),t?"blur(10px)":"",n?r:"",t?o:"transparent")}),jpn=I(U)(Nue||(Nue=YO([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),Tpn=e=>{const n=new URLSearchParams(e.split("?")[1]).get("rect");return n?[n.split(",")[2],n.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function Apn(e){const{drag:t,readOnly:n,isRejected:r,src:o,...i}=e,[s,a]=h.useState(!1),[c,u]=h.useState(null),d=ed(c),f=(d==null?void 0:d.width)||0,m=t?r||n?"critical":"primary":"default",v=zue*document.documentElement.clientHeight/100,[g,b]=Tpn(o),x=g/b,w=(g>f?f/x:b)<v?null:"".concat(zue,"vh");h.useEffect(()=>{a(!1)},[o]);const _=h.useCallback(()=>{a(!0)},[]);return l.jsxs(Spn,{...i,ref:u,style:{height:w},tone:"transparent",children:[l.jsxs(J,{"data-container":!0,tone:"inherit",children:[!s&&l.jsx(Vue,{cardTone:"transparent",drag:!0,content:l.jsx(Epn,{})}),l.jsx("img",{src:o,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:_,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&l.jsx(Vue,{cardTone:m,drag:t,content:l.jsxs(l.Fragment,{children:[l.jsx(M,{marginBottom:3,children:l.jsx(Lo,{children:l.jsx(Opn,{isRejected:r,readOnly:n})})}),l.jsx(Ppn,{isRejected:r,readOnly:n})]})})]})}function Opn(e){let{isRejected:t,readOnly:n}=e;return t?l.jsx(Cf,{}):n?l.jsx(iw,{}):l.jsx(Cl,{})}function Ppn(e){let{isRejected:t,readOnly:n}=e,r="Drop image to upload";return t&&(r="Cannot upload this file here"),n&&(r="This field is read only"),l.jsx(B,{size:1,children:r})}function Vue(e){let{cardTone:t,drag:n,content:r}=e;return l.jsx(kpn,{justify:"flex-end",padding:3,$drag:n,$tone:t,children:l.jsx(jpn,{direction:"column",align:"center",justify:"center",children:r})})}var Hue=Object.freeze,Dpn=Object.defineProperty,Ipn=(e,t)=>Hue(Dpn(e,"raw",{value:Hue(t||e.slice())})),Uue;const Rpn=I(ie)(Uue||(Uue=Ipn([`
  width: 100%;
`])));function $pn(e){let{onClearValue:t}=e;return l.jsxs(J,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(B,{size:1,children:l.jsx(Pr,{})})}),l.jsxs(te,{space:3,children:[l.jsx(B,{size:1,weight:"semibold",children:"Invalid image value"}),l.jsx(B,{size:1,children:"The value of this field is not a valid image. Resetting this field will let you choose a new image."})]})]}),l.jsx(Rpn,{icon:ku,text:"Reset value",onClick:t,mode:"ghost"})]})}const Mpn=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function Fpn(e){let{children:t}=e;return t}const Wue=["asset"],Lpn={portal:!0};class Bpn extends ne.PureComponent{constructor(t){var n;super(t),n=this,this._previewElement=null,this.uploadSubscription=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1},this.toast=null,this.setPreviewElement=r=>{this._previewElement=r},this.setHotspotButtonElement=r=>{this.setState({hotspotButtonElement:r})},this.setMenuButtonElement=r=>{this.setState({menuButtonElement:r})},this.getUploadOptions=r=>{const{schemaType:o,resolveUploader:i}=this.props,s=i&&i(o,r);return s?[{type:o,uploader:s}]:[]},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{label:u,title:d,description:f,creditLine:p,source:m}=i,v={metadata:Fn(s,"options.metadata"),storeOriginalFilename:Fn(s,"options.storeOriginalFilename"),label:u,title:d,description:f,creditLine:p,source:m};n.cancelUpload(),n.setState({isUploading:!0}),a(qi({_type:s.name})),n.uploadSubscription=r.upload(c,o,s,v).subscribe({next:g=>{g.patches&&a(g.patches)},error:g=>{var b;console.error(g),(b=n.toast)==null||b.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{a([Je(["hotspot"]),Je(["crop"])]),n.setState({isUploading:!1})}})},this.handleRemoveButtonClick=()=>{const{value:r}=this.props,o=Object.keys(r||{}),s=o.filter(c=>!["_type","_key","_upload","asset","crop","hotspot"].includes(c)).length===0,a=["asset"].concat(o.filter(c=>["crop","hotspot","_upload"].includes(c))).map(c=>Je([c]));this.props.onChange(s&&!this.valueIsArrayElement()?Je():a)},this.handleFieldChange=r=>{const{onChange:o,schemaType:i}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(r)){o(Je());return}o(r.prepend(qi({_type:i.name})).patches)},this.eventIsUnsettingLastFilledField=r=>{const o=r.patches[0];if(r.patches.length!==1||o.type!=="unset")return!1;const s=Object.keys(this.props.value||{}).filter(c=>!["_type","_key","crop","hotspot"].includes(c));return r.patches[0].path.length===1&&s.length===1&&s[0]===r.patches[0].path[0]},this.valueIsArrayElement=()=>{const{path:r}=this.props;return typeof r.slice(-1)[0]!="string"},this.handleOpenDialog=()=>{const{onFieldOpen:r}=this.props;r("hotspot")},this.handleCloseDialog=()=>{var r;const{onFieldClose:o}=this.props;o("hotspot"),(r=this.state.hotspotButtonElement)==null||r.focus()},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;VRe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r.filter(o=>o.kind!=="string")})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange([Je(["asset"]),Je(["crop"]),Je(["hotspot"])])},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectImageFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.state.menuButtonElement)==null||r.focus()},this.renderHotspotInput=r=>{const{value:o,changed:i,id:s,imageUrlBuilder:a}=this.props,c=this.isImageToolEnabled()&&o&&o.asset;return l.jsx(Pi,{__unstable_autoFocus:!1,header:"Edit hotspot and crop",id:"".concat(s,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:l.jsx(l_,{children:l.jsx(M,{padding:4,children:l.jsx(te,{space:5,children:c&&(o==null?void 0:o.asset)&&l.jsx(ypn,{...this.props,imageUrl:a.image(o.asset).url(),value:o,presence:r.presence,changed:i})})})})})},this.renderPreview=()=>{const{value:r,schemaType:o,readOnly:i,directUploads:s,imageUrlBuilder:a,resolveUploader:c}=this.props;if(!r||!db(r))return null;const{hoveringFiles:u}=this.state,d=u.filter(m=>c(o,m)),f=u.length-d.length,p=a.width(2e3).fit("max").image(r).dpr(Mpn()).auto("format").url();return l.jsx(Apn,{drag:!(r!=null&&r._upload)&&u.length>0,isRejected:f>0||!s,readOnly:i,src:p,alt:"Preview of uploaded image"})},this.setToast=r=>{this.toast=r},this._assetPath=t.path.concat(Wue)}isImageToolEnabled(){return Fn(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(Je(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n,resolveUploader:r}=this.props,o=t.map(i=>({file:i,uploader:r(n,i)})).find(i=>i.uploader);o&&this.uploadWith(o.uploader,o.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:t,assetSources:n,schemaType:r,readOnly:o,directUploads:i,imageUrlBuilder:s,observeAsset:a}=this.props,c=t==null?void 0:t.asset;if(!c)return null;const u=Fn(r,"options.accept","image/*"),d=t&&c&&this.isImageToolEnabled();let f=n&&n.length===0?null:l.jsx(Be,{icon:Zo,text:"Select",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(n[0])},disabled:o,"data-testid":"file-input-browse-button"});return n&&n.length>1&&(f=n.map(p=>l.jsx(Be,{text:p.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(p)},icon:p.icon||Cl,"data-testid":"file-input-browse-button-".concat(p.name),disabled:o},p.name))),l.jsx(n0,{observeAsset:a,reference:c,children:p=>{let{_id:m,originalFilename:v,extension:g}=p,b,x;if(db(t)){const y=v||"download.".concat(g);x=s.image(m).forceDownload(y).url(),b=s.image(m).url()}return l.jsx(_pn,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:y=>this.setState({isMenuOpen:y}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:d,children:l.jsx(HRe,{onUpload:this.handleSelectFiles,browse:f,onReset:this.handleRemoveButtonClick,downloadUrl:x,copyUrl:b,readOnly:o,directUploads:i,accept:u})})}})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t&&t.length===0?null:t&&t.length>1&&!n&&r?l.jsx(Kt,{id:"".concat(o,"_assetImageButton"),ref:this.setMenuButtonElement,button:l.jsx(ie,{"data-testid":"file-input-multi-browse-button",icon:Zo,iconRight:Ya,mode:"ghost",text:"Select"}),menu:l.jsx(Ft,{children:t.map(i=>l.jsx(Be,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(i)},icon:i.icon||Cl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))}),popover:Lpn}):l.jsx(ie,{fontSize:2,text:"Select",icon:Zo,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n})}renderUploadPlaceholder(){const{schemaType:t,readOnly:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o(t,u)),a=i.length-s.length,c=Fn(t,"options.accept","image/*");return l.jsx("div",{style:{padding:1},children:l.jsx(J,{tone:n?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(WRe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"image",accept:c,directUploads:r})})})}renderUploadState(t){var n;const{isUploading:r}=this.state,o=(n=this._previewElement)==null?void 0:n.offsetHeight;return l.jsx(NRe,{uploadState:t,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:o})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props,i=Fn(r,"options.accept","image/*");if(!t)return null;const s=t.component;return n&&n.asset?l.jsx(n0,{observeAsset:o,reference:n.asset,children:a=>l.jsx(s,{selectedAssets:[a],assetType:"image",accept:i,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"image",accept:i,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:t,value:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i(t,u)),c=s.length-a.length;return s.length>0&&(c>0||!o)?"critical":!(n!=null&&n._upload)&&!r&&s.length>0?"primary":r||n!=null&&n._upload&&(n!=null&&n.asset)?"transparent":"default"}renderAsset(){const{value:t,readOnly:n,elementProps:r}=this.props,{hoveringFiles:o,isStale:i}=this.state,s=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!db(t)?()=>l.jsx($pn,{onClearValue:this.handleClearField}):a=>l.jsxs(l.Fragment,{children:[i&&l.jsx(M,{marginBottom:2,children:l.jsx(YRe,{onClearStale:this.handleClearUploadState})}),l.jsx(oi,{path:a.path.concat(Wue),hasFocus:!!a.focused,isChanged:a.changed,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsxs(BRe,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:s||o.length>0,style:{padding:1},sizing:"border",radius:2,children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&l.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:i,renderInput:s,renderItem:a,renderPreview:c}=this.props,{selectedAssetSource:u}=this.state,d=t.find(f=>f.kind==="field"&&f.name==="hotspot");return l.jsxs(te,{space:5,"data-testid":"image-input",children:[l.jsx(Bz,{ref:this.setToast}),t.map(f=>f.kind==="field"&&(f.name==="crop"||f.name==="hotspot")?null:f.kind==="field"?l.jsx(u_,{member:f,renderAnnotation:n,renderBlock:r,renderInlineBlock:i,renderInput:f.name==="asset"?this.renderAsset():s,renderField:f.name==="asset"?Fpn:o,renderItem:a,renderPreview:c},f.key):f.kind==="fieldSet"?l.jsx(OV,{member:f,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:i,renderInput:s,renderItem:a,renderPreview:c},f.key):f.kind==="error"?l.jsx(LO,{member:f},f.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",f.kind]})),(d==null?void 0:d.open)&&l.jsx(hRe,{...this.props,absolutePath:d.field.path,renderInput:this.renderHotspotInput}),u&&this.renderAssetSource()]})}}function Npn(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,{image:r}=ii().__internal,o=$i(),i=ar(tn),a=ii().__internal.image.directUploads,c=h.useCallback((p,m)=>a?kV(p,m):null,[a]),u=ne.useMemo(()=>n||r.assetSources,[r,n]),d=ne.useMemo(()=>$A(i),[i]),f=h.useCallback(p=>Q3e(o,p),[o]);return l.jsx(Bpn,{...e,client:i,assetSources:u,directUploads:r.directUploads,imageUrlBuilder:d,observeAsset:f,resolveUploader:c})}const QRe=()=>{},K3={isLoading:!0,result:void 0,error:void 0,retry:QRe},zpn={isLoading:!1,result:void 0,error:void 0,retry:QRe};function JRe(e,t){const[n,r]=h.useState(0),o=h.useCallback(()=>{r(c=>c+1)},[]),i=h.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),s=co(()=>i._id?t(i).pipe(le(c=>({isLoading:!1,result:c,error:void 0,retry:o,retryAttempt:n})),ei(K3),jn(c=>(console.error(c),ve({isLoading:!1,result:void 0,error:c,retry:o,retryAttempt:n})))):ve(zpn),[i,t,o,n],K3);return Qz(e._id,e._id)!==e._id?K3:s}var Yue=Object.freeze,Vpn=Object.defineProperty,e$e=(e,t)=>Yue(Vpn(e,"raw",{value:Yue(t||e.slice())})),que,Gue;const Hpn=I(U)(que||(que=e$e([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`]))),t$e=I(U)(Gue||(Gue=e$e([`
  /* This limits the width of the tooltip content */
  max-width: 250px;
`])));function Kue(e){return l.jsx(t$e,{padding:3,children:l.jsx(M,{flex:1,children:l.jsx(M,{children:l.jsx(B,{as:"p",size:1,children:e.children})})})})}function n$e(e){var t,n,r;const{refType:o,showStudioUrlIcon:i,hasStudioUrl:s,showTypeLabel:a,availability:c,preview:u,id:d,dataset:f,projectId:p}=e,m=(c==null?void 0:c.reason)==="NOT_FOUND",v=(c==null?void 0:c.reason)==="PERMISSION_DENIED",g=(t=u.published)==null?void 0:t.media,b=h.useMemo(()=>{if(g){const x=typeof(g==null?void 0:g.asset)<"u"&&db(g),y=ne.isValidElement(g);return!x&&!y?null:function(_){let{dimensions:C}=_;return y?g:l.jsx("img",{src:$A({dataset:f,projectId:p}).image(g).withOptions(C).url(),alt:"Image preview of referenced document",referrerPolicy:"strict-origin-when-cross-origin"})}}return o!=null&&o.icon?h.createElement(o.icon):null},[g,f,p,o==null?void 0:o.icon]);return l.jsxs(Hpn,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[c!=null&&c.available?l.jsx(M,{flex:1,children:l.jsx(mIe,{title:(n=u.published)==null?void 0:n.title,subtitle:(r=u.published)==null?void 0:r.subtitle,media:b||!1})}):l.jsx(M,{flex:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(B,{muted:!0,children:"Document unavailable"})})})}),l.jsx(M,{paddingLeft:3,children:l.jsxs(Yt,{space:4,children:[o&&a&&l.jsx(Nt,{size:1,muted:!0,children:o.title||o.type}),(v||m)&&l.jsx(M,{children:l.jsx(st,{portal:!0,content:m?l.jsxs(Kue,{children:["The referenced document no longer exist and might have been deleted.",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d}),")"]}):l.jsx(Kue,{children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(tr,{tone:"default",children:v?l.jsx(Cf,{}):l.jsx(Av,{})})})}),!(m||v)&&i&&l.jsx(M,{children:l.jsx(st,{portal:!0,content:l.jsx(t$e,{padding:2,children:s?l.jsx(B,{size:1,children:"This document opens in a new tab"}):l.jsxs(B,{size:1,children:["This document cannot be opened ",l.jsx("br",{})," (unable to resolve URL to Studio)"]})}),children:l.jsx(tr,{size:1,tone:"default",muted:!s,children:l.jsx(cm,{})})})})]})})]})}function zV(){return ar(tn).config().projectId}function Upn(e){var t;const{isLoading:n,result:r,error:o}=JRe(e.document,e.getReferenceInfo),i=zV();if(n)return l.jsxs(te,{space:2,padding:1,children:[l.jsx(ji,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(ji,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return l.jsx(te,{space:2,padding:1,children:l.jsxs(Lc,{title:"Failed to load referenced document",children:["Error: ",o.message]})});if(!r)return null;if(((t=r.availability)==null?void 0:t.reason)==="PERMISSION_DENIED")return l.jsx(te,{space:2,padding:1,children:"Insufficient permissions to view this document"});const s=e.referenceType.to.find(a=>a.type===r.type);return s?r&&s&&l.jsx(n$e,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:i,showTypeLabel:e.referenceType.to.length>1}):l.jsxs(te,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,r.type,'"']})}function Zue(e){var t,n;const{value:r,type:o,showStudioUrlIcon:i,hasStudioUrl:s,referenceInfo:a}=e,c=zV();if(a.isLoading||a.error)return l.jsxs(te,{space:2,padding:1,children:[l.jsx(ji,{style:{maxWidth:320},radius:1,animated:!a.error}),l.jsx(ji,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const u=o.to.length>1,d=(t=a.result)==null?void 0:t.type,f=o.to.find(p=>p.type===d);return(n=a.result.availability)!=null&&n.available&&!f?l.jsx(te,{space:2,padding:2,children:l.jsxs(B,{as:"p",children:["The referenced document is of invalid type: (",d||"unknown",")",l.jsx("pre",{children:JSON.stringify(r,null,2)})]})}):l.jsx(n$e,{availability:a.result.availability,hasStudioUrl:s,showStudioUrlIcon:i,preview:a.result.preview,refType:f,projectId:c,dataset:o.dataset,id:r._ref,showTypeLabel:u})}var Xue=Object.freeze,Wpn=Object.defineProperty,r$e=(e,t)=>Xue(Wpn(e,"raw",{value:Xue(t||e.slice())})),Que,Jue;const Ypn=I(nn)(Que||(Que=r$e([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),qpn=I(B)(Jue||(Jue=r$e([`
  word-break: break-word;
`]))),Gpn=["top-start","bottom-start"],Kpn=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;return l.jsx(Ypn,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:Gpn,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(qpn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",t.searchString,"”"]})]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(t7,{...t,ref:n,renderPopover:o})});var ede=Object.freeze,Zpn=Object.defineProperty,Xpn=(e,t)=>ede(Zpn(e,"raw",{value:ede(t||e.slice())})),tde;const Qpn=I(ie)(tde||(tde=Xpn([`
  width: 100%;
`])));function Jpn(e){let{value:t,onClearValue:n}=e;const r=h.useMemo(()=>!!(t!=null&&t._ref),[t==null?void 0:t._ref]);return l.jsxs(J,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[l.jsxs(U,{gap:4,marginBottom:r?4:void 0,children:[l.jsx(M,{children:l.jsx(B,{size:1,children:l.jsx(Pr,{})})}),l.jsxs(te,{space:3,children:[l.jsx(B,{as:"h2",size:1,weight:"semibold",children:"Unavailable feature: Cross dataset reference"}),r&&l.jsxs(te,{space:3,children:[l.jsxs(B,{as:"p",size:1,children:["This feature has been disabled. Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]}),l.jsx(B,{as:"p",size:1,children:"You can still clear this field's existing reference, but that cannot be revoked as long as the feature is disabled."})]}),!r&&l.jsxs(B,{as:"p",size:1,children:["Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]})]})]}),n&&r&&l.jsx(Qpn,{icon:ku,text:"Reset value",onClick:n,mode:"ghost"})]})}const nde={hits:[],isLoading:!1},emn=()=>!0,rde=["_ref"],tmn="crossDatasetReferences";function nmn(e){var t,n,r;const{changed:o,focused:i,focusPath:s,getReferenceInfo:a,onChange:c,onPathFocus:u,onSearch:d,path:f,readOnly:p,schemaType:m,validation:v,value:g,elementProps:b}=e,x=zV(),[y,w]=h.useState(nde),_=h.useCallback(ce=>{if(!ce){c(Je()),u([]);return}if(!y.hits.find(je=>je.id===ce))throw new Error("Selected an item that wasnt part of the result set");c(vt({_type:m.name,_ref:Tn(ce),_projectId:x,_dataset:m.dataset,_weak:m.weak,_key:g==null?void 0:g._key})),u([])},[g==null?void 0:g._key,y.hits,m.name,m.dataset,m.weak,x,c,u]),C=h.useCallback(()=>{c(Je())},[c]),S=h.useCallback(ce=>{ce.keyCode===27&&(u==null||u([]))},[u]),E=h.useCallback(ce=>a(ce,m),[a,m]),j=h.useMemo(()=>({_id:g==null?void 0:g._ref}),[g==null?void 0:g._ref]),k=JRe(j,E),T=zMe(tmn),A=h.useRef(null),O=s.length===1&&s[0]==="_ref",P=b.ref;Ri({hasFocusAt:O,ref:g==null?void 0:g._ref},(ce,Te)=>{var je;const be=(ce==null?void 0:ce.ref)!==Te.ref;((ce==null?void 0:ce.hasFocusAt)!==Te.hasFocusAt||be)&&Te.hasFocusAt&&((je=P.current)==null||je.focus())});const D=g!=null&&g._weak?"weak":"strong",R=m.weak===!0?"weak":"strong",$=!!(g!=null&&g._ref),H=h.useCallback(()=>{c(m.weak===!0?vt(!0,["_weak"]):Je(["_weak"]))},[c,m]),{push:F}=Bo(),V=h.useMemo(()=>v.filter(ce=>ce.level==="error"),[v]),W=h.useCallback(ce=>{ce.currentTarget===b.ref.current&&(u==null||u([wbe]))},[b.ref,u]),z=h.useCallback(ce=>{ce.currentTarget===b.ref.current&&(u==null||u(rde))},[b.ref,u]),q=h.useCallback(()=>{u==null||u(rde)},[u]),oe=h.useId(),N=aA(ce=>ce.pipe(dt(lo),Wn(),nt(Te=>Fr(ve({isLoading:!0}),d(Te).pipe(le(je=>({hits:je,searchString:Te,isLoading:!1})),jn(je=>(F({title:"Reference search failed",description:je.message,status:"error",id:"reference-search-fail-".concat(oe)}),console.error(je),ve({hits:[]})))))),ta((Te,je)=>({...Te,...je}),nde),mn(w)),[oe,d,F]),G=h.useCallback(()=>{N("")},[N]),Y=!k.isLoading&&$&&D!==R,K=(g==null?void 0:g._ref)&&((n=m.studioUrl)==null?void 0:n.call(m,{id:g==null?void 0:g._ref,type:(t=k==null?void 0:k.result)==null?void 0:t.type}))||null,X=h.useCallback(ce=>l.jsx(Ep,{as:"button",type:"button",radius:2,children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx(Upn,{referenceType:m,document:ce.hit.published,getReferenceInfo:E})})}),[m,E]),Q=(r=k.result)==null?void 0:r.preview.published,Z=O||!(g!=null&&g._ref),re=h.useRef(null),ae=h.useRef(null),me=h.useRef(null);return zIe([re,ae,me],()=>{O&&u([])}),l.jsxs(l.Fragment,{children:[!T.isLoading&&!T.enabled&&l.jsx(Jpn,{value:g,onClearValue:C}),(T.isLoading||T.enabled)&&l.jsx(te,{space:1,children:Z?l.jsx(te,{space:2,ref:re,children:l.jsx(oi,{path:f,isChanged:o,hasFocus:!!i,children:l.jsx("div",{ref:A,children:l.jsx(Kpn,{...b,"data-testid":"autocomplete",loading:y.isLoading,referenceElement:A.current,portalRef:ae,id:oe||"",options:y.hits.map(ce=>({value:ce.id,hit:ce})),onFocus:z,radius:1,placeholder:"Type to search",onKeyDown:S,readOnly:p,disabled:k.isLoading,onQueryChange:N,searchString:y.searchString,onChange:_,filterOption:emn,renderOption:X,openButton:{onClick:G}})})})}):l.jsx(oi,{path:f,isChanged:o,hasFocus:!!i,children:l.jsxs(J,{padding:0,border:!0,flex:1,radius:1,tone:p?"transparent":k.error||V.length>0?"critical":"default",children:[l.jsxs(U,{align:"center",padding:1,children:[K?l.jsx(Ep,{as:"a",target:"_blank",rel:"noopener noreferrer",href:K,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:W,ref:b.ref,children:l.jsx(Zue,{value:g,referenceInfo:k,showStudioUrlIcon:!0,hasStudioUrl:!!K,type:m})}):l.jsx(Ep,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:W,ref:b.ref,children:l.jsx(Zue,{value:g,referenceInfo:k,showStudioUrlIcon:!0,type:m})}),l.jsx(Yt,{paddingX:1,children:l.jsx(Kt,{button:l.jsx(ie,{padding:2,mode:"bleed",icon:Fo,"data-testid":"menu-button"}),id:"".concat(oe,"-menuButton"),menu:l.jsx(Ft,{children:!p&&l.jsxs(l.Fragment,{children:[l.jsx(Be,{text:"Clear",tone:"critical",icon:ku,"data-testid":"menu-item-clear",onClick:C}),l.jsx(Be,{text:"Replace",icon:h0,"data-testid":"menu-item-replace",onClick:q})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),Y&&l.jsx(gf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(te,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:D}),", but according to the current schema it should be ",l.jsxs("em",{children:[R,"."]})]}),l.jsx(B,{as:"p",muted:!0,size:1,children:m.weak?l.jsxs(l.Fragment,{children:['It will not be possible to delete the "',Q==null?void 0:Q.title,'"-document without first removing this reference.']}):l.jsxs(l.Fragment,{children:['This makes it possible to delete the "',Q==null?void 0:Q.title,'"-document without first deleting this reference, leaving this field referencing a nonexisting document.']})}),l.jsx(ie,{onClick:H,text:l.jsxs(l.Fragment,{children:["Convert to ",R," reference"]}),tone:"caution"})]})}),k.error&&l.jsx(gf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(te,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["Error: ",k.error.message]}),l.jsx(ie,{onClick:k.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]})})})]})}function rmn(e,t,n,r){return Xz(n.to.map(i=>({name:i.type,__experimental_search:i.__experimental_search})),e,r)(t,{includeDrafts:!1}).pipe(le(i=>i.map(s=>s.hit)),le(wO),le(i=>i.map(s=>({id:s.id,type:s.type,published:s.published}))))}const omn="cross-dataset-refs",o$e={available:!0,reason:"READABLE"},imn={available:!1,reason:"PERMISSION_DENIED"},smn={available:!1,reason:"NOT_FOUND"};function amn(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:o}=t.config(),i=r&&o?{dataset:r,projectId:o}:void 0;return function(a,c){return(a._type?ve(a):n.observeDocumentTypeFromId(a._id,i).pipe(le(u=>({_id:a._id,_type:u})))).pipe(nt(u=>{if(!u._type)return lmn(t,a._id).pipe(le(m=>({id:a._id,type:void 0,availability:m,preview:{published:void 0}})));const d=c.to.find(m=>m.type===u._type),f=[...qz(d==null?void 0:d.preview)||[],["_updatedAt"],["_createdAt"]],p=n.observePaths(a,f,i).pipe(le(m=>m&&kj(m,d)));return $o([p]).pipe(le(m=>{let[v]=m;return{type:u._type,id:a._id,availability:o$e,preview:{published:bt(v)?v:void 0}}}))}))}}function lmn(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:"".concat(omn,".availability")};return e.observable.request(n).pipe(le(r=>{const i=OB(r.omitted||[],s=>s.id)[t];return i?i.reason==="existence"?smn:i.reason==="permission"?imn:null:o$e}))}async function cmn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=om(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function umn(e){const t=h.useRef(e);return t.current=e,t}function dmn(e){const{path:t,schemaType:n}=e,r=Pn(),o=r.getClient(tn),i=$i(),s=r.getClient,a=h.useMemo(()=>o.withConfig({dataset:n.dataset,apiVersion:"2022-03-07",ignoreBrowserTokenWarning:!0}).clone(),[o,n.dataset]),c=BO([]),u=umn(c),d=h.useCallback(p=>yr(cmn(n.options,u.current,t,s)).pipe(ct(m=>{let{filter:v,params:g}=m;return rmn(a,p,n,{...n.options,filter:v,params:g,tag:"search.cross-dataset-reference"})}),jn(m=>{var v;const g=m.details&&m.details.type==="queryParseError";return(v=n.options)!=null&&v.filter&&g&&(m.message='Invalid reference filter, please check the custom "filter" option'),$u(m)})),[a,u,t,n,s]),f=h.useMemo(()=>amn({client:a,documentPreviewStore:i}),[a,i]);return l.jsx(nmn,{...e,getReferenceInfo:f,onSearch:d})}function fmn(e){const t=h.useRef(e);return t.current=e,t}async function hmn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=om(t,o);return e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function VV(e){var t,n,r,o;const{path:i,schemaType:s}=e,a=Pn(),c=a.getClient(tn),u=xn(),d=$i(),f=h.useMemo(()=>c.withConfig({apiVersion:"2021-03-25"}),[c]),{EditReferenceLinkComponent:p,onEditReference:m,activePath:v,initialValueTemplateItems:g}=A3e(),b=BO([]),x=fmn(b),y=(t=x.current)==null?void 0:t._type,w=h.useMemo(()=>{var P;return(P=u.get(y))==null?void 0:P.liveEdit},[y,u]),_=((n=s.options)==null?void 0:n.disableNew)===!0,C=a.getClient,S=h.useCallback(P=>yr(hmn(s.options,x.current,i,C)).pipe(ct(D=>{let{filter:R,params:$}=D;return NIe(f,P,s,{...s.options,filter:R,params:$,tag:"search.reference"})}),jn(D=>{var R;const $=D.details&&D.details.type==="queryParseError";return(R=s.options)!=null&&R.filter&&$&&(D.message='Invalid reference filter, please check the custom "filter" option'),$u(D)})),[x,i,f,s,C]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(D,R){return p?l.jsx(p,{...D,ref:R,parentRefPath:i,template:E}):null}),[p,i,E]),k=h.useCallback(P=>{m==null||m({parentRefPath:i,id:P.id,type:P.type,template:P.template})},[m,i]),T=yi(i,(v==null?void 0:v.path)||[])?v==null?void 0:v.state:"none",A=h.useMemo(()=>_?[]:(g||[]).filter(P=>s.to.some(D=>{var R;return D.name===((R=P.template)==null?void 0:R.schemaType)})).map(P=>{var D;return(D=P.template)!=null&&D.schemaType?{id:P.id,title:P.title||"".concat(P.template.schemaType," from template ").concat(P.template.id),type:P.template.schemaType,icon:P.icon,template:{id:P.template.id,params:P.parameters},permission:{granted:P.granted,reason:P.reason}}:void 0}).filter(lo),[_,g,s.to]),O=h.useCallback(P=>BIe(d,P,s),[d,s]);return{selectedState:T,handleSearch:S,isCurrentDocumentLiveEdit:w,handleEditReference:k,EditReferenceLink:j,createOptions:A,getReferenceInfo:O}}function pmn(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:o,result:i,error:s}=FO(n,t);if(o)return l.jsxs(te,{space:2,padding:1,children:[l.jsx(ji,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(ji,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(s)return l.jsx(te,{space:2,padding:1,children:l.jsx(Lc,{title:"Failed to load referenced document",children:l.jsxs(B,{muted:!0,size:1,children:["Error: ",s.message]})})});if(!i)return null;if(i.availability.reason==="PERMISSION_DENIED")return l.jsx(te,{space:2,padding:1,children:"Insufficient permissions to view this document"});const a=e.type.to.find(c=>c.name===i.type);return a?i&&a&&l.jsx(W3e,{id:i.id,layout:"default",preview:i.preview,refType:a,renderPreview:r,showTypeLabel:e.type.to.length>1}):l.jsxs(te,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,i.type,'"']})}const mmn={display:"inline-flex"},gmn={width:"100%"},vmn={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function ymn(e){const{createOptions:t,onCreate:n,id:r,...o}=e;return t.some(s=>s.permission.granted)?t.length>1?l.jsx(Kt,{button:l.jsx(ie,{...o,disabled:e.readOnly,text:"Create new…",mode:"ghost",icon:Ks}),id:r,menu:l.jsx(Ft,{ref:e.menuRef,children:t.map(s=>l.jsx(st,{disabled:s.permission.granted,content:l.jsx(M,{padding:2,children:l.jsx(kc,{operationLabel:"create this type of document"})}),portal:!0,children:l.jsx("div",{children:l.jsx(Be,{disabled:!s.permission.granted,icon:s.icon,text:s.title,onClick:()=>n(s)})})},s.id))}),popover:vmn}):l.jsx(ie,{...o,text:"Create new",mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:Ks}):l.jsx(st,{content:l.jsx(M,{padding:2,children:l.jsx(kc,{operationLabel:"create a new reference"})}),children:l.jsx("div",{style:mmn,children:l.jsx(ie,{text:"Create new",mode:"ghost",disabled:!0,icon:Ks,style:gmn})})})}var ode=Object.freeze,bmn=Object.defineProperty,i$e=(e,t)=>ode(bmn(e,"raw",{value:ode(t||e.slice())})),ide,sde;const xmn=I(nn)(ide||(ide=i$e([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),wmn=I(B)(sde||(sde=i$e([`
  word-break: break-word;
`]))),_mn=["top-start","bottom-start"],Cmn=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;var p;return l.jsx(xmn,{placement:"bottom-start",fallbackPlacements:_mn,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(wmn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",t.searchString,"”"]}),((p=t.searchString)==null?void 0:p.toLowerCase())==="capybara"?l.jsx(l.Fragment,{children:". What a shame. There should be more Capybaras."}):null]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(t7,{...t,ref:n,renderPopover:o})});var ade=Object.freeze,Smn=Object.defineProperty,s$e=(e,t)=>ade(Smn(e,"raw",{value:ade(t||e.slice())})),lde,cde;const Emn=de(lde||(lde=s$e([`
  grid-template-columns: minmax(0px, 1fr);
`]))),kmn=de(cde||(cde=s$e([`
  grid-template-columns: 1fr min-content;
`]))),jmn=I(en)(e=>e.$narrow?Emn:kmn),Tmn=h.forwardRef(function(t,n){const[r,o]=h.useState(null),i=h.useCallback(a=>{Amn(n,a),o(a)},[n]),s=ed(r);return l.jsx(jmn,{ref:i,gap:1,$narrow:((s==null?void 0:s.width)||0)<480,children:t.children})});function Amn(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var ude=Object.freeze,Omn=Object.defineProperty,Pmn=(e,t)=>ude(Omn(e,"raw",{value:ude(t||e.slice())})),dde;const Dmn=I(Ep)(dde||(dde=Pmn([`
  /* this is a hack to avoid layout jumps while previews are loading
  there's probably better ways of solving this */
  min-height: 36px;
`]))),fde={hits:[],isLoading:!1},Imn=()=>!0;function Rmn(e){return e!==null}function $mn(e){var t,n,r,o,i,s;const{createOptions:a,onChange:c,onEditReference:u,onSearch:d,schemaType:f,readOnly:p,id:m,onPathFocus:v,value:g,renderPreview:b,path:x,elementProps:y,focusPath:w}=e,{getReferenceInfo:_}=VV({path:x,schemaType:f,value:g}),[C,S]=h.useState(fde),E=h.useCallback(Z=>{const re=sd(),ae=[qi({}),vt(f.name,["_type"]),vt(re,["_ref"]),vt(!0,["_weak"]),vt({type:Z.type,weak:f.weak,template:Z.template},["_strengthenOnPublish"])].filter(lo);c(ae),u({id:re,type:Z.type,template:Z.template}),v([])},[c,u,v,f]),j=h.useCallback(Z=>{if(!Z){c(Je()),v([]);return}const re=C.hits.find(me=>me.id===Z);if(!re)throw new Error("Selected an item that wasnt part of the result set");const ae=[qi({}),vt(f.name,["_type"]),vt(Tn(Z),["_ref"]),re.published&&!f.weak?Je(["_weak"]):vt(!0,["_weak"]),re.published?Je(["_strengthenOnPublish"]):vt({type:re==null?void 0:re.type,weak:f.weak},["_strengthenOnPublish"])].filter(lo);c(ae),v([])},[c,v,f.name,f.weak,C.hits]),k=h.useCallback(()=>{c(Je())},[c]),T=h.useCallback(()=>{g!=null&&g._ref||k()},[k,g==null?void 0:g._ref]),A=h.useCallback(Z=>{Z.key==="Escape"&&v([])},[v]),O=FO(g==null?void 0:g._ref,_),P=h.useRef(null),{push:D}=Bo(),R=aA(Z=>Z.pipe(dt(Rmn),nt(re=>Fr(ve({isLoading:!0}),d(re).pipe(le(ae=>({hits:ae,searchString:re,isLoading:!1})),jn(ae=>(D({title:"Reference search failed",description:ae.message,status:"error",id:"reference-search-fail-".concat(m)}),console.error(ae),ve({hits:[]})))))),ta((re,ae)=>({...re,...ae}),fde),mn(S)),[m,d,D]),$=h.useCallback(()=>{R("")},[R]),H=h.useCallback(Z=>{Z.key==="Escape"&&v([])},[v]),F=h.useCallback(Z=>{var re,ae;const me=((re=Z.hit.draft)==null?void 0:re._id)||((ae=Z.hit.published)==null?void 0:ae._id)||Z.value;return l.jsx(Dmn,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx(pmn,{getReferenceInfo:_,id:me,renderPreview:b,type:f})})})},[f,_,b]),V=h.useCallback(()=>{var Z,re,ae,me;return((re=(Z=O.result)==null?void 0:Z.preview.draft)==null?void 0:re.title)||((me=(ae=O.result)==null?void 0:ae.preview.published)==null?void 0:me.title)||""},[(n=(t=O.result)==null?void 0:t.preview.draft)==null?void 0:n.title,(o=(r=O.result)==null?void 0:r.preview.published)==null?void 0:o.title]),W=h.useCallback(()=>v(["_ref"]),[v]),z=h.useCallback(Z=>{var re;(re=P.current)!=null&&re.contains(Z.relatedTarget)||e.elementProps.onBlur(Z)},[e.elementProps]),q=((s=(i=O==null?void 0:O.result)==null?void 0:i.availability)==null?void 0:s.reason)==="NOT_FOUND"&&!(g!=null&&g._strengthenOnPublish)&&(g==null?void 0:g._weak);Ri((w==null?void 0:w[0])==="_ref",(Z,re)=>{var ae;!Z&&re&&((ae=y.ref.current)==null||ae.focus())});const oe=h.useMemo(()=>C.hits.map(Z=>({value:Z.id,hit:Z})),[C.hits]),N=w.length===1&&w[0]==="_ref",{menuRef:G,containerRef:Y}=xcn(),K=h.useRef(null),X=h.useRef(null),Q=h.useRef(null);return zIe([Y,K,X,Q,G],()=>{N&&T()}),l.jsx(te,{space:1,"data-testid":"reference-input",ref:K,children:l.jsxs(te,{space:2,children:[q?l.jsx(Lc,{"data-testid":"alert-nonexistent-document",title:"Nonexistent document reference",suffix:l.jsx(te,{padding:2,children:l.jsx(ie,{text:"Clear",onClick:k})}),children:l.jsxs(B,{size:1,children:["This field is currently referencing a document that doesn't exist (ID:",l.jsx("code",{children:g._ref}),"). You can either remove the reference or replace it with another document."]})}):null,l.jsxs(Tmn,{ref:P,children:[l.jsx(Cmn,{...y,onFocus:W,onBlur:z,"data-testid":"autocomplete",loading:C.isLoading,referenceElement:P.current,options:oe,radius:1,placeholder:"Type to search",onKeyDown:A,readOnly:O.isLoading||p,onQueryChange:R,searchString:C.searchString,onChange:j,filterOption:Imn,renderOption:F,renderValue:V,openButton:{onClick:$},portalRef:X,value:g==null?void 0:g._ref}),a.length>0&&l.jsx(ymn,{id:"".concat(m,"-selectTypeMenuButton"),readOnly:p,createOptions:a,onCreate:E,onKeyDown:H,menuRef:Q})]})]})})}async function Mmn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=om(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Fmn(e){const t=h.useRef(e);return t.current=e,t}function Lmn(e){var t,n,r,o;const i=Pn(),s=i.getClient(tn),a=xn(),c=$i(),{path:u,schemaType:d}=e,{EditReferenceLinkComponent:f,onEditReference:p,activePath:m,initialValueTemplateItems:v}=A3e(),g=BO([]),b=Fmn(g),x=(t=b.current)==null?void 0:t._type,y=a.get(x),w=h.useMemo(()=>y==null?void 0:y.liveEdit,[y]),_=((n=d.options)==null?void 0:n.disableNew)===!0,C=i.getClient,S=h.useCallback(P=>yr(Mmn(d.options,b.current,u,C)).pipe(ct(D=>{let{filter:R,params:$}=D;return NIe(s,P,d,{...d.options,filter:R,params:$,tag:"search.reference"})}),jn(D=>{var R;const $=D.details&&D.details.type==="queryParseError";return(R=d.options)!=null&&R.filter&&$&&(D.message='Invalid reference filter, please check the custom "filter" option'),$u(D)})),[b,u,s,d,C]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(D,R){return f?l.jsx(f,{...D,ref:R,parentRefPath:u,template:E}):null}),[f,u,E]),k=h.useCallback(P=>{p==null||p({parentRefPath:u,id:P.id,type:P.type,template:P.template})},[p,u]),T=yi(u,(m==null?void 0:m.path)||[])?m==null?void 0:m.state:"none",A=h.useMemo(()=>_?[]:(v||[]).filter(P=>d.to.some(D=>{var R;return D.name===((R=P.template)==null?void 0:R.schemaType)})).map(P=>{var D,R,$;return(D=P.template)!=null&&D.schemaType?{id:P.id,title:P.title||"".concat(P.template.schemaType," from template ").concat((R=P.template)==null?void 0:R.id),type:P.template.schemaType,icon:P.icon,template:{id:($=P.template)==null?void 0:$.id,params:P.parameters},permission:{granted:P.granted,reason:P.reason}}:void 0}).filter(lo),[_,v,d.to]),O=h.useCallback((P,D)=>BIe(c,P,D),[c]);return l.jsx($mn,{...e,onSearch:S,liveEdit:w,getReferenceInfo:O,selectedState:T,editReferenceLinkComponent:j,createOptions:A,onEditReference:k})}function Bmn(e){return LL(e.schemaType)}function Nmn(e){return pLe(e.schemaType)}function Pj(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((o,i)=>Pj(e[i],t[i]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(o=>Pj(e[o],t[o]))}function hde(e,t){return e?e.some(n=>Pj(n,t)):!1}function zmn(e,t){return e.of.find(n=>n.name===ks(t))}const Vmn=[];function Hmn(e){var t,n;const{renderPreview:r,schemaType:o,onChange:i,onPathFocus:s,value:a=[],readOnly:c,elementProps:u,path:d,changed:f}=e,p=h.useMemo(()=>{var b;return(((b=o.options)==null?void 0:b.list)||Vmn).map((x,y)=>wl(x)?x:{...x,_key:"auto-generated-".concat(y)})},[(t=o.options)==null?void 0:t.list]),m=h.useCallback((b,x)=>{if(!b&&wl(x)){i(Je([{_key:x._key}]));return}const y=p.filter(w=>Pj(x,w)?b:hde(a,w));i(y.length>0?vt(y):Je())},[i,p,a]),v=h.useCallback(b=>{s([b])},[s]),g=((n=o.options)==null?void 0:n.layout)==="grid";return l.jsx(oi,{path:d,isChanged:f,hasFocus:!1,children:l.jsx(en,{gap:2,columns:g?Math.min(p.length,4):1,tabIndex:0,...u,children:p.map((b,x)=>{const y=zmn(o,b),w=hde(a,b),_=!y;return l.jsxs(U,{align:"center",as:"label",muted:_,children:[l.jsx(QT,{disabled:_,checked:w,onChange:C=>m(C.currentTarget.checked,b),onFocus:()=>v(x),readOnly:c}),l.jsx(M,{flex:1,marginLeft:2,children:y?r({layout:"default",schemaType:y,value:b}):l.jsx(J,{tone:"caution",radius:2,children:l.jsx(fRe,{value:b,onFocus:()=>v(x)})})})]},x)})})})}var pde=Object.freeze,Umn=Object.defineProperty,Wmn=(e,t)=>pde(Umn(e,"raw",{value:pde(t||e.slice())})),mde;const Ymn=I(J)(mde||(mde=Wmn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function a$e(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ne.useState(!1),[a,c]=ne.useState(null);rr(()=>s(!1),[a]);const u=ne.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=ks(t);return l.jsx(nn,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Ymn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(te,{space:4,children:[l.jsx(M,{children:l.jsx(B,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(B,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(B,{size:1,children:[l.jsx(pT,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(te,{space:2,children:[l.jsx(B,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(J,{padding:2,overflow:"auto",border:!0,children:l.jsx(er,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(J,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(B,{children:l.jsx(vl,{})})}),l.jsx(M,{flex:1,children:l.jsxs(B,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function qmn(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function Gmn(e){return e.map(t=>qmn(t)?{title:t.title||rn(String(t.value)),value:t.value}:{title:rn(String(t)),value:t})}function Kmn(e,t){return e.of.find(n=>n.name===ks(t.value))}function Zmn(e){var t,n;const{schemaType:r,onChange:o,value:i=[],readOnly:s,path:a,changed:c,onIndexFocus:u,elementProps:d}=e,f=h.useMemo(()=>{var v;return Gmn(((v=r.options)==null?void 0:v.list)||[])},[(t=r.options)==null?void 0:t.list]),p=(v,g)=>{const b=f.map(x=>x.value).filter(x=>x===g?v:i.includes(x));o(b.length>0?vt(b):Je())},m=((n=r.options)==null?void 0:n.layout)==="grid";return l.jsx(oi,{path:a,isChanged:c,hasFocus:!1,children:l.jsx(en,{gap:2,columns:m?Math.min(f.length,4):1,...d,children:f.map((v,g)=>{const b=Kmn(r,v),x=i.includes(v.value),y=!b;return l.jsxs(U,{align:"center",as:"label",muted:y,children:[l.jsx(QT,{disabled:y,checked:x,onChange:w=>p(w.currentTarget.checked,v.value),onFocus:()=>u(g),readOnly:s}),l.jsx(M,{padding:2,children:l.jsx(B,{children:v.title})}),!b&&l.jsx(a$e,{value:v,onFocus:()=>u(g)})]},g)})})})}function l$e(e){return Bmn(e)?l.jsx(Hmn,{...e}):l.jsx(Zmn,{...e})}var gde=Object.freeze,Xmn=Object.defineProperty,qO=(e,t)=>gde(Xmn(e,"raw",{value:gde(t||e.slice())})),vde,yde,bde,xde;const Qmn=I.div(vde||(vde=qO([`
  position: relative;
`]))),c$e=I.div(yde||(yde=qO([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),u$e=I(J)(bde||(bde=qO([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),Jmn=I(U)(xde||(xde=qO([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  :hover,
  :focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),u$e,c$e),egn=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function tgn(e){const{children:t,message:n,onActivate:r,isOverlayActive:o}=e,[i,s]=h.useState(!1),a=h.useCallback(()=>{r&&r()},[r]),c=h.useCallback(p=>{o&&p.code==="Space"&&r&&(p.preventDefault(),r())},[o,r]),u=h.useCallback(()=>{s(!0)},[]),d=h.useCallback(()=>{s(!1)},[]),f=h.useMemo(()=>{const p=egn();let m=p?"Tap":"Click";i&&!p&&(m+=" or press space");const v=n||"".concat(m," to activate");return l.jsx(B,{weight:"semibold",children:v})},[i,n]);return l.jsxs(Qmn,{onBlur:d,onClick:a,onFocus:u,onKeyDown:c,children:[o&&l.jsxs(Jmn,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[l.jsx(u$e,{radius:1}),l.jsx(c$e,{children:f})]}),t]})}var wde=Object.freeze,ngn=Object.defineProperty,rgn=(e,t)=>wde(ngn(e,"raw",{value:wde(t||e.slice())})),_de;const ogn=I.span(_de||(_de=rgn([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function ign(e){const{value:t,focused:n,selected:r,children:o,schemaType:i}=e,s=Qdn[t],a=i.component,c=h.useCallback(u=>l.jsx(ogn,{as:s,"data-mark":t,children:u.children}),[s,t]);return h.useMemo(()=>{const u={focused:n,renderDefault:c,schemaType:i,selected:r,title:i.title,value:t};return a?l.jsx(a,{...u,children:o}):l.jsx(c,{...u,children:o})},[a,c,o,n,i,r,t])}const sgn={portal:!0,constrainSize:!0};function Cde(e){const{disableRestoreFocusOnClose:t,menuButton:n,menuButtonProps:r,menuOptionsArray:o,onMenuClose:i}=e;return l.jsx(Kt,{__unstable_disableRestoreFocusOnClose:t,id:"menu-button",onClose:i,popover:sgn,...r,button:n,menu:l.jsx(Ft,{children:o.map((s,a)=>{const{collapsedProps:c={},expandedProps:u={},tooltipProps:d={},tooltipText:f,dividerBefore:p,fontSize:m,padding:v,text:g,icon:b,selected:x,...y}=s.props;return l.jsxs(ne.Fragment,{children:[p&&a!==0&&l.jsx(kr,{}),l.jsx(Be,{text:g,icon:b,pressed:x,...y})]},s.key)})})})}function agn(e){const{callback:t,children:n,options:r,...o}=e,[i,s]=h.useState(null);return h.useEffect(()=>{if(!i)return;const a=new IntersectionObserver(t,r);return a.observe(i),()=>{a.unobserve(i),a.disconnect()}},[i,t,r]),l.jsx(U,{ref:s,...o,children:n})}var Sde=Object.freeze,lgn=Object.defineProperty,cgn=(e,t)=>Sde(lgn(e,"raw",{value:Sde(t||e.slice())})),Ede;const ugn=I.div(Ede||(Ede=cgn([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function kde(e){const{hidden:t,...n}=e;return l.jsx(ugn,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}var jde=Object.freeze,dgn=Object.defineProperty,e1=(e,t)=>jde(dgn(e,"raw",{value:jde(t||e.slice())})),Tde,Ade,Ode,Pde,Dde,Ide;const Rde=3,d$e=de(Tde||(Tde=e1([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),fgn=I(U)(Ade||(Ade=e1([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),Rde,Rde),hgn=I(U)(Ode||(Ode=e1([`
  border-radius: inherit;
  position: relative;
`]))),$de=I(U)(Pde||(Pde=e1([`
  width: max-content;

  &[data-hidden='true'] {
    height: 0px;
    visibility: hidden;
  }
`]))),pgn=I(agn)(Dde||(Dde=e1([`
  `,`
`])),d$e),mgn=I(U)(Ide||(Ide=e1([`
  `,`
`])),d$e);function ggn(e){return!!e}const HV=h.forwardRef(function(t,n){const{children:r,collapsed:o,collapseText:i=!0,disableRestoreFocusOnClose:s,gap:a,menuButtonProps:c,onMenuClose:u,...d}=t,[f,p]=h.useState(null),[m,v]=h.useState(null),g=ed(f),[b,x]=h.useState([]),y=h.useMemo(()=>g&&f&&m?g.width<m.scrollWidth:!1,[m,f,g]),w=h.useMemo(()=>(c==null?void 0:c.button)||l.jsx(ie,{icon:Fo,mode:"bleed"}),[c]),_=h.useMemo(()=>({root:f,threshold:1,rootMargin:"2px"}),[f]),C=h.useMemo(()=>ne.Children.toArray(r).filter(ggn),[r]),S=h.useMemo(()=>C.filter(A=>{let{key:O}=A;return b.find(P=>P.key===O)}),[C,b]),E=h.useMemo(()=>o||S.length>0,[o,S.length]),j=h.useCallback(A=>S.some(O=>O.key===A),[S]),k=h.useCallback((A,O)=>{const P=j(O.key);if(!A.isIntersecting&&!P&&x(D=>[O,...D]),A.isIntersecting&&P){const D=S.filter(R=>{let{key:$}=R;return $!==O.key});x(D)}},[j,S]),T=h.useMemo(()=>C.map(A=>{const{collapsedProps:O,expandedProps:P}=A.props,D=y?O:P,R=y&&i?void 0:A.props.text;return h.cloneElement(A,{...D,text:R})}),[C,i,y]);return o?l.jsx(Cde,{disableRestoreFocusOnClose:s,menuButton:w,menuButtonProps:c,menuOptionsArray:C,onMenuClose:u}):l.jsxs(fgn,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:n,...d,children:[l.jsxs(hgn,{direction:"column",flex:1,justify:"center",ref:p,children:[l.jsx($de,{gap:a,children:T.map((A,O)=>{const{dividerBefore:P,tooltipText:D="",tooltipProps:R={}}=A.props,$=j(A.key);return l.jsxs(ne.Fragment,{children:[P&&O!==0&&l.jsx(kde,{hidden:$}),l.jsx(pgn,{options:_,callback:H=>k(H[0],A),"aria-hidden":$,"data-hidden":$,children:l.jsx(st,{portal:!0,disabled:!D,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(B,{size:1,children:D})}),...R,children:l.jsx(U,{children:h.cloneElement(A,{disabled:A.props.disabled||$,"aria-hidden":$})})})})]},A.key)})}),l.jsx($de,{"data-hidden":!0,"aria-hidden":"true",gap:a,ref:v,children:C.map((A,O)=>{const{dividerBefore:P}=A.props;return l.jsxs(ne.Fragment,{children:[P&&O!==0&&l.jsx(kde,{}),l.jsx(mgn,{children:h.cloneElement(A,{disabled:!0,"aria-hidden":!0})},A.key)]},A.key)})})]}),E&&l.jsx(U,{marginLeft:a,children:l.jsx(Cde,{disableRestoreFocusOnClose:s,menuButton:w,menuButtonProps:c,menuOptionsArray:S,onMenuClose:u})})]})}),UV=h.forwardRef(function(t,n){const{collapsedProps:r={},expandedProps:o={},tooltipProps:i={},tooltipText:s,dividerBefore:a,...c}=t;return l.jsx(ie,{"data-ui":"CollapseMenuButton",...c,ref:n})});var Mde=Object.freeze,vgn=Object.defineProperty,ygn=(e,t)=>Mde(vgn(e,"raw",{value:Mde(t||e.slice())})),Fde;const bgn=I.div(Fde||(Fde=ygn([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function xgn(e){const{icon:t,active:n}=e,r=h.useMemo(()=>({backgroundImage:"url(".concat(t,")"),filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return l.jsx(bgn,{style:r})}function wgn(e,t,n){return e.schemaTypes.decorators.map(o=>{const i=Object.keys(n.marks||{}).find(a=>{var c;return((c=n.marks)==null?void 0:c[a])===o.value});let s=[];return i&&(s=[i]),{type:"format",disabled:t,icon:o==null?void 0:o.icon,key:o.value,handle:()=>{_e.toggleMark(e,o.value),_e.focus(e)},hotkeys:s,title:o.title}})}function _gn(e,t){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{_e.toggleList(e,r.value)},title:r.title}))}function Cgn(e){return Fn(e,"icon")||Fn(e,"type.icon")||Fn(e,"type.to.icon")||Fn(e,"type.to[0].icon")}function Sgn(e,t,n){const r=e.schemaTypes,o=_e.focusChild(e),i=o&&o.text;return r.annotations.map(s=>({type:"annotation",disabled:!i||t,icon:Cgn(s),key:s.name,handle:a=>{a?(_e.removeAnnotation(e,s),_e.focus(e)):n(s)},title:s.title||Sm(s.name)}))}function Egn(e,t,n,r){return[{name:"format",actions:wgn(e,t,r)},{name:"list",actions:_gn(e,t)},{name:"annotation",actions:Sgn(e,t,n)}]}function kgn(e){return e.styles.map(t=>({key:"style-".concat(t.value),style:t.value,styleComponent:t&&t.component,title:t.title}))}function Lde(e,t){const n=Fn(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function jgn(e,t,n,r){const o=e.blockObjects.map((a,c)=>({handle:()=>n(a),icon:Lde(a,rxe),inline:!1,key:"block-".concat(c),type:a})),i=e.inlineObjects.map((a,c)=>({handle:()=>r(a),icon:Lde(a,vxe),inline:!0,key:"inline-".concat(c),type:a}));return o.concat(i).filter(a=>{var c;return!((c=a.type)!=null&&c.hidden)})}const Tgn={link:Ef},Agn={strong:oxe,em:xxe,"strike-through":Oxe,underline:Pxe,code:axe},Ogn={number:Cxe,bullet:zy};function Pgn(e,t){return e.icon?typeof e.icon=="string"?l.jsx(xgn,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?Tgn[e.key]||vl:e.type==="listStyle"?Ogn[e.key]||vl:Agn[e.key]||vl}function GO(){const e=uo(),t=N0();return h.useMemo(()=>_e.focusBlock(e),[e,t])}function Dgn(e){let{hotkeys:t,onMemberOpen:n,resolveInitialValue:r,disabled:o}=e;const i=uo(),s=h.useCallback(async a=>{const c=await r(a),u=_e.addAnnotation(i,a,c);u&&u.markDefPath&&n(u.markDefPath)},[i,n,r]);return h.useMemo(()=>i?Egn(i,o,s,t):[],[o,i,s,t])}function Ign(e){let{actions:t}=e;const n=uo(),r=N0();return Do(h.useMemo(()=>{const o=_e.activeAnnotations(n).map(i=>i._type);return t.filter(i=>i.type==="annotation"?o.includes(i.key):i.type==="listStyle"?_e.hasListStyle(n,i.key):_e.isMarkActive(n,i.key)).map(i=>i.key)},[n,r]))}function Rgn(e){let{items:t}=e;const n=uo(),r=GO(),o=N0();return Do(h.useMemo(()=>t.filter(i=>_e.hasBlockStyle(n,i.style)).map(i=>i.style),[r,o]))}const $gn=h.memo(HV),Mgn={constrainSize:!0,portal:!0},Fgn={padding:2,mode:"bleed"},Lgn=h.memo(function(t){const{disabled:n,groups:r,isFullscreen:o,collapsed:i}=t,s=GO(),a=uo(),c=(s==null?void 0:s._type)!==a.schemaTypes.block.name,u=!c&&Array.isArray(s.children)&&s.children.length===1&&(s==null?void 0:s.children[0].text)==="",d=n||c,f=h.useMemo(()=>r.reduce((b,x)=>b.concat(x.actions.map((y,w)=>w===0?{...y,firstInGroup:!0}:y)),[]),[r]),p=Ign({actions:f}),m=h.useCallback(()=>{_e.focus(a)},[a]),v=h.useMemo(()=>f.map(b=>{const x=b.type==="annotation"&&u,y=p.includes(b.key);return h.createElement(UV,{"data-testid":"action-button-".concat(b.key),disabled:d||x,...Fgn,dividerBefore:b.firstInGroup,icon:Pgn(b,y),key:b.key,onClick:()=>b.handle(y),selected:y,text:b.title||b.key,tooltipText:b.title||b.key,tooltipProps:{disabled:d||x,placement:o?"bottom":"top",portal:"default"}})}),[f,p,d,u,o]),g=h.useMemo(()=>({button:l.jsx(ie,{icon:Fo,mode:"bleed",padding:2,disabled:d}),popover:Mgn}),[d]);return l.jsx($gn,{collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:g,onMenuClose:m,children:v})});var Bde=Object.freeze,Bgn=Object.defineProperty,f$e=(e,t)=>Bde(Bgn(e,"raw",{value:Bde(t||e.slice())})),Nde,zde;const Ngn=h.memo(Kt),zgn=I(Be)(Nde||(Nde=f$e([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),Vgn=I(ie)(zde||(zde=f$e([`
  width: 100%;
`]))),Hgn={constrainSize:!0,placement:"bottom-start",portal:"default"},h$e={h1:e=>l.jsx(ERe,{children:e}),h2:e=>l.jsx(kRe,{children:e}),h3:e=>l.jsx(jRe,{children:e}),h4:e=>l.jsx(TRe,{children:e}),h5:e=>l.jsx(ARe,{children:e}),h6:e=>l.jsx(ORe,{children:e}),normal:e=>l.jsx(FV,{children:e}),blockquote:e=>l.jsx(PRe,{"data-option":"blockquote",children:e})},Ugn=Object.keys(h$e),Wgn=e=>e.preventDefault(),Z3={key:"style-none",style:"",title:"No style"},Ygn=h.memo(function(t){const{disabled:n,items:r}=t,o=uo(),i=GO(),s=n||(i?o.schemaTypes.block.name!==i._type:!1),a=Rgn({items:r}),{activeItems:c,items:u}=h.useMemo(()=>{const g=r.filter(x=>a.includes(x.style));let b=r;return g.length===0&&b.length>1&&(b=b.concat([Z3]),g.push(Z3)),{activeItems:g,items:b}},[a,r]),d=h.useMemo(()=>c.length>1?"Multiple":c.length===1?c[0].title:Z3.title,[c]),f=h.useCallback(g=>{i&&g.style!==i.style&&setTimeout(()=>{_e.toggleBlockStyle(o,g.style),_e.focus(o)})},[o,i]),p=h.useCallback((g,b)=>{const x=Ugn.includes(g),y=h$e[g];return x?y(b):l.jsx(B,{children:b})},[]),m=h.useMemo(()=>l.jsx(Vgn,{disabled:s,iconRight:Il,mode:"bleed",onClick:Wgn,padding:2,text:d}),[s,d]),v=h.useMemo(()=>l.jsx(Ft,{disabled:s,children:u.map(g=>l.jsx(zgn,{pressed:c.includes(g),onClick:s?void 0:()=>f(g),children:p(g.style,(g==null?void 0:g.title)||g.style)},g.key))}),[s,c,f,u,p]);return l.jsx(Ngn,{popover:Hgn,id:"block-style-select",button:m,menu:v})}),qgn=h.memo(HV),Ggn={constrainSize:!0,portal:!0},Kgn=h.memo(function(t){const{disabled:n,items:r,isFullscreen:o,collapsed:i}=t,s=GO(),a=uo(),c=s&&s._type!==a.schemaTypes.block.name,u=h.useCallback(()=>{_e.focus(a)},[a]),d=h.useMemo(()=>r.map(p=>{const m=p.type.title||Eje(p.type.name);return l.jsx(UV,{"aria-label":"Insert ".concat(m).concat(p.inline?" (inline)":" (block)"),padding:2,mode:"bleed",disabled:n||c&&p.inline===!0,icon:p.icon,onClick:p.handle,text:m,tooltipText:"Insert ".concat(m),tooltipProps:{disabled:n,placement:o?"bottom":"top",portal:"default"}},p.key)}),[r,n,c,o]),f=h.useMemo(()=>({button:l.jsx(ie,{icon:Ks,mode:"bleed",padding:2,disabled:n}),popover:Ggn}),[n]);return l.jsx(qgn,{collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:f,onMenuClose:u,children:d})});var Vde=Object.freeze,Zgn=Object.defineProperty,r0=(e,t)=>Vde(Zgn(e,"raw",{value:Vde(t||e.slice())})),Hde,Ude,Wde,Yde,qde,Gde;const Xgn=I(U)(Hde||(Hde=r0([`
  width: 100%;
`]))),Qgn=I(M)(Ude||(Ude=r0([`
  width: 8em;
`]))),Jgn=I(U)(Wde||(Wde=r0([`
  border-right: 1px solid var(--card-border-color);
`]))),evn=I(M)(qde||(qde=r0([`
  `,`
`])),e=>{let{$withInsertMenu:t}=e;return t&&de(Yde||(Yde=r0([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),tvn=I(M)(Gde||(Gde=r0([`
  border-left: 1px solid var(--card-border-color);
`]))),nvn=300,rvn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),ovn=h.memo(function(t){let{actionGroups:n,blockStyles:r,disabled:o,insertMenuItems:i,isFullscreen:s,onToggleFullscreen:a}=t;const u=n.reduce((x,y)=>x+y.actions.length,0)>0,d=i.length>0,[f,p]=h.useState(null),m=ed(f),v=m?(m==null?void 0:m.width)<400:!1,g=r.length>1;vIe({rootElement:f});const b=h.useCallback(x=>{x.preventDefault(),x.stopPropagation()},[]);return l.jsxs(Xgn,{align:"center",ref:p,onMouseDown:b,children:[g&&l.jsx(Jgn,{flex:v?1:void 0,children:l.jsx(Qgn,{padding:s?2:1,children:l.jsx(Ygn,{disabled:o,items:r})})}),l.jsxs(U,{flex:1,children:[u&&l.jsx(evn,{flex:v?void 0:1,padding:s?2:1,$withInsertMenu:d,children:l.jsx(Lgn,{disabled:o,collapsed:v,groups:n,isFullscreen:s})}),d&&l.jsx(M,{flex:v?void 0:1,padding:s?2:1,children:l.jsx(Kgn,{disabled:o,collapsed:v,items:i,isFullscreen:s})})]}),l.jsx(tvn,{padding:s?2:1,children:l.jsx(st,{content:l.jsxs(U,{align:"center",padding:1,children:[l.jsx(M,{flex:1,paddingX:1,children:l.jsx(B,{size:1,children:"".concat(s?"Collapse":"Expand"," editor")})}),l.jsx(M,{marginLeft:1,children:l.jsx(r7,{keys:["".concat(rvn?"Cmd":"Ctrl"),"Enter"]})})]}),placement:s?"bottom":"top",portal:"default",children:l.jsx(ie,{padding:2,icon:s?lxe:mxe,mode:"bleed",onClick:a})})})]})});function ivn(e){const{hotkeys:t,isFullscreen:n,readOnly:r,onMemberOpen:o,onToggleFullscreen:i}=e,s=uo(),a=N0(),c=gH(),u=r||!a,{push:d}=Bo(),f=h.useCallback(x=>{let y=!1;const w=setTimeout(()=>{y=!0,d({id:"resolving-initial-value",status:"info",title:"Resolving initial value…"})},nvn);return c(x,{}).then(_=>(y&&d({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),_)).catch(_=>{d({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(x.name,": ").concat(_.message,"."),status:"error"})}).finally(()=>clearTimeout(w))},[d,c]),p=h.useCallback(async x=>{const y=await f(x),w=_e.insertBlock(s,x,y);w&&o(w)},[s,o,f]),m=h.useCallback(async x=>{const y=await f(x),w=_e.insertChild(s,x,y);w&&o(w)},[s,o,f]),v=Dgn({hotkeys:t,onMemberOpen:o,resolveInitialValue:f,disabled:!0}),g=h.useMemo(()=>kgn(s.schemaTypes),[s]),b=h.useMemo(()=>jgn(s.schemaTypes,u,p,m),[u,s,p,m]);return l.jsx(ovn,{actionGroups:v,blockStyles:g,disabled:u,insertMenuItems:b,isFullscreen:n,onToggleFullscreen:i})}var Kde=Object.freeze,svn=Object.defineProperty,vf=(e,t)=>Kde(svn(e,"raw",{value:Kde(t||e.slice())})),Zde,Xde,Qde,Jde,efe,tfe,nfe,rfe;const avn=I(J)(Zde||(Zde=vf([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),e=>{let{$fullscreen:t}=e;return t?"100%":"15em"}),lvn=I(J)(Xde||(Xde=vf([`
  z-index: 10;
  line-height: 0;
`]))),cvn=I(J)(Qde||(Qde=vf([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),uvn=I(_O)(Jde||(Jde=vf([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),dvn=I(oo)(efe||(efe=vf([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),fvn=I(J)(rfe||(rfe=vf([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: 1px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),ty.map(e=>Gh(e)).join(" "),ty.map(e=>de(tfe||(tfe=vf([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),e,Gh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},ty.map(e=>Gh(e)).join(" "),e=>{let{theme:t}=e;return t.sanity.space[2]},ty.map(e=>Gh(e)).join(" "),ty.slice(1).map(e=>de(nfe||(nfe=vf([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),e,e-1,Gh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?5:3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?9:5]},e=>{let{$isFullscreen:t,theme:n}=e;return pe(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return pe(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return pe(t?n.sanity.space[5]*2:n.sanity.space[3]*2)});function hvn(){const e=uo();return h.useMemo(()=>{var t;const n=(t=e.schemaTypes.block.options)==null?void 0:t.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[e])}function pvn(e){return h.useMemo(()=>(t,n)=>{if(_e.getSelection(t)){const o=n.startContainer.parentElement;if(!o)return;_x(o,{scrollMode:"if-needed",boundary:e,block:"start",inline:"nearest"})}},[e])}const mvn=e=>{const{block:t,focused:n,children:r,selected:o,schemaType:i}=e,s=h.useMemo(()=>(t.style&&W3[t.style]?W3[t.style]:W3[0])||FV,[t.style]),a=h.useCallback(c=>l.jsx(s,{children:l.jsx(hd,{"data-testid":"text-style--".concat(t.style),children:c.children})}),[s,t.style]);return h.useMemo(()=>{const c=i.component,{title:u,value:d}=i,f={block:t,focused:n,renderDefault:a,schemaType:i,selected:o,title:u,value:d};return c?l.jsx(c,{...f,children:r}):l.jsx(a,{...f,children:r})},[a,t,r,n,i,o])},ofe=e=>l.jsx(l.Fragment,{children:e.children}),gvn=e=>{const{block:t,children:n,schemaType:r,selected:o,focused:i,level:s,value:a}=e,{title:c,component:u}=r;return h.useMemo(()=>{const d={block:t,focused:i,level:s,renderDefault:ofe,schemaType:r,selected:o,title:c,value:a};return u?l.jsx(u,{...d,children:n}):l.jsx(ofe,{...d,children:n})},[u,t,n,i,s,r,o,c,a])},vvn={outline:"none"},yvn=e=>l.jsx(ign,{...e}),bvn=e=>l.jsx(mvn,{...e}),xvn=e=>l.jsx(gvn,{...e});function wvn(e){const{hotkeys:t,initialSelection:n,isActive:r,isFullscreen:o,onCopy:i,onItemOpen:s,onPaste:a,onToggleFullscreen:c,path:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderChild:m,scrollElement:v,setPortalElement:g,setScrollElement:b,ariaDescribedBy:x}=e,{isTopLayer:y}=Ga(),w=h.useRef(null),{element:_}=Gf();Qi(h.useCallback(T=>{!y||!o||T.key==="Escape"&&c()},[c,o,y]));const C=h.useCallback(()=>l.jsx("span",{"data-testid":"pt-input-placeholder",children:"Empty"}),[]),S=hvn(),E=pvn(v),j=h.useMemo(()=>l.jsx(GOe,{hotkeys:t,onCopy:i,onPaste:a,ref:w,renderAnnotation:f,renderBlock:p,renderChild:m,renderDecorator:yvn,renderListItem:xvn,renderPlaceholder:C,renderStyle:bvn,scrollSelectionIntoView:E,selection:n,style:vvn,spellCheck:S,"aria-describedby":x}),[t,n,i,a,f,p,m,C,E,S,x]),k=h.useCallback(T=>{s(u.concat(T))},[s,u]);return l.jsxs(avn,{$fullscreen:o,"data-testid":"pt-editor",children:[r&&l.jsx(lvn,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:l.jsx(ivn,{hotkeys:t,isFullscreen:o,onMemberOpen:k,onToggleFullscreen:c,readOnly:d})}),l.jsxs(cvn,{flex:1,tone:d?"transparent":"default",children:[l.jsx(uvn,{ref:b,children:l.jsx(dvn,{padding:o?2:0,sizing:"border",width:1,children:l.jsx(fvn,{$isFullscreen:o,tone:d?"transparent":"default",children:l.jsx(Iu,{element:o?v:_,children:j})})})}),l.jsx("div",{"data-portal":"",ref:g})]})]})}var ife=Object.freeze,_vn=Object.defineProperty,p$e=(e,t)=>ife(_vn(e,"raw",{value:ife(t||e.slice())})),sfe,afe;const Cvn=I.div(e=>{let{theme:t}=e;const{focusRing:n,input:r}=t.sanity,o=t.sanity.color.base,s={color:t.sanity.color.input.default.enabled.border,width:r.border.width};return de(sfe||(sfe=p$e([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: 1px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),BV(s),r.border.width,NV({base:o,border:s,focusRing:n}))}),Svn=I(Ji)(afe||(afe=p$e([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`])));function Evn(e){const t=uo(),[n]=h.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),h.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(o=>{switch(o.value){case"strong":r.marks["mod+b"]=o.value;break;case"em":r.marks["mod+i"]=o.value;break;case"underline":r.marks["mod+u"]=o.value;break;case"code":r.marks["mod+'"]=o.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function kvn(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,o=Odn(),i=uo(),s=N0();h.useLayoutEffect(()=>{var a,c,u,d,f;if(t.length===0)return;const p=o.find(m=>m.member.open);if(p&&((a=p.elementRef)!=null&&a.current)){if(n&&(_x(n,{scrollMode:"if-needed",block:"start",inline:"start"}),_x(p.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"start",inline:"start"})),s!=null&&s.focus.path&&pn(s.focus.path,t))return;const m=p.kind==="textBlock",v=t.length===1;if(m||v){const g=m&&wl(t[2])?t[2]._key:void 0,b=g&&Array.isArray((c=p.node.value)==null?void 0:c.children)?(u=p.node.value)==null?void 0:u.children.find(_=>_._key===g):void 0,x=b&&b._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,y=m&&(t.length===3&&t[1]==="children"||x);let w=[];y?w=t.slice(0,3):m&&v&&Array.isArray((d=p.node.value)==null?void 0:d.children)?w=[t[0],"children",{_key:(f=p.node.value)==null?void 0:f.children[0]._key}]:v&&(w=[{_key:p.key}]),w.length&&(_e.select(i,{anchor:{path:w,offset:0},focus:{path:w,offset:0}}),m&&_e.focus(i))}}},[n,i,t,r,o,s==null?void 0:s.focus.path])}function jvn(e){const{changed:t,focused:n,focusPath:r=Bn,hasFocusWithin:o,hotkeys:i,isActive:s,isFullscreen:a,onActivate:c,onCopy:u,onItemClose:d,onItemOpen:f,onItemRemove:p,onPaste:m,onPathFocus:v,onToggleFullscreen:g,path:b,readOnly:x,renderAnnotation:y,renderBlock:w,renderBlockActions:_,renderCustomMarkers:C,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,value:A}=e,O=uo(),P=Gf().element,[D,R]=h.useState(null),[$,H]=h.useState(null),F=h.useCallback(()=>{g()},[g]),V=h.useMemo(()=>({...i,custom:{"mod+enter":g,...(i==null?void 0:i.custom)||{}}}),[i,g]),W=Evn(V),z=A&&_?_:void 0,q=A&&C?C:void 0,[oe,N]=h.useState(null),G=h.useCallback(je=>{const{children:be,focused:ge,path:De,selected:Re,schemaType:at,value:rt}=je;return l.jsx(hfn,{floatingBoundary:P,focused:ge,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:b.concat(De),readOnly:x,referenceBoundary:$,renderAnnotation:y,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderBlockActions:z,renderCustomMarkers:q,renderPreview:T,renderBlock:w,schemaType:at,selected:Re,value:rt,children:be})},[z,q,$,a,d,f,p,v,P,b,x,y,w,S,E,j,k,T]),Y=h.useCallback(je=>{const{focused:be,path:ge,selected:De,schemaType:Re,value:at}=je;return l.jsx(Xdn,{floatingBoundary:P,focused:be,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:b.concat(ge),readOnly:x,referenceBoundary:$,relativePath:ge,renderAnnotation:y,renderBlock:w,renderBlockActions:z,renderCustomMarkers:q,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:Re,selected:De,value:at})},[P,$,a,d,f,p,v,b,x,y,w,z,q,S,E,j,k,T]),K=h.useCallback(je=>{const{value:be}=je;return be._type===O.schemaTypes.block.name?G(je):Y(je)},[O.schemaTypes.block.name,Y,G]),X=h.useCallback(je=>{const{children:be,focused:ge,path:De,selected:Re,schemaType:at,value:rt}=je;return rt._type===O.schemaTypes.span.name?be:l.jsx(Sfn,{floatingBoundary:P,focused:ge,onItemClose:d,onItemOpen:f,onPathFocus:v,path:b.concat(De),readOnly:x,referenceBoundary:$,relativePath:De,renderAnnotation:y,renderBlock:w,renderCustomMarkers:C,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:at,selected:Re,value:rt})},[P,$,O.schemaTypes.span.name,d,f,v,b,x,y,w,C,S,E,j,k,T]),Q=h.useCallback(je=>{const{children:be,focused:ge,path:De,selected:Re,schemaType:at,value:rt}=je;return l.jsx(Ifn,{editorNodeFocused:ge,floatingBoundary:P,focused:!!n,onItemClose:d,onItemOpen:f,onPathFocus:v,path:b.concat(De),readOnly:x,referenceBoundary:$,renderAnnotation:y,renderBlock:w,renderCustomMarkers:C,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:at,selected:Re,value:rt,children:be})},[P,$,n,d,f,v,b,x,y,w,C,S,E,j,k,T]),Z=e.elementProps["aria-describedby"],re=h.useMemo(()=>{if(o)return{anchor:{path:r,offset:0},focus:{path:r,offset:0}}},[]),ae=h.useMemo(()=>l.jsx(wvn,{ariaDescribedBy:Z,initialSelection:re,hotkeys:W,isActive:s,isFullscreen:a,onItemOpen:f,onCopy:u,onPaste:m,onToggleFullscreen:F,path:b,readOnly:x,renderAnnotation:Q,renderBlock:K,renderChild:X,setPortalElement:N,scrollElement:$,setScrollElement:H}),[Z,W,Q,K,X,F,re,s,a,u,f,m,b,x,$]),me=gm(),ce=h.useMemo(()=>({collapsed:D,default:me.element,editor:oe,expanded:me.element}),[me.element,oe,D]);kvn({focusPath:r,boundaryElement:$,onItemClose:d});const Te=n||o;return l.jsx(nd,{__unstable_elements:ce,children:l.jsx(tgn,{onActivate:c,isOverlayActive:!s,children:l.jsx(oi,{disabled:a,hasFocus:!!n,isChanged:t,path:b,children:l.jsxs(Cvn,{"data-focused":Te?"":void 0,"data-read-only":x?"":void 0,children:[l.jsx(M,{"data-wrapper":"",ref:R,children:l.jsx(vm,{__unstable_name:a?"expanded":"collapsed",children:a?l.jsx(Svn,{children:ae}):ae})}),l.jsx("div",{"data-border":""})]})})})})}function Tvn(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:o}=e,i=h.useCallback(()=>{r&&t({type:"mutation",patches:r.patches})},[t,r]);return r?l.jsx(Lc,{suffix:l.jsxs(te,{padding:2,children:[r.action&&l.jsxs(en,{columns:[1,2],gap:1,children:[l.jsx(ie,{mode:"ghost",onClick:n,text:"Ignore"}),!o&&l.jsx(ie,{onClick:i,text:r.action,tone:"caution"})]}),l.jsx(M,{padding:3,children:r.action&&l.jsx(B,{as:"p",muted:!0,size:1,children:"NOTE: It’s generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio."})})]}),title:l.jsx(l.Fragment,{children:"Invalid Portable Text Editor value"}),children:l.jsxs(te,{space:3,children:[l.jsx(B,{as:"p",muted:!0,size:1,children:r.description}),l.jsx(J,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(er,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}function Avn(e){const{path:t}=e,{patchChannel:n}=ii().__internal;return{subscribe:h.useCallback(o=>n.subscribe(i=>{let{snapshot:s,patches:a}=i;const c=a.filter(u=>W6(u.path,t)).map(u=>({...u,path:u.path.slice(t.length)}));c.length&&o({shouldReset:Dvn(t,a),snapshot:bt(s)?Ivn(s,t):{},patches:c})}),[t,n])}}function Ovn(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?Mu(e,t):e===t}function W6(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!Ovn(t[n],e[n]))return!1;return!0}function Pvn(e,t){return e.length===0||W6(t,e)&&!W6(e,t)}function Dvn(e,t){return t.some(n=>Pvn(n.path,e)&&(n.type==="set"||n.type==="unset"))}function Ivn(e,t){return t.reduce((n,r)=>typeof r=="object"?DPe(n,r):Fn(n,r),e)}function Rvn(e){const{elementProps:t,hotkeys:n,markers:r=Bn,members:o,onChange:i,onCopy:s,onItemRemove:a,onInsert:c,onPaste:u,onPathFocus:d,path:f,readOnly:p,renderBlockActions:m,renderCustomMarkers:v,schemaType:g,value:b}=e,{onBlur:x}=t;h.useImperativeHandle(t.ref,()=>({focus(){w.current&&_e.focus(w.current)}}));const{subscribe:y}=Avn({path:f}),w=h.useRef(null),[_,C]=h.useState(!1),[S,E]=h.useState(null),[j,k]=h.useState(!1),[T,A]=h.useState(!1),[O,P]=h.useState(!1),[D,R]=h.useState(!1),$=Bo(),H=h.useRef([]),F=h.useMemo(()=>new gr,[]),V=h.useMemo(()=>F.asObservable(),[F]),W=h.useRef(null),z=h.useCallback(()=>{w.current&&k(K=>!K)},[]);h.useEffect(()=>{S&&b!==S.value&&E(null)},[S,b]),h.useEffect(()=>y(K=>{let{patches:X,snapshot:Q}=K;F.next({patches:X,snapshot:Q})}),[F,y]);const q=h.useMemo(()=>{var K;const X=[];for(const Z of o)if(Z.kind==="item")if(!zO(Z.item.schemaType))X.push({kind:"objectBlock",member:Z,node:Z.item});else{(Z.item.validation.length>0||Z.item.changed||(K=Z.item.presence)!=null&&K.length)&&X.push({kind:"textBlock",member:Z,node:Z.item});const ae=Z.item.members.find(ce=>ce.kind==="field"&&ce.name==="children");if(ae&&ae.kind==="field"&&AV(ae))for(const ce of ae.field.members)ce.kind==="item"&&ce.item.schemaType.name!=="span"&&X.push({kind:"inlineObject",member:ce,node:ce.item});const me=Z.item.members.filter(kdn).find(ce=>ce.name==="markDefs");if(me)for(const ce of me.field.members)ce.kind==="item"&&ce.item.schemaType.jsonType==="object"&&X.push({kind:"annotation",member:ce,node:ce.item})}const Q=X.map(Z=>{const re=gn(Z.node.path),ae=H.current.find(ce=>ce.key===re);let me;return Z.kind!=="textBlock"&&(me=l.jsx(hRe,{absolutePath:Z.node.path,...e})),ae?((Z.member.open||ae.node.value!==Z.node.value)&&(ae.input=me),ae.member=Z.member,ae.node=Z.node,ae):{kind:Z.kind,key:re,member:Z.member,node:Z.node,elementRef:h.createRef(),input:me}});return H.current=Q,Q},[o,e]);h.useEffect(()=>{D&&A(!0)},[D]);const oe=h.useCallback(K=>{switch(K.type){case"mutation":i(lfe(K.patches));break;case"connection":K.value==="offline"?P(!0):K.value==="online"&&P(!1);break;case"selection":h.startTransition(()=>{K.selection&&d(K.selection.focus.path)});break;case"focus":A(!0),R(!0);break;case"blur":x(K.event),R(!1);break;case"undo":case"redo":i(lfe(K.patches));break;case"invalidValue":E(K);break;case"error":$.push({status:K.level,description:K.description});break}},[x,i,d,$]);h.useEffect(()=>{C(!1)},[b]);const N=h.useCallback(()=>{C(!0)},[]),G=h.useMemo(()=>S&&S.resolution?l.jsx(M,{marginBottom:2,children:l.jsx(Tvn,{onChange:oe,onIgnore:N,resolution:S.resolution,readOnly:O||p})}):null,[oe,N,S,O,p]),Y=h.useCallback(()=>{T||(A(!0),w.current&&_e.focus(w.current))},[T]);return l.jsxs(M,{ref:W,children:[!_&&G,(!S||_)&&l.jsx(Tdn,{markers:r,children:l.jsx(Adn,{memberItems:q,children:l.jsx(_e,{ref:w,patches$:V,onChange:oe,maxBlocks:void 0,readOnly:O||p,schemaType:g,value:b,children:l.jsx(jvn,{...e,hasFocusWithin:D,hotkeys:n,isActive:T,isFullscreen:j,onActivate:Y,onItemRemove:a,onCopy:s,onInsert:c,onPaste:u,onToggleFullscreen:z,renderBlockActions:m,renderCustomMarkers:v})})})})]})}function lfe(e){return e.map(t=>({...t,patchType:Xp}))}function Y6(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function $vn(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&Y6(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var cfe=Object.freeze,Mvn=Object.defineProperty,m$e=(e,t)=>cfe(Mvn(e,"raw",{value:cfe(t||e.slice())})),ufe,dfe;const Fvn=I(J)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:o}=t.sanity,i=t.sanity.color.input,s=pe(t.sanity.space[1]);return{position:"relative",borderRadius:"".concat(o[1],"px"),color:i.default.enabled.fg,boxShadow:Y6({color:i.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(s," 0 0 -").concat(s)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(s," 0 0 ").concat(s)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:i.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:$vn({border:{color:i.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:i.default.disabled.fg,backgroundColor:i.default.disabled.bg,boxShadow:Y6({color:i.default.disabled.border,width:r.border.width})}}}),Lvn=I.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,o=t.sanity.space[2],i=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:pe(i.fontSize),lineHeight:i.lineHeight/i.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:pe(o-i.ascenderHeight),paddingRight:pe(o),paddingBottom:pe(o-i.descenderHeight),paddingLeft:pe(o),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),Bvn=I(M)(e=>{const{theme:t}=e,n=t.sanity.color.input;return de(ufe||(ufe=m$e([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),n.default.enabled.placeholder)}),Nvn=I(M)(dfe||(dfe=m$e([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),g$e=h.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:o,placeholder:i,readOnly:s,value:a=[],...c}=e,u=h.useMemo(()=>i||(typeof window<"u"&&"ontouchstart"in window?"Enter tag…":"Enter tag and press ENTER…"),[i]),[d,f]=h.useState(""),p=!n&&!s,[m,v]=h.useState(!1),g=or(t),b=h.useRef(null),x=h.useCallback(E=>{if(Oc(E.target)&&E.target.closest('[data-ui="Tag"]'))return;const k=g.current;k&&setTimeout(()=>k.focus(),0)},[g]),y=h.useCallback(()=>{v(!1)},[]),w=h.useCallback(E=>{f(E.currentTarget.value)},[]),_=h.useCallback(E=>{v(!0),o&&o(E)},[o]),C=h.useCallback(E=>{if(E.key==="Enter"&&(E.preventDefault(),E.stopPropagation(),r&&d)){const j=a.concat([{value:d}]);f(""),r&&r(j)}},[d,r,a]),S=h.useCallback(E=>{if(!r)return;const j=a.slice(0);j.splice(E,1),r(j)},[r,a]);return h.useEffect(()=>{const E=g.current;E&&(E.style.width="0",E.style.width="".concat(E.scrollWidth,"px"))},[g,d]),l.jsxs(Fvn,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":s?"":void 0,"data-ui":"TagInput",onPointerDown:x,overflow:"auto",padding:1,ref:b,children:[p&&l.jsx(Bvn,{hidden:!!(d||a.length),padding:3,children:l.jsx(B,{textOverflow:"ellipsis",children:u})}),l.jsxs("div",{className:"content",children:[a.map((E,j)=>l.jsx(Nvn,{children:l.jsx(zvn,{enabled:p,index:j,muted:!p,onRemove:S,tag:E})},"tag-".concat(j))),l.jsx("div",{children:l.jsx(Lvn,{...c,disabled:!p,onBlur:y,onChange:w,onFocus:_,onKeyDown:C,ref:g,type:"text",value:d})},"tag-input")]})]})});g$e.displayName="TagInput";function zvn(e){const{enabled:t,index:n,muted:r,onRemove:o,tag:i}=e,s=h.useCallback(()=>{o(n)},[n,o]);return l.jsx(J,{"data-ui":"Tag",padding:1,radius:2,tone:"transparent",children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,padding:1,children:l.jsx(B,{muted:r,textOverflow:"ellipsis",children:i.value})}),t&&l.jsx(M,{marginLeft:1,children:l.jsx(ie,{icon:Ei,mode:"bleed",onClick:s,padding:1})})]})})}function Vvn(e){const{onChange:t,readOnly:n,value:r=[],elementProps:o,path:i,changed:s}=e,a=h.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),c=h.useCallback(u=>{t(u.length===0?Je():vt(u.map(d=>d.value)))},[t]);return l.jsx(oi,{path:i,isChanged:s,hasFocus:!1,children:l.jsx(g$e,{onChange:c,readOnly:n,value:a,...o})})}const Hvn={portal:!0,tone:"default"};function v$e(e){const{member:t,sortable:n,onRemove:r}=e,o=h.useId();return l.jsx(M,{paddingX:1,children:l.jsx(RO,{dragHandle:n,tone:"caution",menu:l.jsx(Kt,{button:l.jsx(ie,{padding:2,mode:"bleed",icon:Fo}),id:"".concat(o,"-menuButton"),menu:l.jsx(Ft,{children:l.jsx(Be,{text:"Remove",tone:"critical",icon:ao,onClick:r})}),popover:Hvn}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(a$e,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})})}function Uvn(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,o=t.filter(a=>n.some(c=>r(c,a))),i=t.length-o.length,s=n.length>1;return l.jsx(l.Fragment,{children:o.length>0?l.jsxs(l.Fragment,{children:[l.jsxs(Yt,{space:2,children:[l.jsx(B,{children:l.jsx(xT,{})}),l.jsxs(B,{children:["Drop to upload"," ",s&&l.jsxs(l.Fragment,{children:[o.length," file",o.length>1?"s":""]})]})]}),i>0&&l.jsx(M,{marginTop:4,children:l.jsxs(Yt,{space:2,children:[l.jsx(B,{muted:!0,size:1,children:l.jsx(Cf,{})}),l.jsxs(B,{muted:!0,size:1,children:[i," file",i>1?"s":""," can't be uploaded here"]})]})})]}):l.jsxs(Yt,{space:2,children:[l.jsx(B,{children:l.jsx(Cf,{})}),l.jsxs(B,{children:["Can't upload ",t.length>1?"any of these files":"this file"," here"]})]})})}var ffe=Object.freeze,Wvn=Object.defineProperty,Yvn=(e,t)=>ffe(Wvn(e,"raw",{value:ffe(t||e.slice())})),hfe;const qvn=I(Ji)(hfe||(hfe=Yvn([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var pfe=Object.freeze,Gvn=Object.defineProperty,Kvn=(e,t)=>pfe(Gvn(e,"raw",{value:pfe(t||e.slice())})),mfe;const Zvn=I.div(mfe||(mfe=Kvn([`
  position: relative;
`])));function Xvn(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function Qvn(e){const t=FRe(e);return ne.forwardRef(function(r,o){const{children:i,resolveUploader:s,onUpload:a,types:c,...u}=r,{push:d}=Bo(),f=ne.useCallback((b,x)=>{const{type:y,uploader:w}=x;a==null||a({file:b,schemaType:y,uploader:w})},[a]),p=ne.useCallback(b=>{if(!s)return;const x=b.map(_=>({file:_,uploaderCandidates:Xvn(c,s,_)})),y=x.filter(_=>_.uploaderCandidates.length>0),w=x.filter(_=>_.uploaderCandidates.length===0);if(w.length>0){const _=w.length>1;d({closable:!0,status:"warning",title:"The following item".concat(_?"s":""," can't be uploaded because there's no known conversion from content type").concat(_?"s":""," to array item:"),description:w.map((C,S)=>l.jsxs(U,{padding:2,children:[l.jsx(M,{marginLeft:1,children:l.jsx(B,{weight:"semibold",children:C.file.name})}),l.jsx(M,{paddingLeft:2,children:l.jsxs(B,{size:1,children:["(",C.file.type,")"]})})]},S))})}y.forEach(_=>{f(_.file,wm(_.uploaderCandidates,C=>C.uploader.priority)[0])})},[d,s,c,f]),[m,v]=ne.useState([]),g=ne.useCallback(()=>v([]),[]);return l.jsx(Zvn,{children:l.jsxs(t,{...u,ref:o,onFiles:p,onFilesOver:v,onFilesOut:g,children:[s&&m.length>0&&l.jsx(qvn,{zOffset:10,children:l.jsx(Uvn,{hoveringFiles:m,types:c,resolveUploader:s})}),i]})})})}const WV=LRe(Qvn(J));function Jvn(e,t,n){return e0n(e,t,r=>r===n)}function e0n(e,t,n){let r=t-1,o=t;const i=e.length;for(;r>-1||o<i;){const s=e[o];if(o<i&&n(s,o))return o;const a=e[r];if(r>-1&&n(a,r))return r;r--,o++}return-1}const t0n={portal:!0,tone:"default"},n0n=ne.forwardRef(function(t,n){const{sortable:r,value:o,insertableTypes:i,onInsert:s,onRemove:a,readOnly:c,inputId:u,validation:d,children:f,presence:p,schemaType:m}=t,v=d.filter(_=>_.level==="error").length>0,g=d.filter(_=>_.level==="warning").length>0,b=h.useCallback((_,C)=>{s({position:_,items:[DV(C)]})},[s]),x=h.useCallback(()=>{o&&s({position:"after",items:[o]})},[s,o]),y=h.useMemo(()=>{if(v)return"critical";if(g)return"caution"},[v,g]),w=l.jsx(Kt,{button:l.jsx(ie,{padding:2,mode:"bleed",icon:Fo}),id:"".concat(u,"-menuButton"),popover:t0n,menu:l.jsxs(Ft,{children:[l.jsx(Be,{text:"Remove",tone:"critical",icon:ao,onClick:a}),l.jsx(Be,{text:"Duplicate",icon:Su,onClick:x}),l.jsx(MO,{types:i,onInsert:b})]})});return l.jsx(RO,{tone:y,menu:!c&&w,dragHandle:!c&&r,presence:p.length===0?null:l.jsx(a_,{presence:p,maxAvatars:1}),validation:d.length>0?l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(X0,{validation:d})}):null,children:l.jsx(U,{align:m?"flex-end":"center",ref:n,children:l.jsx(U,{align:"flex-end",flex:1,children:l.jsx(M,{flex:1,marginRight:2,children:f})})})})});function r0n(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=ne.useCallback(d=>{i(o(d))},[o,i]),c=ne.useCallback(()=>{a(t.of[0])},[t,a]),u=h.useMemo(()=>({constrainSize:!0,portal:!0}),[]);return n?l.jsx(st,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(B,{size:1,children:"This field is read-only"})}),children:l.jsx(en,{children:l.jsx(ie,{icon:Ks,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(en,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(ie,{icon:Ks,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(Kt,{button:l.jsx(ie,{icon:Ks,mode:"ghost",text:"Add item…"}),id:s||"",menu:l.jsx(Ft,{children:t.of.map((d,f)=>{var p,m;const v=Cu(d)&&(d.to||[]).length===1&&d.to[0].icon,g=d.icon||((p=d.type)==null?void 0:p.icon)||v;return l.jsx(Be,{text:d.title||((m=d.type)==null?void 0:m.name),onClick:()=>a(d),icon:g},f)})}),popover:u}),r]})}class y$e extends ne.PureComponent{constructor(t){super(t),this._element=null,this.handleAppend=n=>{const{value:r=[],onIndexFocus:o,onItemAppend:i}=this.props;i(n),o(r.length)},this.handlePrepend=n=>{const{onIndexFocus:r,value:o=[],onItemPrepend:i}=this.props;i(n),r(o.length)},this.handleSortEnd=n=>{const{onIndexFocus:r,onMoveItem:o,value:i}=this.props;i&&o(n),r(n.toIndex)},this.handleItemMoveStart=()=>{this.setState({disableTransition:!1})},this.handleItemMoveEnd=()=>{this.setState({disableTransition:!0})},this.renderArrayItem=n=>{var r;const{schemaType:o}=this.props,i=((r=o.options)==null?void 0:r.sortable)!==!1;return l.jsx(n0n,{...n,sortable:i,insertableTypes:o.of})},this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(t){var n;const{focusPath:r=[],value:o=[]}=t,{focusPath:i=[],value:s=[]}=this.props;if(r[0]===i[0]&&o.length!==s.length){const a=i[0],c=window.getSelection();if(!((c==null?void 0:c.focusNode)instanceof HTMLElement))return null;const u=(n=c.focusNode)==null?void 0:n.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:a,restoreSelection:{text:c.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(t,n,r){var o;const{onIndexFocus:i}=this.props;if(r!=null&&r.restoreSelection&&t.value){const s=t.value[r.prevFocusedIndex],a=Jvn(this.props.value||[],r.prevFocusedIndex,s);if(a===-1)return;const c=(o=this._element)==null?void 0:o.querySelector("[data-item-index='".concat(a,"'] input,textarea"));if(c instanceof HTMLInputElement){c.focus();try{c.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}i(a)}}render(){const{schemaType:t,members:n,readOnly:r,renderInput:o,onUpload:i,onItemRemove:s,resolveUploader:a,elementProps:c,arrayFunctions:u=r0n,path:d,changed:f}=this.props,p=!r&&Fn(t,"options.sortable")!==!1,m=n.map(v=>({id:"".concat(v.key,"-").concat(v.kind==="item"?v.item.value:"error"),member:v}));return l.jsxs(te,{space:3,"data-testid":"array-primitives-input",children:[l.jsx(WV,{types:t.of,resolveUploader:a,onUpload:i,...c,tabIndex:0,children:l.jsx(te,{space:1,children:m.length===0?l.jsx(J,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(B,{align:"center",muted:!0,size:1,children:t.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(J,{padding:1,border:!0,children:l.jsx(CV,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(v=>v.id),sortable:p,gap:1,children:m.map((v,g)=>{let{member:b,id:x}=v;return l.jsxs(SV,{id:x,sortable:p,disableTransition:this.state.disableTransition,children:[b.kind==="item"&&l.jsx(oi,{path:b.item.path,isChanged:f,hasFocus:!1,children:l.jsx(Bun,{member:b,renderItem:this.renderArrayItem,renderInput:o})}),b.kind==="error"&&l.jsx(v$e,{sortable:p,member:b,onRemove:()=>s(g)})]},b.key)})})})})}),l.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:DV,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}var gfe=Object.freeze,o0n=Object.defineProperty,KO=(e,t)=>gfe(o0n(e,"raw",{value:gfe(t||e.slice())})),vfe,yfe,bfe,xfe;const i0n=I(U)(vfe||(vfe=KO([`
  min-height: 35px;
`]))),s0n=I(U)(yfe||(yfe=KO([`
  position: absolute;
  top: 0;
  right: 0;
  height: 35px;
`]))),q6=I(J)(bfe||(bfe=KO([`
  position: absolute;
  top: 0;
  left: 0;
`]))),a0n=I(J)(xfe||(xfe=KO([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),q6,q6,_V);function b$e(e){const{validation:t,selected:n,tone:r,presence:o,children:i,dragHandle:s,menu:a,footer:c,...u}=e;return l.jsxs(a0n,{forwardedAs:U,direction:"column",border:!0,selected:n,"aria-selected":n,radius:2,tone:r,...u,children:[i,s&&l.jsx(q6,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:l.jsx(V3e,{grid:!0,padding:2,mode:"ghost"})}),o&&l.jsx(s0n,{align:"center",marginX:1,children:o}),l.jsxs(i0n,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[l.jsx(U,{children:t}),l.jsx(M,{children:c}),a]})]})}var wfe=Object.freeze,l0n=Object.defineProperty,c0n=(e,t)=>wfe(l0n(e,"raw",{value:wfe(t||e.slice())})),_fe;const u0n=I(J)(_fe||(_fe=c0n([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function d0n(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const f0n={portal:!0,tone:"default"},h0n={position:"absolute",top:0,left:0,bottom:0,right:0};function p0n(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:b,onClose:x,changed:y,focused:w,children:_,inputProps:{renderPreview:C}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,E=c.of,j=h.useRef(null);DO(j,m),Ri(w,(q,oe)=>{var N;!q&&oe&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Mx()}],position:"after"})},[v,p]),A=h.useCallback((q,oe)=>{v({items:[J0(oe)],position:q})},[v]),O=q0(u,!0),P=h.useMemo(()=>O.length===0?null:l.jsx(a_,{presence:O,maxAvatars:1}),[O]),D=nV(u,!0),R=h.useMemo(()=>D.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(X0,{validation:D,__unstable_showSummary:!0})}),[D]),$=D.some(q=>q.level==="error"),H=D.some(q=>q.level==="warning"),F=h.useMemo(()=>d?null:l.jsx(Kt,{button:l.jsx(ie,{padding:2,mode:"bleed",icon:Fo}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Ft,{children:[l.jsx(Be,{text:"Remove",tone:"critical",icon:ao,onClick:f}),l.jsx(Be,{text:"Duplicate",icon:Su,onClick:T}),l.jsx(MO,{types:E,onInsert:A})]}),popover:f0n}),[T,A,f,E,e.inputId,d]),V=d0n({readOnly:d,hasErrors:$,hasWarnings:H}),W=l.jsx(b$e,{menu:F,presence:P,validation:R,tone:V,radius:2,border:!0,focused:w,dragHandle:S,selected:m,children:l.jsxs(u0n,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:k,onClick:b,ref:j,onFocus:g,__unstable_focusRing:!0,children:[C({schemaType:a,value:p,layout:"media",withBorder:!1,withShadow:!1}),k&&l.jsx(J,{as:U,style:h0n,children:l.jsxs(U,{align:"center",justify:"center",gap:1,padding:1,children:[l.jsx(M,{padding:3,children:l.jsx(ir,{muted:!0})}),l.jsx(B,{muted:!0,size:1,children:"Resolving initial value…"})]})})]})}),z=kp(a);return l.jsxs(l.Fragment,{children:[l.jsx(oi,{path:u,isChanged:y,hasFocus:!!w,children:W}),m&&l.jsx(mRe,{header:d?"View ".concat(z):"Edit ".concat(z),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:_})]})}var Cfe=Object.freeze,m0n=Object.defineProperty,g0n=(e,t)=>Cfe(m0n(e,"raw",{value:Cfe(t||e.slice())})),Sfe;const v0n=I(J)(Sfe||(Sfe=g0n([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function y0n(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ne.useState(!1),[a,c]=ne.useState(null);rr(()=>s(!1),[a]);const u=ne.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=ks(t);return l.jsx(nn,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(v0n,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(te,{space:4,children:[l.jsx(M,{children:l.jsx(B,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(B,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(B,{size:1,children:[l.jsx(pT,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(te,{space:2,children:[l.jsx(B,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(J,{padding:2,overflow:"auto",border:!0,children:l.jsx(er,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(J,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(te,{space:4,marginTop:2,children:[l.jsx(M,{margin:1,children:l.jsx(B,{align:"center",size:4,children:l.jsx(vl,{})})}),l.jsxs(B,{align:"center",size:1,children:["Items of type ",l.jsx("code",{children:f})," is not valid for this list"]})]})})})}const b0n={portal:!0,tone:"default"};function x0n(e){const{member:t,sortable:n}=e,r=h.useId(),{onChange:o}=ua(),i=h.useCallback(()=>{o(lt.from([Je([{_key:t.key}])]))},[o,t.key]);return l.jsx(b$e,{dragHandle:n,tone:"caution",style:{height:"100%"},menu:l.jsx(Kt,{button:l.jsx(ie,{padding:2,mode:"bleed",icon:Fo}),id:"".concat(r,"-menuButton"),menu:l.jsx(Ft,{children:l.jsx(Be,{text:"Remove",tone:"critical",icon:ao,onClick:i})}),popover:b0n}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(y0n,{value:t.error.value,vertical:!0}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})}const w0n=[];function _0n(e){var t;const{arrayFunctions:n=Jz,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderPreview:g,resolveUploader:b,schemaType:x,value:y=w0n}=e,w=h.useCallback(j=>{s({items:[j],position:"before",referenceItem:0})},[s]),_=h.useCallback(j=>{s({items:[j],position:"after",referenceItem:-1})},[s]),C=((t=x.options)==null?void 0:t.sortable)!==!1,S=h.useCallback(j=>l.jsx(p0n,{...j}),[]),E=h.useMemo(()=>o.map(j=>j.key),[o]);return l.jsxs(te,{space:3,children:[l.jsx(WV,{types:x.of,resolveUploader:b,onUpload:c,...r,tabIndex:0,children:l.jsxs(te,{"data-ui":"ArrayInput__content",space:3,children:[(o==null?void 0:o.length)===0&&l.jsx(J,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(B,{align:"center",muted:!0,size:1,children:x.placeholder||l.jsx(l.Fragment,{children:"No items"})})}),(o==null?void 0:o.length)>0&&l.jsx(J,{border:!0,radius:1,children:l.jsx(CV,{columns:[2,3,4],gap:3,padding:1,margin:1,items:E,onItemMove:a,sortable:C,children:o.map(j=>l.jsxs(SV,{sortable:C,id:j.key,flex:1,children:[j.kind==="item"&&l.jsx(PV,{member:j,renderAnnotation:d,renderBlock:f,renderInlineBlock:m,renderItem:S,renderField:p,renderInput:v,renderPreview:g}),j.kind==="error"&&l.jsx(x0n,{sortable:C,member:j})]},j.key))})})]})}),l.jsx(n,{onChange:i,onItemAppend:_,onItemPrepend:w,onValueCreate:J0,readOnly:u,schemaType:x,value:y})]})}function C0n(e,t){const n=h.useRef(e),r=n.current,o=t(r,e);return h.useEffect(()=>{o||(n.current=e)}),o?r:e}const S0n=[];function E0n(e){var t;const{arrayFunctions:n=Jz,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,focusPath:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:b,renderPreview:x,resolveUploader:y,schemaType:w,value:_=S0n}=e,[C,S]=h.useState(null),{space:E}=Ts().sanity,j=h.useCallback(G=>{s({items:[G],position:"before",referenceItem:0})},[s]),k=h.useCallback(G=>{s({items:[G],position:"after",referenceItem:-1})},[s]),T=C0n(h.useMemo(()=>o.map(G=>G.key),[o]),Mu),{scrollElement:A,containerElement:O}=Kun(),P=h.useRef(null),D=h.useMemo(()=>Tr(u[0])?u[0]._key:u[0],[u]),R=h.useCallback(G=>{const Y={...G};if(C!==null&&(Y.startIndex=Math.min(G.startIndex,C),Y.endIndex=Math.max(G.endIndex,C)),D){const K=T.findIndex(X=>X===D);K!==-1&&(Y.startIndex=Math.min(Y.startIndex,K),Y.endIndex=Math.max(Y.endIndex,K))}return b5e(Y)},[C,D,T]),$=h.useCallback((G,Y)=>{if(!G.scrollElement)return;const K=G.scrollElement,X=()=>{var Q,Z,re,ae;const me=(Z=(Q=O.current)==null?void 0:Q.getBoundingClientRect().top)!=null?Z:0,ce=(ae=(re=P.current)==null?void 0:re.getBoundingClientRect().top)!=null?ae:0,Te=Math.floor(ce-me);Y(K.scrollTop-Te)};return X(),G.scrollElement.addEventListener("scroll",X,{capture:!1,passive:!0}),()=>{K.removeEventListener("scroll",X)}},[O]),H=h.useCallback(()=>53,[]),F=_5e({count:o.length,estimateSize:H,getScrollElement:h.useCallback(()=>A,[A]),observeElementOffset:$,rangeExtractor:R,getItemKey:h.useCallback(G=>T[G],[T]),scrollToFn:(G,Y,K)=>{G!==K.scrollOffset&&x5e(G,Y,K)}}),V=F.getVirtualItems(),W=h.useCallback(G=>{var Y,K;const{active:X}=G;S((K=(Y=X.data.current)==null?void 0:Y.sortable)==null?void 0:K.index)},[]),z=h.useCallback(()=>{S(null)},[]),q=((t=w.options)==null?void 0:t.sortable)!==!1,oe=1,N=1;return l.jsxs(te,{space:3,ref:P,children:[l.jsx(WV,{types:w.of,resolveUploader:y,onUpload:c,...r,tabIndex:0,children:l.jsx(te,{"data-ui":"ArrayInput__content",space:3,children:o.length===0?l.jsx(J,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(B,{align:"center",muted:!0,size:1,children:w.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(J,{border:!0,radius:1,style:{height:"".concat(F.getTotalSize()+V.length*E[oe]+E[N],"px"),width:"100%",position:"relative"},children:l.jsx(CV,{axis:"y",gap:oe,paddingY:N,items:T,onItemMove:a,onItemMoveStart:W,onItemMoveEnd:z,sortable:q,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(V[0].start,"px)")},children:V.map(G=>{const Y=o[G.index];return l.jsxs(SV,{ref:F.measureElement,sortable:q,"data-index":G.index,id:Y.key,children:[Y.kind==="item"&&l.jsx(PV,{member:Y,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:b,renderPreview:x}),Y.kind==="error"&&l.jsx(v$e,{sortable:q,member:Y,onRemove:()=>e.onItemRemove(Y.key)})]},G.key)})})})})}),l.jsx(n,{onChange:i,onItemAppend:k,onItemPrepend:j,onValueCreate:J0,readOnly:d,schemaType:w,value:_})]})}function x$e(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?l.jsx(_0n,{...e}):l.jsx(E0n,{...e})}const k0n=["string","number","boolean"];function j0n(e){return e.of.every(t=>k0n.includes(t.jsonType))}function T0n(e){return e.of.length===1&&hc("string",e.of[0])}function A0n(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function O0n(e){return e.of.some(t=>hc("block",t))}function P0n(e){var t;return!!((t=e.options)!=null&&t.list)}function D0n(e){return T0n(e)&&A0n(e)?Vvn:P0n(e)?l$e:j0n(e)?y$e:O0n(e)?Rvn:x$e}function I0n(e){return NL(e)?e:{title:Sm("".concat(e)),value:e}}const Efe={title:"",value:void 0};function w$e(e){var t,n;const{value:r,readOnly:o,validationError:i,schemaType:s,onChange:a,path:c,changed:u,focused:d,elementProps:f}=e,p=h.useMemo(()=>{var C;return(((C=s.options)==null?void 0:C.list)||[]).map(I0n)},[(t=s.options)==null?void 0:t.list]),m=p.find(C=>C.value===r),v=s.options&&s.options.layout==="radio",g=h.useCallback(C=>{const S=Number(C);return p[S]},[p]),b=h.useCallback(C=>String(p.indexOf(C)),[p]),x=h.useId(),y=ne.useCallback(C=>{a(lt.from(typeof(C==null?void 0:C.value)>"u"?Je():vt(C.value)))},[a]),w=h.useCallback(C=>{const S=g(C.currentTarget.value);if(!S){y(Efe);return}y(S)},[y,g]),_=v?l.jsx(R0n,{...f,value:m,inputId:x,items:p,direction:((n=s.options)==null?void 0:n.direction)||"vertical",customValidity:i,onChange:y,readOnly:o}):l.jsx(If,{...f,customValidity:i,value:b(m),readOnly:o,onChange:w,children:[Efe,...p].map((C,S)=>l.jsx("option",{value:S-1,children:C.title},"".concat(S-1)))});return l.jsx(oi,{path:c,isChanged:u,hasFocus:!!d,children:_})}const R0n=h.forwardRef(function(t,n){const{items:r,value:o,onChange:i,onFocus:s,readOnly:a,customValidity:c,direction:u,inputId:d}=t,f=u==="horizontal"?Yt:te;return l.jsx(J,{border:!0,padding:3,radius:1,children:l.jsx(f,{space:3,role:"group",children:r.map((p,m)=>l.jsx($0n,{customValidity:c,inputId:d,item:p,onChange:i,onFocus:s,readOnly:a,ref:m===0?n:null,value:o},m))})})}),$0n=h.forwardRef(function(t,n){const{customValidity:r,inputId:o,item:i,onChange:s,onFocus:a,readOnly:c,value:u}=t,d=h.useCallback(()=>{s(i)},[i,s]);return l.jsxs(U,{as:"label",align:"center",children:[l.jsx(xnt,{ref:n,checked:u===i,onChange:d,onFocus:a,readOnly:c,customValidity:r,name:o}),l.jsx(M,{marginLeft:2,children:l.jsx(B,{size:1,weight:"semibold",children:i.title})})]})});function _$e(e){const{validationError:t,elementProps:n}=e;return l.jsx(Or,{...n,customValidity:t,"data-testid":"string-input"})}function M0n(e){return gRe(e,"list")?w$e:_$e}const F0n=(e,t)=>{if(typeof e=="function")throw new Error('Schema type "'.concat((t==null?void 0:t.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return e?Array.isArray(e)?e:[e]:[]};function xE(e,t){for(const n of F0n(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function C$e(e){const{schemaType:t,validationError:n,elementProps:r}=e,o=xE(t,"min"),i=xE(t,"integer"),s=xE(t,"precision"),a=typeof(o==null?void 0:o.constraint)=="number"&&(o==null?void 0:o.constraint)>=0,c=i||(s==null?void 0:s.constraint)===0,u=a?c?"numeric":"decimal":"text";return l.jsx(Or,{...r,type:"number",step:"any",inputMode:u,customValidity:n,placeholder:t.placeholder,pattern:a?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}function L0n(e){return gRe(e,"list")?w$e:C$e}var kfe=Object.freeze,B0n=Object.defineProperty,S$e=(e,t)=>kfe(B0n(e,"raw",{value:kfe(t||e.slice())})),jfe,Tfe;const N0n=I(M)(jfe||(jfe=S$e([`
  align-self: center;
`]))),z0n=I(M)(Tfe||(Tfe=S$e([`
  line-height: 0;
`])));function V0n(e){var t;const{id:n,value:r,schemaType:o,readOnly:i,elementProps:s,validation:a}=e,c=((t=o.options)==null?void 0:t.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=c==="checkbox"?QT:TSe,p=i?"transparent":void 0;return l.jsx(J,{border:!0,"data-testid":"boolean-input",radius:1,tone:p,children:l.jsxs(U,{children:[l.jsx(z0n,{padding:3,children:l.jsx(f,{label:o.title,...s,checked:d,disabled:i,indeterminate:u,style:{margin:-4}})}),l.jsx(M,{flex:1,paddingY:3,children:l.jsx(B3e,{description:o.description,inputId:n,validation:a,title:o.title})}),l.jsx(N0n,{paddingX:3,paddingY:1,children:l.jsx(Uln,{maxAvatars:1,position:"top"})})]})})}function H0n(e){const{validationError:t,elementProps:n}=e;return l.jsx(Or,{...n,type:"email",inputMode:"email",customValidity:t})}function U0n(e){const{fieldNames:t,onChange:n,readOnly:r,value:o}=e,i=t.length,s=h.useCallback(a=>{n(Je([a]))},[n]);return l.jsxs(Lc,{status:"warning",title:l.jsxs(l.Fragment,{children:[i===1&&l.jsx(l.Fragment,{children:"Unknown field found"}),i>1&&l.jsx(l.Fragment,{children:"Unknown fields found"})]}),children:[l.jsx(B,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"Encountered a field that is not defined in the schema."}):l.jsxs(l.Fragment,{children:["Encountered ",i," fields that are not defined in the schema."]})}),l.jsxs(Im,{marginTop:4,open:Bc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:[l.jsx(M,{marginBottom:3,children:l.jsx(B,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet."}):l.jsx(l.Fragment,{children:"These fields are not defined in the document’s schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet."})})}),l.jsx(te,{as:"ul",space:3,children:t.map(a=>l.jsx(W0n,{fieldName:a,onUnsetClick:s,readOnly:r,value:o==null?void 0:o[a]},a))})]})]})}function W0n(e){let{fieldName:t,onUnsetClick:n,readOnly:r,value:o}=e;const i=h.useCallback(()=>{n(t)},[t,n]);return l.jsx(J,{as:"li",padding:3,radius:2,shadow:1,tone:"caution",children:l.jsxs(te,{space:2,children:[l.jsxs(J,{border:!0,radius:1,children:[l.jsx(J,{borderBottom:!0,padding:3,children:l.jsx(er,{weight:"medium",children:t})}),l.jsx(M,{overflow:"auto",padding:3,children:l.jsx(er,{language:"json",children:JSON.stringify(o,null,2)})})]}),r&&l.jsxs(B,{as:"p",muted:!0,size:1,children:["This field is ",l.jsx("strong",{children:"read only"})," according to the document’s schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the"," ",l.jsx("code",{children:"readOnly"})," field from the enclosing type in the schema."]}),!r&&l.jsx(ie,{icon:ao,onClick:i,tone:"critical",text:l.jsx(l.Fragment,{children:"Remove field"})})]})})}var Afe=Object.freeze,Y0n=Object.defineProperty,q0n=(e,t)=>Afe(Y0n(e,"raw",{value:Afe(t||e.slice())})),Ofe;const G0n=I(J)(Ofe||(Ofe=q0n([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),e=>{let{$level:t,theme:n}=e;return t===0?0:n.sanity.space[5]*-1},e=>{let{$level:t,theme:n}=e;return n.sanity.space[4]}),K0n=h.forwardRef(function(t,n){const{onClick:r}=t,o=ne.useCallback(()=>{r==null||r(t.name)},[t.name,r]);return l.jsx(nx,{"data-testid":"group-tab-".concat(name),size:1,id:"".concat(t.name,"-tab"),label:t.title,ref:n,...t,onClick:o})}),Z0n=e=>{const{name:t,title:n,...r}=e,{selected:o}=e;return l.jsx("option",{title:n,value:t,id:"".concat(t,"-tab"),"aria-controls":r["aria-controls"],"data-testid":"group-select-".concat(t),"aria-selected":o?"true":"false",children:n||t})};var Pfe=Object.freeze,X0n=Object.defineProperty,Q0n=(e,t)=>Pfe(X0n(e,"raw",{value:Pfe(t||e.slice())})),Dfe;const J0n=I(Rtt)(Dfe||(Dfe=Q0n([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),e1n=e=>{let{inputId:t,groups:n,onClick:r,shouldAutoFocus:o=!0,disabled:i}=e;return l.jsx(nA,{space:2,"data-testid":"field-group-tabs",children:n.map(s=>l.jsx(K0n,{"aria-controls":"".concat(t,"-field-group-fields"),autoFocus:o&&s.selected,disabled:i||s.disabled,icon:s==null?void 0:s.icon,name:s.name,onClick:r,selected:!!s.selected,title:s.title||s.name},"".concat(t,"-").concat(s.name,"-tab")))})},t1n=e=>{let{disabled:t,groups:n,inputId:r,onSelect:o,shouldAutoFocus:i=!0}=e;var s;const a=h.useCallback(c=>{o(c.currentTarget.value)},[o]);return l.jsx(If,{"aria-label":"Field groups",autoFocus:i,"data-testid":"field-group-select",disabled:t,fontSize:2,muted:!0,onChange:a,value:(s=n.find(c=>c.selected))==null?void 0:s.name,children:n.map(c=>l.jsx(Z0n,{"aria-controls":"".concat(r,"-field-group-fields"),disabled:c.disabled,name:c.name,selected:!!c.selected,title:c.title||c.name},"".concat(r,"-").concat(c.name,"-tab")))})},n1n=ne.memo(function(t){let{disabled:n=!1,onClick:r,...o}=t;const i=h.useCallback(s=>{r==null||r(s)},[r]);return l.jsxs(J0n,{"data-testid":"field-group-root",children:[l.jsx(e1n,{...o,disabled:n,onClick:i}),l.jsx(t1n,{...o,disabled:n,onSelect:i})]})}),Ife=h.memo(function(t){const{schemaType:n,groups:r,members:o,onChange:i,renderAnnotation:s,renderBlock:a,renderInlineBlock:c,renderInput:u,renderField:d,renderItem:f,renderPreview:p,level:m,value:v,id:g,onFieldGroupSelect:b}=t,{columns:x}=n.options||{},y=h.useMemo(()=>{if(!n.fields)return null;const _=n.fields.map(S=>S.name),C=Object.keys(v||{}).filter(S=>!S.startsWith("_")&&!_.includes(S));return C.length===0?null:l.jsx(U0n,{fieldNames:C,value:v,onChange:i})},[i,n.fields,v]),w=h.useCallback(()=>l.jsx(Yun,{members:o,renderAnnotation:s,renderBlock:a,renderField:d,renderInlineBlock:c,renderInput:u,renderItem:f,renderPreview:p}),[o,s,a,d,c,u,f,p]);return o.length===0?null:l.jsxs(te,{space:5,children:[r.length>0?l.jsx(G0n,{$level:m,"data-testid":"field-groups",children:l.jsx(n1n,{groups:r,inputId:g,onClick:b,shouldAutoFocus:!1})}):null,x?l.jsx(en,{columns:x,gap:4,marginTop:1,children:w()}):w(),y]})});function r1n(e){const{date:t,focused:n,isCurrentMonth:r,isToday:o,onSelect:i,selected:s}=e,a=h.useCallback(()=>{i(t)},[t,i]);return l.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:l.jsx(J,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:a,padding:3,radius:2,selected:s,tone:o||s?"primary":"default",children:l.jsx(B,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const o1n=["January","February","March","April","May","June","July","August","September","October","November","December"],i1n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s1n=WN(0,24),a1n=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],l1n=[1,2,3,4,5,6],c1n=e=>{const t=gTe(e);return mTe({start:t,end:yTe(t)})},u1n=e=>e.map(t=>[t,...l1n.map(n=>Vi(t,n))]),d1n=e=>u1n(c1n(e)).map(t=>({number:vTe(t[0]),days:t}));function f1n(e){return l.jsx(M,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:l.jsxs(en,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[i1n.map(t=>l.jsx(M,{paddingY:2,children:l.jsx(B,{size:1,weight:"medium",style:{textAlign:"center"},children:t})},t)),d1n(e.date).map((t,n)=>t.days.map((r,o)=>{const i=e.focused&&Md(r,e.focused),s=e.selected&&Md(r,e.selected),a=Md(r,new Date),c=e.focused&&kTe(r,e.focused);return l.jsx(r1n,{date:r,focused:i,isCurrentMonth:c,isToday:a,onSelect:e.onSelect,selected:s},"".concat(n,"-").concat(o))}))]})})}const Rfe={dayPresets:!1,timePresets:!1},E$e=ne.forwardRef(function(t,n){let{onChange:r,onBlur:o,onKeyPress:i,value:s,...a}=t;const[c,u]=ne.useState(),d=ne.useCallback(v=>{u(v.currentTarget.value)},[]),f=ne.useCallback(v=>{v.currentTarget.value!=="".concat(s)&&r&&r(v),u(void 0)},[r,s]),p=ne.useCallback(v=>{f(v),o&&o(v)},[f,o]),m=ne.useCallback(v=>{v.key==="Enter"&&f(v),i&&i(v)},[f,i]);return l.jsx(Or,{...a,"data-testid":"date-input",ref:n,value:c===void 0?s:c,onChange:d,onBlur:p,onKeyPress:m})}),h1n=e=>{let{onChange:t,...n}=e;const r=ne.useCallback(o=>{const i=parseInt(o.currentTarget.value,10);isNaN(i)||t(i)},[t]);return l.jsx(E$e,{...n,onChange:r,inputMode:"numeric"})},p1n=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),m1n=h.forwardRef(function(t,n){const{selectTime:r,onFocusedDateChange:o,selectedDate:i=new Date,focusedDate:s=i,timeStep:a=1,onSelect:c,...u}=t,d=h.useCallback(S=>o(S),[o]),f=h.useCallback(S=>d(VIt(TTe(s,S),1)),[s,d]),p=h.useCallback(S=>f(Number(S.currentTarget.value)),[f]),m=h.useCallback(S=>d(CB(s,S)),[s,d]),v=h.useCallback(S=>d(HIt(s,S)),[s,d]),g=h.useCallback(S=>{c(US(OI(S,i.getHours()),i.getMinutes()))},[c,i]),b=h.useCallback(S=>{const E=Number(S.currentTarget.value);c(US(i,E))},[c,i]),x=h.useCallback(S=>{const E=Number(S.currentTarget.value);c(OI(i,E))},[c,i]);h.useCallback((S,E)=>{c(OI(US(i,E),S))},[c,i]);const y=or(n),w=h.useCallback(()=>{var S,E;(E=(S=y.current)==null?void 0:S.querySelector('[data-focused="true"]'))==null||E.focus()},[y]),_=h.useCallback(S=>{var E,j;if(a1n.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){w();return}S.key==="ArrowUp"&&o(Vi(s,-7)),S.key==="ArrowDown"&&o(Vi(s,7)),S.key==="ArrowLeft"&&o(Vi(s,-1)),S.key==="ArrowRight"&&o(Vi(s,1)),(j=(E=y.current)==null?void 0:E.querySelector("[data-preserve-focus]"))==null||j.focus()}},[y,w,o,s]);h.useEffect(()=>{w()},[w]),h.useEffect(()=>{var S;((S=document.activeElement)==null?void 0:S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&w()},[y,w,s]),h.useCallback(()=>g(Vi(new Date,-1)),[g]),h.useCallback(()=>g(new Date),[g]),h.useCallback(()=>g(Vi(new Date,1)),[g]);const C=h.useCallback(()=>c(new Date),[c]);return l.jsxs(M,{"data-ui":"Calendar",...u,ref:y,children:[l.jsxs(M,{padding:2,children:[Rfe.dayPresets,l.jsxs(U,{children:[l.jsx(M,{flex:1,children:l.jsx(g1n,{moveFocusedDate:m,onChange:p,value:s==null?void 0:s.getMonth()})}),l.jsx(M,{marginLeft:2,children:l.jsx(v1n,{moveFocusedDate:m,onChange:v,value:s.getFullYear()})})]}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:_,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(f1n,{date:s,focused:s,onSelect:g,selected:i}),p1n]})]}),r&&l.jsxs(M,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[l.jsxs(U,{align:"center",children:[l.jsxs(U,{align:"center",flex:1,children:[l.jsx(M,{children:l.jsx(If,{"aria-label":"Select hour",value:i==null?void 0:i.getHours(),onChange:x,children:s1n.map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})}),l.jsx(M,{paddingX:1,children:l.jsx(B,{children:":"})}),l.jsx(M,{children:l.jsx(If,{"aria-label":"Select minutes",value:i==null?void 0:i.getMinutes(),onChange:b,children:WN(0,60,a).map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})})]}),l.jsx(M,{marginLeft:2,children:l.jsx(ie,{text:"Set to current time",mode:"bleed",onClick:C})})]}),Rfe.timePresets]})]})});function g1n(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-1),[t]),i=h.useCallback(()=>t(1),[t]);return l.jsxs(U,{flex:1,children:[l.jsx(ie,{"aria-label":"Go to previous month",onClick:o,mode:"bleed",icon:gT,paddingX:2,radius:0}),l.jsx(M,{flex:1,children:l.jsx(If,{radius:0,value:r,onChange:n,children:o1n.map((s,a)=>l.jsx("option",{value:a,children:s},a))})}),l.jsx(ie,{"aria-label":"Go to next month",mode:"bleed",icon:Tc,onClick:i,paddingX:2,radius:0})]})}function v1n(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-12),[t]),i=h.useCallback(()=>t(12),[t]);return l.jsxs(U,{children:[l.jsx(ie,{"aria-label":"Previous year",onClick:o,mode:"bleed",icon:gT,paddingX:2,radius:0}),l.jsx(h1n,{value:r,onChange:n,radius:0,style:{width:65}}),l.jsx(ie,{"aria-label":"Next year",onClick:i,mode:"bleed",icon:Tc,paddingX:2,radius:0})]})}const y1n=ne.forwardRef(function(t,n){const{value:r=new Date,onChange:o,...i}=t,[s,a]=ne.useState(),c=ne.useCallback(u=>{o(u),a(void 0)},[o]);return l.jsx(m1n,{...i,ref:n,selectedDate:r,onSelect:c,focusedDate:s||r,onFocusedDateChange:a})}),b1n=h.forwardRef(function(t,n){const{value:r,inputValue:o,onInputChange:i,onChange:s,selectTime:a,timeStep:c,...u}=t,[d,f]=h.useState(null),p=or(n),m=h.useRef(null),[v,g]=h.useState(!1);rr(()=>g(!1),[d]);const b=h.useCallback(()=>{var _,C;(_=p.current)==null||_.focus(),(C=p.current)==null||C.select()},[p]),x=h.useCallback(_=>{_.key==="Escape"&&g(!1)},[]),y=h.useCallback(()=>g(!0),[]),w=l.jsx(M,{padding:1,children:l.jsx(ie,{ref:m,icon:xg,mode:"bleed",padding:2,onClick:y,style:{display:"block"},"data-testid":"select-date-button"})});return l.jsx(E$e,{ref:p,...u,value:o,onChange:i,suffix:v?l.jsx(Ru,{zOffset:1e3,children:l.jsx(nn,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:l.jsx(M,{overflow:"auto",children:l.jsx(od,{onDeactivation:b,children:l.jsx(y1n,{selectTime:a,timeStep:c,onKeyUp:x,value:r,onChange:s})})}),open:!0,placement:"bottom",ref:f,radius:2,children:w})}):w})}),x1n=new Date,k$e=ne.forwardRef(function(t,n){const{id:r,deserialize:o,formatInputValue:i,onChange:s,parseInputValue:a,placeholder:c,readOnly:u,selectTime:d,serialize:f,timeStep:p,value:m,...v}=t,[g,b]=ne.useState(null);h.useEffect(()=>{b(null)},[m]);const x=ne.useCallback(S=>{const E=S.currentTarget.value,j=E===""?null:a(E);j===null?(s(null),typeof m>"u"&&g&&b(null)):j.isValid?s(f(j.date)):b(E)},[a,s,m,g,f]),y=ne.useCallback(S=>{s(S?f(S):null)},[f,s]),w=or(n),_=g?a(g):m?o(m):null,C=g||(_!=null&&_.isValid?i(_.date):m);return u?l.jsx(Or,{value:C,readOnly:!0}):l.jsx(b1n,{...v,id:r,selectTime:d,timeStep:p,placeholder:c||"e.g. ".concat(i(x1n)),ref:w,value:_==null?void 0:_.date,inputValue:C||"",readOnly:!!u,onInputChange:x,onChange:y,customValidity:_==null?void 0:_.error})});function w1n(e){return e instanceof Date&&!isNaN(e.valueOf())}const _1n="YYYY-MM-DD",C1n="HH:mm";function S1n(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||_1n,timeFormat:e.timeFormat||C1n,timeStep:"timeStep"in e&&Number(e.timeStep)||1,calendarTodayLabel:e.calendarTodayLabel||"Today"}}function G6(e){return e.toISOString()}function E1n(e){const t=new Date(e);return w1n(t)?{isValid:!0,date:t}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}}function k1n(e,t){if(!t||t===1)return e;const n=EIt(e),r=XTt(n),o=r%t;return G6(o!==0?US(n,r-o):n)}function j1n(e){const{onChange:t,schemaType:n,value:r,elementProps:o}=e,{dateFormat:i,timeFormat:s,timeStep:a}=S1n(n.options),c=h.useCallback(f=>{let p=f;p!==null&&a>1&&(p=k1n(p,a)),t(p===null?Je():vt(p))},[t,a]),u=ne.useCallback(f=>XA(f,"".concat(i," ").concat(s)),[i,s]),d=ne.useCallback(f=>iN(f,"".concat(i," ").concat(s)),[i,s]);return l.jsx(k$e,{...o,onChange:c,deserialize:E1n,formatInputValue:u,parseInputValue:d,placeholder:n.placeholder,selectTime:!0,serialize:G6,timeStep:a,value:r})}const YV="YYYY-MM-DD",T1n=YV;function A1n(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||T1n,calendarTodayLabel:e.calendarTodayLabel||"Today"}}const O1n=e=>iN(e,YV),P1n=e=>XA(e,YV);function D1n(e){const{readOnly:t,onChange:n,schemaType:r,elementProps:o,value:i}=e,{dateFormat:s}=A1n(r.options),a=h.useCallback(d=>{n(d===null?Je():vt(d))},[n]),c=h.useCallback(d=>XA(d,s),[s]),u=h.useCallback(d=>iN(d,s),[s]);return l.jsx(k$e,{...o,deserialize:O1n,formatInputValue:c,onChange:a,parseInputValue:u,placeholder:r.placeholder,readOnly:t,selectTime:!1,serialize:P1n,value:i})}var $fe=Object.freeze,I1n=Object.defineProperty,R1n=(e,t)=>$fe(I1n(e,"raw",{value:$fe(t||e.slice())})),Mfe;const $1n=I(ASe)(Mfe||(Mfe=R1n([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function M1n(e){const{schemaType:t,validationError:n,value:r,elementProps:o}=e;return l.jsx($1n,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...o})}function F1n(e){var t,n;const{schemaType:r,validationError:o,elementProps:i}=e,s=xE(r,"uri"),a=(n=(t=s==null?void 0:s.constraint)==null?void 0:t.options)!=null&&n.allowRelative?"text":"url";return l.jsx(Or,{type:a,inputMode:"url",customValidity:o,...i})}const L1n=(e,t)=>{var n;const r=(n=t.options)==null?void 0:n.maxLength;return e?RPe(e,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function B1n(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||L1n)(e,t,n)}function N1n(e,t){const[n,r]=ne.useState(null),o=ne.useRef(0),i=ne.useCallback(s=>{const a=++o.current;r({status:"pending"}),Promise.resolve().then(()=>e(s)).then(c=>{a===o.current&&r({status:"complete",result:c})},c=>{a===o.current&&r({status:"error",error:c})})},[e,...t]);return[n,i]}function z1n(){const{getClient:e}=Pn(),t=xn(),n=No(),r=BMe(),o=FMe();return h.useMemo(()=>({projectId:r,dataset:o,getClient:e,schema:t,currentUser:n}),[e,t,n,r,o])}function V1n(e,t,n){const r=e.slice(0,-1),o=om(t,r);return{parentPath:r,parent:o,...n}}async function H1n(e,t,n){return typeof e=="function"?e(t,n):om(t,e)}function U1n(e){var t;const{getDocument:n}=ii().__internal,{path:r,value:o,schemaType:i,validation:s,onChange:a,readOnly:c,elementProps:u}=e,d=(t=i.options)==null?void 0:t.source,f=h.useMemo(()=>s.filter(y=>y.level==="error"),[s]),p=z1n(),m=h.useCallback(y=>{if(!y){a(lt.from(Je([])));return}a(lt.from([qi({_type:i.name}),vt(y,["current"])]))},[a,i.name]),[v,g]=N1n(()=>{if(!d)return Promise.reject(new Error('Source is missing. Check source on type "'.concat(i.name,'" in schema')));const y=n()||{_type:i.name},w=V1n(r,y,p);return H1n(d,y,w).then(_=>B1n(_||"",i,w)).then(_=>m(_))},[d,n,i,r,p,m]),b=(v==null?void 0:v.status)==="pending",x=ne.useCallback(y=>m(y.currentTarget.value),[m]);return l.jsx(te,{space:3,children:l.jsxs(U,{children:[l.jsxs(M,{flex:1,children:[l.jsx(Or,{customValidity:f.length>0?f[0].message:"",disabled:b,onChange:x,value:(o==null?void 0:o.current)||"",readOnly:c,...u}),(v==null?void 0:v.status)==="error"&&l.jsx(J,{padding:2,tone:"critical",children:v.error.message})]}),d&&l.jsx(M,{marginLeft:1,children:l.jsx(ie,{mode:"ghost",type:"button",disabled:c||b,onClick:g,text:(v==null?void 0:v.status)==="pending"?"Generating…":"Generate"})})]})})}function W1n(e){return h.useMemo(()=>{var n;return Array.isArray((n=e.schemaType.options)==null?void 0:n.list)},[e.schemaType])?l.jsx(l$e,{...e}):Nmn(e)?l.jsx(y$e,{...e}):l.jsx(x$e,{...e})}const Ffe={document:Ife,object:Ife,array:W1n,boolean:V0n,number:C$e,text:M1n,email:H0n,datetime:j1n,date:D1n,url:F1n,image:Npn,file:Phn,string:_$e,slug:U1n,crossDatasetReference:dmn};function Y1n(e){if(hc("array",e))return D0n(e);if(hc("reference",e))return Lmn;if(hc("string",e))return M0n(e);if(hc("number",e))return L0n(e)}function q1n(e){var t;if((t=e.components)!=null&&t.input)return e.components.input;const n=Y1n(e);if(n)return n;const o=IV(e,new Set).reduce((s,a)=>(s[a.name]=a,s),{}),i=Object.values(o).find(s=>Ffe[s.name]);if(i)return Ffe[i.name];throw new Error("Could not find input component for schema type `".concat(e.name,"`"))}function G1n(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:sh}function Rm(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),o=h.useCallback(i=>{var s;if(!((s=i.schemaType)!=null&&s.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...c}=i.schemaType,u=t(c);return h.createElement(u,i)},[t]);return h.createElement(r,{...n,renderDefault:o})}function K1n(e){return Rm({componentProps:e,componentResolver:q1n})}function Z1n(e){return Rm({componentProps:e,componentResolver:mdn})}function X1n(e){return Rm({componentProps:e,componentResolver:ndn})}function Q1n(e){return Rm({componentProps:e,componentResolver:G1n})}function J1n(e){return Rm({componentProps:e,componentResolver:Rfn})}function eyn(e){return Rm({componentProps:e,componentResolver:$fn})}function tyn(e){return Rm({componentProps:e,componentResolver:Mfn})}function nyn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function ryn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function oyn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function iyn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function syn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function ayn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function lyn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function cyn(){return Ml({defaultComponent:K1n,pick:nyn})}function uyn(){return Ml({defaultComponent:Z1n,pick:ryn})}function j$e(){return Ml({defaultComponent:Q1n,pick:oyn})}function dyn(){return Ml({defaultComponent:X1n,pick:iyn})}function fyn(){return Ml({defaultComponent:J1n,pick:syn})}function hyn(){return Ml({defaultComponent:eyn,pick:ayn})}function pyn(){return Ml({defaultComponent:tyn,pick:lyn})}function d_(e){const t=j$e();return l.jsx(IIe,{...e,component:t})}const myn=e=>{let{asset:t,assetType:n,referringDocuments:r}=e;const o=r.length,i=o>0,s=t.originalFilename?l.jsx("strong",{children:t.originalFilename}):"this ".concat(n);return i?l.jsxs(l.Fragment,{children:[l.jsx(J,{borderBottom:!0,marginTop:2,paddingBottom:2,marginBottom:1,children:l.jsxs(B,{as:"h2",size:[1,1,2,2],weight:"regular",textOverflow:"ellipsis",children:[o," ",o===1?"document is":"documents are"," using ",s]})}),r.map(a=>l.jsx(gyn,{document:a},a._id))]}):l.jsxs(B,{size:[1,1,2,2],as:"h2",weight:"regular",children:["No documents are using ",s]})},gyn=e=>{let{document:t}=e;const n=xn(),r=h.useCallback(o=>l.jsx(_m,{...o,params:{id:t._id,type:t._type},intent:"edit"}),[t]);return l.jsx(J,{as:r,paddingY:2,paddingX:1,radius:2,"data-as":"a",tabIndex:0,children:l.jsx(U,{align:"center",gap:2,children:l.jsx(d_,{layout:"default",value:{_type:"reference",_ref:t._id},schemaType:n.get(t._type)})})},t._id)},Lfe={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},Bfe={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},Nfe={height:"100%"},vyn=e=>{let{asset:t,assetType:n,hasResults:r=!1}=e;const o=n==="image",i=t.originalFilename?l.jsxs(l.Fragment,{children:["The ",n," ",l.jsx("strong",{children:t.originalFilename})]}):"this ".concat(n);return r?l.jsx(J,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:l.jsxs(en,{columns:3,gap:[2,3,4],children:[l.jsxs(U,{gap:[3,4],align:"center",style:{gridColumn:o?"span 2":"span 3"},children:[l.jsx(B,{children:l.jsx(Pr,{})}),l.jsxs(B,{size:1,children:[i," cannot be deleted because it's being used. In order to delete the ",n," you need the remove all uses of it."]})]}),o&&l.jsx(J,{__unstable_checkered:!0,border:!0,radius:1,style:Bfe,children:l.jsx(U,{align:"center",justify:"center",style:Nfe,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:Lfe,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):l.jsx(J,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:l.jsxs(en,{columns:3,gap:3,children:[l.jsx(U,{style:{gridColumn:o?"span 2":"span 3"},align:"center",children:l.jsxs(B,{children:["You are about to delete the ",n,t.originalFilename&&l.jsxs(l.Fragment,{children:[" ",l.jsx("strong",{children:t.originalFilename})]})," ","and its metadata.",l.jsx("br",{}),l.jsx("br",{}),"Are you sure?"]})}),o&&l.jsx(J,{__unstable_checkered:!0,border:!0,radius:1,style:Bfe,children:l.jsx(U,{align:"center",justify:"center",style:Nfe,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:Lfe,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})})},X3="confirmDelete",Q3="listUsage";function K6(e){let{asset:t,assetType:n="image",mode:r=Q3,isDeleting:o=!1,onClose:i,onDelete:s}=e;const{isLoading:a,referringDocuments:c}=Jtn(t._id),d=r===Q3?"Documents using ".concat(n):"Delete ".concat(n),[f,p]=h.useState(!1),[m,v]=h.useState(!0),[g,b]=h.useState([]),x=r===X3,y=g.length>0,w=r===Q3||y,_=r===X3&&!y,C=x?l.jsxs(en,{padding:2,gap:2,columns:2,children:[l.jsx(ie,{mode:"bleed",text:"Cancel",onClick:i}),l.jsx(ie,{text:"Delete",tone:"critical",icon:ao,onClick:s,loading:o,disabled:!f})]}):void 0;return h.useEffect(()=>{const S=c.reduce((j,k)=>k._id.startsWith("drafts.")?j.concat(k._id.slice(7)):j,[]),E=c.filter(j=>!S.includes(j._id));b(E),p(E.length===0&&!a),v(a)},[a,c]),l.jsxs(Pi,{__unstable_autoFocus:!m,footer:C,header:d,id:"asset-dialog",onClickOutside:i,onClose:i,width:1,children:[m&&l.jsx(M,{padding:4,children:l.jsx(Qtn,{text:"Loading..."})}),!m&&l.jsxs(te,{paddingX:_?0:[2,3,4],paddingY:_?0:[3,3,3,4],space:1,children:[r===X3&&l.jsx(vyn,{asset:t,assetType:n,hasResults:y}),w&&l.jsx(myn,{asset:t,referringDocuments:g,assetType:n})]})]})}function T$e(e){let{isSelected:t,border:n=!0,onAction:r}=e;const o=t?"default":"bleed",i=t?"primary":"default";return l.jsx(Kt,{button:l.jsx(ie,{padding:2,mode:n?"ghost":o,icon:Fo,tone:n?"default":i}),id:"asset-menu",portal:!0,menu:l.jsxs(Ft,{children:[l.jsx(Be,{text:"Show uses",icon:Ef,onClick:()=>{r({type:"showUsage"})}}),l.jsx(Be,{text:"Delete",icon:ao,tone:"critical",onClick:()=>{r({type:"delete"})}})]}),placement:"right"})}var zfe=Object.freeze,yyn=Object.defineProperty,ZO=(e,t)=>zfe(yyn(e,"raw",{value:zfe(t||e.slice())})),Vfe,Hfe,Ufe,Wfe;const byn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),xyn=I.img(Vfe||(Vfe=ZO([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),wyn=I(J)(Hfe||(Hfe=ZO([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),Z6=I.div(Ufe||(Ufe=ZO([`
  position: relative;
  display: inherit;
`]))),_yn=I.div(Wfe||(Wfe=ZO([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),Z6,Z6),Cyn=ne.memo(function(t){const n=ar(tn),r=Bo(),o=h.useRef(),{asset:i,onClick:s,onKeyPress:a,onDeleteFinished:c,isSelected:u}=t,[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!1);h.useEffect(()=>()=>{o.current&&o.current.unsubscribe()},[]);const b=h.useCallback(()=>{m(!0)},[m]),x=h.useCallback(()=>{f(!1),m(!1)},[f,m]),y=h.useCallback(()=>{f(!0)},[f]),w=h.useCallback(O=>{r.push({closable:!0,status:"error",title:"Image could not be deleted",description:O.message})},[r]),_=h.useCallback(()=>{r.push({status:"success",title:"Image was deleted"})},[r]),C=h.useCallback(()=>{g(!0),o.current=n.observable.delete(i._id).subscribe({next:()=>{g(!1),c(i._id),m(!1),_()},error:O=>{g(!1),w(O),console.error("Could not delete asset",O)}})},[i._id,w,_,c,n.observable]),S=h.useCallback(O=>{O.type==="delete"&&b(),O.type==="showUsage"&&y()},[b,y]),{originalFilename:E,_id:j,url:k}=i,T=200*Math.max(1,byn),A=k.includes(".gif")?"".concat(k,"?h=").concat(T,"&fit=max&fm=jpg"):"".concat(k,"?h=").concat(T,"&fit=max");return l.jsxs(Z6,{children:[l.jsx(ie,{tone:"primary",selected:u,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:l.jsxs(wyn,{__unstable_checkered:!0,children:[l.jsx(xyn,{alt:E,src:A,onClick:s,"data-id":j}),v&&l.jsx(Xtn,{})]})}),l.jsx(_yn,{children:l.jsx(T$e,{isSelected:u,onAction:S})}),(d||p)&&l.jsx(K6,{asset:i,mode:p?"confirmDelete":"listUsage",onClose:x,onDelete:C,isDeleting:v})]})}),Syn=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Eyn=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],kyn=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],jyn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Yfe=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function Tyn(e){let{bits:t=!1,binary:n=!1,signed:r=!1,minimumFractionDigits:o,maximumFractionDigits:i,locale:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e;if(!Number.isFinite(a))throw new TypeError("Expected a finite number, got ".concat(typeof a,": ").concat(a));const c=t?n?jyn:kyn:n?Eyn:Syn;if(r&&a===0)return" 0 ".concat(c[0]);const u=a<0,d=u?"-":r?"+":"";u&&(a=-a);let f;if(o!==void 0&&(f={minimumFractionDigits:o}),i!==void 0&&(f={maximumFractionDigits:i,...f}),a<1){const g=Yfe(a,s,f);return"".concat(d+g," ").concat(c[0])}const p=Math.min(Math.floor(n?Math.log(a)/Math.log(1024):Math.log10(a)/3),c.length-1);a/=(n?1024:1e3)**p,f||(a=a.toPrecision(3));const m=Yfe(Number(a),s,f),v=c[p];return"".concat(d+m," ").concat(v)}const J3={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function Ayn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function Oyn(e){return J3!=null&&J3[e]?J3[e].title:Ayn(e)}var qfe=Object.freeze,Pyn=Object.defineProperty,_u=(e,t)=>qfe(Pyn(e,"raw",{value:qfe(t||e.slice())})),Gfe,Kfe,Zfe,Xfe,Qfe,Jfe,ehe,the,nhe;const X6=I.span(Gfe||(Gfe=_u([`
  background-color: transparent;
  flex-shrink: 0;
`]))),gg=I(U)(Kfe||(Kfe=_u([""]))),Dyn=I(B)(Zfe||(Zfe=_u([""]))),Iyn=I(J)(Qfe||(Qfe=_u([`
  &:hover-within `,` {
    --card-muted-fg-color: var(--card-muted-fg-color);
    --card-fg-color: var(--card-fg-color);
  }

  `,`
`])),Dyn,e=>e.isSelected&&de(Xfe||(Xfe=_u([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),rhe=I(ie)(the||(the=_u([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: 0.1875rem;
  }

  `,`

  `,`
`])),e=>e.isSelected&&de(Jfe||(Jfe=_u([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),X6,gg),e=>!e.isSelected&&de(ehe||(ehe=_u([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),Ryn=I(B)(nhe||(nhe=_u([`
  overflow-wrap: anywhere;
`]))),ohe={position:"relative"},ihe={flexShrink:0},eR={minWidth:0},she={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},$yn="Cannot delete current file",Myn=e=>{const t=ar(tn),n=Bo(),r=h.useRef(),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),{asset:p,onClick:m,onKeyPress:v,onDeleteFinished:g,isSelected:b,isMobile:x}=e,{originalFilename:y,_id:w,mimeType:_,size:C,_createdAt:S}=p,E=qo(S,{agoSuffix:!0}),j=Oyn(_),k=Tyn(C),T=(y||"").length>37,A=()=>{a(!0)},O=V=>{n.push({closable:!0,status:"error",title:"File could not be deleted",description:V.message})},P=()=>{n.push({status:"success",title:"File was deleted"})},D=()=>{u(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{u(!1),g==null||g(p._id),a(!1),P()},error:V=>{u(!1),O(V),console.error("Could not delete asset",V)}})},R=()=>{i(!1),a(!1)},$=()=>{i(!0)},H=()=>{f(!d)},F=V=>{V.type==="delete"&&A(),V.type==="showUsage"&&$()};return x?l.jsxs(J,{paddingBottom:2,style:ohe,children:[l.jsxs(en,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:c?.5:1},children:[l.jsx(rhe,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,children:l.jsxs(U,{gap:2,flex:2,align:"center",children:[l.jsx(J,{as:X6,padding:2,tone:"transparent",radius:2,children:l.jsx(B,{muted:!0,size:2,style:ihe,children:l.jsx(Sf,{})})}),l.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:eR,children:y})]})}),l.jsx(U,{justify:"flex-end",align:"center",paddingRight:1,style:she,children:l.jsx(ie,{mode:"bleed",fontSize:1,padding:2,onClick:H,icon:d?ixe:Ya})})]}),d&&l.jsxs(l.Fragment,{children:[l.jsxs(en,{marginTop:3,columns:3,gap:1,children:[l.jsxs(te,{space:2,children:[l.jsx(Nt,{size:1,muted:!0,children:"Size"}),l.jsx(B,{size:1,muted:!0,children:k})]}),l.jsxs(te,{space:2,children:[l.jsx(Nt,{size:1,muted:!0,children:"Type"}),l.jsx(B,{size:1,muted:!0,children:j})]}),l.jsxs(te,{space:2,children:[l.jsx(Nt,{size:1,muted:!0,children:"Date added"}),l.jsx(B,{size:1,muted:!0,children:E})]})]}),l.jsxs(te,{space:2,marginTop:3,children:[l.jsx(ie,{fontSize:1,tone:"default",mode:"ghost",text:"Show uses",onClick:$,icon:Ef}),l.jsx(ie,{fontSize:1,tone:"critical",mode:"ghost",text:"Delete",icon:ao,disabled:b,title:b?$yn:"Delete file",onClick:A})]})]}),(o||s)&&l.jsx(K6,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:R,onDelete:D,isDeleting:c})]}):l.jsxs(Iyn,{asset:p,paddingBottom:1,style:ohe,radius:0,overflow:"hidden",isSelected:b,"aria-selected":"true",children:[l.jsxs(en,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:c?.5:1},children:[l.jsx(rhe,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:v,title:"Select the file ".concat(y),isSelected:b,children:l.jsxs(gg,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:v,"data-id":w,title:"Select the file ".concat(y),children:[l.jsx(J,{as:X6,padding:2,tone:"transparent",radius:2,style:ihe,children:l.jsx(B,{muted:!0,size:2,children:l.jsx(Sf,{})})}),T&&l.jsx(st,{content:l.jsx(M,{padding:2,children:l.jsx(B,{size:1,children:y})}),fallbackPlacements:["right","left"],placement:"top",portal:!0,children:l.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:eR,children:y})}),!T&&l.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:eR,children:y})]})}),l.jsx(gg,{align:"center",children:l.jsx(B,{size:1,muted:!0,children:k})}),l.jsx(gg,{align:"center",children:l.jsx(M,{children:l.jsx(Ryn,{size:1,muted:!0,textOverflow:"ellipsis",children:j})})}),l.jsx(gg,{align:"center",children:l.jsx(B,{as:"time",size:1,muted:!0,dateTime:S,children:E})}),l.jsx(gg,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:she,children:l.jsx(T$e,{border:!1,isSelected:!1,onAction:F})})]}),(o||s)&&l.jsx(K6,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:R,onDelete:D,isDeleting:c})]})},Fyn={paddingLeft:"2.2rem"},ahe={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function Lyn(e){const n=mm()<2,{assets:r,onClick:o,onKeyPress:i,onDeleteFinished:s,selectedAssets:a,isLoading:c}=e;return l.jsxs(M,{padding:4,children:[l.jsx(J,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:n?l.jsx(en,{style:ahe,children:l.jsx(M,{flex:2,paddingLeft:5,children:l.jsx(Nt,{muted:!0,size:1,children:"Filename"})})}):l.jsxs(en,{gap:1,style:ahe,children:[l.jsx(M,{flex:2,style:Fyn,children:l.jsx(Nt,{muted:!0,size:1,children:"Filename"})}),l.jsx(M,{flex:1,children:l.jsx(Nt,{muted:!0,size:1,children:"Size"})}),l.jsx(M,{flex:1,children:l.jsx(Nt,{muted:!0,size:1,children:"Type"})}),l.jsx(M,{flex:1,children:l.jsx(Nt,{muted:!0,size:1,children:"Date added"})})]})}),l.jsxs(te,{children:[c&&r.length===0&&l.jsx(M,{paddingTop:4,paddingBottom:2,children:l.jsx(U,{justify:"center",children:l.jsx(ir,{muted:!0})})}),r.map(u=>l.jsx(Myn,{asset:u,isMobile:n,isSelected:a.some(d=>d._id===u._id),onClick:o,onKeyPress:i,onDeleteFinished:s},u._id))]})]})}var lhe=Object.freeze,Byn=Object.defineProperty,A$e=(e,t)=>lhe(Byn(e,"raw",{value:lhe(t||e.slice())})),che,uhe;const wE=200,O$e="sanity.imageAsset",Nyn="sanity.fileAsset",zyn=e=>{const t=["image/*","audio/*","video/*"],r=e.split(",").map(o=>o.trim()).reduce((o,i)=>t.includes(i)?{...o,wildcards:"mimeType match '".concat(i,"' || ").concat(o.wildcards)}:i.indexOf(".")===0?{...o,extensions:"'".concat(i.replace(".",""),"', ").concat(o.extensions)}:{...o,mimes:"'".concat(i,"', ").concat(o.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(r.wildcards,` 
    extension in [`).concat(r.extensions,`] ||
    mimeType in [`).concat(r.mimes,`]
  )`)},Vyn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O$e,r=arguments.length>3?arguments[3]:void 0;const i=r.length>0?zyn(r):"";return`
  *[_type == "`.concat(n,'" ').concat(i,"] | order(_updatedAt desc) [").concat(e,"...").concat(t,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},Hyn=I(en)(che||(che=A$e([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`]))),Uyn=I(J)(uhe||(uhe=A$e([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),Wyn=function(t,n){const r=ar(tn),o=h.useMemo(()=>r.withConfig({apiVersion:"2023-02-14"}),[r]),i=h.useRef("default-asset-source-".concat(hTe())),s=h.useRef(0),a=h.useRef(),[c,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!0),{selectedAssets:b,assetType:x="image",dialogHeaderTitle:y="Select image",onClose:w,onSelect:_,accept:C}=t,S=C?C.split(",").map(F=>F.trim()).join(", "):"",E=!v&&C&&C.length>0,j=C&&C==="image/*"&&x==="image",k=h.useCallback(F=>{const V=F*wE,W=V+wE,z=x==="image",q=z?"asset.image-list":"asset.file-list",oe=z?O$e:Nyn;g(!0),typeof C<"u"&&(a.current=o.observable.fetch(Vyn(V,W,oe,C),{},{tag:q}).subscribe(N=>{f(N.length<wE),u(G=>G.concat(N)),g(!1)}))},[x,C,o]),T=h.useCallback(F=>{u(V=>V.filter(W=>W._id!==F))},[u]),A=h.useCallback(F=>{c.find(W=>W._id===F)&&_([{kind:"assetDocumentId",value:F}])},[c,_]),O=h.useCallback(F=>{F.preventDefault(),A(F.currentTarget.getAttribute("data-id"))},[A]),P=h.useCallback(F=>{F.key==="Enter"&&(F.preventDefault(),A(F.currentTarget.getAttribute("data-id")))},[A]),D=h.useCallback(()=>{w&&w()},[w]),R=h.useCallback(F=>{F.preventDefault(),k(++s.current)},[k]);h.useEffect(()=>(k(s.current),()=>{a.current&&a.current.unsubscribe()}),[k]),h.useEffect(()=>{!v&&(!s.current||s.current===0)&&m(!0)},[v]);const $=h.useMemo(()=>l.jsxs(M,{padding:4,children:[l.jsx(Hyn,{gap:2,children:c.map(F=>l.jsx(Cyn,{asset:F,isSelected:b.some(V=>V._id===F._id),onClick:O,onKeyPress:P,onDeleteFinished:T},F._id))}),v&&c.length===0&&l.jsx(U,{justify:"center",children:l.jsx(ir,{muted:!0})}),!v&&c.length===0&&l.jsx(B,{align:"center",muted:!0,children:"No images"})]}),[c,T,O,P,v,b]),H=h.useMemo(()=>l.jsx(Lyn,{isLoading:v,assets:c,selectedAssets:b,onClick:O,onKeyPress:P,onDeleteFinished:T}),[v,c,b,O,P,T]);return l.jsxs(Pi,{__unstable_autoFocus:p,header:y,id:i.current,onClickOutside:D,onClose:D,ref:n,width:2,children:[E&&!j&&l.jsx(J,{tone:"primary",marginTop:4,marginX:4,padding:[3,3,4],border:!0,radius:2,children:l.jsxs(U,{gap:[3,4],align:"center",children:[l.jsx(B,{children:l.jsx(lm,{})}),l.jsxs(B,{size:1,children:["Only showing assets of accepted types: ",l.jsx("b",{children:S})]})]})}),x==="image"&&$,x==="file"&&H,c.length>0&&!d&&l.jsx(Uyn,{tone:"default",padding:4,children:l.jsx(U,{direction:"column",children:l.jsx(ie,{type:"button",icon:r8,loading:v,onClick:R,text:"Load more",tone:"primary"})})})]})},P$e=ne.memo(ne.forwardRef(Wyn)),D$e={name:"sanity-default",title:"Uploaded files",component:P$e,icon:n8},I$e={name:"sanity-default",title:"Uploaded images",component:P$e,icon:Cl};function Yyn(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function lh(e,t){return e[t]}function qyn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const Gyn=[{fieldPath:"_updatedAt",icon:xg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Updated at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:xg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:Ef,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:zy,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:zy,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:zy,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:mT,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:xg,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:xg,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:ig,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:Sf,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:Cl,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:_xe,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:nxe,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:Ef,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:ig,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:ig,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Il,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:ig,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:ig,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function Kyn(e){let{documentId:t,schemaType:n}=e;const r=$i(),{draft:o,published:i,isLoading:s}=co(()=>kO(r,n,t,""),[t,r,n]),a=h.useMemo(()=>({_id:t,_type:n.name}),[t,n.name]),c=Gz({draft:o,published:i,value:a});return s?l.jsx(C0,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):l.jsx(l.Fragment,{children:c.title||t.slice(0,8)})}const Dj="yyyy-MM-dd";function Zyn(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t?"True":"False"})}function dhe(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Lu(n)?null:l.jsx(l.Fragment,{children:Ko(n,Dj)})}function fhe(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Lu(n)?null:l.jsx(l.Fragment,{children:Ko(n,Dj)})}function Xyn(e){let{value:t}=e;var n;return l.jsxs(l.Fragment,{children:[Math.floor((n=t==null?void 0:t.unitValue)!=null?n:0)," ",t.unit]})}function hhe(e){let{value:t}=e;const n=t!=null&&t.dateMin?new Date(t.dateMin):null,r=t!=null&&t.dateMax?new Date(t.dateMax):null;return!r||!n||!Lu(r)||!Lu(n)?null:l.jsxs(l.Fragment,{children:[Ko(n,Dj)," → ",Ko(r,Dj)]})}function tg(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}function ng(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t," ",Ir("item",t)]})}function Qyn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min," → ",t.max]})}function Jyn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min," → ",t.max," items"]})}function ul(e){let{value:t}=e;const n=xn(),r=t._ref,o=n.get(t._type);return o?l.jsx(Kyn,{documentId:r,schemaType:o}):null}function wi(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}const R$e=h.createContext(void 0);function Pt(){const e=h.useContext(R$e);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function Sa(e){let{value:t,onChange:n}=e;const[r,o]=h.useState(t??""),{state:{fullscreen:i}}=Pt(),s=h.useCallback(a=>{o(a.currentTarget.value);const c=parseFloat(a.currentTarget.value);n(Number.isFinite(c)?c:null)},[n]);return l.jsx(Or,{fontSize:i?2:1,onChange:s,placeholder:"Value",radius:2,step:"any",type:"number",value:r})}function $$e(e){let{onChange:t,value:n}=e;var r,o;const[i,s]=h.useState((r=n==null?void 0:n.max)!=null?r:""),[a,c]=h.useState((o=n==null?void 0:n.min)!=null?o:""),{state:{fullscreen:u}}=Pt(),d=h.useCallback(p=>{var m;s(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:Number.isFinite(v)?v:null,min:(m=n==null?void 0:n.min)!=null?m:null})},[n==null?void 0:n.min,t]),f=h.useCallback(p=>{var m;c(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:(m=n==null?void 0:n.max)!=null?m:null,min:Number.isFinite(v)?v:null})},[n==null?void 0:n.max,t]);return l.jsxs(U,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(Or,{fontSize:u?2:1,onChange:f,placeholder:"Min value",radius:2,step:"any",type:"number",value:a})}),l.jsx(M,{flex:1,children:l.jsx(Or,{fontSize:u?2:1,onChange:d,placeholder:"Max value",radius:2,step:"any",type:"number",value:i})})]})}function XO(e,t){const n=t.split("."),r=n[0];if(r&&Va(e)){const o=e.fields.find(i=>i.name===r);if(o){const i=n.slice(1).join(".");return i?XO(o.type,i):o}}}var phe=Object.freeze,ebn=Object.defineProperty,M$e=(e,t)=>phe(ebn(e,"raw",{value:phe(t||e.slice())})),mhe,ghe;const tbn=I(M)(mhe||(mhe=M$e([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`]))),nbn=I(Nt)(ghe||(ghe=M$e([`
  max-width: 150px;
`])));function rbn(e){let{documentId:t,presence:n,schemaType:r}=e;const o=$i(),{draft:i,published:s,isLoading:a}=co(()=>kO(o,r,t,""),[t,o,r]),c=h.useMemo(()=>({_id:t,_type:r.name}),[t,r.name]),u=h.useMemo(()=>a?null:l.jsxs(Yt,{space:3,children:[n&&n.length>0&&l.jsx(yV,{presence:n}),l.jsx(nbn,{size:0,muted:!0,textOverflow:"ellipsis",children:r.title})]}),[a,n,r.title]);return l.jsx(tbn,{children:l.jsx(sh,{...Gz({draft:i,published:s,value:c}),isPlaceholder:a??!0,layout:"default",icon:r.icon,status:u})})}function qV(e){let{compact:t,disableIntentLink:n,documentId:r,documentType:o,onClick:i,...s}=e;const c=xn().get(o),u=g_(r),d=h.useMemo(()=>({id:r,type:c==null?void 0:c.name}),[r,c==null?void 0:c.name]),{onClick:f,href:p}=Aw({intent:"edit",params:d}),m=h.useCallback(v=>{n||f(v),i==null||i()},[n,i,f]);return c?l.jsx(M,{...s,children:l.jsx(Ep,{as:"a","data-as":"a",flex:1,href:n?void 0:p,onClick:m,padding:t?1:2,radius:2,tabIndex:-1,children:l.jsx(rbn,{documentId:r,presence:u,schemaType:c})})}):null}const obn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),ibn="_debug_search_score",F$e=!1,vhe=1e3,L$e="k",sbn=obn?"Cmd":"Ctrl",Nx=Df.space[1],abn=735,B$e=800,f_=5,t1=2;function QO(e){let{allowEmptyQueries:t,terms:n}=e;const r=t?!0:n.query.length>0,o=!!n.filter,i=n.types.length>0;return r||o||i}function lbn(e,t){return JO(e).filter(n=>cbn(n,t)).sort(Q6)}function JO(e){return arn(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function Q6(e,t){var n,r;return((n=e.title)!=null?n:e.name).localeCompare((r=t.title)!=null?r:t.name)}function cbn(e,t){var n;return!t||((n=e.title)!=null?n:e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const ubn=300,tR={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function dbn(e){return e!==null}function fbn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function N$e(e){let{allowEmptyQueries:t,initialState:n,onComplete:r,onError:o,onStart:i,schema:s}=e;const[a,c]=h.useState(n),u=ar(tn),d=h.useMemo(()=>Xz(JO(s),u,{tag:"search.global",unique:!0}),[u,s]),f=aA(m=>m.pipe(dt(dbn),le(fbn),Wn(zt),v7(v=>Mo((v==null?void 0:v.debounceTime)||ubn)),mn(i),nt(v=>Fr(ve({...tR,loading:!0,options:v.options,terms:v.terms}),Bit(()=>QO({allowEmptyQueries:t,terms:v.terms}),d(v.terms,v.options).pipe(le(g=>({hits:g})),mn(g=>{let{hits:b}=g;return r==null?void 0:r(b)}),jn(g=>(o==null||o(g),ve({...tR,error:g,loading:!1,options:v.options,terms:v.terms})))),ve(Un).pipe(mn(()=>r==null?void 0:r([])))),ve({loading:!1}))),ta((v,g)=>({...v,...g}),tR),mn(c)),[t,d]);return{handleSearch:h.useCallback(m=>f(m),[f]),searchState:a}}const hbn=40;function GV(e){let{availableCharacters:t=hbn,types:n}=e;const r=n.reduce(function(){let i=t;return function(s,a,c){const u=yhe(a);return i-=u.length,(c===0||t>u.length&&i>u.length)&&s.push(a),s}}(),[]),o=n.length-r.length;return n.length?["".concat(r.map(yhe).join(", ")),...o?["+".concat(o," more")]:[]].join(" "):"All types"}function yhe(e){var t;return(t=e.title)!=null?t:e.name}var bhe=Object.freeze,pbn=Object.defineProperty,mbn=(e,t)=>bhe(pbn(e,"raw",{value:bhe(t||e.slice())})),xhe;const gbn=()=>!0,vbn=I(B)(xhe||(xhe=mbn([`
  word-break: break-word;
`]))),ybn=h.forwardRef(function(t,n){let{onSelect:r,types:o=[],value:i}=t;const s=h.useRef(null),a=xn(),{state:{fullscreen:c}}=Pt(),u=h.useId(),[d,f]=h.useState([]),{handleSearch:p,searchState:m}=N$e({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:o}},onComplete:_=>{f(_.map(C=>({hit:C,value:C.hit._id})))},schema:a}),v=h.useCallback(()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:o}})},[p,o]),g=h.useCallback(_=>{p(_?{options:{limit:100},terms:{query:_||"",types:o}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:o}})},[p,o]),b=h.useCallback(_=>{var C;const S=(C=d.find(E=>E.value===_))==null?void 0:C.hit.hit;S&&(r==null||r({_ref:Tn(S._id),_type:S._type}))},[d,r]),x=h.useMemo(()=>{const _=GV({types:o});return o.length>0?"Search for ".concat(_):"Search all documents"},[o]),y=h.useCallback(_=>{const C=_.hit.hit._type;return l.jsx(qV,{compact:!0,disableIntentLink:!0,documentId:_.value,documentType:C})},[]),w=h.useCallback((_,C)=>{const{content:S,hidden:E,onMouseEnter:j,onMouseLeave:k}=_,T=d&&d.length>0;return l.jsx(nn,{arrow:!1,constrainSize:!0,content:l.jsx("div",{ref:C,children:T?S:m.terms.query&&l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(vbn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",m.terms.query,"”"]})]})})})}),matchReferenceWidth:!0,onMouseEnter:j,onMouseLeave:k,open:!m.loading&&!E,overflow:"auto",placement:"bottom-start",radius:t1,referenceElement:s.current})},[d,m.loading,m.terms.query]);return l.jsx("div",{ref:s,children:l.jsx(t7,{"aria-label":x,filterOption:gbn,fontSize:c?2:1,id:u,loading:m.loading,openButton:{onClick:v},options:d,onQueryChange:g,onSelect:b,placeholder:x,radius:2,ref:n,renderOption:y,renderPopover:w,value:i==null?void 0:i._ref})})});function Sb(e){let{fieldDefinition:t,onChange:n,value:r}=e;const{onClose:o,state:{documentTypesNarrowed:i,fullscreen:s}}=Pt(),a=xn(),c=h.useCallback(p=>n(p),[n]),u=h.useMemo(()=>t?t.documentTypes.filter(p=>i.includes(p)).flatMap(p=>{const m=a.get(p);if(m){const v=XO(m,t.fieldPath);if(Pl(v==null?void 0:v.type))return v==null?void 0:v.type.of.filter(Cu).flatMap(g=>g.to);if(Cu(v==null?void 0:v.type))return v==null?void 0:v.type.to}return[]}).reduce((p,m)=>(p.findIndex(v=>v.name===(m==null?void 0:m.name))<0&&p.push(m),p),[]):[],[i,t,a]),d=h.useCallback(()=>c(null),[c]),f=h.useCallback(()=>{o==null||o()},[o]);return l.jsx(M,{style:{width:"min(calc(100vw - 40px), 420px)"},children:r!=null&&r._ref&&(r!=null&&r._type)?l.jsxs(te,{space:3,children:[l.jsx(J,{padding:1,radius:1,shadow:1,children:l.jsx(qV,{compact:!0,documentId:r._ref,documentType:r._type,onClick:f})}),l.jsx(ie,{fontSize:s?2:1,mode:"ghost",onClick:d,text:"Clear",tone:"critical"})]}):l.jsx(ybn,{onSelect:c,types:u,value:r})})}function bbn(e){let{onClick:t,selected:n,title:r,value:o}=e;const i=h.useCallback(()=>t(o),[t,o]);return l.jsx(Be,{onClick:i,padding:3,pressed:n,tone:"default",children:l.jsx(U,{align:"center",justify:"space-between",gap:3,children:l.jsxs(te,{paddingRight:2,space:2,children:[l.jsx(B,{size:1,weight:"regular",children:r}),o&&l.jsx(er,{muted:!0,size:0,children:o})]})})})}function Ij(e){let{fieldDefinition:t,onChange:n,value:r}=e;const o=h.useId(),{state:{documentTypesNarrowed:i}}=Pt(),s=xn(),a=h.useMemo(()=>t?t.documentTypes.filter(f=>i.includes(f)).map(f=>{const p=s.get(f);if(p){const m=XO(p,t.fieldPath);return m==null?void 0:m.type.options}return null}).filter(lo).map(f=>f.list).flatMap(f=>f==null?void 0:f.map(p=>xbn(p))).filter(lo).reduce((f,p)=>{const m=f.findIndex(v=>v.value===(p==null?void 0:p.value));if(m>-1){const v=f[m];f[m]={...f[m],title:so([...v.title,p.title]).sort()}}else f.push({...p,title:[p.title]});return f},[]):[],[i,t,s]),c=h.useCallback(u=>{n(u)},[n]);return l.jsx(Kt,{button:l.jsx(ie,{mode:"ghost",padding:3,children:l.jsxs(U,{align:"center",gap:2,justify:"space-between",children:[l.jsx(B,{size:1,weight:"regular",children:r||"Select..."}),l.jsx(M,{marginLeft:1,children:l.jsx(B,{size:1,children:l.jsx(Il,{})})})]})}),id:o||"",menu:l.jsx(Ft,{children:a.map((u,d)=>l.jsx(bbn,{onClick:c,selected:u.value===r,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function xbn(e){return NL(e)?e:{title:Sm("".concat(e)),value:e}}const z$e=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),V$e=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),H$e=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),U$e=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function Ke(e){return JSON.stringify(e)}const wbn={arrayCountEqual:{buttonLabel:"has",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") == ").concat(Ke(n)):null},initialValue:null,inputComponent:Sa,label:"quantity is",type:"arrayCountEqual"},arrayCountGt:{buttonLabel:"has >",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") > ").concat(Ke(n)):null},icon:V$e,initialValue:null,inputComponent:Sa,label:"quantity greater than",type:"arrayCountGt"},arrayCountGte:{buttonLabel:"has ≥",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") >= ").concat(Ke(n)):null},icon:z$e,initialValue:null,inputComponent:Sa,label:"quantity greater than or equal to",type:"arrayCountGte"},arrayCountLt:{buttonLabel:"has <",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") < ").concat(Ke(n)):null},icon:U$e,initialValue:null,inputComponent:Sa,label:"quantity less than",type:"arrayCountLt"},arrayCountLte:{buttonLabel:"has ≤",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") <= ").concat(Ke(n)):null},icon:H$e,initialValue:null,inputComponent:Sa,label:"quantity less than or equal to",type:"arrayCountLte"},arrayCountNotEqual:{buttonLabel:"does not have",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") != ").concat(Ke(n)):null},initialValue:null,inputComponent:Sa,label:"quantity is not",type:"arrayCountNotEqual"},arrayCountRange:{buttonLabel:"has between",buttonValueComponent:Jyn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"count(".concat(t,") > ").concat(Ke(n==null?void 0:n.min)," && count(").concat(t,") < ").concat(Ke(n==null?void 0:n.max)):""},initialValue:null,inputComponent:$$e,label:"quantity is between",type:"arrayCountRange"},arrayListIncludes:{buttonLabel:"includes",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(Ke(n)," in ").concat(t):null},initialValue:null,inputComponent:Ij,label:"includes",type:"arrayListIncludes"},arrayListNotIncludes:{buttonLabel:"does not include",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(Ke(n)," in ").concat(t,")"):null},initialValue:null,inputComponent:Ij,label:"does not include",type:"arrayListNotIncludes"},arrayReferenceIncludes:{buttonLabel:"includes",buttonValueComponent:ul,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(Ke(n._ref)," in ").concat(t,"[]._ref"):null},initialValue:null,inputComponent:Sb,label:"includes",type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{buttonLabel:"does not include",buttonValueComponent:ul,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"!(".concat(Ke(n._ref)," in ").concat(t,"[]._ref)"):null},initialValue:null,inputComponent:Sb,label:"does not include",type:"arrayReferenceNotIncludes"}},W$e=h.createContext(null);function _bn(e){let{children:t,workspace:n}=e;return l.jsx(W$e.Provider,{value:n,children:t})}function Fl(){const e=h.useContext(W$e);if(!e)throw new Error("Workspace: missing context value");return e}const _E=h.createContext(null);function KV(e){let{children:t,...n}=e;const r=h.useContext(_E),{unstable_sources:o}=Fl();if("source"in n){const{source:i}=n;return l.jsx(_E.Provider,{value:i,children:t})}if("name"in n){const{name:i}=n,s=o.find(a=>a.name===i);if(!s)throw new Error("Could not find source with name `".concat(i,"` in current workspace"));return r===s?l.jsx(l.Fragment,{children:t}):l.jsx(_E.Provider,{value:s,children:t})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function Pn(){const e=h.useContext(_E);if(!e)throw new Error("Could not find `source` context");return e}function Cbn(e){return l.jsx(M,{...e,children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(tr,{tone:"caution",children:l.jsx(Pr,{})}),l.jsxs(te,{space:4,children:[l.jsx(tr,{size:1,tone:"caution",weight:"semibold",children:"No valid asset sources found."}),l.jsx(tr,{size:1,tone:"caution",children:"Currently, only the default asset source is supported."}),l.jsx(tr,{size:1,tone:"caution",children:"Please ensure it's enabled in your studio configuration file."})]})]})})}function Sbn(e){let{reference:t}=e;const n=$i(),r=h.useCallback(o=>J3e(n,o),[n]);return l.jsx(n0,{observeAsset:r,reference:t,waitPlaceholder:l.jsx(kbn,{}),children:o=>l.jsx(Ebn,{asset:o})})}function Ebn(e){let{asset:t}=e;return l.jsx(J,{padding:2,shadow:1,children:l.jsxs(U,{align:"center",justify:"space-between",wrap:"nowrap",children:[l.jsx(J,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(B,{children:l.jsx(d0,{})})}),l.jsxs(te,{flex:1,space:2,marginLeft:3,children:[l.jsx(B,{size:2,textOverflow:"ellipsis",muted:!0,children:(t==null?void 0:t.originalFilename)||t._id}),l.jsx(B,{size:1,muted:!0,children:GRe(t.size)})]})]})})}function kbn(){return l.jsx(J,{padding:2,shadow:1,children:l.jsxs(U,{align:"center",justify:"flex-start",children:[l.jsx(J,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(B,{children:l.jsx(d0,{})})}),l.jsxs(te,{flex:1,space:2,marginLeft:3,children:[l.jsx(x5,{animated:!0,style:{width:"100%"},radius:1}),l.jsx(x5,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var whe=Object.freeze,jbn=Object.defineProperty,ZV=(e,t)=>whe(jbn(e,"raw",{value:whe(t||e.slice())})),_he,Che,She;const Tbn=I(J)(_he||(_he=ZV([`
  position: relative;
  padding-bottom: 100%;
`]))),Abn=I.img(Che||(Che=ZV([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),Obn=I(U)(She||(She=ZV([`
  height: 100%;
  position: absolute;
  width: 100%;
`])));function Pbn(e){let{reference:t}=e;const n=$i(),r=h.useCallback(o=>Q3e(n,o),[n]);return l.jsx(n0,{observeAsset:r,reference:t,children:o=>l.jsx(Dbn,{asset:o})})}function Dbn(e){let{asset:t}=e;const[n,r]=h.useState(!1),o="".concat(t.url,"?h=800&fit=max"),i=h.useCallback(()=>r(!0),[]);return l.jsxs(Tbn,{__unstable_checkered:!0,border:!0,children:[!n&&l.jsx(Obn,{align:"center",justify:"center",children:l.jsx(ir,{})}),l.jsx(Abn,{onLoad:i,src:o})]})}function Ibn(e){let{reference:t}=e;return t?t._type.startsWith("sanity.fileAsset")?l.jsx(Sbn,{reference:t}):t._type.startsWith("sanity.imageAsset")?l.jsx(Pbn,{reference:t}):null:null}var Ehe=Object.freeze,Rbn=Object.defineProperty,$bn=(e,t)=>Ehe(Rbn(e,"raw",{value:Ehe(t||e.slice())})),khe;const Mbn={file:"sanity.fileAsset",image:"sanity.imageAsset"},Fbn=I(M)(khe||(khe=$bn([`
  width: min(calc(100vw - 40px), 320px);
`])));function Ug(e){return function(n){let{onChange:r,value:o}=n;const[i,s]=h.useState(null),[a,c]=h.useState(null),{state:{fullscreen:u}}=Pt(),{file:d,image:f}=Pn().form,p=h.useMemo(()=>{switch(e){case"file":return d.assetSources.filter(E=>E.name===D$e.name);case"image":return f.assetSources.filter(E=>E.name===I$e.name);default:throw Error("Unknown asset source found")}},[d.assetSources,f.assetSources]),m=h.useId(),v=ar(tn),g=h.useCallback(()=>{c(null),r(null)},[r]),b=h.useCallback(()=>{s(null)},[]),x=h.useCallback(E=>{const j=E[0];c(j),b()},[b]),y=h.useCallback(E=>s(E),[]);h.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&r({_ref:a.value,_type:Mbn[e]})},[v,r,a]);const w=i==null?void 0:i.component,_=u?2:1,C=o?"Change ".concat(e):"Select ".concat(e),S=Fn(e,"options.accept",e==="image"?"image/*":"");return l.jsx(Fbn,{children:l.jsxs(te,{space:3,children:[i&&w&&l.jsx(vm,{children:l.jsx(w,{assetType:e,dialogHeaderTitle:"Select ".concat(e),onClose:b,onSelect:x,selectedAssets:[],selectionType:"single",accept:S})}),o&&l.jsx(Ibn,{reference:o}),l.jsxs(U,{gap:2,children:[p.length===0&&l.jsx(Cbn,{padding:2}),p.length>0&&l.jsx(l.Fragment,{children:p.length>1?l.jsx(Kt,{button:l.jsx(ie,{fontSize:_,icon:o?RE:Zo,iconRight:Ya,mode:"ghost",style:{flex:o?1:0},text:C}),id:m,menu:l.jsx(Ft,{children:p.map(E=>l.jsx(Be,{fontSize:_,icon:E.icon||Cl,onClick:()=>y(E),text:E.title},E.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):l.jsx(ie,{fontSize:_,icon:o?RE:Zo,mode:"ghost",onClick:()=>y(p[0]),style:{flex:o?1:0},text:C})}),o&&l.jsx(ie,{fontSize:u?2:1,mode:"ghost",onClick:g,style:{flex:1},text:"Clear",tone:"critical"})]})]})})}}const Lbn={assetFileEqual:{buttonLabel:"is",buttonValueComponent:ul,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:Ug("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{buttonLabel:"is not",buttonValueComponent:ul,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:Ug("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{buttonLabel:"is",buttonValueComponent:ul,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:Ug("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{buttonLabel:"is not",buttonValueComponent:ul,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:Ug("image"),label:"is not",type:"assetImageNotEqual"}};function Bbn(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Pt(),o=h.useCallback(i=>{t(i.currentTarget.value==="true")},[t]);return l.jsxs(If,{fontSize:r?2:1,onChange:o,radius:2,value:String(n??!0),children:[l.jsx("option",{value:"true",children:"True"}),l.jsx("option",{value:"false",children:"False"})]})}const Nbn={booleanEqual:{buttonLabel:"is",buttonValueComponent:Zyn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return typeof n<"u"&&t?"".concat(t," == ").concat(Ke(n)):null},initialValue:!0,inputComponent:Bbn,label:"is",type:"booleanEqual"}},zbn={defined:{buttonLabel:"not empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"defined(".concat(t,")"):null},label:"not empty",type:"defined"},notDefined:{buttonLabel:"empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"!defined(".concat(t,")"):null},label:"empty",type:"notDefined"}};var jhe=Object.freeze,Vbn=Object.defineProperty,Hbn=(e,t)=>jhe(Vbn(e,"raw",{value:jhe(t||e.slice())})),The;const Ahe="Include time",Ubn=I(B)(The||(The=Hbn([`
  cursor: default;
`])));function XV(e){let{onChange:t,value:n}=e;return l.jsxs(U,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[l.jsx(te,{children:l.jsx(Ubn,{muted:!0,onClick:t,size:1,weight:"medium",children:Ahe})}),l.jsx(TSe,{checked:n,label:Ahe,onChange:t})]})}const Y$e=h.createContext(void 0);function QV(){const e=h.useContext(Y$e);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}const Wbn=["January","February","March","April","May","June","July","August","September","October","November","December"],Ybn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];WN(0,24);const qbn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Gbn=[1,2,3,4,5,6];function Kbn(e){const{focusedDate:t}=QV(),{fontSize:n,moveFocusedDate:r,onNowClick:o}=e,i=h.useCallback(()=>r(-1),[r]),s=h.useCallback(()=>r(1),[r]);return l.jsxs(U,{align:"center",flex:1,justify:"space-between",children:[l.jsxs(Yt,{paddingLeft:2,space:1,children:[l.jsx(B,{weight:"medium",children:Wbn[t.getMonth()]}),l.jsx(B,{weight:"medium",children:t.getFullYear()})]}),l.jsxs(M,{children:[l.jsx(ie,{fontSize:n,text:"Today",mode:"bleed",onClick:o}),l.jsx(ie,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:gT}),l.jsx(ie,{"aria-label":"Go to next month",mode:"bleed",icon:Tc,onClick:s})]})]})}var Ohe=Object.freeze,Zbn=Object.defineProperty,q$e=(e,t)=>Ohe(Zbn(e,"raw",{value:Ohe(t||e.slice())})),Phe,Dhe;const Xbn=I.svg(e=>{let{theme:t}=e;return de(Phe||(Phe=q$e([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),t.sanity.color.card.enabled.border)}),Qbn=I(J)(Dhe||(Dhe=q$e([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function Jbn(e){let{date:t,onSelect:n}=e;const r=h.useCallback(()=>{n(t)},[t,n]),{date:o,endDate:i,focusedDate:s,fontSize:a,selectRange:c}=QV(),u=o&&Md(t,o),d=c&&o&&Md(t,o),f=c&&i&&Md(t,i),p=kTe(t,s),m=s&&Md(t,s),v=Md(t,new Date),g=o&&i&&!d&&!f&&n4(t,o)&&bTe(t,i);return l.jsxs(Qbn,{__unstable_focusRing:!0,"aria-label":t.toDateString(),"aria-pressed":u,"data-end-date":f?!0:void 0,"data-focused":m?"true":"","data-ui":"CalendarDay","aria-selected":u,"data-start-date":d?!0:void 0,"data-within-range":g?!0:void 0,forwardedAs:"button",onClick:r,padding:3,radius:2,role:"button",selected:u||d||f,tabIndex:-1,tone:g?"primary":"default",children:[v&&l.jsx(Xbn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:l.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),l.jsx(B,{align:"center",muted:!u&&!p,size:a,weight:v?"medium":"regular",children:t.getDate()})]})}const exn=e=>{const t=gTe(e);return mTe({start:t,end:yTe(t)})},txn=e=>e.map(t=>[t,...Gbn.map(n=>Vi(t,n))]),nxn=e=>txn(exn(e)).map(t=>({number:vTe(t[0]),days:t}));var Ihe=Object.freeze,rxn=Object.defineProperty,oxn=(e,t)=>Ihe(rxn(e,"raw",{value:Ihe(t||e.slice())})),Rhe;const ixn=I(en)(Rhe||(Rhe=oxn([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function sxn(e){let{hidden:t,onSelect:n}=e;const{focusedDate:r,fontSize:o}=QV();return l.jsx(M,{"aria-hidden":t||!1,"data-ui":"CalendarMonth",children:l.jsxs(ixn,{children:[Ybn.map(i=>l.jsx(M,{paddingBottom:3,paddingTop:2,children:l.jsx(B,{align:"center",size:o,weight:"medium",children:i})},i)),nxn(r).map((i,s)=>i.days.map((a,c)=>l.jsx(Jbn,{date:a,onSelect:n},"".concat(s,"-").concat(c))))]})})}const axn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function lxn(e){const{date:t,endDate:n,fontSize:r,onSelect:o,selectRange:i,selectTime:s}=e,[a,c]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState(t||new Date),m=h.useRef(t||null),v=h.useRef(n||null),g=h.useCallback(()=>{var _;(_=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||_.focus()},[a]),b=h.useCallback(_=>{const C=zIt(_,{hours:_.getHours(),minutes:_.getMinutes(),seconds:0,milliseconds:0}),S=t&&bTe(C,t),E=n&&n4(C,n);if(i){if(S||E){o({date:C,endDate:null});return}o(u?{date:t||null,endDate:C}:{date:C,endDate:t?null:n||null})}else o({date:C})},[t,n,o,u,i]),x=h.useCallback(()=>{const _=new Date;i?p(_):o({date:_})},[o,i,p]),y=h.useCallback(_=>{var C;if(qbn.includes(_.key)){if(_.preventDefault(),_.target.hasAttribute("data-calendar-grid")){g();return}_.key==="ArrowUp"&&p(Vi(f,-7)),_.key==="ArrowDown"&&p(Vi(f,7)),_.key==="ArrowLeft"&&p(Vi(f,-1)),_.key==="ArrowRight"&&p(Vi(f,1)),(C=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||C.focus()}},[a,g,f,p]),w=h.useCallback(_=>p(CB(f,_)),[f,p]);return h.useEffect(()=>{g()},[g]),h.useEffect(()=>{var _;((_=document.activeElement)==null?void 0:_.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&g()},[g,f]),h.useEffect(()=>{var _,C;const S=(t==null?void 0:t.getTime())!==((_=m.current)==null?void 0:_.getTime()),E=(n==null?void 0:n.getTime())!==((C=v.current)==null?void 0:C.getTime()),j=S&&!E,k=!S&&E,T=t&&n&&n4(t,n);j&&(T&&(d(!0),o({date:t,endDate:null})),d(!!t),t&&p(t)),k&&(T&&(d(!0),o({date:n,endDate:null})),d(!!t&&!n),n&&p(n)),S&&E&&(d(!0),t&&p(t)),m.current=t||null,v.current=n||null},[t,n,o]),l.jsx(Y$e.Provider,{value:{date:t,endDate:n,focusedDate:f,fontSize:r,selectRange:i,selectTime:s},children:l.jsxs(M,{"data-ui":"Calendar",ref:c,children:[l.jsx(U,{children:l.jsx(M,{flex:1,children:l.jsx(Kbn,{fontSize:r,moveFocusedDate:w,onNowClick:x})})}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:y,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(sxn,{onSelect:b}),axn]})]})})}function JV(e){let{date:t,endDate:n,onChange:r,selectRange:o,selectTime:i}=e;const{state:{fullscreen:s}}=Pt(),a=h.useCallback(c=>{r(c)},[r]);return l.jsx(lxn,{date:t,endDate:n,fontSize:s?2:1,onSelect:a,selectRange:o,selectTime:i})}var $he=Object.freeze,cxn=Object.defineProperty,uxn=(e,t)=>$he(cxn(e,"raw",{value:$he(t||e.slice())})),Mhe;const dxn=I(M)(e=>{let{background:t,smallClearButton:n}=e;return de(Mhe||(Mhe=uxn([`
    width: 100%;

    input + span {
      background: `,`;
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: `,`;
      &:hover {
        opacity: 0.5;
      }
    }
  `])),r=>{let{theme:o}=r;return t?o.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),eH=h.forwardRef(function(t,n){const{background:r,smallClearButton:o,...i}=t;return l.jsx(dxn,{background:r,smallClearButton:o,children:l.jsx(Or,{...i,ref:n})})});function mu(e){let{date:t,dateOnly:n,roundDay:r}=e,o;switch(r){case"end":o=J5(t);break;case"start":o=Mf(t);break;default:o=t;break}return n?o.toISOString().split("T")[0]:o.toISOString()}var Fhe=Object.freeze,fxn=Object.defineProperty,G$e=(e,t)=>Fhe(fxn(e,"raw",{value:Fhe(t||e.slice())})),Lhe,Bhe;const o2={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}},hxn=I.span(e=>{let{theme:t}=e;return de(Lhe||(Lhe=G$e([`
    font-weight: `,`;
  `])),t.sanity.fonts.text.weights.medium)}),pxn=I(B)(Bhe||(Bhe=G$e([`
  color: `,`;
`])),fe.red[500].hex);function Rj(e){let{isDateTime:t,onChange:n,placeholderDate:r,isDateTimeFormat:o,value:i,...s}=e;const a=h.useMemo(()=>o?o2.datetime.pattern:o2.date.pattern,[o]),[c,u]=h.useState(void 0),[d,f]=h.useState(()=>{if(!i)return"";const y=new Date(i);return Ko(y,a)}),p=h.useMemo(()=>Ko(r||new Date,a),[a,r]),m=h.useCallback(y=>{let{dateString:w,triggerOnChange:_}=y;if(!w)return;const C=_It(w,a,new Date),S=Lu(C);S&&(_&&n(mu({date:C,dateOnly:!t})),f(Ko(C,a))),u(S?void 0:"Invalid ".concat(t?"datetime":"date"))},[a,t,n]),v=h.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),g=h.useCallback(y=>{f(y.currentTarget.value)},[]),b=h.useCallback(()=>{n(null),u(void 0),f("")},[n]),x=h.useCallback(y=>{y.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return h.useEffect(()=>{const y=i&&new Date(i);y&&m({dateString:Ko(y,a),triggerOnChange:!1})},[a,m,o,i]),l.jsx(st,{content:l.jsxs(U,{gap:2,children:[l.jsx(pxn,{size:1,children:l.jsx(sa,{})}),l.jsxs(B,{muted:!0,size:1,children:["Must be in the format"," ",l.jsx(hxn,{children:o?o2.datetime.exampleDate:o2.date.exampleDate})]})]}),disabled:!c,padding:3,placement:"top",portal:!0,children:l.jsx("div",{children:l.jsx(eH,{...s,clearButton:!!d,customValidity:c,onBlur:v,onChange:g,onClear:b,onKeyDown:x,placeholder:p,value:d})})})}function K$e(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Pt(),i=h.useCallback(c=>{let{date:u}=c;if(u){const d=mu({date:u,dateOnly:!t});n({includeTime:r==null?void 0:r.includeTime,date:d})}else n(null)},[t,n,r==null?void 0:r.includeTime]),s=h.useCallback(()=>{const c=!(r!=null&&r.includeTime),u=r!=null&&r.date?new Date(r.date):null;let d=null;u&&(d=mu({date:u,dateOnly:!t})),n({includeTime:c,date:d})},[t,n,r]),a=h.useCallback(c=>{n({includeTime:r==null?void 0:r.includeTime,date:c||null})},[n,r==null?void 0:r.includeTime]);return l.jsxs(te,{space:3,children:[l.jsx(Rj,{"aria-label":"Date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:a,radius:2,value:r==null?void 0:r.date}),l.jsx(JV,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:i,selectTime:t}),t&&l.jsx(XV,{onChange:s,value:!!(r!=null&&r.includeTime)})]})}function Nhe(e){return l.jsx(K$e,{...e,isDateTime:!1})}function eP(e){let{direction:t,isDateTime:n,onChange:r,value:o}=e;const{state:{fullscreen:i}}=Pt(),s=h.useMemo(()=>{switch(t){case"after":return"end";case"before":return"start";default:return}},[t]),a=h.useCallback(d=>{let{date:f}=d,p=null;f&&(p=mu({date:f,dateOnly:!n,roundDay:o!=null&&o.includeTime?void 0:s})),r({includeTime:o==null?void 0:o.includeTime,date:p})},[n,r,s,o==null?void 0:o.includeTime]),c=h.useCallback(()=>{const d=!(o!=null&&o.includeTime),f=o!=null&&o.date?new Date(o.date):null;let p=null;f&&(p=mu({date:f,dateOnly:!n,roundDay:d?"start":s})),r({includeTime:d,date:p})},[n,r,s,o]),u=h.useCallback(d=>{r({includeTime:o==null?void 0:o.includeTime,date:d||null})},[r,o==null?void 0:o.includeTime]);return l.jsxs(te,{space:3,children:[l.jsx(Rj,{"aria-label":"Date",fontSize:i?2:1,isDateTime:n,isDateTimeFormat:n&&(o==null?void 0:o.includeTime),onChange:u,radius:2,value:o==null?void 0:o.date}),l.jsx(JV,{date:o!=null&&o.date?new Date(o.date):void 0,onChange:a,selectTime:n}),n&&l.jsx(XV,{onChange:c,value:!!(o!=null&&o.includeTime)})]})}function mxn(e){return l.jsx(eP,{...e,direction:"after",isDateTime:!1})}function gxn(e){return l.jsx(eP,{...e,direction:"before",isDateTime:!1})}function zhe(e){let{onChange:t,value:n}=e;const[r,o]=h.useState((n==null?void 0:n.unitValue)||""),i=h.useRef("days"),s=h.useRef((n==null?void 0:n.unitValue)||null),{state:{fullscreen:a}}=Pt(),c=h.useCallback(()=>{t({unit:i==null?void 0:i.current,unitValue:s==null?void 0:s.current})},[t]),u=h.useCallback(f=>{i.current=f.currentTarget.value,c()},[c]),d=h.useCallback(f=>{o(f.currentTarget.value);const p=parseFloat(f.currentTarget.value);s.current=Number.isFinite(p)?p:null,c()},[c]);return l.jsxs(U,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(Or,{"aria-label":"Unit value",fontSize:a?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:r})}),l.jsx(M,{flex:1,children:l.jsxs(If,{"aria-label":"Select unit",fontSize:a?2:1,onChange:u,radius:2,value:n==null?void 0:n.unit,children:[l.jsx("option",{value:"days",children:"Days"}),l.jsx("option",{value:"months",children:"Months"}),l.jsx("option",{value:"years",children:"Years"})]})})]})}const vxn=-7;function Z$e(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Pt(),i=h.useMemo(()=>Vi(new Date,vxn),[]),s=h.useMemo(()=>new Date,[]),a=h.useCallback(f=>{let{date:p,endDate:m}=f;n(Vhe({date:p,endDate:m,includeTime:r==null?void 0:r.includeTime,isDateTime:t}))},[t,n,r==null?void 0:r.includeTime]),c=h.useCallback(()=>{const f=!(r!=null&&r.includeTime);n(Vhe({date:r!=null&&r.dateMin?new Date(r.dateMin):null,endDate:r!=null&&r.dateMax?new Date(r.dateMax):null,includeTime:f,isDateTime:t}))},[t,n,r]),u=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:f||null,dateMin:(r==null?void 0:r.dateMin)||null})},[n,r]),d=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:(r==null?void 0:r.dateMax)||null,dateMin:f||null})},[n,r]);return l.jsx("div",{children:l.jsxs(te,{space:3,children:[l.jsxs(U,{direction:"column",gap:3,children:[l.jsx(Rj,{"aria-label":"Start date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:d,placeholderDate:i,radius:2,value:r==null?void 0:r.dateMin}),l.jsx(Rj,{"aria-label":"End date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:u,placeholderDate:s,radius:2,value:r==null?void 0:r.dateMax})]}),l.jsx(JV,{date:r!=null&&r.dateMin?new Date(r.dateMin):void 0,endDate:r!=null&&r.dateMax?new Date(r.dateMax):void 0,onChange:a,selectRange:!0,selectTime:t}),t&&l.jsx(XV,{onChange:c,value:!!(r!=null&&r.includeTime)})]})})}function Vhe(e){let{date:t,endDate:n,includeTime:r,isDateTime:o}=e;return r?{includeTime:r,dateMax:n?mu({date:n,dateOnly:!o,roundDay:"start"}):null,dateMin:t?mu({date:t,dateOnly:!o,roundDay:"start"}):null}:{includeTime:r,dateMax:n?mu({date:n,dateOnly:!o,roundDay:"end"}):null,dateMin:t?mu({date:t,dateOnly:!o,roundDay:"start"}):null}}function yxn(e){return l.jsx(Z$e,{...e,isDateTime:!1})}function Hhe(e){return l.jsx(K$e,{...e,isDateTime:!0})}function bxn(e){return l.jsx(eP,{...e,direction:"after",isDateTime:!0})}function xxn(e){return l.jsx(eP,{...e,direction:"before",isDateTime:!0})}function wxn(e){return l.jsx(Z$e,{...e,isDateTime:!0})}const pa={dateAfter:{buttonLabel:"after",buttonValueComponent:fhe,initialValue:null,label:"is after"},dateBefore:{buttonLabel:"before",buttonValueComponent:fhe,initialValue:null,label:"is before"},dateEqual:{buttonLabel:"is",buttonValueComponent:dhe,initialValue:{date:null,includeTime:!1},label:"is"},dateLast:{buttonLabel:"last",buttonValueComponent:Xyn,label:"is in the last"},dateNotEqual:{buttonLabel:"is not",buttonValueComponent:dhe,initialValue:{date:null,includeTime:!1},label:"is not"},dateRange:{buttonLabel:"is between",initialValue:null,label:"is between"}},_xn={dateAfter:{...pa.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," > ").concat(Ke(n==null?void 0:n.date)):null},inputComponent:mxn,type:"dateAfter"},dateBefore:{...pa.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," < ").concat(Ke(n==null?void 0:n.date)):null},inputComponent:gxn,type:"dateBefore"},dateEqual:{...pa.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," == ").concat(Ke(n.date)):null},inputComponent:Nhe,type:"dateEqual"},dateLast:{...pa.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?qJ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString().split("T")[0]:null;return o&&t?"".concat(t," > ").concat(Ke(o)):null},inputComponent:zhe,initialValue:{unit:"days",unitValue:7},type:"dateLast"},dateNotEqual:{...pa.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," != ").concat(Ke(n.date)):null},inputComponent:Nhe,type:"dateNotEqual"},dateRange:{...pa.dateRange,buttonValueComponent:hhe,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"".concat(t," >= ").concat(Ke(n.dateMin)," && ").concat(t," <= ").concat(Ke(n.dateMax)):null},initialValue:{includeTime:!1,dateMax:YJ().toISOString(),dateMin:null},inputComponent:yxn,type:"dateRange"},dateTimeAfter:{...pa.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") > dateTime(").concat(Ke(n.date),")"):null},inputComponent:bxn,type:"dateTimeAfter"},dateTimeBefore:{...pa.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") < dateTime(").concat(Ke(n.date),")"):null},inputComponent:xxn,type:"dateTimeBefore"},dateTimeEqual:{...pa.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Lu(r)||!t)return null;const o=(n!=null&&n.includeTime?RQ(r):Mf(r)).toISOString(),i=(n!=null&&n.includeTime?$Q(r):J5(r)).toISOString();return"dateTime(".concat(t,") > dateTime(").concat(Ke(o),") && dateTime(").concat(t,") < dateTime(").concat(Ke(i),")")},inputComponent:Hhe,type:"dateTimeEqual"},dateTimeLast:{...pa.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?qJ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString():null;return o&&t?"dateTime(".concat(t,") > dateTime(").concat(Ke(o),")"):null},initialValue:{unit:"days",unitValue:7},inputComponent:zhe,type:"dateTimeLast"},dateTimeNotEqual:{...pa.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Lu(r)||!t)return null;const o=(n!=null&&n.includeTime?RQ(r):Mf(r)).toISOString(),i=(n!=null&&n.includeTime?$Q(r):J5(r)).toISOString();return"dateTime(".concat(t,") < dateTime(").concat(Ke(o),") || dateTime(").concat(t,") > dateTime(").concat(Ke(i),")")},inputComponent:Hhe,type:"dateTimeNotEqual"},dateTimeRange:{...pa.dateRange,buttonValueComponent:hhe,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"dateTime(".concat(t,") >= dateTime(").concat(Ke(n.dateMin),") && dateTime(").concat(t,") <= dateTime(").concat(Ke(n.dateMax),")"):null},initialValue:{includeTime:!1,dateMax:YJ().toISOString(),dateMin:null},inputComponent:wxn,type:"dateTimeRange"}},Cxn={numberEqual:{buttonLabel:"is",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," == ").concat(Ke(n)):null},initialValue:null,inputComponent:Sa,label:"is",type:"numberEqual"},numberGt:{buttonLabel:">",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," > ").concat(Ke(n)):null},icon:V$e,initialValue:null,inputComponent:Sa,label:"greater than",type:"numberGt"},numberGte:{buttonLabel:"≥",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," >= ").concat(Ke(n)):null},icon:z$e,initialValue:null,inputComponent:Sa,label:"greater than or equal to",type:"numberGte"},numberLt:{buttonLabel:"<",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," < ").concat(Ke(n)):null},icon:U$e,initialValue:null,inputComponent:Sa,label:"less than",type:"numberLt"},numberLte:{buttonLabel:"≤",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," <= ").concat(Ke(n)):null},icon:H$e,initialValue:null,inputComponent:Sa,label:"less than or equal to",type:"numberLte"},numberNotEqual:{buttonLabel:"is not",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," != ").concat(Ke(n)):null},initialValue:null,inputComponent:Sa,label:"is not",type:"numberNotEqual"},numberRange:{buttonLabel:"is between",buttonValueComponent:Qyn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"".concat(t," > ").concat(Ke(n==null?void 0:n.min)," && ").concat(t," < ").concat(Ke(n==null?void 0:n.max)):""},initialValue:null,inputComponent:$$e,label:"is between",type:"numberRange"}};function Aa(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Pt(),o=h.useCallback(i=>t(i.currentTarget.value||null),[t]);return l.jsx(Or,{fontSize:r?2:1,onChange:o,placeholder:"Value",radius:2,value:n||""})}const Sxn={portableTextEqual:{buttonLabel:"is",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") == ").concat(Ke(n)):null},initialValue:null,inputComponent:Aa,label:"is",type:"portableTextEqual"},portableTextMatches:{buttonLabel:"contains",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") match ").concat(Ke(n)):null},initialValue:null,inputComponent:Aa,label:"contains",type:"portableTextMatches"},portableTextNotEqual:{buttonLabel:"is not",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") != ").concat(Ke(n)):null},initialValue:null,inputComponent:Aa,label:"is not",type:"portableTextNotEqual"},portableTextNotMatches:{buttonLabel:"does not contain",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(pt::text(".concat(t,") match ").concat(Ke(n),")"):null},initialValue:null,inputComponent:Aa,label:"does not contain",type:"portableTextNotMatches"}},Exn={referenceEqual:{buttonLabel:"is",buttonValueComponent:ul,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref == ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:Sb,label:"is",type:"referenceEqual"},referenceNotEqual:{buttonLabel:"is not",buttonValueComponent:ul,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref != ").concat(Ke(n._ref)):null},initialValue:null,inputComponent:Sb,label:"is not",type:"referenceNotEqual"},referencesAssetFile:{buttonLabel:"→",buttonValueComponent:ul,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Ke(t._ref),")"):null},initialValue:null,inputComponent:Ug("file"),label:"file",type:"referencesAssetFile"},referencesAssetImage:{buttonLabel:"→",buttonValueComponent:ul,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Ke(t._ref),")"):null},initialValue:null,inputComponent:Ug("image"),label:"image",type:"referencesAssetImage"},referencesDocument:{buttonLabel:"→",buttonValueComponent:ul,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Ke(t._ref),")"):null},initialValue:null,inputComponent:Sb,label:"document",type:"referencesDocument"}},kxn={slugEqual:{buttonLabel:"is",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current == ").concat(Ke(n)):null},initialValue:null,inputComponent:Aa,label:"is",type:"slugEqual"},slugMatches:{buttonLabel:"contains",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current match ").concat(Ke(n)):null},initialValue:null,inputComponent:Aa,label:"contains",type:"slugMatches"},slugNotEqual:{buttonLabel:"is not",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current != ").concat(Ke(n)):null},initialValue:null,inputComponent:Aa,label:"is not",type:"slugNotEqual"},slugNotMatches:{buttonLabel:"does not contain",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,".current match ").concat(Ke(n),")"):null},initialValue:null,inputComponent:Aa,label:"does not contain",type:"slugNotMatches"}},jxn={stringEqual:{buttonLabel:"is",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Ke(n)):null},initialValue:null,inputComponent:Aa,label:"is",type:"stringEqual"},stringListEqual:{buttonLabel:"is",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Ke(n)):null},initialValue:null,inputComponent:Ij,label:"is",type:"stringListEqual"},stringListNotEqual:{buttonLabel:"is not",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Ke(n)):null},initialValue:null,inputComponent:Ij,label:"is not",type:"stringListNotEqual"},stringMatches:{buttonLabel:"contains",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," match ").concat(Ke(n)):null},initialValue:null,inputComponent:Aa,label:"contains",type:"stringMatches"},stringNotEqual:{buttonLabel:"is not",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Ke(n)):null},initialValue:null,inputComponent:Aa,label:"is not",type:"stringNotEqual"},stringNotMatches:{buttonLabel:"does not contain",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t," match ").concat(Ke(n),")"):null},initialValue:null,inputComponent:Aa,label:"does not contain",type:"stringNotMatches"}},Txn={...wbn,...Lbn,...Nbn,..._xn,...zbn,...Cxn,...Sxn,...Exn,...kxn,...jxn},Axn=Object.values(Txn);function Ll(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}const tP=(e,t)=>{let{plugins:n=[],...r}=e;const o={config:r,path:[...t,r.name]};return[...n.flatMap(a=>tP(a,[...t,r.name])),o]},Oxn=[],Pxn=[],Dxn=[],Ixn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.types;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(Ll(o)))},Rxn=async(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.productionUrl;return o?await o(e,n):e},$xn=(e,t,n)=>{let{tools:r}=t;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error("Expected `tools` to be an array or a function, but received ".concat(Ll(r)))},Mxn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.templates;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(Ll(o)))},Fxn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.badges;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(Ll(o)))},Lxn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.actions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(Ll(o)))},Bxn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.newDocumentOptions;if(!o)return e;if(typeof o!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(Ll(o)));return o(e,n)},Nxn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.file)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(Ll(i)))},zxn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.image)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(Ll(i)))},Vxn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_languageFilter;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(Ll(o)))},Hxn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.inspectors;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(Ll(o)))},Uxn=e=>{const{config:t,context:n,initialValue:r}=e;return tP(t,[]).reduce((s,a)=>{let{config:c}=a;var u,d;const f=(d=(u=c.document)==null?void 0:u.unstable_comments)==null?void 0:d.enabled;if(!f&&typeof f!="boolean")return s;if(typeof f=="function")return f(n);if(typeof f=="boolean")return f;throw new Error("Expected `document.unstable_comments.enabled` to be a boolean or a function, but received ".concat(Ll(f)))},r)};class Uhe extends Error{constructor(t){let{propertyName:n,path:r,cause:o}=t;const i=bt(o)&&typeof(o==null?void 0:o.message)=="string"?": ".concat(o.message):"";super("An error occurred while resolving `".concat(n,"` from ").concat(r.join(" > ")).concat(i)),this.propertyName=n,this.cause=o,this.path=r}}function ga(e){let{config:t,context:n,initialValue:r,propertyName:o,...i}=e;const s=tP(t,[]);if("reducer"in i)return s.reduce((c,u)=>{let{config:d,path:f}=u;try{return i.reducer(c,d,n)}catch(p){throw new Uhe({propertyName:o,path:f,cause:p})}},r);const a=i.asyncReducer;return(async()=>{let c=r;for(const{config:u,path:d}of s)try{c=await a(c,u,n)}catch(f){throw new Uhe({propertyName:o,path:d,cause:f})}return c})()}class Oa extends Error{constructor(t){let{causes:n,name:r,type:o}=t;const i=n.filter(Boolean).map(s=>bt(s)&&typeof(s==null?void 0:s.message)=="string"?s.message:String(s));super("Could not resolve ".concat(o).concat(r?" `".concat(r,"`"):"",`:
`).concat(i.map(s=>"	- ".concat(s)).join(`
`),`

`)),this.name=r,this.causes=n,this.type=o}}class tH extends Error{constructor(t){super("SchemaError"),this.schema=t}}var Whe=Object.freeze,Wxn=Object.defineProperty,Yxn=(e,t)=>Whe(Wxn(e,"raw",{value:Whe(t||e.slice())})),Yhe;function qhe(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const qxn=I.text(Yhe||(Yhe=Yxn([`
  font-family: `,`;
  font-weight: `,`;
  font-size: 16px;
  transform: translateY(1px);
`])),e=>{let{theme:t}=e;return t.sanity.fonts.heading.family},e=>{let{theme:t}=e;return t.sanity.fonts.heading.weights.bold});function Gxn(e,t){const n=qhe("".concat(e," ").concat(t)),r=Jbe.filter(m=>m!=="gray"),o=r[Math.floor(n*r.length)],i=["300","400","500","600","700"],s=qhe(n.toString()),a=i[Math.floor(s*i.length)],c=fe[o][a].hex,u=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=nDe(c,.4),f=DGt(c,.4),p=ere(c,"readable",d)?ere(c,"readable",f)?RGt(c):f:d;return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[l.jsx("rect",{width:32,height:32,rx:2,fill:c}),l.jsx(qxn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:u})]})}const Kxn=e=>e.severity==="error";function Zxn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return vr.isValidElementType(e)?h.createElement(e):h.isValidElement(e)?e:Gxn(t,n)}const nR=new WeakMap;function Xxn(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new Oa({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=twn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{uwn({workspaces:r})}catch(i){throw new Oa({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(nR.has(i))return nR.get(i);const{unstable_sources:s=[],...a}=i,u=[a,...s].map(p=>{const{projectId:m,dataset:v}=p;let g;try{g=ga({propertyName:"schema.types",config:p,context:{projectId:m,dataset:v},initialValue:[],reducer:Ixn})}catch(C){throw new Oa({name:p.name,type:"source",causes:[C]})}const b=qtn({name:p.name,types:g}),x=b._validation,y=x==null?void 0:x.filter(C=>C.problems.some(Kxn));if(x&&(y!=null&&y.length))throw new tH(b);const w=Qxn(p),_=w.state.pipe(le(C=>{let{client:S,authenticated:E,currentUser:j}=C;return ewn({config:p,client:S,currentUser:j,schema:b,authenticated:E,auth:w})}),_o(1));return{name:p.name,projectId:p.projectId,dataset:p.dataset,title:p.title||rn(p.name),auth:w,schema:b,source:_}}),d=a.title||rn(a.name),f={type:"workspace-summary",auth:u[0].auth,basePath:nwn(n,a.basePath),dataset:a.dataset,schema:u[0].schema,icon:Zxn(a.icon,d,"".concat(a.projectId," ").concat(a.dataset)),name:a.name||"default",projectId:a.projectId,theme:a.theme||Df,title:d,subtitle:a.subtitle,__internal:{sources:u}};return nR.set(i,f),f})}}function Qxn(e){if(Ben(e.auth))return e.auth;const t=e.unstable_clientFactory||Qke,{projectId:n,dataset:r,apiHost:o}=e;return Len({apiHost:o,...e.auth,clientFactory:t,dataset:r,projectId:n})}function Jxn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:o,requestTagPrefix:i="sanity.studio"}=n.config(),s="".concat(o.replace(/\/+$/,""),"/socket/").concat(r).replace(/^http/,"ws"),a="".concat(s,"?tag=").concat(i),c=t.token?{token$:t.token}:{};return rwt(a,c)}function ewn(e){let{config:t,client:n,currentUser:r,schema:o,authenticated:i,auth:s}=e;var a,c,u,d;const{dataset:f,projectId:p}=t,m=Jxn(n,s),v=[],g={},b=T=>{if(!T||!T.apiVersion)throw new Error("Missing required `apiVersion` option");return g[T.apiVersion]||(g[T.apiVersion]=n.withConfig(T)),g[T.apiVersion]},x={client:n,getClient:b,currentUser:r,dataset:f,projectId:p,schema:o},y=n;x.client=[...Object.keys(n),...Object.keys(y.__proto__)].reduce((T,A)=>{const O=Object.hasOwnProperty.call(n,A)?y[A]:y.__proto__[A];return Object.defineProperty(T,A,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),O}})},{});let w;try{w=ga({config:t,context:x,propertyName:"schema.templates",reducer:Mxn,initialValue:o.getTypeNames().filter(T=>!/^sanity\./.test(T)).map(T=>o.get(T)).filter(lo).filter(T=>{var A;return((A=T.type)==null?void 0:A.name)==="document"}).map(T=>({id:T.name,schemaType:T.name,title:T.title||T.name,icon:T.icon,value:T.initialValue||{_type:T.name}}))})}catch(T){throw new Oa({name:t.name,type:"source",causes:[T]})}let _;try{_=ga({config:t,context:x,initialValue:[],propertyName:"tools",reducer:$xn})}catch(T){throw new Oa({name:t.name,type:"source",causes:[T]})}if(_.some(T=>{let{name:A}=T;return A==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const C=w.filter(T=>{var A;return!((A=T.parameters)!=null&&A.length)}).map(T=>({templateId:T.id,description:T.description,icon:T.icon,title:T.title})),S=w.reduce((T,A)=>(T.set(A.id,A),T),new Map),E=T=>{const{schemaType:A}=T,O=ga({config:t,context:{...x,creationContext:T},initialValue:C,propertyName:"document.resolveNewDocumentOptions",reducer:Bxn}),P=[];if(P.length)throw new Oa({name:t.name,type:"source",causes:P});return O.map((D,R)=>{const $=S.get(D.templateId);if(!$)throw new Error("Could not find template with ID `".concat(D.templateId,"`"));const H=o.get($.schemaType);if(!H)throw new Error("Could not find matching schema type `".concat($.schemaType,"` for template `").concat($.id,"`"));const F=D.title||$.title,V=(H==null?void 0:H.title)===F||H==null?void 0:H.title;return{id:"".concat(D.templateId,"-").concat(R),templateId:D.templateId,type:"initialValueTemplateItem",title:F,subtitle:D.subtitle||V,description:D.description||$.description,icon:D.icon||$.icon||(H==null?void 0:H.icon),initialDocumentId:D.initialDocumentId,parameters:D.parameters,schemaType:$.schemaType}}).filter(D=>{var R;return!A||T.type==="document"?!0:A===((R=S.get(D.templateId))==null?void 0:R.schemaType)})};let j;try{j=E({type:"global"})}catch(T){v.push(T)}if(v.length)throw new Oa({name:t.name,type:"source",causes:v});return{type:"source",name:t.name,title:t.title||rn(t.name),schema:o,getClient:b,dataset:f,projectId:p,tools:_,currentUser:r,authenticated:i,templates:w,auth:s,document:{actions:T=>ga({config:t,context:{...x,...T},initialValue:Pxn,propertyName:"document.actions",reducer:Lxn}),badges:T=>ga({config:t,context:{...x,...T},initialValue:Oxn,propertyName:"document.badges",reducer:Fxn}),unstable_fieldActions:T=>ga({config:t,context:{...x,...T},initialValue:Ken,propertyName:"document.unstable_fieldActions",reducer:Gen}),inspectors:T=>ga({config:t,context:{...x,...T},initialValue:Bn,propertyName:"document.inspectors",reducer:Hxn}),resolveProductionUrl:T=>ga({config:t,context:{...x,...T},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:Rxn}),resolveNewDocumentOptions:E,unstable_languageFilter:T=>ga({config:t,context:{...x,...T},initialValue:Dxn,propertyName:"document.unstable_languageFilter",reducer:Vxn}),unstable_comments:{enabled:T=>Uxn({context:T,config:t,initialValue:!1})}},form:{file:{assetSources:ga({config:t,context:x,initialValue:[D$e],propertyName:"formBuilder.file.assetSources",reducer:Nxn}),directUploads:((c=(a=t.form)==null?void 0:a.file)==null?void 0:c.directUploads)===void 0?!0:t.form.file.directUploads},image:{assetSources:ga({config:t,context:x,initialValue:[I$e],propertyName:"formBuilder.image.assetSources",reducer:zxn}),directUploads:((d=(u=t.form)==null?void 0:u.image)==null?void 0:d.directUploads)===void 0?!0:t.form.image.directUploads}},search:{filters:Gyn,operators:Axn},__internal:{bifur:m,staticInitialValueTemplateItems:j,options:t}}}function twn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new Oa({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function nwn(e,t){const n=[e,t||""].map(r=>r.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(n)}function rwn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return h.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}),[t,n,r,o,i])}function own(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}}function iwn(e){const{title:t}=e;return l.jsx(M,{padding:3,children:l.jsx(B,{weight:"bold",children:t})})}const nP=h.createContext(null),rP=h.createContext(null);function X$e(){return tJe()?"dark":"light"}function Q$e(e){let{children:t,scheme:n}=e;const r=X$e(),o=n==="system"?r:n;return l.jsx(y5,{scheme:o,theme:Df,children:t})}const Ghe="sanityStudio:ui:colorScheme";function swn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return r?l.jsx(lwn,{scheme:r,onSchemeChange:n,children:t}):l.jsx(awn,{onSchemeChange:n,children:t})}function awn(e){let{children:t,onSchemeChange:n}=e;const r=h.useMemo(()=>{let i;const s=new Set;return{subscribe:a=>(i||(i=Khe(localStorage.getItem(Ghe))||"system"),s.add(a),()=>{s.delete(a)}),getSnapshot:()=>i,setSnapshot:a=>{i=Khe(a);for(const c of s)c()},getServerSnapshot:()=>"system"}},[]),o=h.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return h.useEffect(()=>{typeof n=="function"&&n(o),localStorage.setItem(Ghe,o)},[n,o]),l.jsx(rP.Provider,{value:r.setSnapshot,children:l.jsx(nP.Provider,{value:o,children:l.jsx(Q$e,{scheme:o,children:t})})})}function Khe(e){switch(e){case"dark":case"light":return e;default:return"system"}}function lwn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return l.jsx(rP.Provider,{value:typeof n=="function"?n:!1,children:l.jsx(nP.Provider,{value:r,children:l.jsx(Q$e,{scheme:r,children:t})})})}function nH(){const e=h.useContext(rP);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function J$e(){const e=h.useContext(nP);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function eMe(){const e=J$e(),t=X$e();return e==="system"?t:e}function Nc(){const e=eMe(),t=nH();return h.useMemo(()=>({scheme:e,setScheme:t}),[e,t])}function tMe(e){const t=J$e();return h.useMemo(()=>[{title:"System",name:"system",label:"Use system appearance",selected:t==="system",onSelect:()=>e("system"),icon:dxe},{title:"Dark",name:"dark",label:"Use dark appearance",selected:t==="dark",onSelect:()=>e("dark"),icon:a8},{title:"Light",name:"light",label:"Use light appearance",selected:t==="light",onSelect:()=>e("light"),icon:d8}],[t,e])}const nMe=h.createContext(null);function cwn(e){let{config:t,children:n,basePath:r}=e;const{workspaces:o}=h.useMemo(()=>Xxn(t,{basePath:r}),[t,r]);return l.jsx(nMe.Provider,{value:o,children:n})}function $y(e,t){let{name:n,title:r}=e;return typeof n=="string"&&n.trim().length>0?n:J6(r,t)}function J6(e,t){const n=typeof e=="string"&&e.trim().length>0?' (titled "'.concat(e,'")'):"";return"at index ".concat(t).concat(n)}function h_(){const e=h.useContext(nMe);if(!e)throw new Error("Could not find `workspaces` context");return e}class pc extends Error{constructor(t,n){super(t),this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&$y(n.workspace,n.index)}}function uwn(e){let{workspaces:t}=e;if(t.length===0)throw new pc("At least one workspace is required.");dwn(t),fwn(t)}function dwn(e){const t=e.length===1,n=new Map;e.forEach((r,o)=>{const{name:i,title:s}=r,a=J6(s,o);if(!i&&!t)throw new pc("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(a," did not define a `name`."),{workspace:r,index:o});const c=t&&typeof i>"u"?"default":i;if(typeof c!="string")throw new pc("Workspace at index ".concat(o," defined an invalid `name` - must be a string."),{workspace:r,index:o});const u=c.toLowerCase(),d=n.get(u);if(d){const f=J6(d.workspace.title,d.index);throw new pc("`name`s must be unique. Workspace ".concat(f," and ")+"workspace ".concat(a," both have the `name` `").concat(c,"`"),{workspace:r,index:o})}if(n.set(u,{index:o,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(c))throw new pc("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(a," has the invalid name `").concat(c,"`"),{workspace:r,index:o})})}function fwn(e){e.length>1&&e.every(hwn),e.every(pwn);const[t,...n]=e,r=(t.basePath||"/").substring(1).split("/").filter(Boolean).length;n.forEach((i,s)=>{const a=(i.basePath||"/").substring(1).split("/").length;if(r!==a)throw new pc("All workspace `basePath`s must have the same amount of segments. Workspace `".concat($y(t,s),"` had ").concat(r," segment").concat(r===1?"":"s"," `").concat(t.basePath,"` but workspace `").concat($y(i,s),"` had ").concat(a," segment").concat(a===1?"":"s"," `").concat(i.basePath,"`"),{workspace:i,index:s})});const o=new Map;e.forEach((i,s)=>{const a=(i.basePath||"").toLowerCase(),c=o.get(a);if(c)throw new pc("`basePath`s must be unique. Workspaces `".concat(c,"` and ")+"`".concat($y(i,s),"` both have the `basePath` `").concat(a,"`"),{workspace:i,index:s});o.set(a,$y(i,s))})}function hwn(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new pc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` is missing a `basePath`"),{workspace:e,index:t}):new pc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:e,index:t})}function pwn(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new pc("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:e,index:t})}function mwn(){return l.jsx(J,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(oo,{width:0,children:l.jsx(J,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(B,{size:1,children:l.jsx(Pr,{})})}),l.jsxs(te,{flex:1,marginLeft:3,space:3,children:[l.jsx(B,{as:"h1",size:1,weight:"bold",children:"No configured tools"}),l.jsx(B,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),l.jsx(B,{as:"p",muted:!0,size:1,children:l.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool →"})})]})]})})})})})}function gwn(e){const{toolName:t}=e;return l.jsx(J,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(oo,{width:0,children:l.jsx(J,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(B,{size:1,children:l.jsx(Pr,{})})}),l.jsx(te,{flex:1,marginLeft:3,space:3,children:l.jsxs(B,{as:"h1",size:1,weight:"bold",children:["Tool not found: ",l.jsx("code",{children:t})]})})]})})})})})}function Eb(){return l.jsxs(U,{as:J,justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(B,{muted:!0,children:"Loading…"}),l.jsx(ir,{muted:!0})]})}var Zhe=Object.freeze,vwn=Object.defineProperty,rMe=(e,t)=>Zhe(vwn(e,"raw",{value:Zhe(t||e.slice())})),Xhe,Qhe;const ywn={error:"critical",warning:"caution"},Jhe=I.code(Xhe||(Xhe=rMe([`
  && {
    background: none;
    color: inherit;
  }
`]))),bwn=I(B)(Qhe||(Qhe=rMe([`
  white-space: pre-line;
`])));function oMe(e){const{problemGroups:t}=e,n=h.useMemo(()=>{const r=[];for(const o of t)for(const i of o.problems)r.push({group:o,problem:i});return r},[t]);return l.jsx(te,{as:"ul",space:4,children:n.map((r,o)=>{let{group:i,problem:s}=r;const a=s.severity==="error",c=s.severity==="warning",u=xwn(i);return l.jsxs(J,{border:!0,padding:4,radius:2,tone:ywn[s.severity],children:[l.jsxs(U,{children:[l.jsx(M,{marginRight:3,children:l.jsxs(B,{muted:!0,size:1,children:[a&&l.jsx(sa,{}),c&&l.jsx(Pr,{})]})}),l.jsx(M,{flex:1,children:l.jsx(B,{size:1,weight:"semibold",children:u?l.jsxs(l.Fragment,{children:[Sm(u.type),' type "',u.name,'"']}):null})})]}),l.jsx(M,{marginTop:4,children:l.jsx(J,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(n7,{separator:l.jsx(B,{muted:!0,size:1,children:"→"}),children:i.path.map((d,f)=>{if(d.kind==="type"){const p="".concat(wwn(d.name),":").concat(d.type);return l.jsx(B,{title:p,size:1,textOverflow:"ellipsis",children:l.jsx(Jhe,{children:p})},f)}return d.kind==="property"?l.jsx(B,{title:d.name,size:1,textOverflow:"ellipsis",children:l.jsx(Jhe,{children:d.name})},f):null})})})}),l.jsx(M,{as:"ul",marginTop:4,children:l.jsx(M,{as:"li",children:l.jsxs(te,{space:3,children:[l.jsx(bwn,{muted:!0,size:1,children:s.message}),s.helpId&&l.jsx(B,{muted:!0,size:1,children:l.jsx("a",{href:Zje(s.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation →"})})]})})})]},o)})})}function xwn(e){const t=e.path[0];return t.kind==="type"?{name:t.name,type:t.type}:null}function wwn(e){if(e!=null&&e.startsWith("<unnamed_type_@_index")){const t=e.slice(1,-1).split("_");return"[".concat(t[4],"]")}return e}function _wn(e){return e.map(t=>t.kind==="type"?"".concat(t.name||"<unnamed>","(").concat(t.type,")"):t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function Cwn(e){const t=e._validation,n=t==null?void 0:t.filter(r=>r.problems.some(o=>o.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed("⚠️ Schema has ".concat(n==null?void 0:n.length," warnings")),n==null||n.forEach(r=>{const o=_wn(r.path);console.group("%cAt ".concat(o),"color: #FF7636"),r.problems.forEach(i=>{console.log(i.message)}),console.groupEnd()}),console.groupEnd())}function Swn(e){let{schema:t}=e;var n;const r=((n=t._validation)==null?void 0:n.filter(o=>o.problems.some(i=>i.severity==="error")))||[];return h.useEffect(()=>Cwn(t),[t]),l.jsx(J,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:l.jsx(oo,{width:1,children:l.jsxs(te,{space:5,children:[l.jsx(Lo,{as:"h1",children:"Schema errors"}),l.jsx(oMe,{problemGroups:r})]})})})}function Ewn(e){return l.jsx(J,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:l.jsx(U,{direction:"row",justify:"center",flex:1,align:"center",children:l.jsxs(te,{space:4,children:[l.jsx(Lo,{as:"h1",children:"Workspace not found"}),l.jsx(Yt,{children:l.jsx(ie,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const iMe=h.createContext(null);function kwn(e){let{pathname:t,workspaces:n,basePathRegex:r}=e;const[o]=n;for(const{workspace:i,basePath:s,basePathRegex:a}of n)if(a.test(t)||s==="/")return{type:"match",workspace:i};return t==="/"?{type:"redirect",pathname:o.basePath}:r.test(t)?{type:"redirect",pathname:o.basePath}:{type:"not-found"}}function jwn(e){const n=e.map(o=>o.basePath.substring(1).split("/")).reduce((o,i)=>{for(let s=0;s<o.length;s++){const a=o[s],c=i[s].toLowerCase();if(a!==c)return o.slice(0,s)}return o});function r(o){let[i,...s]=o;return i?"(\\/".concat(lz(i)).concat(r(s),"(\\/|$))?"):""}return new RegExp("^".concat(r(n),"$"),"i")}function Twn(e){return h.useMemo(()=>Awn(e),[e])}function Awn(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp("^".concat(lz(n),"(\\/|$)"),"i")}})}function Own(e,t){const n=Twn(t),r=h.useMemo(()=>jwn(n),[n]),[o]=h.useState(()=>e.location.pathname),i=h.useMemo(()=>({subscribe:s=>e.listen(s),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>o,selector:s=>kwn({basePathRegex:r,pathname:s,workspaces:n}),isEqual:(s,a)=>{if(s.type!==a.type)return!1;switch(s.type){case"match":return s.workspace===a.workspace;case"redirect":return s.pathname===a.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(s.type))}}}),[r,e,o,n]);return rz.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,i.isEqual)}const sMe=h.createContext(null);function Pwn(e){let{children:t,history:n}=e;return l.jsx(sMe.Provider,{value:n,children:t})}function Dwn(){const e=h.useContext(sMe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const Iwn=h.memo(function(t){let{children:n,history:r,activeWorkspace:o,setActiveWorkspace:i}=t;const s=h.useMemo(()=>({activeWorkspace:o,setActiveWorkspace:i}),[o,i]);return l.jsx(iMe.Provider,{value:s,children:l.jsx(Pwn,{history:r,children:n})})}),Rwn=()=>typeof document>"u"?dKt():uKt();function $wn(e){let{children:t,LoadingComponent:n,NotFoundComponent:r,unstable_history:o}=e;const i=h_(),s=h.useMemo(()=>o||Rwn(),[o]),a=h.useCallback(d=>{const f=i.find(p=>p.name===d);f&&s.push(f.basePath)},[s,i]),c=h.useCallback(()=>{a(i[0].name)},[a,i]),u=Own(s,i);switch(h.useEffect(()=>{u.type==="redirect"&&s.replace(u.pathname)},[s,u]),u.type){case"match":return l.jsx(Iwn,{activeWorkspace:u.workspace,history:s,setActiveWorkspace:a,children:t});case"redirect":return l.jsx(n,{});case"not-found":return l.jsx(r,{onNavigateToDefaultWorkspace:c});default:throw new Error("Unknown type: ".concat(u.type))}}function n1(){const e=h.useContext(iMe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}var epe=Object.freeze,Mwn=Object.defineProperty,Fwn=(e,t)=>epe(Mwn(e,"raw",{value:epe(t||e.slice())})),tpe;const npe={"logged-in":"","logged-out":"Signed out","no-access":""},Lwn=I(J)(tpe||(tpe=Fwn([`
  width: 35px;
  height: 35px;

  svg {
    width: 100%;
    height: 100%;
  }
`]))),rpe=e=>{if(vr.isValidElementType(e))return h.createElement(e);if(h.isValidElement(e))return e};function eL(e){const{state:t,subtitle:n,selected:r,title:o,icon:i,iconRight:s}=e,a=h.useMemo(()=>rpe(i),[i]),c=h.useMemo(()=>rpe(s),[s]);return l.jsxs(U,{align:"center",flex:"none",gap:3,children:[l.jsx(Lwn,{radius:2,tone:"transparent",children:a}),l.jsxs(te,{flex:1,space:2,children:[l.jsx(B,{textOverflow:"ellipsis",weight:"medium",children:o}),n&&l.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&npe[t]&&l.jsx(M,{paddingLeft:1,children:l.jsx(B,{size:1,muted:!0,textOverflow:"ellipsis",children:npe[t]})}),(r||c)&&l.jsxs(U,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&l.jsx(B,{children:l.jsx(Ma,{})}),c&&l.jsx(B,{muted:!0,children:c})]})]})}const aMe=rh(e=>$o(e.map(t=>t.auth.state.pipe(le(n=>[t.name,n])))).pipe(le(t=>Object.fromEntries(t)))),Bwn="https://beta.sanity.io/docs/platform/studio/config/workspaces";var ope=Object.freeze,Nwn=Object.defineProperty,zwn=(e,t)=>ope(Nwn(e,"raw",{value:ope(t||e.slice())})),ipe;const spe=[{url:"https://slack.sanity.io/",title:"Community"},{url:"https://www.sanity.io/docs",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",title:"Privacy"},{url:"https://www.sanity.io",title:"sanity.io"}],Vwn=I(B)(ipe||(ipe=zwn([`
  a {
    color: inherit;
  }
`])));function ape(e){const{children:t,footer:n,header:r}=e;return l.jsxs(te,{space:6,children:[l.jsx(J,{border:!0,radius:3,overflow:"auto",children:l.jsxs(te,{children:[typeof r=="object"&&l.jsx(M,{children:r}),typeof r=="string"&&l.jsx(M,{paddingY:4,children:l.jsx(Lo,{align:"center",size:1,children:r})}),l.jsx(M,{paddingX:1,children:l.jsx(J,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&l.jsx(M,{children:n})]})}),l.jsxs(U,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[l.jsx(B,{size:3,children:l.jsx(vKt,{})}),l.jsx(U,{align:"center",gap:2,children:spe.map((o,i)=>l.jsxs(ne.Fragment,{children:[l.jsx(Vwn,{muted:!0,size:1,children:l.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),i<spe.length-1&&l.jsx(B,{size:1,muted:!0,children:"•"})]},o.title))})]})]})}function Hwn(){var e;const t=h_(),{activeWorkspace:n,setActiveWorkspace:r}=n1(),[o]=aMe(t),[i,s]=h.useState((n==null?void 0:n.name)||null),a=t.length===1?t[0]:t.find(d=>d.name===i),c=(e=a==null?void 0:a.auth)==null?void 0:e.LoginComponent,u=h.useCallback(()=>s(null),[]);return o?c&&a?l.jsxs(te,{space:2,children:[t.length>1&&l.jsx(U,{children:l.jsx(ie,{fontSize:1,icon:ow,mode:"bleed",onClick:u,padding:2,text:"Choose another workspace"})}),l.jsx(ape,{header:l.jsx(M,{padding:3,children:l.jsx(eL,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:l.jsx(te,{padding:2,paddingBottom:3,paddingTop:4,children:h.createElement(c,{...Ai(a,["type","__internal"]),key:i})})})]}):l.jsx(ape,{header:"Choose your workspace",footer:l.jsx(te,{padding:1,children:l.jsx(ie,{as:"a",href:Bwn,icon:Ks,justify:"flex-start",mode:"bleed",rel:"noopener noreferrer",target:"__blank",text:"Add workspace"})}),children:l.jsx(te,{space:1,paddingX:1,paddingY:2,children:t.map(d=>{const p=o[d.name].authenticated?"logged-in":d.auth.LoginComponent?"logged-out":"no-access",m=()=>{p==="logged-in"&&d.name!==n.name&&r(d.name),p==="logged-out"&&s(d.name)};return l.jsx(J,{as:"button",radius:2,padding:2,onClick:m,children:l.jsx(eL,{icon:d==null?void 0:d.icon,iconRight:Tc,state:p,subtitle:d==null?void 0:d.subtitle,title:(d==null?void 0:d.title)||d.name})},d.name)})})}):l.jsx(Eb,{})}var lpe=Object.freeze,Uwn=Object.defineProperty,Wwn=(e,t)=>lpe(Uwn(e,"raw",{value:lpe(t||e.slice())})),cpe;const Ywn=I(Ft)(cpe||(cpe=Wwn([`
  max-width: 350px;
  min-width: 250px;
`]))),upe="Select workspace";function lMe(e){const{collapsed:t=!1}=e,[n,r]=h.useState(!1),{scheme:o}=Nc(),i=h_(),{activeWorkspace:s,setActiveWorkspace:a}=n1(),[c]=aMe(i),{navigateUrl:u}=Ic(),d=h.useCallback(()=>r(!0),[]),f=h.useCallback(()=>r(!1),[]),p=h.useMemo(()=>({constrainSize:!0,scheme:o,portal:!0}),[o]),m=n||!t,v=t?upe:void 0,g=t?void 0:upe;return l.jsx(st,{content:l.jsx(M,{padding:2,children:l.jsx(B,{size:1,children:"Select workspace"})}),disabled:m,placement:"bottom",portal:!0,scheme:o,children:l.jsx(te,{children:l.jsx(Kt,{button:l.jsx(ie,{icon:Il,mode:"bleed",text:g,disabled:!c,"aria-label":v,justify:t?void 0:"flex-start"}),id:"workspace-menu",menu:l.jsxs(Ywn,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(Nt,{size:1,muted:!0,children:"Workspaces"})}),c&&i.map(b=>{const y=c[b.name].authenticated?"logged-in":b.auth.LoginComponent?"logged-out":"no-access",w=()=>{y==="logged-in"&&b.name!==s.name&&a(b.name),y==="logged-out"&&u({path:b.basePath})};return l.jsx(Be,{onClick:w,padding:2,pressed:b.name===s.name,children:l.jsx(eL,{icon:b==null?void 0:b.icon,selected:b.name===s.name,state:y,subtitle:b==null?void 0:b.subtitle,title:(b==null?void 0:b.title)||b.name})},b.name)})]}),onClose:f,onOpen:d,popover:p})})})}function cMe(){return l.jsx(J,{height:"fill",overflow:"auto",children:l.jsx(U,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:l.jsx(oo,{width:0,children:l.jsx(Hwn,{})})})})}function qwn(){return l.jsx(l.Fragment,{children:"TODO: implement config errors screen"})}function uMe(){const[e,t]=h.useState(null),[n,r]=h.useState(null);if(n)throw n;const{activeWorkspace:o}=n1(),i=h.useCallback(()=>{var c,u;(u=(c=o.auth).logout)==null||u.call(c)},[o]);h.useEffect(()=>{const c=o.auth.state.subscribe({next:u=>{let{currentUser:d}=u;t(d)},error:r});return()=>{c.unsubscribe()}},[o]);const s=EIe(e==null?void 0:e.provider),a=s?" through ".concat(s):"";return l.jsx(J,{height:"fill",children:l.jsx(Pi,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:l.jsx(te,{paddingX:3,paddingY:2,children:l.jsx(ie,{text:"Sign out",onClick:i})}),children:l.jsxs(te,{paddingX:4,paddingY:5,space:4,children:[l.jsx(B,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),l.jsxs(B,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",l.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),a,"."]})]})})})}var dpe=Object.freeze,Gwn=Object.defineProperty,Kwn=(e,t)=>dpe(Gwn(e,"raw",{value:dpe(t||e.slice())})),fpe;const Zwn=I.label(fpe||(fpe=Kwn([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function Xwn(e){const{projectId:t}=e,n=window.location.origin,r=h.useMemo(()=>{const o=new URL("https://sanity.io/manage/project/".concat(t,"/api"));return o.searchParams.set("cors","add"),o.searchParams.set("origin",n),o.searchParams.set("credentials",""),o.toString()},[n,t]);return h.useEffect(()=>{const o=()=>{window.location.reload()};return window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),l.jsx(J,{height:"fill",children:l.jsx(Pi,{id:"cors-error-dialog",header:"Before you continue...",width:1,children:l.jsxs(te,{paddingX:4,paddingY:5,space:4,children:[l.jsxs(B,{children:["To access your content, you need to ",l.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),l.jsx(Zwn,{"aria-hidden":"true",children:"CORS URL to be added"}),l.jsx(Or,{value:n,readOnly:!0}),l.jsx(ie,{as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary",children:l.jsxs(U,{align:"center",justify:"center",gap:3,children:[l.jsx(B,{weight:"medium",children:"Continue"}),l.jsx(B,{weight:"medium",children:l.jsx(cm,{})})]})})]})})})}function dMe(e){let{children:t,heading:n="An error occured"}=e;const[{error:r},o]=h.useState({error:null}),i=bt(r)&&typeof r.message=="string"&&r.message,s=bt(r)&&typeof r.stack=="string"&&r.stack,a=h.useCallback(()=>o({error:null}),[o]);return QGt(a),r instanceof Nz?l.jsx(Xwn,{projectId:r==null?void 0:r.projectId}):r instanceof tH?l.jsx(Swn,{schema:r.schema}):r?l.jsx(J,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:l.jsx(oo,{width:3,children:l.jsxs(te,{space:4,children:[l.jsx(Lo,{children:n}),l.jsx("div",{children:l.jsx(ie,{onClick:a,text:"Retry",tone:"default"})}),l.jsx(J,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:l.jsxs(te,{space:4,children:[i&&l.jsx(er,{size:1,children:l.jsxs("strong",{children:["Error: ",i]})}),s&&l.jsx(er,{size:1,children:s})]})})]})})}):l.jsx(x0,{onCatch:o,children:t})}var hpe=Object.freeze,Qwn=Object.defineProperty,Jwn=(e,t)=>hpe(Qwn(e,"raw",{value:hpe(t||e.slice())})),ppe;const e_n=I(J)(ppe||(ppe=Jwn([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),fMe=h.createContext({onSearchFullscreenOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null});function t_n(){const{name:e,title:t,tools:n}=Fl(),r=SA(h.useCallback(v=>typeof v.tool=="string"?v.tool:void 0,[])),o=h.useMemo(()=>n.find(v=>v.name===r),[r,n]),[i,s]=h.useState(!1),[a,c]=h.useState(null),u=h.useMemo(()=>{const v=t||rn(e);return r?"".concat(rn(r)," | ").concat(v):v},[r,e,t]),d=!!(o!=null&&o.controlsDocumentTitle);h.useEffect(()=>{d||(document.title=u)},[u,d]);const f=h.useCallback(v=>{s(v)},[]),p=h.useMemo(()=>({searchFullscreenOpen:i,searchFullscreenPortalEl:a,onSearchFullscreenOpenChange:f}),[i,a,f]),m=WSn();return l.jsxs(U,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[l.jsx(fMe.Provider,{value:p,children:l.jsx(m,{})}),n.length===0&&l.jsx(mwn,{}),n.length>0&&!o&&r&&l.jsx(gwn,{toolName:r}),i&&l.jsx(e_n,{ref:c,overflow:"auto"}),l.jsx(dMe,{heading:"The ".concat(o==null?void 0:o.name," tool crashed"),children:l.jsx(J,{flex:1,hidden:i,children:o&&r&&l.jsx(Ivt,{scope:r,children:l.jsx(h.Suspense,{fallback:l.jsx(n_n,{}),children:h.createElement(o.component,{tool:o})})})})},o==null?void 0:o.name)]})}function n_n(){return l.jsxs(U,{justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(B,{muted:!0,children:"Loading…"}),l.jsx(ir,{muted:!0})]})}var mpe=Object.freeze,r_n=Object.defineProperty,o_n=(e,t)=>mpe(r_n(e,"raw",{value:mpe(t||e.slice())})),gpe;const i_n=I.div(gpe||(gpe=o_n([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),s_n=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsxs("g",{clipPath:"url(#clip0)",children:[l.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),l.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),l.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),l.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),a_n=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("g",{clipPath:"url(#clip0)",children:l.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),l_n=l.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),l.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),l.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),c_n=e=>{let{provider:t}=e;const n=t==null?void 0:t.startsWith("saml-"),r=n?"saml":t;return l.jsxs(i_n,{"data-logo":r,children:[t==="google"&&s_n,t==="github"&&a_n,t==="sanity"&&l.jsx(bKt,{}),n&&l_n]})};var vpe=Object.freeze,u_n=Object.defineProperty,hMe=(e,t)=>vpe(u_n(e,"raw",{value:vpe(t||e.slice())})),ype,bpe;const $j=1,d_n=I(Ft)(ype||(ype=hMe([`
  min-width: 200px;
  max-width: 300px;
`]))),f_n=I(M)(bpe||(bpe=hMe([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.avatar.sizes[$j].size},e=>{let{theme:t}=e;return t.sanity.avatar.sizes[$j].size});function h_n(e){let{setScheme:t}=e;const n=tMe(t);return l.jsxs(l.Fragment,{children:[l.jsx(kr,{}),l.jsx(M,{padding:2,children:l.jsx(Nt,{size:1,muted:!0,children:"Appearance"})}),n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(Be,{"aria-label":i,icon:o,onClick:a,pressed:c,text:u,iconRight:c&&l.jsx(Ma,{})},s)})]})}function p_n(){const{currentUser:e,projectId:t,auth:n}=Fl(),r=eMe(),o=nH(),i=!!(e&&aIe(e,"administrator")),s=EIe(e==null?void 0:e.provider),a=h.useMemo(()=>({placement:"bottom-end",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return l.jsx(Kt,{button:l.jsx(ie,{mode:"bleed",padding:0,paddingX:1,children:l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Na,{user:"me",size:1}),l.jsx(B,{size:$j,muted:!0,children:l.jsx(Ya,{})})]})}),id:"user-menu",menu:l.jsxs(d_n,{children:[l.jsx(J,{padding:2,children:l.jsxs(U,{align:"center",children:[l.jsx(st,{disabled:!s,portal:!0,content:s&&l.jsx(M,{padding:2,children:l.jsxs(B,{size:1,children:["Signed in with ",s]})}),children:l.jsxs(f_n,{marginRight:3,children:[l.jsx(Na,{size:$j,user:"me"}),(e==null?void 0:e.provider)&&l.jsx(c_n,{provider:e.provider})]})}),l.jsxs(te,{space:2,flex:1,children:[l.jsx(B,{size:2,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),l.jsx(B,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),o&&l.jsx(h_n,{setScheme:o}),l.jsx(kr,{}),l.jsx(Be,{as:"a","aria-label":"Manage project",href:"https://sanity.io/manage/project/".concat(t),target:"_blank",text:"Manage project",icon:vT}),i&&l.jsx(Be,{as:"a","aria-label":"Invite members",href:"https://sanity.io/manage/project/".concat(t,"/members"),target:"_blank",text:"Invite members",icon:wT}),n.logout&&l.jsxs(l.Fragment,{children:[l.jsx(kr,{}),l.jsx(Be,{iconRight:i8,text:"Sign out",disabled:!n.logout,...n.logout&&{onClick:n.logout}})]})]}),popover:a})}var xpe=Object.freeze,m_n=Object.defineProperty,g_n=(e,t)=>xpe(m_n(e,"raw",{value:xpe(t||e.slice())})),wpe;const v_n=I(M)(wpe||(wpe=g_n([`
  max-width: 300px;
`]))),pMe=33;function y_n(e){const{option:t,currentUser:n,onClick:r,preview:o}=e,i=h.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:s,href:a}=Aw({intent:"create",params:i}),c=h.useCallback(u=>{s(u),r(t)},[s,r,t]);return l.jsx(st,{disabled:t.hasPermission,portal:!0,content:l.jsx(v_n,{padding:2,children:l.jsx(kc,{currentUser:n,operationLabel:"create this document"})}),children:l.jsx("div",{children:l.jsx(J,{as:t.hasPermission?"a":"button",disabled:!t.hasPermission,href:a,marginBottom:1,onClick:c,padding:o==="inline"?3:4,radius:2,children:l.jsx(B,{size:o==="inline"?1:void 0,children:t.title})})})},t.id)}var _pe=Object.freeze,b_n=Object.defineProperty,mMe=(e,t)=>_pe(b_n(e,"raw",{value:_pe(t||e.slice())})),Cpe,Spe;const rR=I(U)(Cpe||(Cpe=mMe([`
  min-height: 100px;
`]))),x_n=I.strong(Spe||(Spe=mMe([`
  word-break: break-all;
`])));function Epe(e){const{currentUser:t,loading:n,onDocumentClick:r,options:o,preview:i,searchQuery:s,textInputElement:a}=e,c=o.length>0&&!n,u=h.useCallback(()=>{r()},[r]),d=h.useCallback(p=>{var m;return((m=o[p])==null?void 0:m.hasPermission)===!1},[o]),f=h.useCallback(p=>l.jsx(y_n,{currentUser:t,onClick:u,option:p,preview:i},p.id),[t,u,i]);return n?l.jsx(rR,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(Yt,{space:2,children:[l.jsx(ir,{muted:!0,size:1}),l.jsx(B,{muted:!0,size:1,children:"Loading…"})]})}):!c&&s?l.jsx(rR,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(B,{align:"center",muted:!0,size:1,children:["No results found for ",l.jsxs(x_n,{children:["“",s,"”"]})]})}):c?l.jsx(oh,{activeItemDataAttr:"data-hovered",ariaLabel:"New document",autoFocus:Zp?void 0:"input",getItemDisabled:d,inputElement:a,itemHeight:pMe,items:o,overscan:5,padding:i==="inline"?1:2,paddingBottom:0,renderItem:f}):l.jsx(rR,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(B,{align:"center",muted:!0,size:1,children:"No documents found"})})}function w_n(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(i=>n.includes(i))}function __n(e,t,n){const r=t.title.toLowerCase(),o=n.title.toLowerCase(),i=e.trim().toLowerCase();return r.startsWith(i)&&!o.startsWith(i)?-1:o.startsWith(i)&&!r.startsWith(i)?1:r.includes(i)&&!o.includes(i)?-1:o.includes(i)&&!r.includes(i)?1:0}function C_n(e,t){return e.map(o=>({...o,title:(o==null?void 0:o.title)||o.id})).sort((o,i)=>o.title.localeCompare(i.title)).filter(o=>w_n(t,o)).sort((o,i)=>__n(t,o,i))}var kpe=Object.freeze,S_n=Object.defineProperty,$m=(e,t)=>kpe(S_n(e,"raw",{value:kpe(t||e.slice())})),jpe,Tpe,Ape,Ope,Ppe,Dpe,Ipe;const E_n=I(nn)(()=>de(jpe||(jpe=$m([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),e=>{let{theme:t}=e;return t.sanity.radius[3]})),k_n=I(Pi)(()=>de(Tpe||(Tpe=$m([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),j_n=I(M)(Ape||(Ape=$m([`
  max-width: 300px;
`]))),Rpe=I(U)(Ope||(Ope=$m([""]))),T_n=I(J)(Ppe||(Ppe=$m([`
  min-height: max-content;
`]))),A_n=I(J)(Dpe||(Dpe=$m([`
  min-height: max-content;
`]))),O_n=I(U)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return de(Ipe||(Ipe=$m([`
    --item-height: `,`px;
    --max-items: `,`;
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `])),n,t)}),P_n=10;function D_n(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:o}=e,[i,s]=h.useState(!1),[a,c]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,v]=h.useState(null),[g,b]=h.useState(null),{scheme:x}=Nc(),y=No(),w=o.length>0,_=!t||!w,C="Search",S="Create new document",E=h.useMemo(()=>C_n(o,a),[o,a]),j=h.useCallback(F=>{c(F.currentTarget.value)},[]),k=h.useCallback(()=>s(F=>!F),[]),T=h.useCallback(()=>{s(!1),c(""),m==null||m.focus()},[m]),A=h.useCallback(F=>{F.key==="ArrowDown"&&!i&&s(!0)},[i]),O=h.useCallback(F=>{(F.key==="Escape"||F.key==="Tab")&&i&&T()},[T,i]);rr(()=>{i&&T()},[m,f,u]);const P=h.useMemo(()=>({currentUser:y,loading:r,onDocumentClick:k,options:E,searchQuery:a,preview:n==="popover"?"inline":"default",textInputElement:g}),[y,E,k,r,n,g,a]),D=h.useMemo(()=>({border:!1,defaultValue:a,disabled:r,icon:Zo,onChange:j,placeholder:C,ref:b}),[j,r,C,a]),R=h.useMemo(()=>({"aria-label":S,disabled:_||r,icon:pp,mode:"bleed",onClick:k,ref:v,selected:i}),[_,k,r,i,S]),$=h.useMemo(()=>w?t?l.jsx(B,{size:1,children:"New document..."}):l.jsx(kc,{currentUser:y,operationLabel:"create any document"}):l.jsx(B,{size:1,children:"No document types"}),[t,y,w]),H=h.useMemo(()=>({content:l.jsx(j_n,{padding:2,children:$}),disabled:r||i,placement:"bottom",portal:!0,scheme:x}),[r,i,x,$]);return n==="dialog"?l.jsxs(l.Fragment,{children:[l.jsx(st,{...H,children:l.jsx("div",{children:l.jsx(ie,{...R})})}),i&&l.jsx(k_n,{header:S,id:"create-new-document-dialog",onClickOutside:T,onClose:T,ref:p,scheme:x,width:1,children:l.jsxs(Rpe,{direction:"column",flex:1,height:"fill",children:[l.jsx(A_n,{padding:2,borderBottom:!0,children:l.jsx(Or,{...D})}),l.jsx(U,{direction:"column",overflow:"hidden",children:l.jsx(Epe,{...P})})]})})]}):l.jsx(E_n,{constrainSize:!0,onKeyDown:O,open:i,portal:!0,radius:3,ref:d,scheme:x,content:l.jsxs(Rpe,{direction:"column",flex:1,forwardedAs:od,height:"fill",returnFocus:!0,children:[l.jsx(T_n,{sizing:"border",children:l.jsxs(te,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(M,{paddingY:1,children:l.jsx(Nt,{size:1,muted:!0,children:S})})}),l.jsx(J,{borderTop:!0,borderBottom:!0,padding:1,children:l.jsx(Or,{...D,fontSize:1,radius:1})})]})}),l.jsx(O_n,{$itemHeight:pMe,$maxDisplayedItems:P_n,direction:"column",overflow:"hidden",children:l.jsx(Epe,{...P})})]}),children:l.jsx("div",{children:l.jsx(st,{...H,children:l.jsx("div",{children:l.jsx(ie,{...R,"aria-expanded":i,"aria-haspopup":"true",onKeyDown:A})})})})})}function I_n(){const{__internal:{staticInitialValueTemplateItems:e}}=Pn(),[t,n]=vH({templateItems:e}),r=(t==null?void 0:t.some(i=>e.some(s=>s.id===i.id)))||!1,o=h.useMemo(()=>e.map(i=>{var s;return{...i,title:(i==null?void 0:i.title)||i.id,hasPermission:((s=t==null?void 0:t.find(a=>a.id===i.id))==null?void 0:s.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:o}}var $pe=Object.freeze,R_n=Object.defineProperty,$_n=(e,t)=>$pe(R_n(e,"raw",{value:$pe(t||e.slice())})),Mpe;const M_n=I(J)(Mpe||(Mpe=$_n([`
  background: transparent;
  margin: calc((-35px + 11px) / 2);
`]))),F_n=h.memo(function(t){const{presence:n,focused:r,onFocus:o}=t,[i,s]=h.useState(null),a=$0(n.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),c=!!(a!=null&&a.documentId);h.useEffect(()=>{r&&i&&(i.focus(),i.setAttribute("data-selected","")),r||i==null||i.removeAttribute("data-selected")},[i,r]);const u=h.useCallback(()=>{o(n.user.id)},[o,n.user.id]),d=h.useMemo(()=>h.forwardRef(function(p,m){return a!=null&&a.path?l.jsx(_m,{...p,intent:"edit",params:{id:a==null?void 0:a.documentId,path:Cr(a==null?void 0:a.path)},ref:m}):null}),[a]);return l.jsx(Be,{as:a?d:"div","data-as":a?"a":"div",onFocus:u,paddingY:c?4:3,paddingLeft:4,paddingRight:3,ref:s,children:l.jsxs(U,{align:"center",children:[l.jsx(M_n,{children:l.jsx(Na,{size:1,user:n.user,status:c?"editing":"inactive"},n.user.id)}),l.jsxs(te,{space:2,marginLeft:4,children:[l.jsx(B,{textOverflow:"ellipsis",children:n.user.displayName}),!c&&l.jsx(B,{size:0,muted:!0,textOverflow:"ellipsis",children:"Not in a document"})]})]})})});var Fpe=Object.freeze,L_n=Object.defineProperty,rH=(e,t)=>Fpe(L_n(e,"raw",{value:Fpe(t||e.slice())})),Lpe,Bpe,Npe;const B_n=4,N_n=I(J)(Lpe||(Lpe=rH([`
  background: transparent;
`]))),z_n=I(Ft)(Bpe||(Bpe=rH([`
  max-width: 350px;
  min-width: 250px;
`]))),V_n=I(te)(Npe||(Npe=rH([`
  position: sticky;
  bottom: 0;
`])));function H_n(e){const{collapse:t}=e,n=pkn(),{projectId:r}=Fl(),{scheme:o}=Nc(),i=n.length>0,[s,a]=h.useState(),c=h.useCallback(p=>{a(p)},[]),u=h.useCallback(()=>{a("")},[]),d=h.useMemo(()=>t?l.jsx(ih,{icon:wT,mode:"bleed",tone:i?"positive":void 0}):l.jsx(ie,{mode:"bleed",padding:1,children:l.jsx(N_n,{children:l.jsx(XT,{maxLength:B_n,"aria-label":"Who is here",children:n.map(p=>l.jsx(Na,{user:p.user},p.user.id))})})}),[t,i,n]),f=h.useMemo(()=>({constrainSize:!0,portal:!0,scheme:o}),[o]);return l.jsx(Kt,{button:d,id:"global-presence-menu",onClose:u,menu:l.jsxs(z_n,{padding:1,children:[i&&l.jsx(te,{children:n.map(p=>l.jsx(F_n,{focused:s===p.user.id,onFocus:c,presence:p},p.user.id))}),!i&&l.jsx(M,{paddingX:3,paddingY:4,children:l.jsxs(te,{space:3,children:[l.jsx(B,{weight:"semibold",size:2,children:"No one else is here"}),l.jsx(B,{size:1,muted:!0,children:"Invite people to the project to see their online status."})]})}),l.jsxs(V_n,{space:1,children:[l.jsx(kr,{}),l.jsx(Be,{as:"a",href:"https://sanity.io/manage/project/".concat(r),iconRight:vT,onFocus:u,paddingY:4,rel:"noopener noreferrer",target:"_blank",text:"Manage members"})]})]}),popover:f})}var zpe=Object.freeze,U_n=Object.defineProperty,oH=(e,t)=>zpe(U_n(e,"raw",{value:zpe(t||e.slice())})),Vpe,Hpe,Upe;const Wpe={duration:.2},W_n={open:{opacity:1},closed:{opacity:0}},Y_n={open:{x:"0%"},closed:{x:"-100%"}},q_n=I(Ji)(Vpe||(Vpe=oH([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),G_n=I(Ju(J))(Hpe||(Hpe=oH([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),K_n=I(Ju(J))(Upe||(Upe=oH([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`])));function Z_n(e){let{setScheme:t}=e;const n=tMe(t);return l.jsx(l.Fragment,{children:l.jsxs(J,{borderTop:!0,flex:"none",padding:3,overflow:"auto",children:[l.jsx(M,{padding:2,children:l.jsx(Nt,{size:1,muted:!0,children:"Appearance"})}),l.jsx(te,{as:"ul",marginTop:1,space:1,children:n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(te,{as:"li",children:l.jsx(ie,{"aria-label":i,icon:o,iconRight:c&&l.jsx(Ma,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:c,text:u})},s)})})]})})}const X_n=h.memo(function(t){const{activeToolName:n,isOpen:r,onClose:o,tools:i}=t,s=nH(),{auth:a,currentUser:c,projectId:u}=Fl(),d=h_(),f=$Me(),p=!!(c&&aIe(c,"administrator")),m=h.useCallback(v=>{v.key==="Escape"&&o()},[o]);return l.jsx(U9,{children:r&&l.jsx(od,{autoFocus:!0,returnFocus:!0,children:l.jsxs(q_n,{onKeyDown:m,children:[l.jsx(G_n,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:o,transition:Wpe,variants:W_n}),l.jsxs(K_n,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:Wpe,variants:Y_n,children:[l.jsx(J,{borderBottom:!0,children:l.jsxs(te,{space:3,padding:3,children:[l.jsxs(U,{align:"center",children:[l.jsx(U,{flex:1,align:"center",paddingRight:2,children:l.jsxs(U,{flex:1,align:"center",children:[l.jsx(M,{children:l.jsx(Na,{size:1,user:"me"})}),l.jsx(M,{flex:1,marginLeft:2,title:(c==null?void 0:c.name)||(c==null?void 0:c.email),children:l.jsx(B,{textOverflow:"ellipsis",children:(c==null?void 0:c.name)||(c==null?void 0:c.email)})})]})}),l.jsx(M,{children:l.jsx(ie,{icon:Ei,mode:"bleed",onClick:o,title:"Close menu"})})]}),d.length>1&&l.jsx(lMe,{})]})}),l.jsxs(U,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[l.jsx(J,{flex:"none",padding:3,children:l.jsx(f,{activeToolName:n,closeSidebar:o,context:"sidebar",isSidebarOpen:r,tools:i})}),l.jsxs(U,{direction:"column",children:[s&&l.jsx(Z_n,{setScheme:s}),l.jsx(J,{borderTop:!0,flex:"none",padding:3,children:l.jsxs(te,{as:"ul",space:1,children:[l.jsx(te,{as:"li",children:l.jsx(ie,{"aria-label":"Manage project",as:"a",href:"https://sanity.io/manage/project/".concat(u),icon:vT,justify:"flex-start",mode:"bleed",target:"_blank",text:"Manage project"})}),p&&l.jsx(te,{as:"li",children:l.jsx(ie,{"aria-label":"Invite members",as:"a",href:"https://sanity.io/manage/project/".concat(u,"/members"),icon:wT,justify:"flex-start",mode:"bleed",target:"_blank",text:"Invite members"})})]})})]})]}),a.logout&&l.jsx(J,{flex:"none",padding:3,borderTop:!0,children:l.jsx(te,{children:l.jsx(ie,{iconRight:i8,justify:"flex-start",mode:"bleed",onClick:a.logout,text:"Sign out"})})})]})]})})})});function Q_n(){var e;const n=((e=xn()._validation)==null?void 0:e.filter(f=>f.problems.some(p=>p.severity==="warning")))||[],{scheme:r}=Nc(),o=h.useId(),[i,s]=h.useState(!1),[a,c]=h.useState(null),u=h.useCallback(()=>s(!0),[]),d=h.useCallback(()=>{s(!1),a&&a.focus()},[a]);return n.length===0?null:l.jsxs(l.Fragment,{children:[l.jsx(ih,{icon:Pr,label:"Found configuration issues",mode:"bleed",onClick:u,ref:c,selected:i,tone:"caution",tooltip:{scheme:r}}),i&&l.jsx(Pi,{header:l.jsxs(te,{space:3,children:[l.jsx(B,{weight:"semibold",children:"Configuration issues"}),l.jsx(B,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),width:2,onClickOutside:d,onClose:d,scheme:r,id:o,children:l.jsxs(te,{space:4,padding:4,children:[l.jsxs(Lo,{as:"h2",size:1,children:["Found ",n.length," schema warnings"]}),l.jsx(oMe,{problemGroups:n})]})})]})}function Ype(e){const{title:t,children:n,href:r,onClick:o}=e;return l.jsx(ie,{"aria-label":t,as:"a","data-testid":"logo",href:r,mode:"bleed",onClick:o,padding:0,children:n})}const J_n=mi("mod+".concat(L$e)),eCn=mi("escape");function tCn(e){let{open:t,onClose:n,onOpen:r}=e;const{isTopLayer:o}=Ga(),i=h.useCallback(()=>{n==null||n()},[n]),s=h.useCallback(a=>{J_n(a)&&(a.preventDefault(),t?i():r==null||r()),eCn(a)&&t&&o&&i()},[i,o,t,r]);Qi(s)}function gMe(e){let{children:t,hasValidTerms:n,onClose:r,onOpen:o,open:i}=e;const s=h.useRef(!1),{dispatch:a,searchCommandList:c,setOnClose:u,state:{result:d}}=Pt(),f=h.useCallback(()=>{var p;a({index:(p=c==null?void 0:c.getTopIndex())!=null?p:-1,type:"LAST_ACTIVE_INDEX_SET"}),r()},[a,r,c]);return tCn({onClose:f,onOpen:o,open:i}),h.useEffect(()=>{u(f)},[f,u]),h.useEffect(()=>{(!n||d.loaded)&&s.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,n,d.loaded]),h.useEffect(()=>{!n&&s.current&&!i&&a({type:"ORDERING_RESET"})},[a,n,i]),h.useEffect(()=>{s!=null&&s.current||(s.current=!0)},[]),i?l.jsx("div",{children:t}):null}function nCn(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function Lf(e,t){return t?e[t]:void 0}function rCn(e,t){var n;return(n=Lf(e,t))==null?void 0:n.initialValue}function tL(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function Ch(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,operatorDefinitions:o}=e;return r.filter(i=>p_({filter:i,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:o})).map(i=>{var s;return(s=Lf(o,i.operatorType))==null?void 0:s.groqFilter({fieldPath:oCn({filter:i,fieldDefinitions:t,filterDefinitions:n}),value:i==null?void 0:i.value})}).filter(i=>!KGt(i)).filter(lo).join(" && ")}function Ku(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function Ui(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function Sh(e){let{fieldDefinitions:t,filters:n,types:r}=e;const o=r.map(c=>c.name),i=Object.values(t).filter(c=>n.map(u=>u==null?void 0:u.fieldId).includes(c.id)).filter(c=>c.documentTypes.length>0).map(c=>c.documentTypes),s=O5(...i),a=[];return o.length>0&&a.push(o),s.length>0&&a.push(s),O5(...a).sort()}function oCn(e){let{filter:t,fieldDefinitions:n,filterDefinitions:r}=e;const o=Ku(n,t),i=lh(r,t.filterName);if(i)switch(i.type){case"field":return o==null?void 0:o.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function p_(e){let{filter:t,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:o}=e;const i=lh(n,t.filterName),s=Lf(o,t.operatorType),a=Ku(r,t);return!(!i||!s||t.fieldId&&!a||i.type==="field"&&(!(a!=null&&a.fieldPath)||!t.fieldId||!s.groqFilter({fieldPath:a.fieldPath,value:t.value}))||i.type==="pinned"&&!s.groqFilter({fieldPath:i.fieldPath,value:t.value}))}var qpe=Object.freeze,iCn=Object.defineProperty,sCn=(e,t)=>qpe(iCn(e,"raw",{value:qpe(t||e.slice())})),Gpe;const aCn=mi("escape"),lCn=500,cCn=I.div(Gpe||(Gpe=sCn([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function iH(e){let{anchorElement:t,children:n,onClose:r}=e;const{isTopLayer:o}=Ga(),i=h.useCallback(a=>{aCn(a)&&o&&r()},[o,r]);Qi(i);const s=uCn(t||null);return l.jsxs(l.Fragment,{children:[l.jsx(cCn,{onClick:r}),l.jsx(od,{autoFocus:!1,returnFocus:!0,children:l.jsx(J,{display:"flex",overflow:"hidden",radius:t1,style:{maxHeight:"min(calc(100vh - ".concat(s,"px - ").concat(f_,"px - ").concat(Nx,"px), ").concat(lCn,"px"),zIndex:1},children:l.jsx(U,{children:n})})})]})}function oR(e){const t=e.getBoundingClientRect();return t.y+t.height+f_}function uCn(e){const[t,n]=h.useState(e&&oR(e)),r=h.useCallback(()=>{e&&n(oR(e))},[e]);return h.useEffect(()=>{e&&n(oR(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}var Kpe=Object.freeze,dCn=Object.defineProperty,vMe=(e,t)=>Kpe(dCn(e,"raw",{value:Kpe(t||e.slice())})),Zpe,Xpe;const fCn=I(M)(Zpe||(Zpe=vMe([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border}),hCn=I(U)(Xpe||(Xpe=vMe([`
  box-sizing: border-box;
`]))),yMe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onChange:o,onClear:i,typeFilter:s}=t;const{state:{fullscreen:a}}=Pt();return l.jsx(fCn,{children:l.jsx(hCn,{align:"center",flex:1,padding:1,children:l.jsx(eH,{"aria-label":r,autoComplete:"off",border:!1,clearButton:!!s,fontSize:a?2:1,icon:Zo,muted:!0,onChange:o,onClear:i,placeholder:"Filter",ref:n,smallClearButton:!0,spellCheck:!1,radius:2,value:s})})})});function pCn(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,schema:o,titleFilter:i,types:s}=e;const a=Object.values(n).filter(u=>yCn(u,i)).map(u=>{const d=lh(r,u.filterName);return d?tL(d,u.id):null}).filter(lo),c=gCn({fieldDefinitions:n,filterDefinitions:r,titleFilter:i});return t.length===0?[...c,...zx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"All fields",id:"field"})]:[...c,...mCn({documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:a,schema:o,types:s})]}function zx(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,id:o,headerTitle:i,tone:s}=e;const a={title:i||"",tone:s||"default",type:"header"},c=r.map(u=>({fieldDefinition:Ku(t,u),filterDefinition:lh(n,u.filterName),filter:u,group:o,tone:s||"default",type:"filter"}));return c.length>0?[...i?[a]:[],...c]:[]}function mCn(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:o,schema:i,types:s}=e;const a=o.filter(d=>{const f=Ku(n,d);return wCn(t,f)}),c=t.length>1&&s.length>1?zx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"Shared fields",id:"shared",tone:"primary"}):[],u=t.map(d=>{const f=i.get(d);return{title:(f==null?void 0:f.title)||rn(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(d=>{let{documentType:f,title:p}=d;const m=o.filter(v=>{const g=Ku(n,v);return vCn([f],g)});return zx({fieldDefinitions:n,filterDefinitions:r,filters:m,id:p,headerTitle:p})}).flat();return[...c,...u]}function gCn(e){let{fieldDefinitions:t,filterDefinitions:n,titleFilter:r}=e;const o=Object.values(n).filter(xCn).filter(s=>Qpe(s,r)).map(s=>tL(s)),i=Object.values(n).filter(bCn).filter(s=>Qpe(s,r)).reduce((s,a)=>(s[a.group]=s[a.group]||[],s[a.group].push(tL(a)),s),{});return[...zx({fieldDefinitions:t,filterDefinitions:n,filters:o,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(s=>{let[a,c]=s;return zx({fieldDefinitions:t,filterDefinitions:n,filters:c,headerTitle:a,id:a,tone:"primary"})})]}function vCn(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function yCn(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function Qpe(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function bCn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function xCn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function wCn(e,t){return ax(e,(t==null?void 0:t.documentTypes)||[]).length===0}function bMe(e){let{filter:t,maxLength:n}=e;const{state:{definitions:r}}=Pt(),o=h.useMemo(()=>{const i=lh(r.filters,t.filterName);switch(i==null?void 0:i.type){case"field":{const s=Ku(r.fields,t);return s!=null&&s.titlePath?s.titlePath[s.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[r,t]);return o?n&&o.length>n?l.jsxs("span",{children:[o.slice(0,n),"…"]}):l.jsx("span",{children:o}):null}function _Cn(e){let{filter:t}=e;var n;const{state:{definitions:r}}=Pt(),o=(n=lh(r.filters,t.filterName))==null?void 0:n.icon;return o?h.createElement(o):l.jsx(vl,{})}function xMe(e){let{filter:t,small:n=!0}=e;var r;const{state:{definitions:o}}=Pt(),i=Ku(o.fields,t);return l.jsxs(te,{space:n?2:3,children:[(i==null?void 0:i.titlePath)&&((r=i.titlePath)==null?void 0:r.length)>1&&l.jsx(M,{marginLeft:4,children:l.jsx(B,{muted:!0,size:n?0:1,children:i.titlePath.slice(0,-1).map((s,a)=>l.jsxs(ne.Fragment,{children:[l.jsx("span",{children:s}),a!==i.titlePath.length-2&&l.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:l.jsx(Tc,{})})]},a))})}),l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(M,{style:{flexShrink:0},children:l.jsx(B,{size:n?1:2,children:l.jsx(_Cn,{filter:t})})}),l.jsx(B,{size:n?1:2,weight:"medium",children:l.jsx(bMe,{filter:t})})]})]})}function wMe(e){return h.isValidElement(e)?CCn(TXt(e)):typeof e=="string"?e:""}function CCn(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const iR=10;function SCn(e){let{children:t,fieldDefinition:n,filterDefinition:r,visible:o}=e;const{state:{documentTypesNarrowed:i}}=Pt(),s=xn(),a=h.useMemo(()=>n!=null&&n.documentTypes?n.documentTypes.map(u=>{const d=s.get(u);return(d==null?void 0:d.title)||rn(d==null?void 0:d.name)}).filter(lo).sort():[],[n==null?void 0:n.documentTypes,s]),c=h.useMemo(()=>{if(n!=null&&n.documentTypes){const u=n.documentTypes.map(f=>{const p=s.get(f);if(p){const m=XO(p,n.fieldPath);return(m==null?void 0:m.type.description)&&wMe(m==null?void 0:m.type.description)}return null}).filter(lo).sort(),d=so(u);if(d.length===1)return d[0]}},[n==null?void 0:n.documentTypes,n==null?void 0:n.fieldPath,s]);return l.jsx(st,{content:l.jsx(J,{tone:"default",radius:2,style:{maxWidth:"250px"},children:l.jsxs(te,{padding:3,space:4,children:[n&&l.jsxs(te,{space:2,children:[l.jsx(Nt,{muted:!0,size:0,children:"Field name"}),l.jsx(Yt,{children:l.jsx(J,{tone:"caution",padding:1,radius:2,children:l.jsx(er,{size:0,children:n==null?void 0:n.name})})})]}),c&&l.jsxs(te,{space:3,children:[l.jsx(Nt,{muted:!0,size:0,children:"Field description"}),l.jsx(B,{muted:!0,size:0,children:Jpe(c)})]}),(r==null?void 0:r.description)&&l.jsx(B,{muted:!0,size:0,children:Jpe(r.description)}),!i.length&&a.length>0&&l.jsxs(te,{space:2,children:[l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Nt,{muted:!0,size:0,children:"Used in document types"}),l.jsx(J,{padding:1,radius:2,tone:"transparent",children:l.jsx(B,{size:0,muted:!0,children:a.length})})]}),l.jsxs(B,{size:0,weight:"regular",muted:!0,children:[a.slice(0,iR).join(", "),(a==null?void 0:a.length)>iR?" +".concat(a.length-iR," more"):""]})]})]})}),disabled:!o,fallbackPlacements:["left"],placement:"right",portal:!0,children:t})}function Jpe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256;return e.length>t?"".concat(e.slice(0,t-1),"…"):e}const ECn=ne.memo(function(t){let{item:n,onClose:r,...o}=t;const[i,s]=h.useState(!1),{dispatch:a,state:{filters:c}}=Pt(),u=h.useCallback(()=>{a({filter:n.filter,type:"TERMS_FILTERS_ADD"}),r==null||r()},[a,n.filter,r]),d=!!c.find(g=>Ui(g)===Ui(n.filter)),f=h.useRef(),p=h.useCallback(()=>{f.current=setTimeout(()=>s(!0),500)},[]),m=h.useCallback(()=>{s(!1),clearTimeout(f.current)},[]);h.useEffect(()=>()=>clearTimeout(f.current),[]);const v=!!(n.fieldDefinition||n.filterDefinition.description);return l.jsx(M,{...o,children:l.jsx(ie,{disabled:d,fontSize:1,justify:"flex-start",mode:"bleed",onClick:d?void 0:u,onMouseEnter:p,onMouseLeave:m,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:n==null?void 0:n.tone,children:l.jsx(SCn,{fieldDefinition:n.fieldDefinition,filterDefinition:n.filterDefinition,visible:v&&i,children:l.jsx(M,{padding:3,children:l.jsx(xMe,{filter:n.filter})})})})})}),kCn=ne.memo(function(t){let{item:n}=t;return l.jsx(M,{paddingTop:1,children:l.jsx(J,{borderBottom:!0,padding:3,tone:n==null?void 0:n.tone,children:l.jsx(Nt,{muted:!0,size:0,textOverflow:"ellipsis",children:n.title})})})});function jCn(e){let{onClose:t}=e;const[n,r]=h.useState(null),[o,i]=h.useState(""),s=h.useCallback(x=>i(x.currentTarget.value),[i]),a=h.useCallback(()=>i(""),[]),c=xn(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:p}}}=Pt(),m=h.useMemo(()=>pCn({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:c,titleFilter:o,types:p}),[u,d.fields,d.filters,c,o,p]),v=h.useCallback(x=>x.type==="filter"?l.jsx(ECn,{item:x,onClose:t,paddingBottom:1}):x.type==="header"?l.jsx(kCn,{item:x}):null,[t]),g=h.useCallback(x=>{const y=m[x];return y.type!=="filter"||!!f.find(w=>Ui(w)===Ui(y.filter))},[m,f]),b=h.useCallback(x=>{const y=m[x];switch(y.type){case"filter":return[...y.group?[y.group]:[],Ui(y.filter)].join("-");case"header":return"".concat(y.type,"-").concat(y.title);default:return x}},[m]);return l.jsxs(U,{direction:"column",style:{width:"300px"},children:[l.jsx(yMe,{ariaInputLabel:"Filter by title",onChange:s,onClear:a,ref:r,typeFilter:o}),l.jsxs(U,{children:[m.length>0&&l.jsx(oh,{activeItemDataAttr:"data-hovered",ariaLabel:"Filters",autoFocus:"input",getItemDisabled:g,getItemKey:b,inputElement:n,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:v}),m.length==0&&l.jsx(M,{padding:3,children:l.jsxs(B,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",o,"'"]})})]})]})}function eme(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),{state:{fullscreen:o}}=Pt(),i=h.useCallback(()=>t(!1),[]),s=h.useCallback(()=>t(!0),[]);return l.jsx(nn,{__unstable_margins:[f_,0,0,0],content:l.jsx(iH,{anchorElement:n,onClose:i,children:l.jsx(jCn,{onClose:i})}),open:e,placement:"bottom-start",radius:t1,portal:!0,children:l.jsx(ie,{fontSize:1,icon:Ks,mode:"bleed",onClick:s,padding:o?3:2,ref:r,selected:e,space:2,text:"Add filter"})})}const TCn=ne.memo(function(t){let{selected:n,type:r,...o}=t;var i,s;const{dispatch:a}=Pt(),c=h.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:r})},[a,r]),u=h.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:r})},[a,r]),d=h.useCallback(()=>{n?u():c()},[c,u,n]);return l.jsx(M,{...o,children:l.jsx(ie,{fontSize:1,iconRight:n&&Ma,justify:"flex-start",mode:"bleed",onClick:d,style:{width:"100%"},tabIndex:-1,text:(s=r.title)!=null?s:r.name,tone:n?"primary":"default"},(i=r.title)!=null?i:r.name)})});var tme=Object.freeze,ACn=Object.defineProperty,OCn=(e,t)=>tme(ACn(e,"raw",{value:tme(t||e.slice())})),nme;const PCn=I(M)(nme||(nme=OCn([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border});function DCn(){const[e,t]=h.useState(null),[n,r]=h.useState(""),o=h.useRef(null),i=xn(),{dispatch:s,state:{terms:{types:a}}}=Pt(),[c,u]=h.useState(a),d=RCn(i,a,c,n),f=h.useCallback(y=>r(y.currentTarget.value),[r]),p=h.useCallback(()=>r(""),[]),m=h.useCallback(()=>{var y,w;u([]),s({type:"TERMS_TYPES_CLEAR"}),(y=o==null?void 0:o.current)==null||y.focusInputElement(),(w=o==null?void 0:o.current)==null||w.scrollToIndex(0)},[s]),v=h.useCallback(y=>{const w=d[y];switch(w.type){case"divider":return"".concat(w.type,"-").concat(y);case"header":return"".concat(w.type,"-").concat(w.title);case"item":return"".concat(w.type,"-").concat(w.item.name);default:return y}},[d]),g=h.useCallback(y=>y.type==="divider"?l.jsx(M,{paddingY:1,children:l.jsx(kr,{})}):y.type==="header"?l.jsx(M,{margin:1,paddingBottom:2,paddingTop:3,children:l.jsx(Nt,{muted:!0,size:0,children:y.title})}):y.type==="item"?l.jsx(TCn,{paddingBottom:1,selected:y.selected,type:y.item}):null,[]),b=h.useCallback(y=>d[y].type!=="item",[d]),x=h.useCallback(y=>{const w=d[y];return w.type==="item"&&w.selected},[d]);return l.jsxs(U,{direction:"column",style:{width:"250px"},children:[l.jsx(yMe,{ariaInputLabel:"Filter by document type",onChange:f,onClear:p,ref:t,typeFilter:n}),l.jsxs(U,{children:[d.length>0&&l.jsx(oh,{activeItemDataAttr:"data-hovered",ariaLabel:"Document types",ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:b,getItemSelected:x,getItemKey:v,inputElement:e,itemHeight:37,items:d,overscan:20,padding:1,paddingBottom:0,ref:o,renderItem:g}),!d.length&&l.jsx(M,{padding:3,children:l.jsxs(B,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",n,"'"]})})]}),!n&&a.length>0&&l.jsx(ICn,{onClick:m,selectedTypes:a})]})}function ICn(e){let{onClick:t,selectedTypes:n}=e;return l.jsx(PCn,{padding:1,children:l.jsx(te,{children:l.jsx(ie,{"aria-label":"Clear checked filters","data-name":"type-filter-button",disabled:n.length===0,fontSize:1,mode:"bleed",onClick:t,padding:3,text:"Clear",tone:"primary"})})})}function RCn(e,t,n,r){return h.useMemo(()=>{const[o,i]=yB(lbn(e,r),u=>n.includes(u)),s=o.length>0,a=o.length>0,c=[];return s&&c.push({title:"Selected",type:"header"}),o.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),s&&a&&c.push({type:"divider"}),i.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),c},[e,t,n,r])}var rme=Object.freeze,$Cn=Object.defineProperty,MCn=(e,t)=>rme($Cn(e,"raw",{value:rme(t||e.slice())})),ome;const FCn=I(ie)(e=>{let{theme:t}=e;const{regular:n}=t.sanity.fonts.text.weights;return de(ome||(ome=MCn([`
    [data-ui='Text'] {
      font-weight: `,`;
    }
  `])),n)}),LCn=["top-start","bottom-start"];function BCn(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),[o,i]=h.useState(null),{state:{fullscreen:s,terms:{types:a}}}=Pt(),c=h.useCallback(()=>t(!1),[]),u=h.useCallback(()=>t(!0),[]);rr(c,[n,o]);const d=h.useMemo(()=>GV({types:a}),[a]);return l.jsx(nn,{__unstable_margins:[f_,0,0,0],content:l.jsx(iH,{anchorElement:n,onClose:c,children:l.jsx(DCn,{})}),open:e,placement:"bottom-start",fallbackPlacements:LCn,portal:!0,radius:t1,ref:i,children:l.jsx(FCn,{fontSize:1,iconRight:Il,mode:"ghost",onClick:u,padding:s?3:2,ref:r,selected:e,style:{maxWidth:"100%"},text:d,tone:"default"})})}var ime=Object.freeze,NCn=Object.defineProperty,zCn=(e,t)=>ime(NCn(e,"raw",{value:ime(t||e.slice())})),sme;const sR=I(M)(sme||(sme=zCn([`
  flex-shrink: `,`;
`])),e=>{let{$flexShrink:t=0}=e;return t});function _Me(e){let{filter:t,fontSize:n=1,showContent:r=!0}=e;const{state:{definitions:o,fullscreen:i}}=Pt(),s=Lf(o.operators,t.operatorType),a=s==null?void 0:s.buttonValueComponent;return l.jsxs(U,{align:"center",gap:1,children:[l.jsx(sR,{$flexShrink:i?1:0,children:l.jsx(tr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(bMe,{filter:t,maxLength:i?25:40})})}),r&&(s==null?void 0:s.buttonLabel)&&l.jsx(sR,{$flexShrink:0,children:l.jsx(tr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"regular",children:s.buttonLabel})}),r&&a&&l.jsx(sR,{$flexShrink:1,children:l.jsx(tr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(a,{value:t==null?void 0:t.value})})})]})}function VCn(e){return l.jsx(M,{...e,children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(tr,{tone:"critical",children:l.jsx(sa,{})}),l.jsxs(te,{space:4,children:[l.jsx(tr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst displaying this filter."}),l.jsx(tr,{size:1,tone:"critical",children:"This may indicate invalid options defined in your schema."})]})]})})}function HCn(e){let{onClick:t,operator:n,selected:r}=e;const o=h.useCallback(()=>t(n.type),[t,n.type]);return l.jsx(Be,{onClick:o,padding:3,pressed:r,tone:"default",children:l.jsxs(U,{align:"center",justify:"space-between",gap:3,children:[l.jsx(M,{paddingRight:2,children:l.jsx(B,{size:1,weight:"regular",children:n.label})}),(n==null?void 0:n.icon)&&l.jsx(B,{muted:!0,size:1,children:h.createElement(n.icon)})]})})}function UCn(e){let{filter:t,operator:n}=e;var r;const o=h.useId(),{dispatch:i,state:s}=Pt(),a=(r=lh(s.definitions.filters,t.filterName))==null?void 0:r.operators,c=h.useCallback(u=>{i({filterKey:Ui(t),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,t]);return!n||!a||a.length<=1?null:l.jsx(Yt,{children:l.jsx(Kt,{button:l.jsx(ie,{mode:"ghost",padding:3,children:l.jsxs(U,{align:"center",gap:2,justify:"space-between",children:[l.jsx(B,{size:s.fullscreen?2:1,weight:"regular",children:n.label}),l.jsx(M,{marginLeft:1,children:l.jsx(B,{size:1,children:l.jsx(Il,{})})})]})}),id:o||"",menu:l.jsx(Ft,{children:a.map((u,d)=>{if(u.type==="item"){const f=Lf(s.definitions.operators,u.name);return f?l.jsx(HCn,{onClick:c,operator:f,selected:n.type===u.name},d):null}return u.type==="divider"?l.jsx(kr,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function WCn(e){let{filter:t}=e;const[n,r]=h.useState(null),{dispatch:o,state:{definitions:i,fullscreen:s}}=Pt(),a=lh(i.filters,t.filterName),c=Lf(i.operators,t.operatorType),u=Ku(i.fields,t),d=Ui(t),f=h.useCallback(()=>{o({filterKey:Ui(t),type:"TERMS_FILTERS_REMOVE"})},[o,t]),p=h.useCallback(g=>{o({filterKey:d,type:"TERMS_FILTERS_SET_VALUE",value:g})},[o,d]),m=h.useCallback(g=>{r(g)},[]),v=c==null?void 0:c.inputComponent;return n?l.jsx(VCn,{padding:4}):l.jsx(x0,{onCatch:m,children:l.jsx(od,{autoFocus:!Zp,returnFocus:!0,children:l.jsxs(U,{direction:"column-reverse",children:[v&&l.jsx(J,{borderTop:!0,padding:3,children:l.jsx(v,{fieldDefinition:u,onChange:p,value:t.value},t.operatorType)}),l.jsx(J,{padding:3,children:l.jsxs(te,{space:3,children:[l.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",children:[l.jsx(M,{paddingBottom:1,paddingLeft:1,paddingRight:2,paddingTop:s?2:1,children:l.jsx(xMe,{filter:t,small:!s})}),s&&l.jsx(ie,{fontSize:2,icon:ao,mode:"bleed",onClick:f,padding:2,tone:"critical"})]}),(a==null?void 0:a.description)&&l.jsx(J,{border:!0,padding:3,radius:2,tone:"transparent",children:l.jsx(B,{muted:!0,size:1,children:a.description})}),l.jsx(UCn,{filter:t,operator:c})]})})]})})})}var ame=Object.freeze,YCn=Object.defineProperty,qCn=(e,t)=>ame(YCn(e,"raw",{value:ame(t||e.slice())})),lme;const GCn=I(U)(lme||(lme=qCn([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function KCn(e){let{filter:t}=e;return l.jsxs(GCn,{direction:"column",children:[l.jsx(WCn,{filter:t}),F$e]})}var cme=Object.freeze,ZCn=Object.defineProperty,oP=(e,t)=>cme(ZCn(e,"raw",{value:cme(t||e.slice())})),ume,dme,fme,hme;const XCn=I(ie)(ume||(ume=oP([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return"0 ".concat(pe(t.sanity.radius[2])," ").concat(pe(t.sanity.radius[2])," 0")}),QCn=I(J)(dme||(dme=oP([`
  position: absolute;
  right: 0;
`]))),JCn=I.div(fme||(fme=oP([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),e2n=I(ie)(hme||(hme=oP([`
  border: none;
  width: 100%;
`])));function t2n(e){let{filter:t,initialOpen:n}=e;const[r,o]=h.useState(n),{dispatch:i,state:{definitions:s,fullscreen:a}}=Pt(),c=h.useCallback(()=>o(!1),[]),u=h.useCallback(()=>o(!0),[]),d=h.useCallback(()=>i({filterKey:Ui(t),type:"TERMS_FILTERS_REMOVE"}),[i,t]),f=h.useCallback(m=>{["Backspace","Delete"].includes(m.key)&&d()},[d]),p=p_({fieldDefinitions:s.fields,filter:t,filterDefinitions:s.filters,operatorDefinitions:s.operators});return l.jsx(nn,{__unstable_margins:[f_,0,0,0],content:l.jsx(iH,{onClose:c,children:l.jsx(KCn,{filter:t})}),constrainSize:!0,open:r,overflow:"auto",placement:"bottom-start",portal:!0,radius:t1,children:l.jsxs(JCn,{children:[l.jsx(J,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(e2n,{mode:"bleed",onClick:u,onKeyDown:f,paddingLeft:a?3:2,paddingRight:a?3:5,paddingY:a?3:2,children:l.jsx(_Me,{filter:t,showContent:p})})}),!a&&l.jsx(QCn,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(XCn,{"aria-label":"Delete filter",fontSize:1,icon:Ei,mode:"bleed",onClick:d,onKeyDown:f,padding:2,radius:2})})]})})}function CMe(){const{dispatch:e,state:{filters:t,fullscreen:n,lastAddedFilter:r,terms:{types:o}}}=Pt(),i=h.useRef(!1),s=h.useCallback(()=>{e({type:"TERMS_FILTERS_CLEAR"}),e({type:"TERMS_TYPES_CLEAR"})},[e]),a=t.length>0||o.length>0;h.useEffect(()=>{i.current=!0},[]);const c=r&&Ui(r),u=()=>l.jsx(ie,{fontSize:1,mode:"bleed",onClick:s,padding:n?3:2,text:"Clear filters",tone:"critical"});return l.jsxs(l.Fragment,{children:[l.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[l.jsxs(U,{flex:1,gap:2,wrap:"wrap",children:[l.jsx(BCn,{}),t==null?void 0:t.map(d=>{const f=Ui(d);return l.jsx(t2n,{filter:d,initialOpen:i.current&&c===f},f)}),!n&&l.jsx(eme,{})]}),a&&!n&&l.jsx(u,{})]}),n&&l.jsxs(U,{justify:"space-between",paddingBottom:2,paddingX:2,children:[l.jsx(eme,{}),a&&l.jsx(u,{})]}),F$e]})}function n2n(){return l.jsx(U,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:l.jsxs(Yt,{space:3,children:[l.jsx(B,{muted:!0,children:"Use"}),l.jsx(B,{muted:!0,children:l.jsx(yT,{})}),l.jsx(B,{muted:!0,children:"to refine your search"})]})})}function r2n(e){let{availableCharacters:t,types:n}=e;const r=h.useMemo(()=>GV({availableCharacters:t,types:n}),[t,n]);return l.jsx(J,{border:!0,padding:2,radius:2,children:l.jsx(B,{muted:!0,size:1,children:r})})}var pme=Object.freeze,o2n=Object.defineProperty,i2n=(e,t)=>pme(o2n(e,"raw",{value:pme(t||e.slice())})),mme;const s2n=I(J)(mme||(mme=i2n([`
  cursor: default;
`])));function a2n(e){let{filter:t}=e;return l.jsx(s2n,{border:!0,padding:2,radius:2,tone:"primary",children:l.jsx(_Me,{filter:t})})}var gme=Object.freeze,l2n=Object.defineProperty,iP=(e,t)=>gme(l2n(e,"raw",{value:gme(t||e.slice())})),vme,yme,bme,xme;const c2n=40,SMe=I(ie)(vme||(vme=iP([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),e=>{let{theme:t}=e;return pe(t.sanity.radius[2])}),u2n=I(M)(yme||(yme=iP([`
  flex-shrink: 3;
`]))),d2n=I(M)(bme||(bme=iP([`
  flex-shrink: 2;
`]))),f2n=I.div(xme||(xme=iP([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),SMe);function h2n(e){let{index:t,maxVisibleTypePillChars:n=c2n,value:r,...o}=e;var i;const{dispatch:s,recentSearchesStore:a}=Pt(),c=n-r.query.length,u=h.useCallback(()=>{if(s({type:"TERMS_SET",filters:r==null?void 0:r.filters,terms:r}),a){const f=a==null?void 0:a.addSearch(r,r==null?void 0:r.filters);s({recentSearches:f,type:"RECENT_SEARCHES_SET"})}},[s,a,r]),d=h.useCallback(f=>{if(f.stopPropagation(),a){const p=a==null?void 0:a.removeSearchAtIndex(t);s({recentSearches:p,type:"RECENT_SEARCHES_SET"})}},[s,t,a]);return l.jsx(M,{...o,children:l.jsx(SMe,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:l.jsxs(U,{align:"stretch",children:[l.jsxs(Yt,{paddingY:2,children:[l.jsx(B,{muted:!0,size:1,children:l.jsx(sxe,{})}),l.jsx(B,{children:"​"})]}),l.jsxs(U,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[r.query&&l.jsx(d2n,{paddingY:2,children:l.jsx(B,{muted:!0,textOverflow:"ellipsis",children:r.query})}),r.types.length>0&&l.jsx(u2n,{children:l.jsx(r2n,{availableCharacters:c,types:r.types})}),(i=r==null?void 0:r.filters)==null?void 0:i.map((f,p)=>l.jsx(a2n,{filter:f},p))]}),l.jsx(U,{align:"center",children:l.jsx(f2n,{onClick:d,children:l.jsx(U,{padding:2,children:l.jsx(B,{size:1,children:l.jsx(Ei,{})})})})})]})})})}var wme=Object.freeze,p2n=Object.defineProperty,m2n=(e,t)=>wme(p2n(e,"raw",{value:wme(t||e.slice())})),_me;const g2n=36,v2n=20,y2n=40,b2n=I(J)(_me||(_me=m2n([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function EMe(e){let{inputElement:t}=e;const{dispatch:n,recentSearchesStore:r,state:{filtersVisible:o,fullscreen:i,recentSearches:s}}=Pt(),a=h.useRef(null),c=h.useCallback(()=>{var m;if(r){const v=r.removeSearch();n({recentSearches:v,type:"RECENT_SEARCHES_SET"})}(m=a==null?void 0:a.current)==null||m.focusInputElement()},[n,r]),u=mm(),d=h.useMemo(()=>u<2?v2n:y2n,[u]),f=h.useCallback((m,v)=>{let{virtualIndex:g}=v;return l.jsx(h2n,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m})},[d]),p=!!s.length;return l.jsx(b2n,{borderTop:p||!p&&!o&&i,flex:1,children:s.length?l.jsxs(l.Fragment,{children:[l.jsx(M,{paddingBottom:2,paddingTop:4,paddingX:3,children:l.jsx(Nt,{muted:!0,size:1,children:"Recent searches"})}),l.jsx(M,{children:l.jsx(oh,{activeItemDataAttr:"data-hovered",ariaLabel:"Recent searches",inputElement:t,initialIndex:0,itemHeight:g2n,items:s,paddingX:2,paddingY:1,renderItem:f})}),l.jsx(M,{paddingBottom:2,paddingTop:1,paddingX:2,children:l.jsx(ie,{fontSize:1,justify:"flex-start",mode:"bleed",onClick:c,padding:2,tone:"default",children:l.jsx(B,{muted:!0,size:1,children:"Clear recent searches"})})})]}):!o&&i&&l.jsx(n2n,{})})}var Cme=Object.freeze,x2n=Object.defineProperty,sP=(e,t)=>Cme(x2n(e,"raw",{value:Cme(t||e.slice())})),Sme,Eme,kme,jme;const w2n=am(Sme||(Sme=sP([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),_2n=I(sw)(Eme||(Eme=sP([`
  animation: `,` 500ms linear infinite;
`])),w2n),C2n=I(M)(kme||(kme=sP([`
  position: relative;
`]))),S2n=I.div(jme||(jme=sP([`
  background: `,`;
  border-radius: 100%;
  height: 6px;
  position: absolute;
  right: 2px;
  top: 2px;
  width: 6px;
`])),e=>{let{theme:t}=e;var n;return(n=t.sanity.color.selectable)==null?void 0:n.primary.enabled.fg}),kMe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onClose:o}=t;const i=h.useRef(!1),{dispatch:s,state:{filters:a,filtersVisible:c,fullscreen:u,result:{loading:d},terms:{types:f,query:p}}}=Pt(),m=h.useCallback(()=>s({type:"FILTERS_VISIBLE_SET",visible:!c}),[s,c]),v=h.useCallback(x=>s({type:"TERMS_QUERY_SET",query:x.currentTarget.value}),[s]),g=h.useCallback(()=>{s({type:"TERMS_QUERY_SET",query:""})},[s]);h.useEffect(()=>{u||s({type:"FILTERS_VISIBLE_SET",visible:!0})},[s,u]),h.useEffect(()=>{i.current=!0},[]);const b=a.length>0||f.length>0;return l.jsx(J,{flex:"none",children:l.jsxs(U,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&l.jsx(J,{children:l.jsx(ie,{"aria-label":"Close search",icon:ow,mode:"bleed",onClick:o})}),l.jsx(M,{flex:1,children:l.jsx(eH,{"aria-label":r,autoComplete:"off",background:u,border:!1,clearButton:!!p,fontSize:2,icon:d?_2n:Zo,onChange:v,onClear:g,placeholder:"Search",radius:u?2:1,ref:n,smallClearButton:u,spellCheck:!1,value:p})}),u&&l.jsxs(C2n,{children:[l.jsx(ie,{"aria-expanded":c,"aria-label":"Toggle filters",height:"fill",icon:yT,mode:"bleed",onClick:m,padding:3,selected:c,tone:"default"}),b&&l.jsx(S2n,{})]})]})})});function E2n(){return l.jsx(oo,{width:0,children:l.jsxs(te,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[l.jsx(B,{align:"center",muted:!0,weight:"semibold",children:"No results found"}),l.jsx(B,{align:"center",muted:!0,size:1,children:"Try another keyword or adjust your filters"})]})})}function k2n(){return l.jsxs(U,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[l.jsx(M,{marginBottom:1,children:l.jsx(tr,{tone:"critical",children:l.jsx(Pr,{})})}),l.jsx(tr,{size:2,tone:"critical",weight:"semibold",children:"Something went wrong while searching"}),l.jsx(tr,{size:1,tone:"critical",children:"Please try again or check your connection"})]})}const Kh={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},title:"Created: Oldest first"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},title:"Created: Newest first"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},title:"Best match"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},title:"Updated: Oldest first"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},title:"Updated: Newest first"}};var Tme=Object.freeze,j2n=Object.defineProperty,T2n=(e,t)=>Tme(j2n(e,"raw",{value:Tme(t||e.slice())})),Ame;const Ome=[Kh.relevance,{type:"divider"},Kh.createdAsc,Kh.createdDesc,{type:"divider"},Kh.updatedAsc,Kh.updatedDesc],A2n=I(U)(Ame||(Ame=T2n([`
  box-sizing: border-box;
`])));function Pme(e){return e.type==="divider"}function O2n(e){let{ordering:t}=e;const{dispatch:n,state:{ordering:r}}=Pt(),o=h.useCallback(()=>{n({ordering:t,type:"ORDERING_SET"})},[n,t]),i=h.useMemo(()=>zt(r,t),[r,t]);return l.jsx(Be,{onClick:o,padding:3,pressed:i,tone:"default",children:l.jsx(U,{align:"center",justify:"space-between",paddingRight:2,children:l.jsx(B,{size:1,weight:"medium",children:t.title})})})}function P2n(){const{state:{ordering:e}}=Pt(),t=h.useId(),n=Ome.find(r=>zt(e,r)&&!Pme(r));return n?l.jsx(J,{borderBottom:!0,children:l.jsx(A2n,{align:"center",flex:1,padding:2,children:l.jsx(Kt,{button:l.jsx(ie,{mode:"bleed",padding:2,children:l.jsxs(U,{align:"center",gap:1,justify:"space-between",children:[l.jsx(M,{marginRight:1,children:l.jsx(B,{size:1,children:l.jsx(u8,{})})}),l.jsx(Yt,{space:2,children:l.jsx(B,{size:1,weight:"medium",children:n.title})})]})}),id:t||"",menu:l.jsx(Ft,{children:Ome.map((r,o)=>Pme(r)?l.jsx(kr,{},o):l.jsx(O2n,{ordering:r},o))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var Dme=Object.freeze,D2n=Object.defineProperty,I2n=(e,t)=>Dme(D2n(e,"raw",{value:Dme(t||e.slice())})),Ime;const R2n=I(J)(Ime||(Ime=I2n([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function $2n(e){let{data:t}=e;const{score:n}=t;let r="default";n<=.1?r="critical":n>=.5&&(r="primary");const o=t.stories.filter(i=>i.score>0);return l.jsx(l.Fragment,{children:l.jsx(st,{content:l.jsx(M,{padding:2,children:l.jsx(te,{space:2,children:o.length?l.jsx(l.Fragment,{children:o.map(i=>l.jsxs(Yt,{space:3,children:[l.jsx(er,{size:0,weight:"semibold",children:i.path}),l.jsx(er,{size:0,children:i.why})]},i.path))}):l.jsx(er,{size:0,children:"No matches"})})}),placement:"bottom-start",portal:!0,children:l.jsx(R2n,{padding:1,shadow:1,tone:r,children:l.jsxs(er,{size:0,children:["score: ",n]})})})})}var Rme=Object.freeze,M2n=Object.defineProperty,F2n=(e,t)=>Rme(M2n(e,"raw",{value:Rme(t||e.slice())})),$me;const L2n=59,B2n=4,N2n=I(U)($me||($me=F2n([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),e=>{let{$loading:t}=e;return t?.5:1});function jMe(e){let{inputElement:t}=e;const{dispatch:n,onClose:r,recentSearchesStore:o,setSearchCommandList:i,state:{debug:s,filters:a,fullscreen:c,lastActiveIndex:u,result:d,terms:f}}=Pt(),p=!!d.hits.length,m=!d.hits.length&&d.loaded,v=d.error,g=h.useCallback(()=>{if(o){const x=o.addSearch(f,a);n({recentSearches:x,type:"RECENT_SEARCHES_SET"})}r==null||r()},[n,a,r,o,f]),b=h.useCallback(x=>l.jsxs(l.Fragment,{children:[l.jsx(qV,{documentId:Tn(x.hit._id)||"",documentType:x.hit._type,onClick:g,paddingBottom:2}),s&&l.jsx($2n,{data:x})]}),[s,g]);return l.jsx(U,{children:l.jsx(J,{borderTop:c||!!(v||p||m),flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[p&&l.jsx(P2n,{}),l.jsx(N2n,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:v?l.jsx(k2n,{}):l.jsxs(l.Fragment,{children:[p&&l.jsx(oh,{activeItemDataAttr:"data-hovered",ariaLabel:"Search results",fixedHeight:!0,initialIndex:u,inputElement:t,itemHeight:L2n,items:d.hits,overscan:B2n,padding:2,paddingBottom:0,ref:i,renderItem:b}),m&&l.jsx(E2n,{})]})})]})})})}var Mme=Object.freeze,z2n=Object.defineProperty,TMe=(e,t)=>Mme(z2n(e,"raw",{value:Mme(t||e.slice())})),Fme,Lme;const V2n=I(J)(Fme||(Fme=TMe([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),H2n=I(M)(Lme||(Lme=TMe([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function U2n(e){let{onClose:t,onOpen:n,open:r}=e;const[o,i]=h.useState(null),{scheme:s}=Nc(),{state:{filtersVisible:a,terms:c}}=Pt(),u=QO({terms:c});return l.jsx(gMe,{hasValidTerms:u,onClose:t,onOpen:n,open:r,children:l.jsx(vm,{children:l.jsx(od,{autoFocus:!Zp,returnFocus:!0,children:l.jsx(H2n,{children:l.jsxs(V2n,{display:"flex",height:"fill",scheme:s,tone:"default",children:[l.jsx(kMe,{ariaInputLabel:u?"Search results":"Recent searches",onClose:t,ref:i}),a&&l.jsx(J,{borderTop:!0,flex:"none",children:l.jsx(CMe,{})}),u?l.jsx(jMe,{inputElement:o}):l.jsx(EMe,{inputElement:o})]})})})})})}var Bme=Object.freeze,W2n=Object.defineProperty,sH=(e,t)=>Bme(W2n(e,"raw",{value:Bme(t||e.slice())})),Nme,zme,Vme;const Y2n=I(U)(Nme||(Nme=sH([`
  position: absolute;
  right: 0;
  top: 0;

  & > :first-child {
    margin-right: 1px;
  }
`]))),q2n=I(U)(zme||(zme=sH([`
  min-width: 253px;
  max-width: 350px;
  position: relative;
`]))),G2n=I(Or)(Vme||(Vme=sH([`
  padding-right: 60px;
`]))),K2n=h.forwardRef(function(t,n){let{onOpen:r}=t;const{dispatch:o,state:{terms:i}}=Pt(),s=h.useCallback(c=>{o({type:"TERMS_QUERY_SET",query:c.currentTarget.value}),r()},[o,r]),a=h.useCallback(c=>{c.key==="Enter"&&r()},[r]);return l.jsxs(q2n,{align:"center",children:[l.jsx(G2n,{"aria-autocomplete":"list","aria-expanded":"false",autoComplete:"off",icon:Zo,"data-testid":"studio-search",onChange:s,onClick:r,onKeyDown:a,placeholder:"Search",radius:2,ref:n,role:"combobox",value:i.query}),l.jsxs(Y2n,{align:"center",height:"fill",marginRight:2,children:[l.jsx(dM,{children:sbn}),l.jsx(dM,{children:L$e.toUpperCase()})]})]})});var Hme=Object.freeze,Z2n=Object.defineProperty,CE=(e,t)=>Hme(Z2n(e,"raw",{value:Hme(t||e.slice())})),Ume,Wme,Yme,qme;const X2n=I.div(Ume||(Ume=CE([`
  background-color: `,`;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.shadow.ambient}),Q2n=I(J)(qme||(qme=CE([`
  `,`
  display: flex !important;
  flex-direction: column;
  max-height: `,`;
  position: absolute;
  top: `,`px;
  width: min(calc(100vw - `,"px), ",`px);
`])),e=>{let{$position:t}=e;return t.x?de(Wme||(Wme=CE([`
          left: `,`px;
        `])),t.x):de(Yme||(Yme=CE([`
          left: 50%;
          transform: translateX(-50%);
        `])))},e=>{let{$position:t}=e;return"min(calc(100vh - ".concat(t.y,"px - ").concat(Nx,"px), ").concat(abn,"px)")},e=>{let{$position:t}=e;return t.y},Nx*2,B$e);function J2n(e){let{disableFocusLock:t,onClose:n,onOpen:r,open:o,position:i}=e;const[s,a]=h.useState(null),[c,u]=h.useState(null),{isTopLayer:d,zIndex:f}=Ga(),{scheme:p}=Nc(),{onClose:m,state:{filtersVisible:v,terms:g}}=Pt(),b=QO({terms:g}),x=h.useCallback(()=>{d&&m&&o&&m()},[d,m,o]);return rr(x,[s]),l.jsx(gMe,{hasValidTerms:b,onClose:n,onOpen:r,open:o,children:l.jsx(vm,{children:l.jsxs(od,{autoFocus:!Zp,disabled:t,returnFocus:!0,children:[l.jsx(X2n,{style:{zIndex:f}}),l.jsxs(Q2n,{$position:i,overflow:"hidden",radius:t1,ref:a,scheme:p,shadow:2,style:{zIndex:f},children:[l.jsx(kMe,{ariaInputLabel:b?"Search results":"Recent searches",onClose:n,ref:u}),v&&l.jsx(J,{borderTop:!0,flex:"none",children:l.jsx(CMe,{})}),b?l.jsx(jMe,{inputElement:c}):l.jsx(EMe,{inputElement:c})]})]})})})}function eSn(){const[e,t]=h.useState(null),[n,r]=h.useState(!1),o=h.useCallback(()=>r(!1),[]),i=h.useCallback(()=>r(!0),[]),s=tSn(e);return l.jsxs(l.Fragment,{children:[l.jsx(K2n,{onOpen:i,ref:t}),s&&l.jsx(J2n,{onClose:o,onOpen:i,open:n,position:s})]})}function Gme(e){const t=e.getBoundingClientRect();return{x:window.innerWidth-t.x>B$e?t.x-Nx:null,y:t.y-Nx}}function tSn(e){const[t,n]=h.useState(null),r=h.useCallback(()=>{e&&n(Gme(e))},[e]);return h.useEffect(()=>{e&&n(Gme(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const nSn="search::recent",rSn=5,Vx=2;function oSn(e){let{dataset:t,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:o,projectId:i,schema:s,user:a,version:c=Vx}=e;if(!t||!i||!AMe||!a)return;const u="".concat(nSn,"__").concat(i,":").concat(t,":").concat(a.id);return{addSearch:(d,f)=>{const m=(f||[]).map(x=>({fieldId:x.fieldId,filterName:x.filterName,operatorType:x.operatorType,value:x.value})).filter(x=>p_({fieldDefinitions:n,filter:x,filterDefinitions:r,operatorDefinitions:o})),v={created:new Date().toISOString(),filters:m,terms:{query:d.query.trim(),typeNames:d.types.map(x=>x.name)}},g=JSON.stringify(Ai(v,"created")),b={version:c,recentSearches:[v,...kb(u,c).recentSearches.filter(x=>JSON.stringify(Ai(x,"created"))!==g)].slice(0,rSn)};return window.localStorage.setItem(u,JSON.stringify(b)),ry({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},getRecentSearches:()=>ry({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c}),removeSearch:()=>{const f={...kb(u,c),recentSearches:[]};return window.localStorage.setItem(u,JSON.stringify(f)),ry({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},removeSearchAtIndex:d=>{const f=kb(u,c);if(d<0||d>f.recentSearches.length)return ry({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c});const p={...f,recentSearches:[...f.recentSearches.slice(0,d),...f.recentSearches.slice(d+1)]};return window.localStorage.setItem(u,JSON.stringify(p)),ry({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})}}}function kb(e,t){const n=AMe?window.localStorage.getItem(e):void 0;return n?JSON.parse(n):{version:t,recentSearches:[]}}function ry(e){let{lsKey:t,schema:n,fieldDefinitions:r,filterDefinitions:o,operatorDefinitions:i,version:s}=e;const a=iSn({lsKey:t,storedSearch:kb(t,s)});return sSn({studioSchema:n,storedSearch:a,lsKey:t,filterDefinitions:o,fieldDefinitions:r,operatorDefinitions:i,version:s}).recentSearches.filter(c=>!!c.terms).map((c,u)=>({__recent:{index:u,timestamp:new Date(c.created).getTime()},filters:c.filters,query:c.terms.query,types:c.terms.typeNames.map(d=>n.get(d)).filter(d=>!!(d&&d.jsonType==="object"))}))}function iSn(e){let{lsKey:t,storedSearch:n}=e;if(n.version!==Vx){const r={version:Vx,recentSearches:[]};return window.localStorage.setItem(t,JSON.stringify(r)),r}return n}function sSn(e){let{fieldDefinitions:t,filterDefinitions:n,lsKey:r,operatorDefinitions:o,storedSearch:i,studioSchema:s,version:a}=e;const c=JO(s).map(f=>f.name),u=i.recentSearches.filter(f=>f.terms.typeNames.every(p=>c.includes(p))&&f.filters.every(p=>p_({fieldDefinitions:t,filter:p,filterDefinitions:n,operatorDefinitions:o}))),d={version:Vx,recentSearches:u};return d.recentSearches.length<i.recentSearches.length&&window.localStorage.setItem(r,JSON.stringify(d)),kb(r,a)}const AMe=(()=>{const e="__tmp__can_use";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),aSn=3;function lSn(e,t){var n;const r=JO(e).map(a=>a.name),{documentTypes:o,objectTypes:i}=(((n=e._original)==null?void 0:n.types)||[]).filter(a=>Kme(a)?r.includes(a.name):!0).filter(a=>a.name!=="slug").filter(a=>!a.name.startsWith("sanity.")).reduce((a,c)=>(Kme(c)&&(a.documentTypes[c.name]=c),PMe(c)&&(a.objectTypes[c.name]=c),a),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},s=qyn(t);return dSn(s,o,i)}function cSn(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function uSn(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function dSn(e,t,n){function r(i){let{acc:s,defType:a,depth:c=0,documentType:u,prevFieldPath:d,prevTitlePath:f}=i;var p;const m=c<=aSn,v=a.name.startsWith("_"),g=a!=null&&a.title?wMe(a.title):rn(a.name),b=d?"".concat(d,".").concat(a.name):a.name,x=f?[...f,g]:[g];if(!m)return;const y=n[a.type],w=t[a.type],_=PMe(a)?a:null,C=w||y||_;if(C){(p=C==null?void 0:C.fields)==null||p.forEach(S=>r({acc:s,defType:S,depth:c+1,documentType:u,prevFieldPath:b,prevTitlePath:x}));return}e.includes(a.type)&&s.push({documentTypes:u&&!v?[u]:[],fieldPath:b,filterName:gSn(a),id:"",name:a.name,titlePath:x,title:g,type:a.type})}return Object.values(t).reduce((i,s)=>{const a=s.fields.reduce((c,u)=>(r({acc:c,defType:u,documentType:s.name}),c),[]);return i.push(...a),i},[]).reduce((i,s)=>{const a=i.findIndex(c=>c.fieldPath===s.fieldPath&&c.title===s.title&&c.type===s.type);return a>-1?i[a]={...i[a],documentTypes:[...i[a].documentTypes,...s.documentTypes]}:i.push(s),i},[]).map(fSn).sort(vSn)}function fSn(e){return{...e,id:uSn(e)}}function hSn(e){var t;return OMe(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function OMe(e){return e.type==="array"}function Kme(e){return e.type==="document"}function PMe(e){return e.type==="object"}function pSn(e){return e.type==="string"}function mSn(e){var t;return pSn(e)&&(t=e.options)!=null&&t.list?e.options.list.length>0:!1}function gSn(e){if(mSn(e))return"stringList";if(OMe(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(hSn(e))return"arrayList"}return e.type}function vSn(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}function DMe(e){return typeof e.__recent<"u"}const nL="core:studio:navbar:search:";xs(nL);function ySn(e){const t="".concat(nL).concat(e);return xs&&xs.enabled(t)?xs(t):xs(nL)}function bSn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(ibn)}function xSn(e){let{currentUser:t,fullscreen:n,recentSearches:r=[],definitions:o}=e;return{currentUser:t,debug:bSn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:Kh.relevance,pageIndex:0,recentSearches:r,result:{error:null,hasMore:null,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:o}}const wSn=ySn("reducer");function _Sn(e,t){let n="🔍";switch(t.type.startsWith("SEARCH_REQUEST")&&(n="🚨"),t.type.startsWith("RECENT_SEARCHES")&&(n="💾"),wSn(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:Kh.relevance,terms:Eh(e.terms)};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:Eh(e.terms)};case"PAGE_INCREMENT":return{...e,pageIndex:e.pageIndex+1,terms:Eh(e.terms)};case"RECENT_SEARCHES_SET":return{...e,recentSearches:t.recentSearches};case"SEARCH_CLEAR":return{...e,pageIndex:0,result:{...e.result,hasMore:null,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,result:{...e.result,error:null,hasMore:t.hits.length>0,hits:e.pageIndex>0?[...e.result.hits,...t.hits]:t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:rCn(e.definitions.operators,t.filter.operatorType)},o=[...e.filters,r];return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,lastAddedFilter:r,terms:{...e.terms,filter:Ch({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:Ch({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(i=>Ui(i)===t.filterKey),o=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,terms:{...e.terms,filter:Ch({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(u=>Ui(u)===t.filterKey),o=Lf(e.definitions.operators,r==null?void 0:r.operatorType),i=Lf(e.definitions.operators,t.operatorType),s=i==null?void 0:i.initialValue,a=(o==null?void 0:o.inputComponent)!=(i==null?void 0:i.inputComponent),c=e.filters.map(u=>Ui(u)===t.filterKey?{...u,operatorType:t.operatorType,...a?{value:s}:{}}:u);return{...e,filters:c,terms:{...e.terms,filter:Ch({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:c,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(o=>Ui(o)===t.filterKey?{...o,value:t.value}:o);return{...e,filters:r,terms:{...e.terms,filter:Ch({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_QUERY_SET":return{...e,pageIndex:0,result:{...e.result,loaded:!1},terms:Eh({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],o=[...e.terms.types||[],...t.terms.types].sort(Q6);return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:r,types:o}),filters:r,lastAddedFilter:null,pageIndex:0,result:{...e.result,loaded:!1},terms:{...t.terms,filter:Ch({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort(Q6),o=Sh({fieldDefinitions:e.definitions.fields,filters:[],types:r}),i=e.filters.filter(s=>{const a=Ku(e.definitions.fields,s);return a?a.documentTypes.length===0?!0:o.every(c=>a.documentTypes.findIndex(u=>u===c)>-1):!0});return{...e,documentTypesNarrowed:o,filters:i,pageIndex:0,result:{...e.result,loaded:!1},terms:Eh({...e.terms,filter:Ch({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(o=>o!==t.schemaType);return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Eh({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Eh({...e.terms,types:[]})}}default:return e}}function Eh(e){if(DMe(e)){const{__recent:t,...n}=e;return n}return e}function CSn(e){let{children:t,fullscreen:n}=e;const r=h.useRef(null),[o,i]=h.useState(null),s=ar(tn),a=xn(),c=No(),{search:{operators:u,filters:d}}=Pn(),{dataset:f,projectId:p}=s.config(),{fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g}=h.useMemo(()=>({fieldDefinitions:cSn(lSn(a,d)),filterDefinitions:Yyn(d),operatorDefinitions:nCn(u)}),[d,u,a]),b=h.useMemo(()=>oSn({dataset:f,fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g,projectId:p,schema:a,user:c,version:Vx}),[c,f,m,v,g,p,a]),x=h.useMemo(()=>b==null?void 0:b.getRecentSearches(),[b]),y=h.useMemo(()=>xSn({currentUser:c,fullscreen:n,recentSearches:x,definitions:{fields:m,operators:g,filters:v}}),[c,m,v,n,g,x]),[w,_]=h.useReducer(_Sn,y),{documentTypesNarrowed:C,filters:S,ordering:E,pageIndex:j,result:k,terms:T}=w,A=h.useRef(!1),O=h.useRef(y.ordering),P=h.useRef(y.pageIndex),D=h.useRef(y.terms),{handleSearch:R,searchState:$}=N$e({initialState:{...k,terms:T},onComplete:z=>_({hits:z,type:"SEARCH_REQUEST_COMPLETE"}),onError:z=>_({error:z,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>_({type:"SEARCH_REQUEST_START"}),schema:a}),H=QO({terms:T}),F=C.map(z=>a.get(z)),V=S.filter(z=>p_({fieldDefinitions:m,filter:z,filterDefinitions:v,operatorDefinitions:g})),W=h.useCallback(z=>{r.current=z},[]);return h.useEffect(()=>{const z=!zt(E,O.current),q=j!==P.current,oe=!zt(T,D.current);if(z||q||oe){const N=(E==null?void 0:E.customMeasurementLabel)||"".concat(E.sort.field," ").concat(E.sort.direction);R({options:{comments:[...DMe(T)?["findability-recent-search:".concat(T.__recent.index)]:[],"findability-selected-types:".concat(T.types.length),"findability-sort:".concat(N),"findability-source: global","findability-filter-count:".concat(V.length)],limit:vhe,offset:j*vhe,skipSortByScore:E.ignoreScore,sort:[E.sort]},terms:{...T,...F?{types:F}:{}}}),P.current=j}O.current=E,D.current=T},[V.length,S,F,R,H,E,j,$.terms,T]),h.useEffect(()=>{!H&&(A!=null&&A.current)&&k.hits.length>0&&_({type:"SEARCH_CLEAR"}),A.current=!0},[_,H,k.hits,T.query,T.types]),l.jsx(R$e.Provider,{value:{dispatch:_,onClose:r==null?void 0:r.current,recentSearchesStore:b,searchCommandList:o,setSearchCommandList:i,setOnClose:W,state:{...w,fullscreen:n}},children:t})}const IMe="3.19.2";function SSn(e){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(IMe)]},tag:"module.version-check",json:!0}).pipe(le(n=>({...n})))}function ESn(){const e=ar({apiVersion:"1"}),t=h.useMemo(()=>SSn(e),[e]);return sIe(t)}function kSn(e){let{error:t,isLoading:n,value:r}=e;var o;const i=(o=r==null?void 0:r.resources)==null?void 0:o.sectionArray,s=r==null?void 0:r.latestVersion;return n?l.jsx(U,{align:"center",justify:"center",padding:3,children:l.jsx(ir,{})}):l.jsxs(l.Fragment,{children:[(r===void 0||t)&&l.jsx("div",{children:jSn}),!t&&(i==null?void 0:i.map(a=>a?l.jsx(TSn,{subSection:a},a._key):null)),l.jsxs(M,{padding:3,children:[l.jsxs(B,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:["Sanity Studio version ",IMe]}),!t&&s&&l.jsx(M,{paddingTop:2,children:l.jsxs(B,{size:1,muted:!0,textOverflow:"ellipsis",children:["Latest version is ",s]})})]})]})}const jSn=l.jsxs(l.Fragment,{children:[l.jsx(Be,{as:"a",text:"Join our community",size:0,href:"https://www.sanity.io/exchange/community",target:"_blank",muted:!1}),l.jsx(Be,{as:"a",text:"Help and support",size:0,href:"https://www.sanity.io/contact/support",target:"_blank",muted:!1}),l.jsx(Be,{as:"a",text:"Contact sales",size:0,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank",muted:!1}),l.jsx(kr,{})]});function TSn(e){let{subSection:t}=e;var n;return l.jsxs(l.Fragment,{children:[t.sectionTitle&&l.jsx(J,{padding:2,paddingTop:3,marginLeft:1,children:l.jsx(Nt,{muted:!0,size:1,children:t.sectionTitle})}),(n=t==null?void 0:t.items)==null?void 0:n.map(r=>{if(!r||!r.title)return null;switch(r._type){case"externalLink":return r.url?l.jsx(Be,{as:"a",tone:"default",text:r.title,size:0,href:r.url,target:"_blank"},r._key):null;case"internalAction":return r.type?r.type==="show-welcome-modal"&&l.jsx(Be,{text:r.title,size:0},r._key):null;default:return null}}),l.jsx(kr,{})]})}var Zme=Object.freeze,ASn=Object.defineProperty,OSn=(e,t)=>Zme(ASn(e,"raw",{value:Zme(t||e.slice())})),Xme;const PSn=I(Ft)(Xme||(Xme=OSn([`
  max-width: 300px;
  min-width: 200px;
`])));function DSn(){const{scheme:e}=Nc(),[t,n]=h.useState(!1),{value:r,error:o,isLoading:i}=ESn(),s=h.useCallback(()=>n(!0),[]),a=h.useCallback(()=>n(!1),[]);return l.jsx(U,{children:l.jsx(st,{content:l.jsx(M,{padding:2,children:l.jsx(B,{size:1,children:"Help and resources "})}),scheme:e,placement:"bottom",portal:!0,disabled:t,children:l.jsx("div",{children:l.jsx(Kt,{button:l.jsx(ie,{"aria-label":"Help and resources",icon:Av,mode:"bleed",fontSize:2}),id:"menu-button-resources",menu:l.jsx(PSn,{children:l.jsx(kSn,{error:o,isLoading:i,value:r})}),popover:{constrainSize:!0,placement:"bottom",portal:!0,scheme:e},onClose:a,onOpen:s})})})})}var Qme=Object.freeze,ISn=Object.defineProperty,aH=(e,t)=>Qme(ISn(e,"raw",{value:Qme(t||e.slice())})),Jme,ege,tge;const RSn=I(Ji)(Jme||(Jme=aH([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),$Sn=I(J)(ege||(ege=aH([`
  line-height: 0;
`]))),MSn=I(U)(tge||(tge=aH([`
  width: max-content;
`])));function FSn(){const{name:e,tools:t,...n}=Fl(),r=b0().theme,o=h_(),i=SA(),{scheme:s}=Nc(),{href:a,onClick:c}=A5e({state:{}}),u=mm(),d=typeof i.tool=="string"?i.tool:void 0,f=I_n(),{onSearchFullscreenOpenChange:p,searchFullscreenOpen:m,searchFullscreenPortalEl:v}=h.useContext(fMe),g=YSn(),b=$Me(),[x,y]=h.useState(!1),w=h.useRef(i),_=h.useRef(e);h.useEffect(()=>{(w.current.tool!==i.tool||e!==_.current)&&y(!1),w.current=i,_.current=e},[e,i]);const[C,S]=h.useState(null),[E,j]=h.useState(null),k=h.useMemo(()=>({brandingCenter:u<=1,resources:u>1,collapsedPresenceMenu:u<=1,loginStatus:u>1,searchFullscreen:u<=1,configIssues:u>1&&Bc,workspaces:u>=3&&o.length>1,tools:u>=3}),[u,o.length]),T=typeof e=="string"&&e!=="root"?rn(e):null,A=n.title||T||"Studio";h.useEffect(()=>{p(m)},[m,p]),h.useEffect(()=>{p&&!k.searchFullscreen&&p(!1)},[p,k.searchFullscreen]);const O=h.useCallback(()=>{p(!0)},[p]),P=h.useCallback(()=>{p(!1),E==null||E.focus()},[p,E]),D=h.useCallback(()=>{y(!1),C==null||C.focus()},[C]),R=h.useCallback(()=>{y(!0)},[]);return l.jsxs(RSn,{zOffset:100,"data-search-open":m,children:[l.jsx($Sn,{"data-testid":"navbar","data-ui":"Navbar",padding:2,scheme:"dark",shadow:r.__legacy||s==="dark"?1:void 0,sizing:"border",children:l.jsxs(U,{align:"center",justify:"space-between",children:[l.jsxs(MSn,{align:"center",flex:k.brandingCenter?void 0:1,children:[!k.tools&&l.jsx(M,{marginRight:1,children:l.jsx(ie,{mode:"bleed",icon:s8,onClick:R,ref:S})}),!k.brandingCenter&&l.jsx(M,{marginRight:1,children:l.jsx(Ype,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),k.workspaces&&l.jsx(M,{marginRight:2,children:l.jsx(lMe,{collapsed:!0})}),l.jsx(M,{marginRight:k.brandingCenter?void 0:2,children:l.jsx(D_n,{...f,modal:k.brandingCenter?"dialog":"popover"})}),l.jsx(Ru,{children:l.jsx(CSn,{fullscreen:k.searchFullscreen,children:l.jsxs(Iu,{element:document.body,children:[l.jsx(nd,{element:v,children:k.searchFullscreen&&l.jsx(U2n,{onClose:P,onOpen:O,open:m})}),!k.searchFullscreen&&l.jsx(eSn,{})]})})}),k.tools&&l.jsx(J,{flex:1,marginX:2,overflow:"visible",paddingRight:1,children:l.jsx(b,{activeToolName:d,closeSidebar:D,context:"topbar",isSidebarOpen:!1,tools:t})})]}),k.brandingCenter&&l.jsx(M,{marginX:1,children:l.jsx(Ype,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),l.jsxs(U,{gap:2,children:[(k.configIssues||k.resources)&&l.jsx(J,{borderRight:!0,children:l.jsxs(U,{gap:1,paddingX:2,children:[k.configIssues&&l.jsx(Q_n,{}),k.resources&&l.jsx(DSn,{})]})}),l.jsxs(U,{align:"center",gap:1,children:[l.jsx(H_n,{collapse:k.collapsedPresenceMenu}),k.tools&&l.jsx(p_n,{}),k.searchFullscreen&&l.jsx(ie,{"aria-label":"Open search",icon:Zo,mode:"bleed",onClick:O,ref:j})]})]})]})}),!k.tools&&l.jsx(X_n,{activeToolName:d,isOpen:x,onClose:D,tools:t})]})}const RMe=h.forwardRef(function(t,n){const{name:r,...o}=t,i=SA(h.useCallback(s=>({...s,tool:r,[r]:void 0}),[r]));return l.jsx(CA,{state:i,...o,ref:n})});function LSn(e){const{activeToolName:t,tools:n}=e,{scheme:r}=Nc(),[o,i]=h.useState(null);vIe({rootElement:o,navigation:["arrows"]});const s=h.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),a=h.useMemo(()=>n.map((c,u)=>{const d=(c==null?void 0:c.title)||rn(c.name)||void 0,f=h.forwardRef(function(m,v){return l.jsx(RMe,{...m,ref:v,name:c.name})});return l.jsx(UV,{as:f,"data-as":"a",collapsedProps:{tooltipText:c.title},icon:c.icon||vl,mode:"bleed",selected:t===c.name,text:d,tooltipProps:{scheme:r}},"".concat(c.name,"-").concat(u))}),[t,r,n]);return l.jsx(HV,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:s,ref:i,children:a})}function BSn(e){const{activeToolName:t,isVisible:n,tools:r}=e;return h.useMemo(()=>l.jsx(te,{as:"ul",space:1,children:r.map(o=>{const i=(o==null?void 0:o.title)||rn(o.name)||void 0,s=h.forwardRef(function(c,u){return l.jsx(RMe,{...c,ref:u,name:o.name})});return l.jsx(te,{as:"li",children:l.jsx(ie,{as:s,icon:o.icon||Exe,justify:"flex-start",mode:"bleed",selected:t===o.name,tabIndex:n?0:-1,text:i})},o.name)})}),[t,n,r])}function NSn(e){const{context:t,isSidebarOpen:n,...r}=e;return t==="sidebar"?l.jsx(BSn,{isVisible:n,...r}):l.jsx(LSn,{...r})}function zSn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function VSn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function HSn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function USn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.logo}function $Me(){return Ml({defaultComponent:NSn,pick:zSn})}function WSn(){return Ml({defaultComponent:FSn,pick:VSn})}function YSn(){return Ml({defaultComponent:iwn,pick:USn})}function qSn(){return Ml({defaultComponent:t_n,pick:HSn})}const nge=GXt.__sanityErrorChannel;function GSn(){const{push:e}=Bo();return h.useEffect(()=>{if(nge)return nge.subscribe(t=>{t.error&&(KSn(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function KSn(e){return e instanceof tH||e instanceof Nz||e instanceof Oa}function ZSn(e){let{children:t,AuthenticateComponent:n=cMe,LoadingComponent:r=Eb,NotAuthenticatedComponent:o=uMe}=e;const[i,s]=h.useState(null);if(i)throw i;const[a,c]=h.useState("loading"),{activeWorkspace:u}=n1();return h.useEffect(()=>{var d,f;(f=(d=u.auth).handleCallbackUrl)==null||f.call(d).catch(s)},[u.auth]),h.useEffect(()=>{const d=u.auth.state.subscribe({next:f=>{let{authenticated:p,currentUser:m}=f;var v;if(((v=m==null?void 0:m.roles)==null?void 0:v.length)===0){c("unauthorized");return}c(p?"logged-in":"logged-out")},error:s});return()=>{d.unsubscribe()}},[u]),a==="loading"?l.jsx(r,{}):a==="unauthorized"?l.jsx(o,{}):a==="logged-out"?l.jsx(n,{}):l.jsx(l.Fragment,{children:t})}function XSn(e){let{children:t}=e;const n=n1().activeWorkspace.theme;if(n.__legacy){const r=n.__dark?"dark":"light";return l.jsx(rP.Provider,{value:!1,children:l.jsx(nP.Provider,{value:r,children:l.jsx(y5,{scheme:r,theme:n,tone:"transparent",children:l.jsx(Ru,{children:t})})})})}return l.jsx(y5,{theme:n,tone:"transparent",children:l.jsx(Ru,{children:t})})}const QSn={toast:[100,11e3]};var rge=Object.freeze,JSn=Object.defineProperty,MMe=(e,t)=>rge(JSn(e,"raw",{value:rge(t||e.slice())})),oge,ige;I(U)(oge||(oge=MMe([""])));I(M).attrs({padding:4})(ige||(ige=MMe([""])));function eEn(e){const{basePath:t="/",tools:n}=e,r=vi.create("/:tool",o=>{const i=n.find(s=>s.name===o.tool);return i?vi.scope(i.name,"/",i.router):vi.create("/")});return vi.create(t,[vi.intents("/intent"),r])}function lH(e){const n={}.toolSwitcher||{},r=n.order||[],o=n.hidden||[];if(!r.length&&!o.length)return e;const i=e.reduce((c,u)=>{const d=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(d,'" does not have the required "name" property')),c;if(c[u.name]){const p=c[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(d,'" and "').concat(p,'")')),c}const f=r.indexOf(u.name);return c[u.name]={tool:u,index:f===-1?1/0:f},c},{}),s=c=>o.indexOf(c.name)===-1,a=e.filter(s);return a.sort((c,u)=>{const d=i[c.name],f=i[u.name],p=d?d.index:1/0,m=f?f.index:1/0;return p===m?0:p-m}),a}function tEn(e,t){const r=lH(e)[0];return!t||t.tool||!r?t:Object.assign({},t,{tool:r.name})}function nEn(e,t){return t&&(lH(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function rEn(e,t){return tEn(e,nEn(e,t))}function oEn(e,t,n){const{intent:r,params:o,payload:i}=n;if(typeof r!="string")throw new Error("intent must be a string");if(!bt(o))throw new Error("intent params must be a string");const s=lH(e),a=t!=null&&t.tool?s.find(u=>u.name===t.tool):null,c=(a?[a,...s]:s).find(u=>u&&typeof u.canHandleIntent=="function"&&u.canHandleIntent(r,o,t&&t[u.name]));if(c!=null&&c.getIntentState){const u=c.getIntentState(r,o,t&&t[c.name],i);return{type:"state",isNotFound:!1,state:{...t,tool:c.name,[c.name]:u}}}return{type:"intent",isNotFound:!0,intent:{name:r,params:o}}}function iEn(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function sEn(e){let{children:t,LoadingComponent:n,workspace:r}=e;const{basePath:o,tools:i}=r,s=Dwn(),a=h.useMemo(()=>eEn({basePath:o,tools:i}),[o,i]),[c,u]=aEn(s,a,i);return c?l.jsx(Rvt,{onNavigate:u,router:a,state:c,children:t}):l.jsx(n,{})}function aEn(e,t,n){var r;const o=h.useMemo(()=>{const c=t.getBasePath(),u=new RegExp("^".concat(lz(c),"(\\/|$)"),"i"),d=f=>c==="/"?!0:u.test(f);return{subscribe:f=>e.listen(f),getSnapshot:()=>e.location.pathname+e.location.search,getServerSnapshot:()=>null,selector:f=>typeof f=="string"&&d(f)?iEn(t,f):null}},[e,t]),i=rz.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,zt),s=h.useRef(i);h.useEffect(()=>{var c;if((i==null?void 0:i.type)==="state"&&!((c=i.state)!=null&&c.intent)){const u=rEn(n,i.state);u&&u!==i.state&&e.replace(t.encode(u))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),h.useEffect(()=>{const c=sge(i,t,n,s);c?e.replace(c):s.current=i},[i,e,t,n]);const a=h.useMemo(()=>c=>{let{path:u,replace:d}=c;const f=o.selector(u),p=sge(f,t,n,s),m=typeof p=="string"?p:u;d?e.replace(m):e.push(m)},[e,t,o,n]);return[(r=i==null?void 0:i.state)!=null?r:null,a]}function sge(e,t,n,r){var o,i;if((e==null?void 0:e.type)==="state"&&((o=e.state)!=null&&o.intent)){const s=oEn(n,((i=r.current)==null?void 0:i.type)==="state"?r.current.state:{},e.state);if((s==null?void 0:s.type)==="state")return t.encode(s.state)}return null}function lEn(e){let{children:t,LoadingComponent:n}=e;const[r,o]=h.useState(null);if(r)throw r;const{activeWorkspace:i}=n1(),[s,a]=h.useState(null);return h.useEffect(()=>{const c=$o(i.__internal.sources.map(u=>{let{source:d}=u;return d.pipe(jn(f=>{if(f instanceof Oa)return ve(f);throw f}))})).pipe(le(u=>{const d=u.filter(f=>f instanceof Oa);if(d.length)throw new Oa({name:i.name,causes:d,type:"workspace"});return u}),le(u=>{let[d,...f]=u;return{...i,...d,unstable_sources:[d,...f],type:"workspace"}})).subscribe({next:a,error:o});return()=>c.unsubscribe()},[i]),s?l.jsx(_bn,{workspace:s,children:l.jsx(KV,{source:s.unstable_sources[0],children:l.jsx(sEn,{LoadingComponent:n,workspace:s,children:t})})}):l.jsx(n,{})}function cEn(e){let{ConfigErrorsComponent:t,...n}=e;const[{error:r},o]=h.useState({error:null});if(r)throw r;return l.jsx(x0,{onCatch:o,children:l.jsx(lEn,{...n})})}Ip.registerLanguage(nKt);Ip.registerLanguage(dUe);Ip.registerLanguage(oKt);Ip.registerLanguage(sKt);Ip.registerLanguage(lKt);function uEn(e){let{children:t,config:n,basePath:r,onSchemeChange:o,scheme:i,unstable_history:s,unstable_noAuthBoundary:a}=e;const c=l.jsx(cEn,{LoadingComponent:Eb,ConfigErrorsComponent:qwn,children:l.jsx(_en,{children:t})});return l.jsx(swn,{onSchemeChange:o,scheme:i,children:l.jsxs(i7,{paddingY:7,zOffset:QSn.toast,children:[l.jsx(GSn,{}),l.jsx(dMe,{children:l.jsx(cwn,{config:n,basePath:r,children:l.jsx($wn,{unstable_history:s,NotFoundComponent:Ewn,LoadingComponent:Eb,children:l.jsx(XSn,{children:l.jsx(son,{children:a?c:l.jsx(ZSn,{LoadingComponent:Eb,AuthenticateComponent:cMe,NotAuthenticatedComponent:uMe,children:c})})})})})})]})})}function dEn(){const e=qSn();return l.jsx(e,{})}function age(e){const{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_globalStyles:i,unstable_history:s,unstable_noAuthBoundary:a}=e;return l.jsxs(uEn,{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_history:s,unstable_noAuthBoundary:a,children:[i&&l.jsx(qen,{}),l.jsx(dEn,{})]})}function fEn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:o=!1,basePath:i}=r,s=iDe(e);return s.render(o?l.jsx(h.StrictMode,{children:l.jsx(age,{config:t,basePath:i,unstable_globalStyles:!0})}):l.jsx(age,{config:t,basePath:i,unstable_globalStyles:!0})),()=>s.unmount()}function ar(e){const t=Pn();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const lge="connecting";function hEn(e,t){const n=Xa();return co(()=>n.pair.documentEvents(e,t).pipe(le(r=>r.type),le(r=>r!=="reconnect"),nt(r=>r?ve("connected"):Mo(200).pipe(sA("reconnecting"))),ei(lge),Wn()),[n.pair,e,t],lge)}function FMe(){return Pn().dataset}function Bl(e,t){const n=Xa();return co(()=>n.pair.editOperations(e,t),[t,n.pair,e])}function LMe(e,t){const n=Xa();return co(()=>n.pair.operationEvents(e,t),[n.pair,e,t])}function cH(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const r=Xa();return co(()=>{const o=r.pair.editState(e,t).pipe(na());return n==="low"?Qt(o.pipe(_i(1)),o.pipe(TEe(1),v7(()=>Mo(1e3)))):r.pair.editState(e,t)},[r.pair,e,t,n])}function BMe(){return Pn().projectId}function xn(){return Pn().schema}const pEn={isSyncing:!0},cge={isSyncing:!1};function NMe(e,t){const n=Xa();return co(()=>n.pair.consistencyStatus(e,t).pipe(le(r=>r?cge:pEn)),[n.pair,t,e],cge)}function r1(){return Pn().templates}const aR=1e3*5,uge=1e3*20,rL=1e3*60,i2=rL*60;function qo(e){let{minimal:t,agoSuffix:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=mEn(e,{minimal:t,agoSuffix:n}),[,o]=h.useReducer(i=>i+1,0);return h.useEffect(()=>{let i;function s(a){i=window.setTimeout(()=>{o(),i=window.setTimeout(()=>s(a),a)},a)}return r.refreshInterval!==null&&s(r.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[o,r.refreshInterval]),r.timestamp}function mEn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e instanceof Date?e:new Date(e);if(!n.getTime())return{timestamp:"",refreshInterval:null};const r=Date.now(),o=WTt(r,n),i=GTt(r,n);if(o||i)return t.minimal&&i===0?{timestamp:Ko(n,"MMM d"),refreshInterval:null}:t.minimal?{timestamp:Ko(n,"MMM d, yyyy"),refreshInterval:null}:{timestamp:Ko(n,"MMM d, yyyy, hh:mm a"),refreshInterval:null};const s=qTt(r,n),a=Ir("week",s);if(s)return t.minimal?{timestamp:t.agoSuffix?"".concat(s,"w ago"):"".concat(s,"w"),refreshInterval:i2}:{timestamp:t.agoSuffix?"".concat(s," ").concat(a," ago"):"".concat(s," ").concat(a),refreshInterval:i2};const c=pTe(r,n),u=Ir("days",c);if(c){if(t.minimal){const x=t.agoSuffix?"".concat(c,"d ago"):"".concat(c,"d");return{timestamp:c===1?"yesterday":x,refreshInterval:i2}}const b=t.agoSuffix?"".concat(c," ").concat(u," ago"):"".concat(c," ").concat(u);return{timestamp:c===1?"yesterday":b,refreshInterval:i2}}const d=zTt(r,n),f=Ir("hour",d);if(d)return t.minimal?{timestamp:t.agoSuffix?"".concat(d,"h ago"):"".concat(d,"h"),refreshInterval:rL}:{timestamp:t.agoSuffix?"".concat(d," ").concat(f," ago"):"".concat(d," ").concat(f),refreshInterval:rL};const p=VTt(r,n),m=Ir("minute",p);if(p)return t.minimal?{timestamp:t.agoSuffix?"".concat(p,"m ago"):"".concat(p,"m"),refreshInterval:uge}:{timestamp:t.agoSuffix?"".concat(p," ").concat(m," ago"):"".concat(p," ").concat(m),refreshInterval:uge};const v=YTt(r,n),g=Ir("second",v);return v>10?t.minimal?{timestamp:t.agoSuffix?"".concat(v,"s ago"):"".concat(v,"s"),refreshInterval:aR}:{timestamp:t.agoSuffix?"".concat(v," ").concat(g," ago"):"".concat(v," ").concat(g),refreshInterval:aR}:{timestamp:"just now",refreshInterval:aR}}const gEn={validation:[],isValidating:!1};function uH(e,t){const n=Xa();return co(()=>n.pair.validation(e,t),[n.pair,e,t],gEn)}const dge={isLoading:!0,enabled:!0,features:[]};function vEn(e){let{versionedClient:t}=e;return t.observable.request({uri:"/features",tag:"features"})}let lR;function zMe(e){const t=ar(tn);return lR||(lR=vEn({versionedClient:t}).pipe(_o())),co(()=>lR.pipe(le(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(r!=null&&r.includes(e)),features:r}}),ei(dge),jn(r=>(console.error(r),ve({isLoading:!1,enabled:!0,features:[]})))),[e],dge)}const yEn=rh(e=>{let[t,n]=e;return yr(t.getUser(n).catch(r=>(console.error(r),null)))});function o1(e){const t=yH();return yEn(h.useMemo(()=>[t,e],[e,t]))}function No(){const{currentUser:e}=Pn();return e}const fge=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},hge=e=>({type:"snapshot",document:e}),pge=e=>e.document,bEn=e=>{const t=new gr,n=new rA(!0),r=new gr,o=new gr,i=new gr,s=new gr,a=x=>{const y=new sWt(x);return y.onMutation=w=>{let{mutation:_,remote:C}=w;r.next({type:"mutation",document:fge(y),mutations:_.mutations,origin:C?"remote":"local"})},y.onRemoteMutation=w=>{i.next({type:"remoteMutation",head:y.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},y.onRebase=(w,_,C)=>{o.next({type:"rebase",document:w,remoteMutations:_,localMutations:C})},y.onConsistencyChanged=w=>{n.next(w)},y.commitHandler=w=>s.next(w),y},c=e.pipe(ta((x,y)=>y.type==="snapshot"?(x&&x.commit(),a(y.document||null)):x===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',y.type),null):x,null),dt(x=>x!==null),Wn(),fl(1),dl()),u=e.pipe(dt(x=>x.type==="mutation"),nb(c),le(x=>{let[y,w]=x;return w.arrive(new xc(y)),fge(w)})),d=t.pipe(nb(c),mn(x=>{let[y,w]=x;y.type==="mutation"&&w.add(new xc({mutations:y.mutations})),y.type==="commit"&&w.commit()}),Vp(Un),na()),f=x=>t.next(x),p=x=>f({type:"mutation",mutations:x}),m=x=>p([x]),v=()=>{c.pipe(_i(1),mn(x=>x.commit())).subscribe()},g=Qt(c.pipe(le(x=>x.LOCAL)),r.pipe(le(pge)),o.pipe(le(pge)),u).pipe(le(hge),fl(1),dl()),b=Qt(c.pipe(le(x=>x.document.HEAD),le(hge)),i).pipe(fl(1),dl());return{updates$:Qt(g,d,r,o),consistency$:n.pipe(Wn(),fl(1),dl()),remoteSnapshot$:b,commitRequest$:s,addMutation:m,addMutations:p,commit:v}},xEn=e=>t=>{const{_id:n,_rev:r,_updatedAt:o,...i}=t;return{_id:e,...i}},mge=(e,t)=>{const n=bEn(t),r=xEn(e),o={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:i=>i.map(s=>({patch:{...s,id:e}})),create:i=>({create:r(i)}),createIfNotExists:i=>({createIfNotExists:r(i)}),createOrReplace:i=>({createOrReplace:r(i)}),delete:()=>o,mutate:i=>n.addMutations(i),commit:()=>n.commit()}},wEn={type:"pending",phase:"begin"},_En={type:"pending",phase:"end"};function CEn(e){return e.type==="mutation"}function SEn(e){return e.transactionTotalEvents>1}function EEn(e){const t=MN(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function kEn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:r,draftId:o}=t;return io(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:o},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(TM(s=>s.type==="welcome"?i().pipe(TM(a=>[gge(o,a.draft),gge(r,a.published)])):ve(s)),ta((s,a)=>{if(!CEn(a))return{next:[a],buffer:[]};const c=s.buffer.length>0,u=SEn(a);if(!u&&!c)return{next:[a],buffer:[]};if(!u)return{next:[],buffer:s.buffer.concat(a)};const d=s.buffer.concat(a);return EEn(d)?{next:d.concat(_En),buffer:[]}:{next:d.length===1?[wEn]:[],buffer:d}},{next:[],buffer:[]}),ct(s=>s.next));function i(){return e.observable.getDocuments([o,r],{tag:"document.snapshots"}).pipe(le(s=>{let[a,c]=s;return{draft:a,published:c}}))}}function gge(e,t){return{type:"snapshot",documentId:e,document:t}}const vge=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function s2(e){return t=>({...t,version:e})}function jEn(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function TEn(e,t){return yr(jEn(e,t.mutation.params)).pipe(mn({error:n=>{"statusCode"in n&&typeof n.statusCode=="number"&&n.statusCode>=400&&n.statusCode<=500?t.cancel(n):t.failure(n)},next:()=>t.success()}))}function VMe(e,t){const{publishedId:n,draftId:r}=t,o=kEn(e,t).pipe(na()),i=o.pipe(dt(d=>d.type==="reconnect")),s=mge(r,o.pipe(dt(vge(r)))),a=mge(n,o.pipe(dt(vge(n)))),c=o.pipe(dt(d=>d.type==="pending")),u=Qt(s.commitRequest$,a.commitRequest$).pipe(ct(d=>TEn(e,d)),Vp(Un),na());return{transactionsPendingEvents$:c,draft:{...s,events:Qt(u,i,s.events).pipe(le(s2("draft"))),consistency$:s.consistency$,remoteSnapshot$:s.remoteSnapshot$.pipe(le(s2("draft")))},published:{...a,events:Qt(u,i,a.events).pipe(le(s2("published"))),consistency$:a.consistency$,remoteSnapshot$:a.remoteSnapshot$.pipe(le(s2("published")))}}}function zc(e,t){const n=Object.create(null);return function(){const r=t(...arguments);return r in n||(n[r]=e(...arguments)),n[r]}}const Mm=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0};function m_(e,t,n){var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}const aP=zc((e,t,n)=>new ft(r=>{r.next(VMe(e,t))}).pipe(fl(1),dl()),m_);function AEn(e){return e.type==="snapshot"}function yge(e){return{snapshots$:e.events.pipe(dt(AEn),le(t=>t.document),fl(1),dl()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const dH=zc((e,t,n)=>aP(e,t,n).pipe(le(r=>{let{published:o,draft:i,transactionsPendingEvents$:s}=r;return{transactionsPendingEvents$:s,published:yge(o),draft:yge(i)}}),fl(1),dl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),OEn={enabled:!0},bge={enabled:!1},HMe=zc((e,t,n)=>{const r=Mm(e.schema,n);return dH(e.client,t,n).pipe(nt(o=>$o([o.draft.snapshots$,o.published.snapshots$,o.transactionsPendingEvents$.pipe(le(i=>i.phase==="begin"?OEn:bge),ei(bge))])),le(o=>{let[i,s,a]=o;return{id:t.publishedId,type:n,draft:i,published:s,liveEdit:r,ready:!0,transactionSyncLock:a}}),ei({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),fl(1),dl())},(e,t,n)=>m_(e.client,t,n)),UMe=zc((e,t,n)=>dH(e.client,t,n).pipe(nt(r=>$o([r.draft.snapshots$,r.published.snapshots$]).pipe(le(o=>{let[i,s]=o;return{...e,idPair:t,typeName:n,snapshots:{draft:i,published:s},draft:r.draft,published:r.published}}))),fl(1),dl()),(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),Mj={disabled:e=>{let{snapshots:t}=e;return t.draft||t.published?!1:"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:o}=e;const i=t.observable.transaction().delete(r.publishedId);return Mm(n,o)?i.commit({tag:"document.delete"}):i.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}};function oL(e){return Zu(e)?e._strengthenOnPublish?Ai(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(oL):Object.fromEntries(Object.entries(e).map(t=>{let[n,r]=t;return[n,oL(r)]}))}const WMe={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return Mm(t,n)?"LIVE_EDIT_ENABLED":r.draft?!1:r.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e;if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');const o=oL(Ai(r.draft,"_updatedAt")),i=t.observable.transaction();if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');return r.published?(i.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),i.createOrReplace({...o,_id:n.publishedId,_type:r.draft._type})):i.create({...o,_id:n.publishedId,_type:r.draft._type}),i.delete(n.draftId),i.commit({tag:"document.publish",visibility:"async"})}},YMe={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:o,published:i,typeName:s}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0;Mm(t,s)?i.mutate([i.createIfNotExists({_type:s,...c}),...i.patch(a)]):o.mutate([o.createIfNotExists({...c,...n.published,_id:r.draftId,_type:s}),...o.patch(a)])}},qMe={disabled:()=>!1,execute:e=>{let{draft:t,published:n}=e;return t.commit(),n.commit(),Un}},GMe={disabled:e=>{let{snapshots:t}=e;return t.draft?t.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return t.observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},KMe={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return Mm(t,r)?"LIVE_EDIT_ENABLED":n.published?!1:"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e,o=t.observable.transaction().delete(n.publishedId);return r.published&&(o=o.createIfNotExists({...Ai(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),o.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},PEn=["_createdAt","_updatedAt"],ZMe={disabled:e=>{let{snapshots:t}=e;return t.published||t.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(e,t)=>{let{schema:n,client:r,snapshots:o,typeName:i}=e;const s=o.draft||o.published;if(!s)throw new Error("cannot execute on empty document");return r.observable.create({...Ai(s,PEn),_id:Mm(n,i)?t:ri(t),_type:s._type},{tag:"document.duplicate"})}},XMe={disabled:()=>!1,execute:(e,t)=>{let{historyStore:n,schema:r,idPair:o,typeName:i}=e;const s=Mm(r,i)?o.publishedId:o.draftId;return n.restore(o.publishedId,s,t)}},QMe=zc((e,t,n)=>aP(e,t,n).pipe(nt(r=>{let{draft:o,published:i}=r;return $o([o.consistency$,i.consistency$])}),le(r=>{let[o,i]=r;return o&&i}),Wn(),fl(1),dl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)});function DEn(e){return typeof e>"u"?ve(null):e}const IEn={del:Mj,delete:Mj,publish:WMe,patch:YMe,commit:qMe,discardChanges:GMe,unpublish:KMe,duplicate:ZMe,restore:XMe},REn=(e,t,n)=>{const r=IEn[e];return io(()=>Qt(ve(null),DEn(r.execute(t,...n)))).pipe(rst())},JMe=new gr;function e4e(e,t,n,r){JMe.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const $En=["publish","unpublish","discardChanges","delete"],t4e=zc(e=>{const t=JMe.pipe(jEe(o=>o.idPair.publishedId),ct(o=>o.pipe(nt(i=>UMe(e,i.idPair,i.typeName).pipe(_i(1),nt(s=>{const a=$En.includes(i.operationName);a&&(s.published.commit(),s.draft.commit());const c=QMe(e.client,i.idPair,i.typeName).pipe(dt(Boolean));return(a?c.pipe(_i(1)):ve(!0)).pipe(nt(()=>REn(i.operationName,s,i.extraArgs)))}),le(()=>({type:"success",args:i})),jn(s=>ve({type:"error",args:i,error:s})))))),na()),n=1e3,r=t.pipe(dt(o=>o.type==="success"&&o.args.operationName==="patch"),ix(n,El,{leading:!0,trailing:!0}),mn(o=>{e4e("commit",o.args.idPair,o.args.typeName,[])}));return Qt(t,r.pipe(Vp(Un)))},e=>{var t,n;const r=e.client.config();return"".concat((t=r.dataset)!=null?t:"","-").concat((n=r.projectId)!=null?n:"")}),MEn=zc((e,t,n)=>aP(e,t,n).pipe(nt(r=>{let{published:o,draft:i}=r;return Qt(o.remoteSnapshot$,i.remoteSnapshot$)})),m_),FEn={isValidating:!0,validation:[]};function LEn(e){return MPe(e,(t,n)=>(Zu(n)&&t.add(n._ref),t),new Set)}const BEn=[],NEn=(e,t)=>e(t).pipe(le(n=>{let{published:r}=n;return r.available})),zEn=200,VEn=1e3;function cR(){return _o({bufferSize:1,refCount:!0})}const HEn=zc((e,t,n)=>{let{draftId:r,publishedId:o}=t;const i=HMe(e,{draftId:r,publishedId:o},n).pipe(le(d=>{let{draft:f,published:p}=d;return f||p}),ix(zEn,El,{trailing:!0}),Wn((d,f)=>(d==null?void 0:d._rev)===(f==null?void 0:f._rev)?!0:Mu(Ai(d,"_rev","_updatedAt"),Ai(f,"_rev","_updatedAt"))),cR()),a=i.pipe(le(d=>LEn(d)),ct(d=>yr(d))).pipe(jEe(d=>d,{duration:()=>Mo(1e3*60*30)}),ct(d=>d.pipe(Jit(),ct(f=>NEn(e.observeDocumentPairAvailability,f).pipe(le(p=>[f,p]))))),ta((d,f)=>{let[p,m]=f;return d[p]===m?d:{...d,[p]:m}},{}),Wn(Mu),cR()),c=d=>{let{id:f}=d;return mo(a.pipe(kEe(p=>f in p),le(p=>p[f])))},u=a.pipe(TEe(1),ix(VEn,El,{leading:!0,trailing:!0}));return $o([i,Fr(ve(null),u)]).pipe(le(d=>{let[f]=d;return f}),ZN(d=>io(()=>d!=null&&d._type?Fr(ve({isValidating:!0,revision:d._rev}),Otn(e.getClient,d,e.schema,{getDocumentExists:c}).pipe(le(f=>({validation:f,isValidating:!1})))):ve({validation:BEn,isValidating:!1}))),ta((d,f)=>({...d,...f}),FEn),cR())},(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),UEn=zc((e,t,n)=>aP(e,t,n).pipe(nt(r=>{let{draft:o,published:i}=r;return Qt(o.events,i.events)})),m_);function Gc(e){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(e," before it was ready."))}}}const WEn={commit:Gc("commit"),delete:Gc("delete"),del:Gc("del"),publish:Gc("publish"),patch:Gc("patch"),discardChanges:Gc("discardChanges"),unpublish:Gc("unpublish"),duplicate:Gc("duplicate"),restore:Gc("restore")},YEn=(e,t,n)=>function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e4e(e,t,n,o)};function Kc(e,t,n){return{disabled:t.disabled(n),execute:YEn(e,n.idPair,n.typeName)}}function qEn(e){return{commit:Kc("commit",qMe,e),delete:Kc("delete",Mj,e),del:Kc("delete",Mj,e),publish:Kc("publish",WMe,e),patch:Kc("patch",YMe,e),discardChanges:Kc("discardChanges",GMe,e),unpublish:Kc("unpublish",KMe,e),duplicate:Kc("duplicate",ZMe,e),restore:Kc("restore",XMe,e)}}const GEn=zc((e,t,n)=>{const r=t4e(e),i=UMe(e,t,n).pipe(le(qEn));return Fr(ve(WEn),Qt(r.pipe(ct(()=>Un)),i)).pipe(_o({refCount:!0,bufferSize:1}))},(e,t,n)=>m_(e.client,t,n)),KEn=(e,t,n,r)=>io(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),ZEn=(e,t,n,r)=>io(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function xge(e){return e.type==="welcome"}function XEn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=typeof t=="string"?t:t.fetch,i=typeof t=="string"?t:t.listen,s=ZEn(e,i,n,r).pipe(ct((f,p)=>p===0&&!xge(f)?$u(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(f.type,'"'))):ve(f)),na()),[a,c]=g7(s,xge),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>KEn(e,o,n,r);return Qt(a.pipe(_i(1)),c.pipe(dt(u),ix(r.throttleTime||1e3,El,{leading:!0,trailing:!0}))).pipe(ZN(f=>f.type==="mutation"&&f.visibility!=="query"?Mo(1200).pipe(ct(d)):d()))}function QEn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(n&&n!=="*")return ve(n);const r="*[_id in [$documentId, $draftId]]._type",o=Tn(t),i=ri(o);return e.observable.fetch(r,{documentId:o,draftId:i}).pipe(le(s=>s[0]))}function Jp(e){return br(e)}const JEn=["_key","_ref","_weak","_type"];function e5n(e){return e&&e.length>0?'"'.concat(e,'"'):e}function wge(e,t){const n=r=>'Template "'.concat(t.id,'" initial value: ').concat(r);if(!Jp(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n('includes "_type"-property ('.concat(e._type,") that does not match template (").concat(t.schemaType,")")));try{return iL(e)}catch(r){throw r.message=n(r.message),r}}function iL(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(e))return e.map((o,i)=>{if(Array.isArray(o))throw new Error('multidimensional arrays are not supported (at path "'.concat(Cr(t),'")'));return iL(o,t.concat(i),!0)});if(!Jp(e))return e;const r=n&&!e._key?{_key:Hw()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&t5n(e,t),Object.keys(e).reduce((o,i)=>(o[i]=iL(e[i],t.concat([i])),o),r)}function t5n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e._type&&e.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(Cr(t),'"'));const n=Object.keys(e).filter(r=>!JEn.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error("Disallowed ".concat(r," found in reference: ").concat(n.map(e5n).join(", "),' at path "').concat(Cr(t),'"'))}}function fH(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const o=t[r],i=e[r];Jp(o)&&Jp(i)&&(n[r]=fH(i,o))}),n}function n5n(e){return Jp(e)&&typeof e.serialize=="function"}async function lP(e,t,n){return typeof e=="function"?e(t,n):e}async function hH(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(n5n(t))return hH(e,t.serialize(),n,r);const{id:o,schemaType:i,value:s}=t;if(!s)throw new Error('Template "'.concat(o,'" has invalid "value" property'));let a=await lP(s,n,r);if(!Jp(a))throw new Error('Template "'.concat(o,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));Jp(a)&&!Object.keys(a).length&&(a={_type:i}),a=wge(a,t);const c=e.get(i);if(!c)throw new Error('Could not find schema type with name "'.concat(i,'".'));const u=fH(await cP(c,n,pH,r)||{},a);return wge(u,t)}function r5n(e,t){const n=ks(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const pH=10;function cP(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pH,r=arguments.length>3?arguments[3]:void 0;return n<=0?Promise.resolve(void 0):Va(e)?i5n(e,t,n,r):Pl(e)?o5n(e,t,n,r):lP(e.initialValue,t,r)}async function o5n(e,t,n,r){const o=await lP(e.initialValue,void 0,r);if(Array.isArray(o))return Promise.all(o.map(async i=>{const s=r5n(e,i);return Va(s)?{...i,...await cP(s,t,n-1,r),_key:Hw()}:i}))}async function i5n(e,t,n,r){const o={...await lP(e.initialValue,t,r)||{}},i={};await Promise.all(e.fields.map(async a=>{const c=await cP(a.type,t,n-1,r);c!=null&&(i[a.name]=c)}));const s=fH(i,o);if(!aN(s))return e.name!=="object"&&(s._type=e.name),s}const _ge={type:"loading"};function s5n(e,t,n,r,o){const i=n.observePaths({_type:"reference",_ref:ri(r.documentId)},["_type"]),s=n.observePaths({_type:"reference",_ref:Tn(r.documentId)},["_type"]);return Qt(i.pipe(le(c=>({draft:c}))),s.pipe(le(c=>({published:c})))).pipe(ta((c,u)=>({...c,...u}),{}),dt(c=>"draft"in c&&"published"in c),le(c=>c.draft||c.published),Wn((c,u)=>!!c!=!!u),y7(25)).pipe(nt(c=>{if(c)return ve({type:"success",value:null});if(!r.templateName)return ve({isResolving:!1,initialValue:void 0});const u=t.find(f=>f.id===r.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),ve({isResolving:!1,initialValue:void 0});const d=yr(hH(e,u,r.templateParams,o)).pipe(le(f=>({isResolving:!1,initialValue:f}))).pipe(jn(f=>(console.group("Failed to resolve initial value"),console.error(f),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),ve({type:"error",error:f}))));return Qt(ve({isResolving:!0}),d).pipe(nt(f=>{let{isResolving:p,initialValue:m,resolveError:v}=f;return ve(v?{type:"error",message:"Failed to resolve initial value"}:p?_ge:{type:"success",value:m})}))}),ei(_ge),Wn())}function oy(e){if(Oz(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:ri(e)}}function a5n(e){let{getClient:t,documentPreviewStore:n,historyStore:r,initialValueTemplates:o,schema:i}=e;const s=n.unstable_observeDocumentPairAvailability,a=t(tn),c={client:a,getClient:t,observeDocumentPairAvailability:s,historyStore:r,schema:i};return{checkoutPair(u){return VMe(a,u)},initialValue(u,d){return s5n(i,o,n,u,d)},listenQuery(u,d,f){return XEn(a,u,d,f)},resolveTypeForDocument(u,d){return QEn(a,u,d)},pair:{consistencyStatus(u,d){return QMe(c.client,oy(u),d)},documentEvents(u,d){return UEn(c.client,oy(u),d)},editOperations(u,d){return GEn(c,oy(u),d)},editState(u,d){return HMe(c,oy(u),d)},operationEvents(u,d){return t4e({client:a,historyStore:r,schema:i}).pipe(dt(f=>f.args.idPair.publishedId===u&&f.args.typeName===d),le(f=>{const{operationName:p,idPair:m}=f.args;return f.type==="success"?{type:"success",op:p,id:m.publishedId}:{type:"error",op:p,id:m.publishedId,error:f.error}}))},validation(u,d){return HEn(c,oy(u),d)}}}}const Cge={isLoaded:!1,documentType:void 0};function l5n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const n=Xa(),r=Tn(e),o=!!(t&&t!=="*"),i=h.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[s,a]=h.useState(o?i:Cge);return h.useEffect(()=>a(Cge),[r,t]),h.useEffect(()=>{if(o)return;const c=n.resolveTypeForDocument(r,t).subscribe(u=>a({documentType:u,isLoaded:!0}));return()=>c.unsubscribe()},[n,r,t,o]),o?i:s}function c5n(e,t){const n=$i(),r=h.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):ve(void 0),[e,n,t]);return sIe(r)}function u5n(e){const{documentId:t,documentType:n,templateName:r,templateParams:o}=e,i=Do(o),s=Xa(),a=mH(),c=h.useMemo(()=>({_id:t,_type:n}),[t,n]),[u,d]=h.useState({loading:!1,error:null,value:c});return h.useEffect(()=>{const f={documentId:t,documentType:n,templateName:r,templateParams:i};if(!r){d({loading:!0,error:null,value:c});return}const m=s.initialValue(f,a).subscribe(v=>{v.type==="loading"&&d({loading:!0,error:null,value:c}),v.type==="success"&&d({loading:!1,error:null,value:v.value?{...c,...v.value}:c}),v.type==="error"&&d({loading:!1,error:v.error,value:c})});return d({loading:!0,error:null,value:c}),()=>m.unsubscribe()},[c,t,s,n,r,i,a]),u}function mH(){const e=Pn(),t=xn(),n=No(),r=BMe(),o=FMe(),i=e.getClient;return h.useMemo(()=>({projectId:r,dataset:o,getClient:i,schema:t,currentUser:n}),[i,t,n,r,o])}function gH(){const e=mH();return h.useCallback((t,n)=>cP(t,n,pH,e),[e])}function d5n(e,t){const n=e.get(t);if(!n)throw new Error("No such schema type: ".concat(t));return n}function f5n(e){let{grantsStore:t,permission:n,draft:r,published:o,liveEdit:i}=e;const s=r||o,a=s===r?"draft":"published",{checkDocumentPermission:c}=t;switch(n){case"delete":return i?[["delete published document (live-edit)",c("update",o)]]:[["delete draft document",c("update",r)],["delete published document",c("update",o)]];case"discardDraft":return i?[]:[["delete draft document",c("update",r)]];case"publish":return i?[]:[["update published document at its current state",c("update",o)],["delete draft document",c("update",r)],["create published document from draft",c("create",r&&{...r,_id:Tn(r._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",c("create",r)],["delete published document",c("update",o)],["create draft document from published version",c("create",o&&{...o,_id:ri(o._id)})]];case"update":return i?[["update published document (live-edit)",c("update",o)]]:[["update ".concat(a," document"),c("update",s)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",c("create",{...o,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(a," document"),c("create",{...s,_id:ri("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(n))}}function h5n(e){let{client:t,grantsStore:n,schema:r,id:o,permission:i,type:s}=e;if(s==="*")return ve({granted:!1,reason:"Type specified was `*`"});const a=!!d5n(r,s).liveEdit;return dH(t,{draftId:ri(o),publishedId:Tn(o)},s).pipe(nt(c=>$o([c.draft.snapshots$,c.published.snapshots$]).pipe(le(u=>{let[d,f]=u;return{draft:d,published:f}}))),nt(c=>{let{draft:u,published:d}=c;const f=f5n({grantsStore:n,permission:i,draft:u,published:d,liveEdit:a}).map(p=>{let[m,v]=p;return v.pipe(le(g=>{let{granted:b,reason:x}=g;return{granted:b,reason:b?"":"not allowed to ".concat(m,": ").concat(x),label:m,permission:i}}))});return f.length?$o(f).pipe(le(p=>{const m=p.every(g=>g.granted),v=m?"":"Unable to ".concat(i,`:
	`).concat(p.filter(g=>!g.granted).map(g=>g.reason).join(`
	`));return{granted:m,reason:v}})):ve({granted:!0,reason:""})}))}const p5n=rh(h5n);function ch(e){let{id:t,type:n,permission:r,client:o,schema:i,grantsStore:s}=e;const a=ar(tn),c=xn(),u=bH(),d=h.useMemo(()=>o||a,[a,o]),f=h.useMemo(()=>i||c,[c,i]),p=h.useMemo(()=>s||u,[u,s]);return p5n(h.useMemo(()=>({client:d,schema:f,grantsStore:p,id:t,permission:r,type:n}),[d,p,t,r,f,n]))}function n4e(e){let{grantsStore:t,document:n,permission:r}=e;const{checkDocumentPermission:o}=t;return o(r,n)}const m5n=rh(n4e);function g5n(e){let{document:t,permission:n,...r}=e;const o=bH();return m5n({grantsStore:r.grantsStore||o,document:t,permission:n})}function r4e(e){return typeof e=="object"&&e!==null&&"serialize"in e?r4e(e.serialize()):e}function v5n(e){let{grantsStore:t,templateItems:n,templates:r,schema:o,context:i}=e;return n!=null&&n.length?$o(n.map(r4e).map(async s=>{const a=r.find(u=>u.id===s.templateId);if(!a)throw new Error('template not found: "'.concat(s.templateId,'"'));const c=await hH(o,a,s.parameters,i);return{template:a,item:s,resolvedInitialValue:c}}).map(s=>yr(s).pipe(nt(a=>{let{item:c,resolvedInitialValue:u,template:d}=a;const f=o.get(d.schemaType);if(!f)throw new Error('schema type not found: "'.concat(d.schemaType,'"'));const p=f==null?void 0:f.liveEdit,{initialDocumentId:m="dummy-id"}=c;return n4e({grantsStore:t,permission:"create",document:{_id:p?Tn(m):ri(m),...u}}).pipe(le(v=>{let{granted:g,reason:b}=v;const x=c.title||d.title;return{...c,granted:g,reason:b,resolvedInitialValue:u,template:d,title:x,subtitle:f.title===x?void 0:f.title,description:c.description||d.description,icon:c.icon||d.icon}}))})))):ve([])}const y5n=rh(v5n);function vH(e){let{templateItems:t,...n}=e;const r=xn(),o=r1(),i=bH(),s=mH();return y5n({templateItems:t,grantsStore:n.grantsStore||i,schema:n.schema||r,templates:n.templates||o,context:s})}const Sge="_debug_",b5n=typeof window>"u"?ve({}):Ti(window,"hashchange"),o4e=Fr(ve(0),b5n).pipe(le(()=>typeof document>"u"?"#":document.location.hash),Wn(),le(e=>e.substring(1).split(";").filter(t=>t.toLowerCase().startsWith(Sge)).map(t=>t.substring(Sge.length)))),x5n=o4e.pipe(le(e=>e.find(t=>t.startsWith("roles="))),le(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),w5n=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Ege=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],_5n=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],C5n=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],kge=[{filter:'_id in path("**")',permissions:["read","history"]}],S5n=[{filter:"!locked",permissions:["read","create","update"]}],E5n=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],jge={administrator:w5n,editor:Ege,developer:_5n,contributor:C5n,viewer:kge,restricted:E5n,requiresApproval:S5n,read:kge,write:Ege},k5n=x5n.pipe(le(e=>e.length?e.filter(t=>!!t&&t in jge).flatMap(t=>jge[t]||[]):null));async function j5n(e,t,n){return await e.request({uri:"/projects/".concat(t,"/datasets/").concat(n,"/acl"),tag:"acl.get",withCredentials:!0})}function T5n(e){const t={};return e!==null&&(t.identity=e.id),t}const uR=new Map;async function A5n(e,t,n){uR.has(t)||uR.set(t,KPe("*[".concat(t,"]")));const r=uR.get(t),o=T5n(e),{identity:i}=o,s={...o},a=await(await HPe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}function O5n(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=io(()=>ve(r.config())).pipe(nt(s=>{let{projectId:a,dataset:c}=s;if(!a||!c)throw new Error("Missing projectId or dataset");return j5n(r,a,c)})),i=k5n.pipe(nt(s=>s?ve(s):o),fl(1),QYt(1e3));return{checkDocumentPermission(s,a){return i.pipe(nt(c=>P5n(n,c,s,a)),Wn(Mu))}}}async function P5n(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await A5n(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}async function D5n(e,t){const n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{credentials:"include"},r=await fetch(e,n);return I5n(r)}function I5n(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(o){n=t.getReader();const i=new TextDecoder;let s="";n.read().then(function a(c){if(c.done){if(r)return;if(s=s.trim(),s.length===0){o.close();return}o.enqueue(JSON.parse(s)),o.close();return}s+=i.decode(c.value,{stream:!0});const u=s.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{o.enqueue(JSON.parse(f))}catch(p){o.error(p),r=!0,n.cancel();return}}return s=u[u.length-1],n.read().then(a).catch(d=>o.error(d))}).catch(a=>o.error(a))},cancel(){r=!0,n.cancel()}})}function Tge(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function R5n(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function Age(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class $5n{constructor(t){this.earliestTransactionId=null,this.timeline=t,this._states={draft:Tge(t.draftId),published:Tge(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),Age(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):Age(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=R5n(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=a6(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}class M5n{constructor(t,n,r,o){this.timeline=t,this.start=r,this.end=o,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return Oge(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return Oge(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function Oge(e){return e.draft||e.published}const F5n=50;class L5n{constructor(t){this.version=0,this.selectionState="inactive",this._fetchMore=!1,this._fetchAtLeast=0,this._isRunning=!1,this._isSuspended=!1,this._didErr=!1,this._since=null,this._sinceTime=null,this._rev=null,this._revTime=null,this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new $5n(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const o=this._revTime||this.timeline.lastChunk();this._sinceTime.index>o.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,o)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new M5n(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error("ObjectDiff expected, got ".concat(t.type))}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(r){this._didErr=!0,(t=this.handler)==null||t.call(this,r,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),o=F5n;let i="tag=sanity.studio.desk.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(o),s=this._aligner.earliestTransactionId;s&&(i+="&toTransaction=".concat(s));const a=this.client.getUrl("/data/history/".concat(r.dataset,"/transactions/").concat(t,",").concat(n,"?").concat(i)),u=(await D5n(a,r.token)).getReader();let d=0;for(;;){const f=await u.read();if(f.done)break;if("error"in f.value)throw new Error(f.value.error.description||f.value.error.type);if(d++,f.value.id!==s){if(this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(f.value),s=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory||(d<o&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}function B5n(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function Pge(e){return e.draft||e.published}class N5n{constructor(t,n,r,o){this.type="array",this.elements=[],this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=Fj(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class z5n{constructor(t,n,r,o){this.type="object",this.fields={},this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=Fj(r,this.value[t],this.extractor)}}class V5n{constructor(t,n,r,o){this.type="string",this.content=t,this.value=n,this.annotation=r,this.extractor=o}sliceAnnotation(t,n){const r=[];let o=0;function i(s,a){if(r.length>0){const c=r[r.length-1];if(B5n(c.annotation,a)){c.text+=s;return}}r.push({text:s,annotation:a})}for(const s of this.content.parts){const a=s.value.length,c=Math.max(0,t-o);if(c<a){const u=Math.min(a,n-o);if(u<=0)break;i(s.value.slice(c,u),this.extractor.fromValue(s))}o+=a}return r}}function Fj(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new N5n(e.content,t,r,n);case"object":return new z5n(e.content,t,r,n);case"string":return new V5n(e.content,t,r,n)}return nz(t,r)}function Dge(e,t,n){return n?sL(e,n.transactionIndex+1,n.chunk.index):t?sL(e,t.start,t.index):null}function Ige(e,t){return t?sL(e,t.transactionIndex,t.chunk.index):null}function sL(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const o=e.chunkByTransactionIndex(t,n);return o?{chunk:o,timestamp:r.timestamp,author:r.author}:null}function H5n(e,t,n,r,o,i){const s=Fj(n,r,{fromValue(c){return Dge(e,t,c.endMeta)},fromMeta(c){return Dge(e,t,c)}}),a=Fj(o,i,{fromValue(c){return Ige(e,c.startMeta)},fromMeta(c){return Ige(e,c)}});return hO(s,a)}class a2{constructor(){this._postive=[],this._negative=[]}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,o=n(this.get(r),t);Array.isArray(o)?(this.set(r,o[0]),this.addToEnd(o[1])):this.set(r,o)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,o=n(t,this.get(r));Array.isArray(o)?(this.set(r,o[1]),this.addToBeginning(o[0])):this.set(r,o)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}function U5n(e){return e==="create"||e==="editDraft"}const W5n=5*60*1e3;function Y5n(e,t){return Date.parse(t)-Date.parse(e)<W5n}function Rge(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=Mge(e.draftState,t.draftState),r=Mge(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(U5n(e.type)&&t.type==="editDraft"&&Y5n(e.endTimestamp,t.startTimestamp)){const o=new Set;for(const i of e.authors)o.add(i);for(const i of t.authors)o.add(i);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:o,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function $ge(e){const t=!!e;return e&&aL(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function q5n(e){const t=$ge(e.draftEffect),n=$ge(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function dR(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&aL(e.draftEffect.apply),o=e.publishedEffect&&aL(e.publishedEffect.apply),i=q5n(e);return{index:0,id:e.id,type:i,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?o?"missing":"present":"unknown"}}function Mge(e,t){return t==="unknown"?e:t}function aL(e){return e[0]===0&&e[1]===null}let G5n=class{constructor(t){this.reachedEarliestEntry=!1,this._transactions=new a2,this._chunks=new a2,this._possiblePendingTransactions=new Map,this.publishedId=t.publishedId,this.draftId="drafts.".concat(t.publishedId),t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,o=this._chunks.lastIdx;for(let i=o;i>=r;i--)n.push(t(this._chunks.get(i),i));return n}reset(){this._transactions=new a2,this._chunks=new a2,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let i=r;i<=n;i++){const s=this._transactions.get(i);this._chunks.mergeAtEnd(dR(s),Rge)}if(this._chunks.length==0)return;const o=this._chunks.first.start;for(let i=o-1;i>=t;i--){const s=this._transactions.get(i);this._chunks.mergeAtBeginning(dR(s),Rge)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=dR(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),o=n.shift(),i=Number(r);for(let s=this._chunks.lastIdx;s>=this._chunks.firstIdx;s--){const a=this._chunks.get(s);if(a.id===o)return a;if(Date.parse(a.endTimestamp)+60*60*1e3<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return"".concat(t.endTimestamp.valueOf(),"/").concat(t.id)}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const o=this._chunks.get(r);if(!o)throw new Error("transaction does not belong in any chunk");if(t>=o.end)r++;else if(t<o.start)r--;else return o}}replayBackwardsBetween(t,n,r){let o=r.draft,i=r.published;for(let s=n;s>=t;s--){const a=this._transactions.get(s);a.draftEffect&&(o=a6(o,a.draftEffect.revert)),a.publishedEffect&&(i=a6(i,a.publishedEffect.revert))}return{draft:o,published:i}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,o){let i=nl.wrap(t.draft,null),s=nl.wrap(t.published,null);const a=K5n(i,s),c=Pge(t);let u=null;for(let p=r;p<=o;p++){const m=this._chunks.get(p);u||(u=m);for(let v=m.start;v<m.end;v++){const g=this._transactions.get(v),b={chunk:m,transactionIndex:v},x=i,y=s;g.draftEffect&&(i=nl.applyPatch(i,g.draftEffect.apply,b)),g.publishedEffect&&(s=nl.applyPatch(s,g.publishedEffect.apply,b));const w=nl.getType(x)!=="null",_=nl.getType(i)!=="null";nl.getType(s)!=="null"&&!_&&(s=nl.rebaseValue(x,s)),_&&!w&&(i=nl.rebaseValue(y,i))}}const d=nl.getType(i)==="null"?s:i,f=Pge(n);return H5n(this,u,a,c,d,f)}};function K5n(e,t){return nl.getType(e)==="null"?t:e}const Fge=Object.create(null),Z5n=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.isArray(t)?t:[t],{time:o,revision:i}=n;if(o&&i)throw new Error("getHistory can't handle both time and revision parameters");const s=e.config().dataset;let a="/data/history/".concat(s,"/documents/").concat(r.join(","));if(i)a="".concat(a,"?revision=").concat(i);else{const c=o||new Date().toISOString();a="".concat(a,"?time=").concat(c)}return e.request({url:a})},i4e=(e,t,n)=>{const r=Tn(t),o=ri(t),i="".concat(r,"@").concat(n),s=Fge[i];if(s)return s;const a=e.config().dataset,c="/data/history/".concat(a,"/documents/").concat(r,",").concat(o,"?revision=").concat(n),u=e.request({url:c}).then(d=>{const f=d.documents||[],p=f.find(v=>v._id===r);return f.find(v=>v._id===o)||p});return Fge[i]=u,u},X5n=e=>{let{client:t,documentId:n,documentType:r}=e;const o=new G5n({enableTrace:Bc,publishedId:n});return new L5n({client:t,documentId:n,documentType:r,timeline:o})},Q5n=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,o={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},i="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await e.request({url:i,query:o})).toString("utf8").split(`
`).filter(Boolean).map(c=>JSON.parse(c))},J5n=e=>MPe(e,(t,n)=>Zu(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function lL(e,t){return Array.isArray(e)?t(e.map(n=>lL(n,t)).filter(n=>typeof n<"u")):bt(e)?t(Object.keys(e).reduce((n,r)=>{const o=lL(e[r],t);return typeof o<"u"&&(n[r]=o),n},{})):t(e)}const ekn=(e,t)=>lL(e,n=>Zu(n)?t(n):n),tkn=(e,t)=>ekn(e,n=>t[n._ref]?n:void 0);function nkn(e,t,n,r){return yr(i4e(e,t,r)).pipe(ct(o=>{if(!o)throw new Error("Unable to find document with ID ".concat(t," at revision ").concat(r));const i=J5n(o).map(s=>'"'.concat(s,'": defined(*[_id=="').concat(s,'"]._id)')).join(",");return e.observable.fetch("{".concat(i,"}")).pipe(le(s=>tkn(o,s)))}),le(o=>{const{_updatedAt:i,...s}=o;return{...s,_id:n}}),ct(o=>e.observable.createOrReplace(o,{visibility:"async"})))}function rkn(e){let{client:t}=e;return{getDocumentAtRevision:(n,r)=>i4e(t,n,r),getHistory:(n,r)=>Z5n(t,n,r),getTransactions:n=>Q5n(t,n),restore:(n,r,o)=>nkn(t,n,r,o),getTimelineController:X5n}}const Lge={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function okn(e){let{documentId:t,documentType:n,onError:r,rev:o,since:i}=e;const s=a4e(),a=h.useRef(null),c=h.useRef(Lge),u=ar(tn),d=h.useMemo(()=>s.getTimelineController({client:u,documentId:t,documentType:n}),[u,t,n,s]),f=h.useMemo(()=>new rA(d),[d]);return h.useEffect(()=>(d.setRange(i||null,o||null),f.next(d),d.handler=(m,v)=>{m?f.error(m):setTimeout(()=>{v.setRange(i||null,o||null),f.next(v)},0)},d.resume(),()=>d.suspend()),[o,i,d,f]),h.useEffect(()=>(a.current||(a.current=MEn(u,{draftId:"drafts.".concat(t),publishedId:t},n).subscribe(m=>{d.handleRemoteMutation(m)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[u,d,t,n]),h.useMemo(()=>({findRangeForRev:m=>d.findRangeForNewRev(m),findRangeForSince:m=>d.findRangeForNewSince(m),loadMore:()=>{d.setLoadMore(!0),c.current.isLoading=!0},getSnapshot:()=>c.current,subscribe:m=>{const v=f.pipe(mn(g=>g.setLoadMore(!1)),le(g=>{var b;const x=g.timeline.mapChunks(C=>C),y=x.filter(C=>!["delete","initial"].includes(C.type)),w=!g.timeline.reachedEarliestEntry,_=!["invalid","loading"].includes(g.selectionState);return{chunks:x,diff:g.sinceTime?g.currentObjectDiff():null,isLoading:!1,isPristine:_?x.length===0&&w===!1:null,hasMoreChunks:!g.timeline.reachedEarliestEntry,lastNonDeletedRevId:(b=y==null?void 0:y[0])==null?void 0:b.id,onOlderRevision:g.onOlderRevision(),realRevChunk:g.realRevChunk,revTime:g.revTime,selectionState:g.selectionState,sinceAttributes:g.sinceAttributes(),sinceTime:g.sinceTime,timelineDisplayed:g.displayed(),timelineReady:_}}),Wn(YL),jn(g=>(r==null||r(g),ve(Lge))),mn(g=>{c.current=g}),mn(m)).subscribe();return()=>v.unsubscribe()}}),[d,r,f])}function eo(e,t){return rz.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const ikn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],skn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],akn=io(()=>Mo(0,1e4)).pipe(Vp(ikn),le((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:nGt(skn)}]})),_o()),lkn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(e)))},ckn=(e,t)=>{const n=e.request("presence").pipe(le(lkn)),r=o=>o.type==="rollCall"?e.request("presence_rollcall",{session:t}):o.type==="state"?e.request("presence_announce",{data:{locations:o.locations,sessionId:t}}):o.type==="disconnect"?e.request("presence_disconnect",{session:t}):Un;return[n.pipe(na()),r]},s4e="presence_session_id",ukn=()=>Wxt(16);function dkn(){try{return window.sessionStorage.getItem(s4e)}catch{}return null}function fkn(e){try{window.sessionStorage.setItem(s4e,e)}catch{}return e}const l2=dkn()||fkn(ukn());function hkn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[o,i]=ckn(t,l2),s=new rA([]),a=s.pipe(Wn()),c=A=>{s.next(A)},u=A=>i({type:"state",locations:A}),d=()=>i({type:"rollCall"}),f=o.pipe(dt(A=>A.type==="rollCall"),dt(A=>A.sessionId!==l2)),m=Mo(0,3e4),v=io(()=>Qt(a,f)).pipe(nt(()=>m),nb(s),le(A=>{let[,O]=A;return O}),qit(200),nt(A=>u(A)),Vp(Un),na()),g=io(()=>d()).pipe(Vp(Un)),b=n.connectionStatus$.pipe(le(A=>A.type),dt(A=>A==="connected"||A==="error"),Wn()),x=o4e.pipe(le(A=>A.find(O=>O.startsWith("presence="))),le(A=>(A==null?void 0:A.split("presence=")[1].split(",").map(O=>O.trim()))||[])),y=x.pipe(dt(A=>A.includes("fake_others")),mn(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),sst(akn)),w=x.pipe(le(A=>A.includes("show_own"))),_=Qt(g,o).pipe(dt(A=>A.type==="state"||A.type==="disconnect")),C=A=>({lastActiveAt:A.timestamp,locations:A.locations,sessionId:A.sessionId,userId:A.userId}),S=Qt(_,y).pipe(ta((A,O)=>O.type==="disconnect"?Ai(A,O.sessionId):{...A,[O.sessionId]:C(O)},{})),E=b.pipe(nt(A=>A==="connected"?Qt(S,v):m7),le(A=>Object.values(A)),nt(A=>{const O=so(A.map(P=>P.userId));return yr(r.getUsers(O)).pipe(le(P=>A.map(D=>({user:P.find(R=>R.id===D.userId),session:D})).filter(j)))}),b7(Ti(window,"beforeunload").pipe(nt(()=>i({type:"disconnect"})))),_o({refCount:!0,bufferSize:1}));function j(A){return!!(A.user&&A.session)}const k=E.pipe(le(A=>{const O=MN(A.map(P=>P.session),P=>P.userId);return Object.keys(O).map(P=>{var D;return{user:(D=A.find(R=>R.user.id===P))==null?void 0:D.user,sessions:O[P]}})}),nb(w),le(A=>{let[O,P]=A;return O.filter(D=>P?!0:!D.sessions.some($=>$.sessionId===l2))}),le(A=>A.map(O=>{var P;return{user:O.user,status:"online",lastActiveAt:(P=O.sessions.sort()[0])==null?void 0:P.lastActiveAt,locations:En((O.sessions||[]).map(D=>D.locations||[])).map(D=>({type:D.type,documentId:D.documentId,path:D.path,lastActiveAt:D.lastActiveAt})).reduce((D,R)=>D.concat(R),[])}})));return{setLocation:c,reportLocations:u,debugPresenceParam$:x,globalPresence$:k,documentPresence:A=>E.pipe(nb(w),nt(O=>{let[P,D]=O;return yr(P).pipe(dt(R=>D||R.session.sessionId!==l2),ost(R=>(R.session.locations||[]).filter($=>$.documentId===A).map($=>({user:R.user,lastActiveAt:R.session.lastActiveAt,path:$.path||[],sessionId:R.session.sessionId}))),bEe())}))}}function pkn(){const[e,t]=h.useState([]),n=xH();return h.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function g_(e){const t=xH(),[n,r]=h.useState([]);return h.useEffect(()=>{const o=t.documentPresence(e).subscribe(r);return()=>{o.unsubscribe()}},[e,t]),n}function mkn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function o(){return r.observable.request({url:"/projects/".concat(n)})}function i(){return r.observable.request({url:"/projects/".concat(n,"/datasets")})}return{get:o,getDatasets:i}}const gkn=(e,t)=>{try{return JSON.parse(e)}catch(n){return console.warn("Failed to parse settings: ".concat(n.message)),t}},vkn=(e,t)=>{const n=localStorage.getItem(e);return ve(n===null?t:gkn(n,t))},ykn=(e,t)=>(typeof t>"u"||t===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),ve(t)),bkn={get:vkn,set:ykn},Lj=Object.create(null),xkn=(e,t)=>ve(e in Lj?Lj[e]:t),wkn=(e,t)=>(typeof t>"u"||t===null?delete Lj[e]:Lj[e]=t,ve(t)),_kn={get:xkn,set:wkn};let iy=null;function Ckn(){if(iy!==null)return iy;const e="__test__";try{localStorage.setItem(e,e),localStorage.removeItem(e),iy=!0}catch{iy=!1}return iy}function Skn(){return Ckn()?bkn:_kn}function Ekn(){const e=Skn(),t=new gr,n=(a,c)=>"".concat(a,"::").concat(c),r=t.pipe(nt(a=>e.set(a.key,a.value).pipe(le(c=>({key:a.key,value:c}))))),o=(a,c)=>Qt(e.get(a,c),r.pipe(dt(u=>u.key===a),le(u=>u.value))),i=(a,c)=>{t.next({key:a,value:c})},s=a=>({forKey:c=>{const u=n(a,c);return{listen:d=>o(u,d),set:d=>i(u,d),del:()=>i(u,void 0)}},listen:(c,u)=>o(n(a,c),u),set:(c,u)=>i(n(a,c),u),del:c=>i(n(a,c),void 0),forNamespace:c=>s(n(a,c))});return{forNamespace:s}}const kkn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function jkn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=new fGt(async s=>{const a=await r.request({uri:"/users/".concat(s.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(a)?a:[a]).reduce((d,f)=>(f!=null&&f.id&&(d[f.id]=f),d),{});return s.map(d=>u[d]||null)},{batchScheduleFn:s=>vGt(s)}),i=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return o.prime("me",i),i!=null&&i.id&&o.prime(i.id,i),kkn.forEach(s=>o.prime(s.id,s)),{getUser:async s=>{try{return await o.load(s)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async s=>(await o.loadMany(s)).filter(c=>bt(c)&&typeof c.id=="string")}}function yH(){const{getClient:e,currentUser:t}=Pn(),n=fd(),r=e(tn);return h.useMemo(()=>{const o=n.get({namespace:"userStore",dependencies:[r,t]})||jkn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:o}),o},[r,t,n])}function bH(){const{getClient:e}=Pn(),t=e(tn),n=No(),r=fd();return h.useMemo(()=>{const o=r.get({namespace:"grantsStore",dependencies:[t,n]})||O5n({client:t,currentUser:n});return r.set({namespace:"grantsStore",dependencies:[t,n],value:o}),o},[t,n,r])}function a4e(){const e=ar(tn),t=fd();return h.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||rkn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function $i(){const e=ar(tn),t=fd();return h.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||orn({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function Xa(){const e=Pn().getClient,t=xn(),n=r1(),r=fd(),o=a4e(),i=$i();return h.useMemo(()=>{const s=r.get({namespace:"documentStore",dependencies:[e,i,o,t]})||a5n({getClient:e,documentPreviewStore:i,historyStore:o,initialValueTemplates:n,schema:t});return r.set({namespace:"documentStore",dependencies:[e,i,o,t],value:s}),s},[e,i,o,r,t,n])}function Tkn(){const{bifur:e}=Pn().__internal,t=fd();return h.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||Yen({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function xH(){const{__internal:{bifur:e}}=Pn(),t=fd(),n=yH(),r=Tkn();return h.useMemo(()=>{const o=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||hkn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:o}),o},[e,r,t,n])}function Akn(){const e=ar(tn),t=fd();return h.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||mkn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function Okn(){const e=fd(),t=Fl();return h.useMemo(()=>{const n=e.get({dependencies:[t],namespace:"settingsStore"})||Ekn();return e.set({dependencies:[t],namespace:"settingsStore",value:n}),n},[e,t])}const Pkn=/[^\p{Alpha}\p{White_Space}]/gu,Dkn=new RegExp("\\p{White_Space}+","u"),Ikn={small:0,medium:1,large:2};function Rkn(e){const t=e.replace(Pkn,"").split(Dkn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function Na(e){const{user:t,...n}=e;return bt(t)?n.withTooltip?l.jsx($kn,{...n,user:t}):l.jsx(l4e,{...n,user:t}):l.jsx(Mkn,{...e,user:t})}function $kn(e){const{user:{displayName:t}}=e;return l.jsx(st,{content:l.jsx(M,{padding:2,children:l.jsx(B,{size:1,children:t})}),placement:"top",portal:!0,children:l.jsx("div",{style:{display:"inline-block"},children:l.jsx(l4e,{...e})})})}const l4e=h.forwardRef(function(t,n){const{user:r,animateArrowFrom:o,position:i,size:s,status:a,tone:c,...u}=t,[d,f]=h.useState(null),p=Jrn(r.id),m=d||r==null?void 0:r.imageUrl;return l.jsx(mSe,{animateArrowFrom:o,arrowPosition:i,color:p.name,"data-legacy-tone":c,initials:(r==null?void 0:r.displayName)&&Rkn(r.displayName),src:m,onImageLoadError:f,ref:n,size:typeof s=="string"?Ikn[s]:s,status:a,title:r==null?void 0:r.displayName,...u})});function Mkn(e){let{user:t,...n}=e;const[r]=o1(t);return r?l.jsx(Na,{...n,user:r}):null}var Bge=Object.freeze,Fkn=Object.defineProperty,Lkn=(e,t)=>Bge(Fkn(e,"raw",{value:Bge(t||e.slice())})),Nge;const Bkn=I(K9)(e=>{let{theme:t}=e;const n=t.sanity.color.dark?50:700,r=t.sanity.color.dark?700:100,o=fe.purple[r].hex,i=fe.purple[n].hex;return de(Nge||(Nge=Lkn([`
    background-color: `,`;
    box-shadow: inset 0 0 0 1px `,`;
    color: `,`;
  `])),o,o,i)});function Nkn(e){const{fontSize:t=1,children:n="Beta",...r}=e;return l.jsx(Bkn,{...r,fontSize:t,children:n})}function Uh(e,t,n){var r;if(t.length===0)return{...e||{},value:n};const[o,...i]=t,s=Tr(o)?o._key:String(o),a=(r=e==null?void 0:e.children)!=null?r:{};return{value:e==null?void 0:e.value,children:{...a,[s]:Uh(a[s]||{},i,n)}}}const wH=20,zkn=3,Qd={name:"all-fields",title:"All fields",hidden:!1};function Vkn(e){return Va(e.schemaType)}function Hkn(e){return LL(e.schemaType)}function Ukn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...c4e(e,t)]}function c4e(e,t){return t.length===0?[]:Vkn(e)?u4e(e,t):Hkn(e)?d4e(e,t):[]}function u4e(e,t){var n,r;if(t.length===0)return[];const[o,...i]=t,s=e._allMembers.find(v=>v.kind==="fieldSet"&&v.fieldSet.members.some(g=>g.kind==="field"&&g.name===o)),c=(s?s.fieldSet.members:e._allMembers).find(v=>v!==null&&v.kind==="field"&&v.name===o),u=e.schemaType.fields.find(v=>v.name===o),d=(n=e.groups.find(v=>v.selected))==null?void 0:n.name,f=(r=(e.schemaType.groups||[]).find(v=>v.default))==null?void 0:r.name,p=d&&(d===Qd.name||u&&Iw(u.group).includes(d)),m=[];return p||m.push({type:"setSelectedGroup",path:e.path,groupName:f||Qd.name}),s&&m.push({type:"expandFieldSet",path:s.fieldSet.path}),c&&(AV(c)?m.push(...d4e(c.field,i)):lRe(c)&&m.push(...u4e(c.field,i))),m}function d4e(e,t){if(t.length===0)return[];const[n,...r]=t;if(!Tr(n))throw new Error("Expected path segment to be an object with a _key property");const o=e.members.find(i=>i.key===n._key);return o?c4e(o.item,r):[]}function to(e,t){const{currentUser:n,document:r,parent:o,value:i}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:o,value:i,currentUser:n})===!0}function Wkn(e,t){const n=ks(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function Ykn(e,t){const n=ks(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function _H(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=zkn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function f4e(e,t,n){return n.name===Qd.name?!0:t===void 0?!1:e.length===0&&n.name===Qd.name?!0:Iw(t).includes(n.name)}function zge(e){return typeof e>"u"||bt(e)}function qkn(e){return typeof e>"u"||Array.isArray(e)}function Gkn(e){return typeof e>"u"||Array.isArray(e)}function Kkn(e){return e.length===0||e.every(t=>bt(t))}function Zkn(e){const t=new Set;return e.reduce((n,r,o)=>(t.has(r._key)&&n.push([o,r._key]),t.add(r._key),n),[])}function Xkn(e){return"_key"in e}function Qkn(e){return e==null?void 0:e.every(t=>bt(t)&&Xkn(t))}function yv(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!zt(e,t)}function Vge(e){var t,n,r,o,i,s,a,c,u,d,f,p,m,v,g,b,x,y;const{parent:w,field:_,index:C}=e,S=im([...w.path,_.name]),E=cdn(_.type,w.level+1),j=w.value,k=w.comparisonValue;if(!zge(j))throw new Error("Unexpected non-object value");const T=_.group?Iw(_.group):[],A=f4e(w.groups,_.group,w.selectedGroup);if(Va(_.type)){const O=j==null?void 0:j[_.name],P=bt(k)?k==null?void 0:k[_.name]:void 0;if(!zge(O))return{kind:"error",key:_.name,fieldName:_.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:_.type,resolvedValueType:ks(O),value:O}};const D={value:O,parent:w.value,document:w.document,currentUser:w.currentUser};if(to(_.type.hidden,D))return{kind:"hidden",key:"field-".concat(_.name),name:_.name,index:C};const $=w.readOnly||to(_.type.readOnly,D),H=(n=(t=w.fieldGroupState)==null?void 0:t.children)==null?void 0:n[_.name],F=(o=(r=w.collapsedPaths)==null?void 0:r.children)==null?void 0:o[_.name],V=(s=(i=w.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[_.name],W=CH({schemaType:_.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:O,changed:yv(O,P),comparisonValue:P,presence:w.presence,validation:w.validation,fieldGroupState:H,path:S,level:E,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:F,collapsedFieldSets:V,readOnly:$,changesOpen:w.changesOpen});if(W===null)return null;const z=_H(_.type.options,E),q=F?F.value:z.collapsed;return{kind:"field",key:"field-".concat(_.name),name:_.name,index:C,inSelectedGroup:A,groups:T,open:yi(S,w.openPath),field:W,collapsed:q,collapsible:z.collapsible}}else if(Pl(_.type)){const O=j==null?void 0:j[_.name],P=bt(k)?k==null?void 0:k[_.name]:void 0;if(LL(_.type)){const D=typeof O<"u";if(D&&!qkn(O)){const z=ks(O);return{kind:"error",key:_.name,fieldName:_.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:_.type,resolvedValueType:z,value:O}}}if(D&&!Kkn(O))return{kind:"error",key:_.name,fieldName:_.name,error:{type:"MIXED_ARRAY",schemaType:_.type,value:O}};if(D&&!Qkn(O))return{kind:"error",key:_.name,fieldName:_.name,error:{type:"MISSING_KEYS",value:O,schemaType:_.type}};const R=D?Zkn(O):[];if(R.length>0)return{kind:"error",key:_.name,fieldName:_.name,error:{type:"DUPLICATE_KEYS",duplicates:R,schemaType:_.type}};const $=(c=(a=w.fieldGroupState)==null?void 0:a.children)==null?void 0:c[_.name],H=(d=(u=w.collapsedPaths)==null?void 0:u.children)==null?void 0:d[_.name],F=(p=(f=w.collapsedFieldSets)==null?void 0:f.children)==null?void 0:p[_.name],V=w.readOnly||to(_.type.readOnly,{value:O,parent:w.value,document:w.document,currentUser:w.currentUser}),W=ejn({schemaType:_.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:O,changed:yv(O,P),comparisonValue:P,fieldGroupState:$,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:H,collapsedFieldSets:F,level:E,path:S,readOnly:V});return W===null?null:{kind:"field",key:"field-".concat(_.name),name:_.name,index:C,open:yi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:W}}else{if(!Gkn(O)){const V=ks(O);return{kind:"error",key:_.name,fieldName:_.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:_.type,resolvedValueType:V,value:O}}}const D=(v=(m=w.fieldGroupState)==null?void 0:m.children)==null?void 0:v[_.name],R=(b=(g=w.collapsedPaths)==null?void 0:g.children)==null?void 0:b[_.name],$=(y=(x=w.collapsedFieldSets)==null?void 0:x.children)==null?void 0:y[_.name],H=w.readOnly||to(_.type.readOnly,{value:O,parent:w.value,document:w.document,currentUser:w.currentUser}),F=Jkn({changed:yv(O,P),comparisonValue:P,schemaType:_.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:O,fieldGroupState:D,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:R,collapsedFieldSets:$,level:E,path:S,readOnly:H});return F===null?null:{kind:"field",key:"field-".concat(_.name),name:_.name,index:C,inSelectedGroup:A,groups:T,open:yi(S,w.openPath),collapsible:!1,collapsed:!1,field:F}}}else{const O=j==null?void 0:j[_.name],P=bt(k)?k==null?void 0:k[_.name]:void 0,D={value:O,parent:w.value,document:w.document,currentUser:w.currentUser};if(to(_.type.hidden,D))return null;const $=w.readOnly||to(_.type.readOnly,D),H=h4e({...w,comparisonValue:P,value:O,schemaType:_.type,path:S,readOnly:$});return{kind:"field",key:"field-".concat(_.name),name:_.name,index:C,open:yi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:H}}}function CH(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var n;if(e.level===wH)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},o=e.readOnly||to(e.schemaType.readOnly,r),i=e.schemaType.groups||[],s=(n=i.find(y=>y.default)||Qd)==null?void 0:n.name,a=[Qd,...i].flatMap(y=>{var w;const _=to(y.hidden,r),C=y.name===(((w=e.fieldGroupState)==null?void 0:w.value)||s),S=e.changesOpen?y.name===Qd.name:C,E=e.changesOpen?!S:!1;return _?[]:[{disabled:E,icon:y==null?void 0:y.icon,name:y.name,selected:S,title:y.title}]}),c=a.find(y=>y.selected),d=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(y=>({single:!0,field:y}))).flatMap((y,w)=>{var _,C,S,E;if(y.single){const D=y.field,R=Vge({field:D,parent:{...e,readOnly:o,groups:a,selectedGroup:c},index:w});return R?[R]:[]}const j=y.fields.map(D=>D.name),k=to(y.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:wt(e.value,j)}),T=to(y.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:wt(e.value,j)}),A=y.fields.flatMap(D=>{if(k)return[{kind:"hidden",key:"field-".concat(D.name),name:D.name,index:w}];const R=Vge({field:D,parent:{...e,readOnly:o||T,groups:a,selectedGroup:c},index:w});return R?[R]:[]}),O=_H(y.options,e.level),P=(S=(C=(((_=e.collapsedFieldSets)==null?void 0:_.children)||{})[y.name])==null?void 0:C.value)!=null?S:O.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(y.name),_inSelectedGroup:f4e(a,y.group,c),groups:y.group?Iw(y.group):[],fieldSet:{path:im(e.path.concat(y.name)),name:y.name,title:y.title,description:y.description,hidden:!1,level:e.level+1,members:A.filter(D=>D.kind!=="hidden"),collapsible:O==null?void 0:O.collapsible,collapsed:P,columns:(E=y==null?void 0:y.options)==null?void 0:E.columns}}]}),f=i.length>0,p=e.presence.filter(y=>pn(y.path,e.path)),m=p.length?p:Bn,v=e.validation.filter(y=>pn(y.path,e.path)).map(y=>({level:y.level,message:y.item.message,path:y.path})),g=d.filter(y=>y.kind!=="hidden");if(g.length===0&&t)return null;const b=f?a.flatMap(y=>y.name===Qd.name||g.some(_=>_.kind==="error"?!1:_.kind==="field"?_.groups.includes(y.name):_.groups.includes(y.name)||_.fieldSet.members.some(C=>C.kind!=="error"&&C.groups.includes(y.name)))?y:[]):[],x=g.flatMap(y=>{if(y.kind==="error")return[y];if(y.kind==="field")return y.inSelectedGroup?[y]:[];const w=y.fieldSet.members.filter(_=>_.kind!=="field"||_.inSelectedGroup);return w.length>0?[{...y,fieldSet:{...y.fieldSet,members:w}}]:[]});return{value:e.value,changed:yv(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:o,path:e.path,id:Cr(e.path),level:e.level,focused:pn(e.path,e.focusPath),focusPath:WL(e.path,e.focusPath),presence:m,validation:v,_allMembers:d,members:x,groups:b}}function Jkn(e){if(e.level===wH)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(to(e.schemaType.hidden,t))return null;const r=e.readOnly||to(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>pn(u.path,e.path)),s=i.length?i:Bn,a=e.validation.filter(u=>pn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>njn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:pn(e.path,e.focusPath),focusPath:WL(e.path,e.focusPath),path:e.path,id:Cr(e.path),level:e.level,validation:a,presence:s,members:c}}function ejn(e){if(e.level===wH)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(to(e.schemaType.hidden,t))return null;const r=e.readOnly||to(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>pn(u.path,e.path)),s=i.length?i:Bn,a=e.validation.filter(u=>pn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>tjn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:pn(e.path,e.focusPath),focusPath:WL(e.path,e.focusPath),path:e.path,id:Cr(e.path),level:e.level,validation:a,presence:s,members:c}}function tjn(e){var t,n,r,o,i,s,a;const{arrayItem:c,parent:u,index:d}=e,f=Wkn(u.schemaType,c),p=c._key;if(!f){const j=ks(c);return{kind:"error",key:p,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:j,value:c,validTypes:u.schemaType.of}}}const m=im([...u.path,{_key:p}]),v=u.level+1,g={value:u.value,parent:e.parent,document:u.document,currentUser:u.currentUser},b=u.readOnly||to(u.schemaType.readOnly,g),x=(n=(t=u.fieldGroupState)==null?void 0:t.children)==null?void 0:n[p],y=(o=(r=u.collapsedPaths)==null?void 0:r.children)==null?void 0:o[p],w=(s=(i=u.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[p],_=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(j=>j._key===c._key)||void 0,C=CH({schemaType:f,level:v,document:u.document,value:c,comparisonValue:_,changed:yv(c,_),path:m,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:y,collapsedFieldSets:w,presence:u.presence,validation:u.validation,fieldGroupState:x,readOnly:b},!1),S=_H(f.options,v),E=(a=y==null?void 0:y.value)!=null?a:S.collapsed;return{kind:"item",key:p,index:d,open:yi(m,u.openPath),collapsed:E,collapsible:!0,parentSchemaType:u.schemaType,item:C}}function njn(e){var t,n;const{arrayItem:r,parent:o,index:i}=e,s=Ykn(o.schemaType,r),a=im([...o.path,i]),c=(t=o.value)==null?void 0:t[i],u=(n=o.comparisonValue)==null?void 0:n[i],d=o.level+1,f="".concat((s==null?void 0:s.name)||"invalid-type","-").concat(String(i));if(!s)return{kind:"error",key:f,index:i,error:{type:"INVALID_ITEM_TYPE",validTypes:o.schemaType.of,resolvedValueType:ks(s),value:c}};const p=o.readOnly||to(s.readOnly,{value:c,parent:o.value,document:o.document,currentUser:o.currentUser}),m=h4e({...o,path:a,schemaType:s,level:d,value:c,comparisonValue:u,readOnly:p});return{kind:"item",key:f,index:i,parentSchemaType:o.schemaType,open:pn(a,o.openPath),item:m}}function h4e(e){const t=e.presence.filter(o=>pn(o.path,e.path)),n=t.length?t:Bn,r=e.validation.filter(o=>pn(o.path,e.path)).map(o=>({level:o.level,message:o.item.message,path:o.path}));return{schemaType:e.schemaType,changed:yv(e.value,e.comparisonValue),value:e.value,level:e.level,id:Cr(e.path),readOnly:e.readOnly,focused:pn(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function rjn(e){return CH(e)}function ojn(e,t){let{comparisonValue:n,value:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,openPath:c,presence:u,validation:d,readOnly:f,changesOpen:p}=t;const m=No(),v=h.useRef(null);return h.useLayoutEffect(()=>{v.current=null},[e]),h.useMemo(()=>{const g=rjn({schemaType:e,document:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,value:r,comparisonValue:n,focusPath:a,openPath:c,readOnly:f,path:im([]),level:0,currentUser:m,presence:u,validation:d,changesOpen:p}),b=tV(v.current,g);return v.current=b,b},[e,r,o,i,s,n,a,c,f,m,u,d,p])}function ijn(e){return e.map(ljn)}function cL(e,t){return En(t.map(n=>ajn(e,n)))}const sjn=e=>t=>!e.includes(t);function ajn(e,t){return En(Object.keys(t).filter(sjn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:eg(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:eg(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:eg(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:eg(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:eg(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:eg(r),value:t[n][r],origin:e}:(console.warn(new Error("Unsupported patch type: ".concat(n))),null)).filter(Boolean)}))}function ljn(e){if(e.patchType!==Xp&&e.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(e.type,'()" from "sanity/form"'));if(e.patchType!==Xp)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=jPe(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(e)));return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}h.memo(function(t){const{transform:n}=t,r=ua(),o=h.useCallback(s=>{const a=s.patches,c=n(a);r.onChange(lt.from(c))},[r,n]),i=h.useMemo(()=>({...r,onChange:o}),[r,o]);return l.jsx(eV.Provider,{value:i,children:t.children})});Df.fonts.code.family,Df.fonts.text.family,tc.hex,ya.hex,fy[500].hex,ya.hex,tc.hex,A2[500].hex,A2[500].hex,A2[500].hex,YR[500].hex,fy[500].hex,GR[500].hex,qR[500].hex,fy[500].hex,fy[500].hex,GR[500].hex,qR[500].hex,YR[500].hex,tc.hex,ya.hex;({...Df});var uP={},cjn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},ujn=cjn,Hge={"text/plain":"Text","text/html":"Url",default:"Text"},djn="Copy to clipboard: #{key}, Enter";function fjn(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function hjn(e,t){var n,r,o,i,s,a,c=!1;t||(t={}),n=t.debug||!1;try{o=ujn(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=Hge[t.format]||Hge.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=fjn("message"in t?t.message:djn),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return c}var pjn=hjn;function uL(e){"@babel/helpers - typeof";return uL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uL(e)}Object.defineProperty(uP,"__esModule",{value:!0});uP.CopyToClipboard=void 0;var c2=p4e(h),mjn=p4e(pjn),gjn=["text","onCopy","options","children"];function p4e(e){return e&&e.__esModule?e:{default:e}}function Uge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Wge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uge(Object(n),!0).forEach(function(r){SH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uge(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vjn(e,t){if(e==null)return{};var n=yjn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yjn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function bjn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xjn(e,t,n){return t&&Yge(e.prototype,t),n&&Yge(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wjn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dL(e,t)}function dL(e,t){return dL=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},dL(e,t)}function _jn(e){var t=Sjn();return function(){var r=Bj(e),o;if(t){var i=Bj(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Cjn(this,o)}}function Cjn(e,t){if(t&&(uL(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m4e(e)}function m4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sjn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bj(e){return Bj=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Bj(e)}function SH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g4e=function(e){wjn(n,e);var t=_jn(n);function n(){var r;bjn(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),SH(m4e(r),"onClick",function(a){var c=r.props,u=c.text,d=c.onCopy,f=c.children,p=c.options,m=c2.default.Children.only(f),v=(0,mjn.default)(u,p);d&&d(u,v),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),r}return xjn(n,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var i=o.children,s=vjn(o,gjn),a=c2.default.Children.only(i);return c2.default.cloneElement(a,Wge(Wge({},s),{},{onClick:this.onClick}))}}]),n}(c2.default.PureComponent);uP.CopyToClipboard=g4e;SH(g4e,"defaultProps",{onCopy:void 0,options:void 0});var Ejn=uP,fL=Ejn.CopyToClipboard;fL.CopyToClipboard=fL;var kjn=fL;const jjn=Pe(kjn);var Tjn=Vf,Ajn=Ua,Ojn="[object Number]";function Pjn(e){return typeof e=="number"||Ajn(e)&&Tjn(e)==Ojn}var Djn=Pjn;const Ijn=Pe(Djn);function qge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Gge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qge(Object(n),!0).forEach(function(r){Rjn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qge(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rjn(e,t,n){return t=$jn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $jn(e){var t=Mjn(e,"string");return typeof t=="symbol"?t:String(t)}function Mjn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nj(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function v4e(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function y4e(e){return v4e(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function b4e(e){return e._type==="@list"}function x4e(e){return e._type==="@span"}function w4e(e){return e._type==="@text"}const Kge=["strong","em","code","underline","strike-through"];function Fjn(e,t,n){if(!Nj(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),o={};return r.forEach(i=>{o[i]=1;for(let s=t+1;s<n.length;s++){const a=n[s];if(a&&Nj(a)&&Array.isArray(a.marks)&&a.marks.indexOf(i)!==-1)o[i]++;else break}}),r.sort((i,s)=>Ljn(o,i,s))}function Ljn(e,t,n){const r=e[t],o=e[n];if(r!==o)return o-r;const i=Kge.indexOf(t),s=Kge.indexOf(n);return i!==s?i-s:t.localeCompare(n)}function Bjn(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const o=n.map(Fjn),i={_type:"@span",children:[],markType:"<unknown>"};let s=[i];for(let a=0;a<n.length;a++){const c=n[a];if(!c)continue;const u=o[a]||[];let d=1;if(s.length>1)for(d;d<s.length;d++){const p=((t=s[d])==null?void 0:t.markKey)||"",m=u.indexOf(p);if(m===-1)break;u.splice(m,1)}s=s.slice(0,d);let f=s[s.length-1];if(f){for(const p of u){const m=r.find(b=>b._key===p),v=m?m._type:p,g={_type:"@span",_key:c._key,children:[],markDef:m,markType:v,markKey:p};f.children.push(g),s.push(g),f=g}if(Nj(c)){const p=c.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);f.children=f.children.concat(p.map(m=>({_type:"@text",text:m})))}else f.children=f.children.concat(c)}}return i.children}function Njn(e,t){const n=[];let r;for(let o=0;o<e.length;o++){const i=e[o];if(i){if(!y4e(i)){n.push(i),r=void 0;continue}if(!r){r=u2(i,o,t),n.push(r);continue}if(zjn(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const s=u2(i,o,t);if(t==="html"){const a=r.children[r.children.length-1],c=Gge(Gge({},a),{},{children:[...a.children,s]});r.children[r.children.length-1]=c}else r.children.push(s);r=s;continue}if((i.level||1)<r.level){const s=n[n.length-1],a=s&&hL(s,i);if(a){r=a,r.children.push(i);continue}r=u2(i,o,t),n.push(r);continue}if(i.listItem!==r.listItem){const s=n[n.length-1],a=s&&hL(s,{level:i.level||1});if(a&&a.listItem===i.listItem){r=a,r.children.push(i);continue}else{r=u2(i,o,t),n.push(r);continue}}console.warn("Unknown state encountered for block",i),n.push(i)}}return n}function zjn(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function u2(e,t,n){return{_type:"@list",_key:"".concat(e._key||"".concat(t),"-parent"),mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function hL(e,t){const n=t.level||1,r=t.listItem||"normal",o=typeof t.listItem=="string";if(b4e(e)&&(e.level||1)===n&&o&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!Nj(i)?hL(i,t):void 0}function _4e(e){let t="";return e.children.forEach(n=>{w4e(n)?t+=n.text:x4e(n)&&(t+=_4e(n))}),t}const Vjn="html",Hjn=["block","list","listItem","marks","types"],Ujn=["listItem"],Wjn=["_key"];function Zge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zge(Object(n),!0).forEach(function(r){Yjn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zge(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yjn(e,t,n){return t=qjn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qjn(e){var t=Gjn(e,"string");return typeof t=="symbol"?t:String(t)}function Gjn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pL(e,t){if(e==null)return{};var n=Kjn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kjn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Zjn(e,t){const n=pL(t,Hjn);return ic(ic({},e),{},{block:sy(e,t,"block"),list:sy(e,t,"list"),listItem:sy(e,t,"listItem"),marks:sy(e,t,"marks"),types:sy(e,t,"types")},n)}function sy(e,t,n){const r=t[n],o=e[n];return typeof r=="function"||r&&typeof o=="function"?r:r?ic(ic({},o),r):o}const Xjn=e=>{let{children:t,value:n}=e;return l.jsx("a",{href:n==null?void 0:n.href,children:t})},Qjn={textDecoration:"underline"},Jjn={em:e=>{let{children:t}=e;return l.jsx("em",{children:t})},strong:e=>{let{children:t}=e;return l.jsx("strong",{children:t})},code:e=>{let{children:t}=e;return l.jsx("code",{children:t})},underline:e=>{let{children:t}=e;return l.jsx("span",{style:Qjn,children:t})},"strike-through":e=>{let{children:t}=e;return l.jsx("del",{children:t})},link:Xjn},eTn={number:e=>{let{children:t}=e;return l.jsx("ol",{children:t})},bullet:e=>{let{children:t}=e;return l.jsx("ul",{children:t})}},tTn=e=>{let{children:t}=e;return l.jsx("li",{children:t})},v_=(e,t)=>"[@portabletext/react] Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` prop"),C4e=e=>v_('block type "'.concat(e,'"'),"types"),nTn=e=>v_('mark type "'.concat(e,'"'),"marks"),rTn=e=>v_('block style "'.concat(e,'"'),"block"),oTn=e=>v_('list style "'.concat(e,'"'),"list"),iTn=e=>v_('list item style "'.concat(e,'"'),"listItem");function sTn(e){console.warn(e)}const Xge={display:"none"},aTn=e=>{let{value:t,isInline:n}=e;const r=C4e(t._type);return n?l.jsx("span",{style:Xge,children:r}):l.jsx("div",{style:Xge,children:r})},lTn=e=>{let{markType:t,children:n}=e;return l.jsx("span",{className:"unknown__pt__mark__".concat(t),children:n})},cTn=e=>{let{children:t}=e;return l.jsx("p",{children:t})},uTn=e=>{let{children:t}=e;return l.jsx("ul",{children:t})},dTn=e=>{let{children:t}=e;return l.jsx("li",{children:t})},fTn=()=>l.jsx("br",{}),hTn={normal:e=>{let{children:t}=e;return l.jsx("p",{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx("blockquote",{children:t})},h1:e=>{let{children:t}=e;return l.jsx("h1",{children:t})},h2:e=>{let{children:t}=e;return l.jsx("h2",{children:t})},h3:e=>{let{children:t}=e;return l.jsx("h3",{children:t})},h4:e=>{let{children:t}=e;return l.jsx("h4",{children:t})},h5:e=>{let{children:t}=e;return l.jsx("h5",{children:t})},h6:e=>{let{children:t}=e;return l.jsx("h6",{children:t})}},Qge={types:{},block:hTn,marks:Jjn,list:eTn,listItem:tTn,hardBreak:fTn,unknownType:aTn,unknownMark:lTn,unknownList:uTn,unknownListItem:dTn,unknownBlockStyle:cTn};function pTn(e){let{value:t,components:n,listNestingMode:r,onMissingComponent:o=sTn}=e;const i=o||gTn,s=Array.isArray(t)?t:[t],a=Njn(s,r||Vjn),c=h.useMemo(()=>n?Zjn(Qge,n):Qge,[n]),u=h.useMemo(()=>mTn(c,i),[c,i]),d=a.map((f,p)=>u({node:f,index:p,isInline:!1,renderNode:u}));return l.jsx(l.Fragment,{children:d})}const mTn=(e,t)=>{function n(f){const{node:p,index:m,isInline:v}=f,g=p._key||"node-".concat(m);return b4e(p)?i(p,m,g):y4e(p)?o(p,m,g):x4e(p)?s(p,m,g):r(p)?d(p,m,g,v):v4e(p)?a(p,m,g,v):w4e(p)?c(p,g):u(p,m,g,v)}function r(f){return f._type in e.types}function o(f,p,m){const v=Jge({node:f,index:p,isInline:!1,renderNode:n}),g=e.listItem,x=(typeof g=="function"?g:g[f.listItem])||e.unknownListItem;if(x===e.unknownListItem){const w=f.listItem||"bullet";t(iTn(w),{type:w,nodeType:"listItemStyle"})}let y=v.children;if(f.style&&f.style!=="normal"){const w=pL(f,Ujn);y=n({node:w,index:p,isInline:!1,renderNode:n})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:y},m)}function i(f,p,m){const v=f.children.map((y,w)=>n({node:y._key?y:ic(ic({},y),{},{_key:"li-".concat(p,"-").concat(w)}),index:w,isInline:!1,renderNode:n})),g=e.list,x=(typeof g=="function"?g:g[f.listItem])||e.unknownList;if(x===e.unknownList){const y=f.listItem||"bullet";t(oTn(y),{nodeType:"listStyle",type:y})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:v},m)}function s(f,p,m){const{markDef:v,markType:g,markKey:b}=f,x=e.marks[g]||e.unknownMark,y=f.children.map((w,_)=>n({node:w,index:_,isInline:!0,renderNode:n}));return x===e.unknownMark&&t(nTn(g),{nodeType:"mark",type:g}),l.jsx(x,{text:_4e(f),value:v,markType:g,markKey:b,renderNode:n,children:y},m)}function a(f,p,m,v){const g=Jge({node:f,index:p,isInline:v,renderNode:n}),b=pL(g,Wjn),x=b.node.style||"normal",w=(typeof e.block=="function"?e.block:e.block[x])||e.unknownBlockStyle;return w===e.unknownBlockStyle&&t(rTn(x),{nodeType:"blockStyle",type:x}),l.jsx(w,ic(ic({},b),{},{value:b.node,renderNode:n}),m)}function c(f,p){if(f.text===`
`){const m=e.hardBreak;return m?l.jsx(m,{},p):`
`}return f.text}function u(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n};t(C4e(f._type),{nodeType:"block",type:f._type});const b=e.unknownType;return l.jsx(b,ic({},g),m)}function d(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n},b=e.types[f._type];return b?l.jsx(b,ic({},g),m):null}return n};function Jge(e){const{node:t,index:n,isInline:r,renderNode:o}=e,s=Bjn(t).map((a,c)=>o({node:a,isInline:!0,index:c,renderNode:o}));return{_key:t._key||"block-".concat(n),children:s,index:n,isInline:r,node:t}}function gTn(){}var vTn=Rje,yTn=rB,bTn=yTn(function(e,t,n){return t=t.toLowerCase(),e+(n?vTn(t):t)}),xTn=bTn;const eve=Pe(xTn);var wTn=rB,_Tn=wTn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),CTn=_Tn;const STn=Pe(CTn);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var tve=Object.getOwnPropertySymbols,ETn=Object.prototype.hasOwnProperty,kTn=Object.prototype.propertyIsEnumerable;function jTn(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function TTn(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var ATn=TTn()?Object.assign:function(e,t){for(var n,r=jTn(e),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var s in n)ETn.call(n,s)&&(r[s]=n[s]);if(tve){o=tve(n);for(var a=0;a<o.length;a++)kTn.call(n,o[a])&&(r[o[a]]=n[o[a]])}}return r},d2=ATn,OTn={};function tl(e,t,n,r,o,i,s,a){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var nve="mixins";function PTn(e,t,n){var r=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},i={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},s={displayName:function(_,C){_.displayName=C},mixins:function(_,C){if(C)for(var S=0;S<C.length;S++)c(_,C[S])},childContextTypes:function(_,C){_.childContextTypes=d2({},_.childContextTypes,C)},contextTypes:function(_,C){_.contextTypes=d2({},_.contextTypes,C)},getDefaultProps:function(_,C){_.getDefaultProps?_.getDefaultProps=f(_.getDefaultProps,C):_.getDefaultProps=C},propTypes:function(_,C){_.propTypes=d2({},_.propTypes,C)},statics:function(_,C){u(_,C)},autobind:function(){}};function a(_,C){var S=o.hasOwnProperty(C)?o[C]:null;x.hasOwnProperty(C)&&tl(S==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",C),_&&tl(S==="DEFINE_MANY"||S==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",C)}function c(_,C){if(C){tl(typeof C!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),tl(!t(C),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var S=_.prototype,E=S.__reactAutoBindPairs;C.hasOwnProperty(nve)&&s.mixins(_,C.mixins);for(var j in C)if(C.hasOwnProperty(j)&&j!==nve){var k=C[j],T=S.hasOwnProperty(j);if(a(T,j),s.hasOwnProperty(j))s[j](_,k);else{var A=o.hasOwnProperty(j),O=typeof k=="function",P=O&&!A&&!T&&C.autobind!==!1;if(P)E.push(j,k),S[j]=k;else if(T){var D=o[j];tl(A&&(D==="DEFINE_MANY_MERGED"||D==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",D,j),D==="DEFINE_MANY_MERGED"?S[j]=f(S[j],k):D==="DEFINE_MANY"&&(S[j]=p(S[j],k))}else S[j]=k}}}}function u(_,C){if(C)for(var S in C){var E=C[S];if(C.hasOwnProperty(S)){var j=S in s;tl(!j,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',S);var k=S in _;if(k){var T=i.hasOwnProperty(S)?i[S]:null;tl(T==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",S),_[S]=f(_[S],E);return}_[S]=E}}}function d(_,C){tl(_&&C&&typeof _=="object"&&typeof C=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var S in C)C.hasOwnProperty(S)&&(tl(_[S]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",S),_[S]=C[S]);return _}function f(_,C){return function(){var E=_.apply(this,arguments),j=C.apply(this,arguments);if(E==null)return j;if(j==null)return E;var k={};return d(k,E),d(k,j),k}}function p(_,C){return function(){_.apply(this,arguments),C.apply(this,arguments)}}function m(_,C){var S=C.bind(_);return S}function v(_){for(var C=_.__reactAutoBindPairs,S=0;S<C.length;S+=2){var E=C[S],j=C[S+1];_[E]=m(_,j)}}var g={componentDidMount:function(){this.__isMounted=!0}},b={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(_,C){this.updater.enqueueReplaceState(this,_,C)},isMounted:function(){return!!this.__isMounted}},y=function(){};d2(y.prototype,e.prototype,x);function w(_){var C=function(E,j,k){this.__reactAutoBindPairs.length&&v(this),this.props=E,this.context=j,this.refs=OTn,this.updater=k||n,this.state=null;var T=this.getInitialState?this.getInitialState():null;tl(typeof T=="object"&&!Array.isArray(T),"%s.getInitialState(): must return an object or null",C.displayName||"ReactCompositeComponent"),this.state=T};C.prototype=new y,C.prototype.constructor=C,C.prototype.__reactAutoBindPairs=[],r.forEach(c.bind(null,C)),c(C,g),c(C,_),c(C,b),C.getDefaultProps&&(C.defaultProps=C.getDefaultProps()),tl(C.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var S in o)C.prototype[S]||(C.prototype[S]=null);return C}return w}var DTn=PTn,zj=h,ITn=DTn;if(typeof zj>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var RTn=new zj.Component().updater,dP=ITn(zj.Component,zj.isValidElement,RTn),$Tn=Date.now||MTn;function MTn(){return new Date().getTime()}var rve=$Tn,FTn=function(t,n,r){var o,i,s,a,c;n==null&&(n=100);function u(){var d=rve()-a;d<n&&d>0?o=setTimeout(u,n-d):(o=null,r||(c=t.apply(s,i),o||(s=i=null)))}return function(){s=this,i=arguments,a=rve();var f=r&&!o;return o||(o=setTimeout(u,n)),f&&(c=t.apply(s,i),s=i=null),c}},LTn=BTn;function BTn(e){for(var t=NTn(e),n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<t.length;s+=16){var a=n,c=r,u=o,d=i;n=di(n,r,o,i,t[s+0],7,-680876936),i=di(i,n,r,o,t[s+1],12,-389564586),o=di(o,i,n,r,t[s+2],17,606105819),r=di(r,o,i,n,t[s+3],22,-1044525330),n=di(n,r,o,i,t[s+4],7,-176418897),i=di(i,n,r,o,t[s+5],12,1200080426),o=di(o,i,n,r,t[s+6],17,-1473231341),r=di(r,o,i,n,t[s+7],22,-45705983),n=di(n,r,o,i,t[s+8],7,1770035416),i=di(i,n,r,o,t[s+9],12,-1958414417),o=di(o,i,n,r,t[s+10],17,-42063),r=di(r,o,i,n,t[s+11],22,-1990404162),n=di(n,r,o,i,t[s+12],7,1804603682),i=di(i,n,r,o,t[s+13],12,-40341101),o=di(o,i,n,r,t[s+14],17,-1502002290),r=di(r,o,i,n,t[s+15],22,1236535329),n=fi(n,r,o,i,t[s+1],5,-165796510),i=fi(i,n,r,o,t[s+6],9,-1069501632),o=fi(o,i,n,r,t[s+11],14,643717713),r=fi(r,o,i,n,t[s+0],20,-373897302),n=fi(n,r,o,i,t[s+5],5,-701558691),i=fi(i,n,r,o,t[s+10],9,38016083),o=fi(o,i,n,r,t[s+15],14,-660478335),r=fi(r,o,i,n,t[s+4],20,-405537848),n=fi(n,r,o,i,t[s+9],5,568446438),i=fi(i,n,r,o,t[s+14],9,-1019803690),o=fi(o,i,n,r,t[s+3],14,-187363961),r=fi(r,o,i,n,t[s+8],20,1163531501),n=fi(n,r,o,i,t[s+13],5,-1444681467),i=fi(i,n,r,o,t[s+2],9,-51403784),o=fi(o,i,n,r,t[s+7],14,1735328473),r=fi(r,o,i,n,t[s+12],20,-1926607734),n=hi(n,r,o,i,t[s+5],4,-378558),i=hi(i,n,r,o,t[s+8],11,-2022574463),o=hi(o,i,n,r,t[s+11],16,1839030562),r=hi(r,o,i,n,t[s+14],23,-35309556),n=hi(n,r,o,i,t[s+1],4,-1530992060),i=hi(i,n,r,o,t[s+4],11,1272893353),o=hi(o,i,n,r,t[s+7],16,-155497632),r=hi(r,o,i,n,t[s+10],23,-1094730640),n=hi(n,r,o,i,t[s+13],4,681279174),i=hi(i,n,r,o,t[s+0],11,-358537222),o=hi(o,i,n,r,t[s+3],16,-722521979),r=hi(r,o,i,n,t[s+6],23,76029189),n=hi(n,r,o,i,t[s+9],4,-640364487),i=hi(i,n,r,o,t[s+12],11,-421815835),o=hi(o,i,n,r,t[s+15],16,530742520),r=hi(r,o,i,n,t[s+2],23,-995338651),n=pi(n,r,o,i,t[s+0],6,-198630844),i=pi(i,n,r,o,t[s+7],10,1126891415),o=pi(o,i,n,r,t[s+14],15,-1416354905),r=pi(r,o,i,n,t[s+5],21,-57434055),n=pi(n,r,o,i,t[s+12],6,1700485571),i=pi(i,n,r,o,t[s+3],10,-1894986606),o=pi(o,i,n,r,t[s+10],15,-1051523),r=pi(r,o,i,n,t[s+1],21,-2054922799),n=pi(n,r,o,i,t[s+8],6,1873313359),i=pi(i,n,r,o,t[s+15],10,-30611744),o=pi(o,i,n,r,t[s+6],15,-1560198380),r=pi(r,o,i,n,t[s+13],21,1309151649),n=pi(n,r,o,i,t[s+4],6,-145523070),i=pi(i,n,r,o,t[s+11],10,-1120210379),o=pi(o,i,n,r,t[s+2],15,718787259),r=pi(r,o,i,n,t[s+9],21,-343485551),n=Jd(n,a),r=Jd(r,c),o=Jd(o,u),i=Jd(i,d)}return f2(n)+f2(r)+f2(o)+f2(i)}var ove="0123456789abcdef";function EH(e,t){var n=e&1|t&1,r=e>>>1|t>>>1;return r<<1|n}function mL(e,t){var n=e&1^t&1,r=e>>>1^t>>>1;return r<<1|n}function Vj(e,t){var n=e&1&(t&1),r=e>>>1&t>>>1;return r<<1|n}function Jd(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function f2(e){var t="",n;for(n=0;n<=3;n++)t+=ove.charAt(e>>n*8+4&15)+ove.charAt(e>>n*8&15);return t}function NTn(e){var t=(e.length+8>>6)+1,n=new Array(t*16),r;for(r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<(e.length*8+r)%4*8;n[r>>2]|=128<<(e.length*8+r)%4*8;var o=e.length*8;return n[t*16-2]=o&255,n[t*16-2]|=(o>>>8&255)<<8,n[t*16-2]|=(o>>>16&255)<<16,n[t*16-2]|=(o>>>24&255)<<24,n}function zTn(e,t){return e<<t|e>>>32-t}function fP(e,t,n,r,o,i){return Jd(zTn(Jd(Jd(t,e),Jd(r,i)),o),n)}function di(e,t,n,r,o,i,s){return fP(EH(Vj(t,n),Vj(~t,r)),e,t,o,i,s)}function fi(e,t,n,r,o,i,s){return fP(EH(Vj(t,r),Vj(n,~r)),e,t,o,i,s)}function hi(e,t,n,r,o,i,s){return fP(mL(mL(t,n),r),e,t,o,i,s)}function pi(e,t,n,r,o,i,s){return fP(mL(n,EH(t,~r)),e,t,o,i,s)}var VTn=Math.ceil(Math.random()*10),HTn=function(){return++VTn},kH=function(e){return Object.prototype.toString.call(e).slice(8,-1)},UTn=kH;function WTn(e){var t=UTn(e);return t!=="Object"&&t!=="Array"}var S4e=WTn,YTn=h,qTn=dP,h2=YTn.createElement,GTn=qTn({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return h2("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return h2("span",null,e.string.split(e.highlight).map(function(o,i){return h2("span",{key:i},i>0?h2("span",{className:"json-inspector__hl"},r):null,o)}))}}),KTn=h,ZTn=dP,XTn=LTn,QTn=HTn,E4e=kH,SE=S4e,JTn=GTn,ma=KTn.createElement,eAn=".root.",k4e=ZTn({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+QTn(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return ma("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},ma("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),ma("label",{className:"json-inspector__line",htmlFor:e,onClick:r},ma("div",{className:"json-inspector__flatpath"},n.path),ma("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=E4e(e);switch(t){case"Array":var n=e.length;return ma("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+tAn(n));case"Object":var r=Object.keys(e).length;return ma("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{…} ":"{} ")+nAn(r));default:return ma("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!SE(n)?Object.keys(n).map(function(r){var o=n[r],i=!this.state.original||(e.verboseShowOriginal?e.query:!1);return ma(k4e,{data:o,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:i?e.getOriginal:null,key:rAn(r,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return SE(e.data)||this.state.original||!e.getOriginal||!e.query||fR(this.keypath(),e.query)?null:ma("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?ma(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!fR(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(eAn.length)},data:function(){return this.state.original||this.props.data},format:function(e){return ma(JTn,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),SE(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!fR(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function tAn(e){return e+(e===1?" item":" items")}function nAn(e){return e+(e===1?" property":" properties")}function rAn(e,t){if(SE(t)){var n=XTn(String(t));return e+":"+n}else return e+"["+E4e(t)+"]"}function fR(e,t){return e.indexOf(t)!==-1}var oAn=k4e,j4e=function(){},iAn=h,sAn=dP,aAn=iAn.createElement,lAn=j4e,cAn=sAn({getDefaultProps:function(){return{onChange:lAn}},render:function(){return aAn("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),T4e=function(e){return Object.keys(e).length===0},uAn=Object.keys,dAn=S4e,fAn=T4e,hAn=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return EE(e,r,t);var o;if(!n[r]){for(var i=r.length-1;i>0;i-=1)if(o=r.substr(0,i),n[o]){n[r]=EE(n[o],r,t);break}}return n[r]||(n[r]=EE(e,r,t)),n[r]}};function EE(e,t,n){return uAn(e).reduce(function(r,o){var i=e[o],s;return dAn(i)?(hR(t,o,n)||hR(t,i,n))&&(r[o]=i):hR(t,o,n)?r[o]=i:(s=EE(i,t,n),fAn(s)||Object.assign(r,pAn(o,s))),r},{})}function hR(e,t,n){if(t){var r=String(t),o=e;return n.ignoreCase&&(r=r.toLowerCase(),o=o.toLowerCase()),r.indexOf(o)!==-1}}function pAn(e,t){var n={};return n[e]=t,n}var mAn=kH,pR=".";function gL(e,t){var n=t.split(pR),r=n.shift();if(!r)return e;var o=mAn(e);if(o==="Array"&&e[ive(r)])return gL(e[ive(r)],n.join(pR));if(o==="Object"&&e[r])return gL(e[r],n.join(pR))}function ive(e){return parseInt(e,10)}var gAn=gL,vAn=h,yAn=dP,bAn=FTn,ay=vAn.createElement,xAn=oAn,wAn=cAn,_An=hAn,CAn=T4e,SAn=gAn,EAn=j4e,kAn=yAn({getDefaultProps:function(){return{data:null,search:wAn,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:EAn,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,o=n&&CAn(r);return ay("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?ay("div",{className:"json-inspector__not-found"},"Nothing found"):ay(xAn,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return ay("div",{className:"json-inspector__toolbar"},ay(e,{onChange:bAn(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:_An(e,t)})},getOriginal:function(e){return SAn(this.props.data,e)}});const jAn=Pe(kAn);var TAn=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function o(i,s){n[i]=s,t++,t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(i){return n[i]!==void 0||r[i]!==void 0},remove:function(i){n[i]!==void 0&&(n[i]=void 0),r[i]!==void 0&&(r[i]=void 0)},get:function(i){var s=n[i];if(s!==void 0)return s;if((s=r[i])!==void 0)return o(i,s),s},set:function(i,s){n[i]!==void 0?n[i]=s:o(i,s)},clear:function(){n=Object.create(null),r=Object.create(null)}}};const AAn=Pe(TAn);function jH(e){let{children:t,ms:n=0}=e;const[r,o]=h.useState(n<=0);return h.useEffect(()=>{if(n<=0)return;const i=setTimeout(()=>o(!0),n);return()=>{clearTimeout(i)}},[n]),!r||!t?l.jsx(l.Fragment,{}):typeof t=="function"?t():t}function A4e(e){const{document:t}=e,r=xn().get(t._type),{error:o,value:i}=Yz({schemaType:r,value:t});return r?o?l.jsxs(l.Fragment,{children:["Error: ",o.message]}):l.jsx(l.Fragment,{children:(i==null?void 0:i.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs("code",{children:["Unknown schema type: ",t._type]})}const TH=e=>{const{actions:t,children:n,actionProps:r,onActionComplete:o}=e;return l.jsx(dIe,{onReset:o,hooks:t,args:r,children:n})},OAn=e=>{const{badges:t,children:n,badgeProps:r,...o}=e;return l.jsx(dIe,{...o,hooks:t,args:r,children:n})};function PAn(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const DAn=5e3;let mR;const O4e=()=>(mR||(mR=Ti(document,"visibilitychange").pipe(ei(null),le(()=>document.visibilityState==="visible"),Wn(),nt(e=>e?Mo(0,DAn):Un),_o({refCount:!0,bufferSize:1}))),mR);function IAn(e,t){let{versionedClient:n}=t;const r=ri(e),o=Tn(e),i={uri:n.getDataUrl("doc","".concat(r,",").concat(o)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return n.observable.request(i).pipe(le(s=>{let{omitted:a}=s;const c=a.filter(u=>u.reason==="existence");if(c.length!==2)return c.length===0||c.some(u=>u.id===r)?o:r}))}function RAn(e,t){const{versionedClient:n}=t;return O4e().pipe(nt(()=>IAn(e,t)),nt(r=>{if(!r)return ve({totalCount:0,references:[]});const o=n.config().dataset;return n.observable.request({url:"/data/references/".concat(o,"/documents/").concat(r,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(jn(i=>{if(PAn(i)&&i.statusCode===404)return ve({totalCount:0,references:[]});throw i}))}))}const $An=rh(e=>{let[t,n]=e;const r="*[references($documentId)][0...100]{_id,_type}",o="count(*[references($documentId)])",i='{"references":'.concat(r,',"totalCount":').concat(o,"}"),s="*[references($documentId)]";return n.listenQuery({fetch:i,listen:s},{documentId:t},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),MAn=rh(e=>{let[t,n]=e;return O4e().pipe(nt(()=>RAn(t,{versionedClient:n})))});function FAn(e){const t=ar(tn),n=Xa(),r=Tn(e),[o,i]=$An(h.useMemo(()=>[r,n],[n,r])),[s,a]=MAn(h.useMemo(()=>[r,t],[r,t])),c=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>f.projectId).filter(Boolean))).sort(),[s==null?void 0:s.references]),u=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[s==null?void 0:s.references]),d=h.useMemo(()=>!!(s!=null&&s.references.some(f=>typeof f.datasetName!="string")),[s==null?void 0:s.references]);return{totalCount:((o==null?void 0:o.totalCount)||0)+((s==null?void 0:s.totalCount)||0),projectIds:c,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:o,crossDatasetReferences:s,isLoading:i||a}}function LAn(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=t?"Published":"Not published",o=qo(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(st,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(B,{size:1,children:t?"Published ".concat(o):"Not published"})}),children:l.jsx(tr,{tone:"positive",dimmed:!t,muted:!t,size:1,children:l.jsx(f0,{"aria-label":r})})})}function BAn(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=qo(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(st,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(B,{size:1,children:t?"Edited ".concat(r):"No unpublished edits"})}),children:l.jsx(tr,{tone:"caution",dimmed:!t,muted:!t,size:1,children:l.jsx(Eu,{})})})}function P4e(e){const{icon:t,layout:n,presence:r,schemaType:o,value:i}=e,s=bt(i.title)&&h.isValidElement(i.title)||jA(i.title)||Ijn(i.title)?i.title:null,{draft:a,published:c,isLoading:u}=co(()=>kO(e.documentPreviewStore,o,i._id,s),[e.documentPreviewStore,o,i._id,s]),d=u?null:l.jsxs(Yt,{space:4,children:[r&&r.length>0&&l.jsx(yV,{presence:r}),l.jsx(LAn,{document:c}),l.jsx(BAn,{document:a})]});return l.jsx(sh,{...Gz({value:i,draft:a,published:c}),isPlaceholder:u,icon:t,layout:n,status:d})}function ls(){throw new Error("Pane is missing router context")}const hP=h.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>ls(),ChildLink:()=>ls(),ReferenceChildLink:()=>ls(),handleEditReference:()=>ls(),ParameterizedLink:()=>ls(),replaceCurrent:()=>ls(),closeCurrentAndAfter:()=>ls(),closeCurrent:()=>ls(),duplicateCurrent:()=>ls(),setView:()=>ls(),setParams:()=>ls(),setPayload:()=>ls(),navigateIntent:()=>ls(),createPathWithParams:()=>ls()}),NAn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o}=h.useContext(hP),i=h.useMemo(()=>r.slice(0,o),[o,r]),s=h.useMemo(()=>({panes:i}),[i]);return l.jsx(CA,{...t,ref:n,state:s})}),D4e=h.createContext(null);function i1(){const e=h.useContext(D4e);if(!e)throw new Error("PaneLayout: missing context value");return e}const zAn=h.forwardRef(function(t,n){const{childId:r,childPayload:o,childParameters:i,...s}=t,{routerPanesState:a,groupIndex:c}=h.useContext(hP);return l.jsx(CA,{...s,ref:n,state:{panes:[...a.slice(0,c+1),[{id:r,params:i,payload:o}]]}})}),r9n=h.forwardRef(function(t,n){let{documentId:r,documentType:o,parentRefPath:i,children:s,template:a,...c}=t;return l.jsx(zAn,{...c,ref:n,childId:r,childPayload:a==null?void 0:a.params,childParameters:{type:o,parentRefPath:Cr(i),...a&&{template:a==null?void 0:a.id}},children:s})}),o9n=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o,siblingIndex:i}=h.useContext(hP),{params:s,payload:a,...c}=t,u=Do(s),d=Do(a),f=h.useMemo(()=>{const p=r[o],m=p[i],v={...m,params:u??m.params,payload:d??m.payload},g=[...p.slice(0,i),v,...p.slice(i+1)];return{panes:[...r.slice(0,o),g,...r.slice(o+1)]}},[r,o,u,d,i]);return l.jsx(CA,{ref:n,...c,state:f})});function Vc(){return h.useContext(hP)}const sve=[];function VAn(e){const{onClick:t,type:n,value:r}=e,o=Tn(r==null?void 0:r._id),i=g_(o),s=$i(),{ReferenceChildLink:a}=Vc(),c=h.useCallback(function(d){return l.jsx(a,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:sve,...d})},[a,n==null?void 0:n.name,r==null?void 0:r._id]);return l.jsx(Ep,{__unstable_focusRing:!0,as:c,"data-as":"a",onClick:t,padding:2,radius:2,children:l.jsx(P4e,{documentPreviewStore:s,icon:n==null?void 0:n.icon,layout:"default",presence:(i==null?void 0:i.length)>0?i:sve,schemaType:n,value:r})})}var ave=Object.freeze,HAn=Object.defineProperty,y_=(e,t)=>ave(HAn(e,"raw",{value:ave(t||e.slice())})),lve,cve,uve,dve,fve;const I4e=I(M)(lve||(lve=y_([`
  margin-left: auto;
`]))),UAn=I.details(cve||(cve=y_([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),I4e),WAn=I.summary(uve||(uve=y_([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),YAn=I.table(dve||(dve=y_([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),e=>{let{theme:t}=e;return pe(t.sanity.space[2])},e=>{let{theme:t}=e;return pe(t.sanity.space[1])},e=>{let{theme:t}=e;return pe(t.sanity.space[1])}),qAn=I(U)(fve||(fve=y_([`
  min-height: 35px;
`]))),hve=e=>{const t=e.totalCount-e.references.length;return t?l.jsxs(Yt,{space:2,children:[l.jsxs(B,{size:1,muted:!0,children:[t," other reference",t===1?"":"s"," not shown"," "]}),l.jsx(st,{portal:!0,placement:"top",content:l.jsx(oo,{width:0,children:l.jsx(M,{padding:2,children:l.jsx(B,{size:1,children:"We can't show metadata about these references because no token with access to the datasets they are in was found."})})}),children:l.jsx(B,{size:1,muted:!0,children:l.jsx(lm,{})})})]}):null};function GAn(e){let{crossDatasetReferences:t,internalReferences:n,documentTitle:r,totalCount:o,action:i,datasetNames:s,hasUnknownDatasetNames:a,onReferenceLinkClick:c}=e;const u=xn(),d=Bo(),f=h.useCallback(b=>{const x=u.get(b._type);return x?l.jsx(VAn,{type:x,value:b,onClick:c}):l.jsx(M,{padding:2,children:l.jsx(sh,{icon:vl,title:"Preview Unavailable",subtitle:"ID: ".concat(b._id),layout:"default"})})},[u,c]);if((n==null?void 0:n.totalCount)===0&&(t==null?void 0:t.totalCount)===0)return l.jsxs(B,{as:"p",children:["Are you sure you want to ",i," ",l.jsxs("strong",{children:["“",r,"”"]}),"?"]});const p=t.totalCount===1?"1 document":"".concat(t.totalCount.toLocaleString()," documents"),m=[...s,...a?["unavailable"]:[]],v=m.length===1?"another dataset":"".concat(m.length," datasets");let g="Dataset".concat(m.length===1?"":"s",": ").concat(m.join(", "));return a&&m.length===1&&(g="Unavailable dataset"),l.jsxs(J,{children:[l.jsx(J,{padding:3,radius:2,tone:"caution",marginBottom:4,flex:"none",children:l.jsxs(U,{children:[l.jsx(B,{"aria-hidden":"true",size:1,children:l.jsx(Pr,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(B,{size:1,children:o===1?l.jsxs(l.Fragment,{children:["1 document refers to “",r,"”"]}):l.jsxs(l.Fragment,{children:[o.toLocaleString()," documents refer to “",r,"”"]})})})]})}),l.jsx(M,{flex:"none",marginBottom:4,children:l.jsxs(B,{children:["You may not be able to ",i," “",r,"” because the following documents refer to it:"]})}),l.jsx(J,{radius:2,shadow:1,marginBottom:4,flex:"auto",children:l.jsxs(U,{direction:"column",children:[n.totalCount>0&&l.jsxs(te,{as:"ul",padding:2,space:3,"data-testid":"internal-references",children:[n==null?void 0:n.references.map(b=>l.jsx(M,{as:"li",children:f(b)},b._id)),n.totalCount>n.references.length&&l.jsx(M,{as:"li",padding:3,children:l.jsx(hve,{...n})})]}),t.totalCount>0&&l.jsxs(UAn,{"data-testid":"cross-dataset-references",style:{borderTop:n.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[l.jsx(WAn,{children:l.jsx(J,{as:"a",margin:2,radius:2,shadow:1,paddingY:1,children:l.jsxs(U,{align:"center",margin:2,children:[l.jsx(M,{marginLeft:3,marginRight:4,children:l.jsx(B,{size:3,children:l.jsx(n8,{})})}),l.jsxs(U,{marginRight:4,direction:"column",children:[l.jsx(M,{marginBottom:2,children:l.jsxs(B,{children:[p," in ",v]})}),l.jsx(M,{children:l.jsx(B,{title:g,textOverflow:"ellipsis",size:1,muted:!0,children:g})})]}),l.jsx(I4e,{children:l.jsx(B,{muted:!0,children:l.jsx(Ya,{})})})]})})}),l.jsxs(M,{overflow:"auto",paddingBottom:2,paddingX:2,children:[l.jsxs(YAn,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:l.jsx(Nt,{muted:!0,size:0,style:{minWidth:"5rem"},children:"Project ID"})}),l.jsx("th",{children:l.jsx(Nt,{muted:!0,size:0,children:"Dataset"})}),l.jsx("th",{children:l.jsx(Nt,{muted:!0,size:0,children:"Document ID"})})]})}),l.jsx("tbody",{children:t.references.filter(b=>"projectId"in b).map((b,x)=>{let{projectId:y,datasetName:w,documentId:_}=b;return l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx(B,{size:1,children:y})}),l.jsx("td",{children:l.jsx(B,{size:1,children:w||"unavailable"})}),l.jsx("td",{children:l.jsxs(qAn,{align:"center",gap:2,justify:"flex-end",children:[l.jsx(B,{textOverflow:"ellipsis",size:1,children:_||"unavailable"}),_&&l.jsx(jjn,{text:_,onCopy:()=>{d.push({title:"Copied document ID to clipboard!",status:"success"})},children:l.jsx(ie,{title:"Copy ID to clipboard",mode:"bleed",icon:Su,fontSize:0})})]})})]},"".concat(_,"-").concat(x))})})]}),l.jsx(M,{padding:2,children:l.jsx(hve,{...t})})]})]})]})}),l.jsx(M,{flex:"none",children:l.jsxs(B,{children:["If you ",i," this document, documents that refer to it will no longer be able to access it."]})})]})}var pve=Object.freeze,KAn=Object.defineProperty,R4e=(e,t)=>pve(KAn(e,"raw",{value:pve(t||e.slice())})),mve,gve;const ZAn=I(M).attrs({padding:4})(mve||(mve=R4e([`
  box-sizing: border-box;
`]))),XAn=I(U).attrs({align:"center",direction:"column",justify:"center"})(gve||(gve=R4e([`
  height: 300px;
`])));function QAn(e){let{id:t,type:n,action:r="delete",onCancel:o,onConfirm:i}=e;const s="deletion-confirmation-".concat(h.useId()),{internalReferences:a,crossDatasetReferences:c,isLoading:u,totalCount:d,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m}=FAn(t),v="".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1)),g=l.jsx(A4e,{document:h.useMemo(()=>({_id:t,_type:n}),[t,n])}),b=!u;return l.jsx(Pi,{width:1,id:s,header:"".concat(v," document?"),footer:l.jsxs(en,{columns:b?2:1,gap:2,paddingX:4,paddingY:3,children:[l.jsx(ie,{mode:"ghost",onClick:o,text:"Cancel"}),b&&l.jsx(ie,{"data-testid":"confirm-delete-button",text:d>0?"".concat(v," anyway"):"".concat(v," now"),tone:"critical",onClick:i})]}),onClose:o,onClickOutside:o,children:l.jsx(ZAn,{children:c&&a&&!u?l.jsx(GAn,{crossDatasetReferences:c,internalReferences:a,documentTitle:g,isLoading:u,totalCount:d,action:r,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:o}):l.jsxs(XAn,{"data-testid":"loading-container",children:[l.jsx(ir,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(B,{align:"center",muted:!0,size:1,children:"Looking for referring documents…"})})]})})})}function $4e(e){const t=h.useId(),[n,r]=h.useState(null),o=h.useCallback(()=>r(null),[]);return n?l.jsx(Pi,{id:"dialog-error-".concat(t),"data-testid":"confirm-delete-error-dialog",header:"Error",footer:l.jsx(U,{paddingX:4,paddingY:3,direction:"column",children:l.jsx(ie,{mode:"ghost",text:"Retry",onClick:o})}),onClose:e.onCancel,children:l.jsx(M,{padding:4,children:l.jsx(B,{children:"An error occurred while loading referencing documents."})})}):l.jsx(x0,{onCatch:r,children:l.jsx(QAn,{...e})})}const JAn={constrainSize:!0,placement:"left-start",portal:!0};function Hj(e){const{disabled:t,isAfterGroup:n,node:r}=e;return r.type==="divider"?l.jsx(kr,{}):r.type==="group"?r.children.length===0?null:r.expanded?l.jsxs(l.Fragment,{children:[n&&l.jsx(kr,{}),r.title&&l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Nt,{muted:!0,size:0,children:r.title})}),r.children.map((o,i)=>{var s;return l.jsx(Hj,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(kr,{}),l.jsx(o7,{disabled:t,icon:r.icon,popover:JAn,text:r.title,children:r.children.map((o,i)=>{var s;return l.jsx(Hj,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(kr,{}),l.jsx(eOn,{disabled:t,node:r})]})}function eOn(e){const{node:t}=e;return t.intent?l.jsx(nOn,{...e,intent:t.intent}):l.jsx(tOn,{...e})}function tOn(e){var t;const{disabled:n,node:r}=e,o=typeof r.disabled=="object"&&l.jsx(B,{size:1,children:r.disabled.reason});return l.jsx(e_,{content:o,placement:"left",children:l.jsx(Be,{disabled:n||!!r.disabled,hotkeys:(t=r.hotkey)==null?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&Ma,onClick:r.onAction,pressed:r.selected,text:r.title,tone:r.tone})})}function nOn(e){var t;const{disabled:n,intent:r,node:o}=e,i=typeof o.disabled=="object"&&l.jsx(B,{size:1,children:o.disabled.reason}),s=Aw({intent:r.type,params:r.params}),a=h.useCallback(c=>{s.onClick(c),o.onAction()},[s,o]);return l.jsx(e_,{content:i,placement:"left",children:l.jsx(Be,{as:"a",disabled:n||!!o.disabled,hotkeys:(t=o.hotkey)==null?void 0:t.split("+"),href:s.href,icon:o.icon,iconRight:o.selected?Ma:void 0,onClick:a,pressed:o.selected,text:o.title,tone:o.tone})})}const rOn={constrainSize:!0,placement:"bottom",portal:!0};function vL(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&vL(n.children,t))}function M4e(e){const{nodes:t}=e,n=h.useId(),r=vL(t,"critical"),o=vL(t,"caution");return l.jsx(Kt,{button:l.jsx(ih,{icon:Fo,mode:"bleed",title:"Show menu",tone:r?"critical":o?"caution":void 0}),id:n,menu:l.jsx(Ft,{children:t.map((i,s)=>{var a;const c=((a=t[s-1])==null?void 0:a.type)==="group";return l.jsx(Hj,{isAfterGroup:c,node:i},i.key)})}),popover:rOn})}const oOn=!1,bv=51,xv=bv*4,F4e=h.createContext(null);var vve=Object.freeze,iOn=Object.defineProperty,sOn=(e,t)=>vve(iOn(e,"raw",{value:vve(t||e.slice())})),yve;const aOn=I(Ji)(yve||(yve=sOn([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function lOn(e){let{disabled:t,element:n}=e;const{resize:r}=i1(),[o,i]=h.useState(!1),s=h.useCallback(a=>{if(!n)return;i(!0),a.preventDefault();const c=a.pageX;r("start",n,0);const u=f=>{f.preventDefault();const p=f.pageX-c;r("move",n,p)},d=f=>{f.preventDefault(),i(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),r("end",n,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},[n,r]);return l.jsx(aOn,{"data-disabled":t?"":void 0,"data-dragging":o?"":void 0,onMouseDown:s})}var bve=Object.freeze,cOn=Object.defineProperty,uOn=(e,t)=>bve(cOn(e,"raw",{value:bve(t||e.slice())})),xve;const dOn=I(J)(xve||(xve=uOn([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),pP=h.forwardRef(function(t,n){var r,o,i;const{children:s,currentMinWidth:a,currentMaxWidth:c,flex:u=1,id:d,minWidth:f,maxWidth:p,selected:m=!1,...v}=t,[g,b]=h.useState(null),{collapse:x,collapsed:y,expand:w,expandedElement:_,mount:C,panes:S}=i1(),E=S.find(Y=>Y.element===g),j=E&&S.indexOf(E),k=typeof j=="number"?S[j+1]:void 0,T=j===S.length-1,A=y?!1:(E==null?void 0:E.collapsed)||!1,O=(k==null?void 0:k.collapsed)||!1,P=or(n),D=(r=E==null?void 0:E.flex)!=null?r:u,R=(o=E==null?void 0:E.currentMinWidth)!=null?o:a,$=(i=E==null?void 0:E.currentMaxWidth)!=null?i:c,H=h.useCallback(Y=>{b(Y),P.current=Y},[P]);h.useEffect(()=>{if(g)return C(g,{currentMinWidth:a,currentMaxWidth:c,flex:u,id:d,minWidth:f,maxWidth:p})},[a,c,u,d,f,p,C,g]);const F=h.useCallback(()=>{g&&x(g)},[x,g]),V=h.useCallback(()=>{g&&w(g)},[w,g]),W=h.useMemo(()=>({collapse:F,collapsed:y?!1:A,expand:V,index:j,isLast:T,rootElement:g}),[A,F,V,T,y,j,g]),z=h.useMemo(()=>{if(!y)return A?bv:R===0||T?f||xv:R||f||xv},[A,R,T,y,f]),q=h.useMemo(()=>{if(A)return bv;if(!(y&&T))return T?p?$??p:void 0:$??p},[A,$,T,y,p]),oe=y&&!T,N=h.useMemo(()=>!T&&!y&&l.jsx(Uu,{zOffset:"paneResizer",children:l.jsx(lOn,{disabled:A||O,element:g})}),[A,T,y,O,g]),G=h.useMemo(()=>({flex:D,minWidth:z,maxWidth:q===1/0?void 0:q}),[D,z,q]);return l.jsxs(l.Fragment,{children:[l.jsx(Uu,{zOffset:"pane",children:l.jsx(F4e.Provider,{value:W,children:l.jsxs(dOn,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:oe,id:d,overflow:y?void 0:"hidden",...v,"data-pane-collapsed":A?"":void 0,"data-pane-index":j,"data-pane-selected":m?"":void 0,ref:H,style:G,children:[oOn,l.jsx(Iu,{element:g,children:!oe&&l.jsx(U,{direction:"column",height:"fill",children:s})})]})})}),N]})});function uh(){const e=h.useContext(F4e);if(!e)throw new Error("Pane: missing context value");return e}var wve=Object.freeze,fOn=Object.defineProperty,hOn=(e,t)=>wve(fOn(e,"raw",{value:wve(t||e.slice())})),_ve;const L4e=I(J)(_ve||(_ve=hOn([`
  position: relative;
  outline: none;
`])));L4e.displayName="PaneContent__root";const mP=h.forwardRef(function(t,n){const{as:r,children:o,overflow:i,padding:s,...a}=t,{collapsed:c}=uh(),{collapsed:u}=i1();return l.jsx(L4e,{"data-testid":"pane-content",forwardedAs:r,...a,flex:1,hidden:c,overflow:u?void 0:i,padding:s,ref:n,tone:"inherit",children:o})});var Cve=Object.freeze,pOn=Object.defineProperty,B4e=(e,t)=>Cve(pOn(e,"raw",{value:Cve(t||e.slice())})),Sve,Eve;const mOn=I(Ji)(Sve||(Sve=B4e([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),gOn=I(J)(Eve||(Eve=B4e([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),vOn=h.forwardRef(function(t,n){const{children:r,padding:o}=t,{collapsed:i}=uh();return l.jsx(Uu,{zOffset:"paneFooter",children:l.jsx(mOn,{"data-testid":"pane-footer",hidden:i,ref:n,children:l.jsx(gOn,{tone:"inherit",children:l.jsx(M,{padding:o,children:r})})})})});var kve=Object.freeze,yOn=Object.defineProperty,s1=(e,t)=>kve(yOn(e,"raw",{value:kve(t||e.slice())})),jve,Tve,Ave,Ove,Pve,Dve;const bOn=I(Ji)(jve||(jve=s1([`
  line-height: 0;
  position: sticky;
  top: 0;

  &:not([data-collapsed]):after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),xOn=I(U)(Tve||(Tve=s1([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),wOn=I(J)(e=>{let{theme:t}=e;const{fg:n,bg:r}=t.sanity.color.card.enabled;return de(Ave||(Ave=s1([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),r,n)}),_On=I(ji)(Ove||(Ove=s1([`
  width: 66%;
  max-width: 175px;
`]))),COn=I(B)(Pve||(Pve=s1([`
  cursor: default;
  outline: none;
`]))),SOn=I(M)(e=>{let{theme:t}=e;const{color:n,space:r}=t.sanity;return de(Dve||(Dve=s1([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),r[3],jt(n.base.bg,0),r[3])}),AH=h.forwardRef(function(t,n){const{actions:r,backButton:o,contentAfter:i,loading:s,subActions:a,tabs:c,tabIndex:u,title:d}=t,{collapse:f,collapsed:p,expand:m,rootElement:v}=uh(),g=ed(v||null),b=h.useMemo(()=>({width:p?(g==null?void 0:g.height)||window.innerHeight:void 0}),[p,g]),x=h.useCallback(()=>{p||f()},[f,p]),y=h.useCallback(()=>{p&&m()},[p,m]),w=!!(!p&&(c||a));return l.jsx(Ru,{zOffset:100,children:l.jsx(bOn,{"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:n,children:l.jsx(Uu,{zOffset:"paneHeader",children:l.jsxs(J,{"data-collapsed":p?"":void 0,tone:"inherit",children:[l.jsxs(xOn,{onClick:y,padding:2,sizing:"border",style:b,children:[o&&l.jsx(M,{flex:"none",padding:1,children:o}),l.jsxs(wOn,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",marginRight:r?1:0,onClick:x,paddingLeft:o?1:3,paddingY:3,tabIndex:u,children:[s&&l.jsx(_On,{animated:!0,radius:1}),!s&&l.jsx(COn,{textOverflow:"ellipsis",weight:"semibold",children:d})]}),r&&l.jsx(U,{align:"center",hidden:p,children:l.jsx(Uu,{zOffset:"paneHeader",children:r})})]}),w&&l.jsxs(U,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,paddingTop:1,children:[l.jsx(SOn,{flex:1,marginRight:a?3:0,children:c}),a&&a]}),!p&&i&&i]})})})})});function N4e(e){const{node:t,padding:n}=e;return t.type==="item"?l.jsx(EOn,{node:t,padding:n}):t.type==="group"?l.jsx(jOn,{node:t,padding:n}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function EOn(e){var t;const{node:n,padding:r}=e;if(n.intent)return l.jsx(kOn,{...e,intent:n.intent});const o=typeof n.disabled=="object"&&l.jsx(B,{size:1,children:n.disabled.reason});return l.jsx(e_,{content:o,placement:"bottom",children:l.jsx(ih,{disabled:!!n.disabled,hotkey:(t=n.hotkey)==null?void 0:t.split("+"),icon:n.icon,label:o?void 0:n.title,onClick:n.onAction,padding:r,selected:n.selected,tone:n.tone})})}function kOn(e){var t;const{intent:n,node:r,padding:o}=e,i=typeof r.disabled=="object"&&l.jsx(B,{size:1,children:r.disabled.reason}),s=Aw({intent:n.type,params:n.params}),a=h.useCallback(c=>{s.onClick(c),r.onAction()},[s,r]);return l.jsx(e_,{content:i,placement:"bottom",children:l.jsx(ih,{as:"a",disabled:!!r.disabled,hotkey:(t=r.hotkey)==null?void 0:t.split("+"),href:s.href,icon:r.icon,label:i?void 0:r.title,onClick:a,padding:o,selected:r.selected,tone:r.tone})})}function jOn(e){var t;const{node:n,padding:r}=e;return l.jsx(Kt,{button:l.jsx(ih,{disabled:n.disabled,icon:(t=n.icon)!=null?t:vl,label:n.title,padding:r}),id:h.useId(),menu:l.jsx(Ft,{children:n.children.map((o,i)=>{var s;return l.jsx(Hj,{disabled:!!n.disabled,isAfterGroup:((s=n.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})})}var Ive=Object.freeze,TOn=Object.defineProperty,AOn=(e,t)=>Ive(TOn(e,"raw",{value:Ive(t||e.slice())})),Rve;const OOn=I(J)(Rve||(Rve=AOn([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function POn(e,t,n,r){var o,i;const s={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},a=(o=t.minWidth)!=null?o:xv,c=(i=n.minWidth)!=null?i:xv,u=Math.min(t.maxWidth||1/0,s.width-c),d=Math.min(n.maxWidth||1/0,s.width-a);let f=a-e.left.width;const p=e.right.width-d;f<p&&(f=p);let m=e.right.width-c;const v=u-e.left.width;m>v&&(m=v);const g=Math.min(Math.max(r,f),m),b=e.left.width+g,x=e.right.width-g,y=b/s.width*s.flex,w=x/s.width*s.flex;return{leftFlex:y,leftW:b,rightFlex:w,rightW:x}}function DOn(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const $ve=[];function IOn(e,t){const n=new WeakMap;for(const o of t)n.set(o,DOn(e,o));const r=(o,i)=>{const s=n.get(o)||$ve,a=n.get(i)||$ve,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function ROn(){const e=[],t=[],n=new WeakMap,r=new Set,o={};let i=null,s=0,a=null,c=new Map,u=!1;function d(y){r.add(y),a===y&&(a=null),x()}function f(y){r.delete(y),a=y,x()}function p(y,w){return n.set(y,{...w,original:w}),t.push(y),i&&IOn(i,t),f(y),()=>{const _=t.indexOf(y);_>-1&&t.splice(_,1),n.delete(y),x()}}function m(y,w,_){var C,S,E,j;const k=t.indexOf(w),T=n.get(w);if(!T)return;const A=t[k+1],O=n.get(A);if(O){if(y==="start"&&(u=!0,o.left={element:w,flex:T.flex||1,width:w.offsetWidth},o.right={element:A,flex:O.flex||1,width:A.offsetWidth},x()),y==="move"&&o.left&&o.right){c=new Map;const{leftW:P,rightW:D,leftFlex:R,rightFlex:$}=POn(o,T,O,_);c.set(w,{flex:R,width:P}),c.set(A,{flex:$,width:D}),x()}if(y==="end"){u=!1;const P=c.get(w),D=c.get(A);n.set(w,{...T,currentMinWidth:0,currentMaxWidth:(C=T.maxWidth)!=null?C:1/0,flex:(S=P==null?void 0:P.flex)!=null?S:T.flex}),n.set(A,{...O,currentMinWidth:0,currentMaxWidth:(E=T.maxWidth)!=null?E:1/0,flex:(j=D==null?void 0:D.flex)!=null?j:O.flex}),c=new Map,delete o.left,delete o.right,x()}}}function v(y){i=y}function g(y){s=y,x()}function b(y){return e.push(y),()=>{const w=e.push(y);w>-1&&e.splice(w,1)}}return{collapse:d,expand:f,mount:p,resize:m,setRootElement:v,setRootWidth:g,subscribe:b};function x(){var y,w,_,C;if(!s)return;const S=[];for(const P of t)P!==a&&S.unshift(P);a&&S.unshift(a);const E=new WeakMap,j=S.length,k=S[0],T=(j-1)*bv;let A=s-T;for(const P of S){const D=n.get(P);if(!D)continue;const R=D.currentMinWidth||D.minWidth||xv,$=P===k,H=r.has(P),F=R>A,V=$?!1:H||F,W=c.get(P);E.set(P,{element:P,collapsed:V,currentMinWidth:(y=W==null?void 0:W.width)!=null?y:D.currentMinWidth,currentMaxWidth:(w=W==null?void 0:W.width)!=null?w:D.currentMaxWidth,flex:(C=(_=W==null?void 0:W.flex)!=null?_:D.flex)!=null?C:1}),V?A-=bv:A-=R-bv}const O=[];for(const P of t){const D=E.get(P);D&&O.push(D)}for(const P of e)P({expandedElement:a||t[t.length-1]||null,panes:O,resizing:u})}}function i9n(e){const{children:t,minWidth:n,onCollapse:r,onExpand:o,...i}=e,s=h.useMemo(()=>ROn(),[]),[a,c]=h.useState(null),u=ed(a),d=(u==null?void 0:u.width)||0,f=d===void 0||!n?void 0:d<n,[p,m]=h.useState({expandedElement:null,panes:[],resizing:!1});h.useEffect(()=>s.setRootElement(a),[s,a]),h.useEffect(()=>s.setRootWidth(d),[s,d]),h.useEffect(()=>s.subscribe(m),[s]),h.useEffect(()=>{f!==void 0&&(f&&r&&r(),!f&&o&&o())},[f,r,o]);const v=h.useMemo(()=>({collapse:s.collapse,collapsed:f,expand:s.expand,expandedElement:p.expandedElement,mount:s.mount,panes:p.panes,resize:s.resize,resizing:p.resizing}),[f,s,p.expandedElement,p.panes,p.resizing]);return l.jsx(D4e.Provider,{value:v,children:l.jsx(OOn,{"data-ui":"PaneLayout",...i,"data-collapsed":f?"":void 0,"data-resizing":p.resizing?"":void 0,"data-mounted":d?"":void 0,ref:c,children:t})})}function OH(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const z4e=G2t(OH);function V4e(e){var t,n;const{fieldActions:r=[],menuItems:o,menuItemGroups:i}=e,s=[];let a=0;for(let d=0;d<r.length;d+=1){const f=r[d];s.push(H4e(f,"".concat(d,"-").concat(f.type)))}a+=s.length;const c=[];for(const d of i)c.find(p=>p.key===d.id)||c.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title});const u=[];for(let d=0;d<o.length;d+=1){const f=o[d];let p=f.group&&c.find(m=>m.key===f.group);f.group&&!p&&(p={type:"group",key:f.group,expanded:!0,icon:f.icon,title:f.group,children:[],renderAsButton:!1},c.push(p)),p?p.children.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(t=f.showAsAction)!=null?t:!1,selected:f.selected,title:f.title,tone:f.tone}):u.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(n=f.showAsAction)!=null?n:!1,selected:f.selected,title:f.title,tone:f.tone})}return[...u,...c,...s]}function H4e(e,t){var n,r,o;return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((i,s)=>H4e(i,"".concat(t,"-").concat(s,"-").concat(i.type))),disabled:e.disabled,expanded:(n=e.expanded)!=null?n:!0,icon:e.icon,title:e.title,renderAsButton:(r=e.renderAsButton)!=null?r:!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:(o=e.renderAsButton)!=null?o:!1,selected:e.selected,title:e.title,tone:e.tone}}const $On=h.forwardRef(function(t,n){const{intent:r,...o}=t,i=h.useMemo(()=>h.forwardRef(function(a,c){return l.jsx(_m,{...a,intent:r.type,params:r.params,ref:c})}),[r]);return t.disabled?l.jsx(ie,{...t,as:"a",role:"link","aria-disabled":"true"}):l.jsx(ie,{...o,as:i,"data-as":"a",ref:n})});function gR(e){let{reveal:t,loading:n,children:r}=e;const o=No();return t?l.jsx(st,{content:n?l.jsx(M,{padding:2,children:l.jsx(B,{children:"Loading…"})}):l.jsx(kc,{currentUser:o}),portal:!0,children:l.jsx("div",{children:r})}):l.jsx(l.Fragment,{children:r})}const MOn={constrainSize:!0,placement:"bottom",portal:!0},Mve=(e,t,n)=>{var r;const o=(r=t.find(s=>s.id===n.templateId))==null?void 0:r.schemaType;if(!o)return null;const i={template:n.templateId,type:o,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function FOn(e){let{templateItems:t}=e;const n=xn(),r=r1(),[o,i]=vH({templateItems:t}),s=h.useMemo(()=>!i&&(o==null?void 0:o.every(c=>!c.granted)),[i,o]),a=h.useMemo(()=>o?o.reduce((c,u)=>(c[u.id]=u,c),{}):{},[o]);if(s)return l.jsx(gR,{reveal:!0,loading:i,children:l.jsx(ie,{"aria-label":"Insufficient permissions",icon:pp,mode:"bleed",disabled:!0,"data-testid":"action-intent-button"})});if(t.length===1){const c=t[0],u=a[c.id],d=!(u!=null&&u.granted),f=Mve(n,r,c);return f?l.jsx(gR,{reveal:d,loading:i,children:l.jsx($On,{"aria-label":c.title,icon:c.icon||pp,intent:f,mode:"bleed",disabled:d,"data-testid":"action-intent-button"})}):null}return l.jsx(Kt,{button:l.jsx(ie,{icon:pp,mode:"bleed","data-testid":"multi-action-intent-button"}),id:"create-menu",menu:l.jsxs(Ft,{children:[l.jsx(M,{paddingX:3,paddingTop:3,paddingBottom:2,children:l.jsx(Nt,{muted:!0,children:"Create"})}),t.map((c,u)=>{const d=a[c.id],f=!(d!=null&&d.granted),p=Mve(n,r,c),m=r.find(g=>g.id===c.templateId);if(!m||!p)return null;const v=h.forwardRef((g,b)=>f?l.jsx("button",{type:"button",disabled:!0,...g,ref:b}):l.jsx(_m,{...g,intent:p.type,params:p.params,ref:b}));return v.displayName="Link",l.jsx(gR,{reveal:f,loading:i,children:l.jsx(Be,{as:v,"data-as":f?"button":"a",text:c.title||m.title,"aria-label":f?"Insufficient permissions":c.title||m.title,disabled:f,"data-testid":"action-intent-button-".concat(u)})},c.id)})]}),popover:MOn})}function LOn(e){return e!=null}const BOn=e=>{const t=r=>typeof r!="object"||!r?r:Array.isArray(r)?r.map(t):Object.entries(r).sort((o,i)=>{let[s]=o,[a]=i;return s.localeCompare(a,"en")});return JSON.stringify(t((r=>JSON.parse(JSON.stringify(r)))(e)))},NOn=h.memo(function(t){const{initialValueTemplateItems:n=Bn,menuItems:r=Bn,menuItemGroups:o=Bn,actionHandlers:i=YXt}=t,s=r1(),a=h.useCallback(m=>{if(typeof m.action=="string"&&!(m.action in i))return console.warn("No handler for action:",m.action),!1;const v=typeof m.action=="function"?m.action:typeof m.action=="string"?i[m.action]:null;return v?(v(m.params),!0):!1},[i]),c=h.useMemo(()=>V4e({actionHandler:a,menuItemGroups:o,menuItems:r.filter(m=>{var v;return((v=m.intent)==null?void 0:v.type)!=="create"})}),[a,o,r]),u=h.useMemo(()=>c.filter(OH),[c]),d=h.useMemo(()=>c.filter(z4e),[c]),f=h.useMemo(()=>r.map((m,v)=>{var g;if(((g=m.intent)==null?void 0:g.type)!=="create")return null;const{params:b}=m.intent;if(!b)return null;const x=Array.isArray(b)?b[0]:b,y=Array.isArray(b)?b[1]:void 0,w=x.template||x.type;if(!w)return null;const _=s.find(S=>S.id===w);if(!_)return null;const C=x.id;return{item:m,template:_,templateParams:y,menuItemIndex:v,initialDocumentId:C}}).filter(LOn).map(m=>{let{initialDocumentId:v,item:g,template:b,menuItemIndex:x,templateParams:y}=m;return{id:"menuItem".concat(x),initialDocumentId:v,templateId:b.id,type:"initialValueTemplateItem",title:g.title||b.title,icon:g.icon,description:b.description,parameters:y,schemaType:b.schemaType}}),[r,s]),p=h.useMemo(()=>$f([...f,...n],m=>BOn([m.initialDocumentId,m.templateId,m.parameters])),[f,n]);return l.jsxs(U,{gap:1,children:[p.length>0&&l.jsx(FOn,{templateItems:p}),u.map(m=>l.jsx(N4e,{node:m},m.key)),d.length>0&&l.jsx(M4e,{nodes:d})]})}),zOn=(e,t)=>({title:l.jsxs("em",{children:["No schema found for type ",l.jsx("code",{children:t})]}),subtitle:l.jsxs("em",{children:["Document: ",l.jsx("code",{children:e})]}),media:()=>l.jsx(Pr,{})});function VOn(e){const{layout:t,value:n}=e;return l.jsx(sh,{...zOn(n._id,n._type),layout:t})}function Fve(e,t,n){return e===!1?!1:e||t&&t.icon||n||!1}function HOn(e){const{icon:t,id:n,layout:r="default",pressed:o,schemaType:i,selected:s,title:a,value:c,margin:u,marginBottom:d,marginTop:f}=e,p=xn(),m=$i(),{ChildLink:v}=Vc(),g=g_(n),b=!!(i&&i.name&&p.get(i.name)),[x,y]=h.useState(!1),w=h.useMemo(()=>c&&cLe(c)?!i||!b?l.jsx(VOn,{value:c}):l.jsx(P4e,{documentPreviewStore:m,icon:Fve(t,i,Sf),layout:r,schemaType:i,value:c,presence:g}):l.jsx(sh,{status:l.jsx(B,{muted:!0,children:l.jsx(Tc,{})}),icon:Fve(t,i,gxe),layout:r,title:a}),[m,b,t,r,i,a,c,g]),_=h.useMemo(()=>function(E){return l.jsx(v,{...E,childId:n})},[v,n]),C=h.useCallback(S=>{if(S.metaKey){y(!1);return}y(!0)},[]);return h.useEffect(()=>y(!1),[s]),l.jsx(Ep,{__unstable_focusRing:!0,as:_,"data-as":"a","data-ui":"PaneItem",margin:u,marginBottom:d,marginTop:f,onClick:C,padding:2,pressed:o,radius:2,selected:s||x,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const U4e=h.createContext(null);function lr(){const e=h.useContext(U4e);if(!e)throw new Error("DocumentPane: missing context value");return e}const UOn={NOTHING_TO_DELETE:"This document doesn’t yet exist or is already deleted"},W4e=e=>{let{id:t,type:n,draft:r,onComplete:o}=e;const{setIsDeleting:i}=lr(),{delete:s}=Bl(t,n),[a,c]=h.useState(!1),[u,d]=h.useState(!1),f=h.useCallback(()=>{d(!1),o()},[o]),p=h.useCallback(()=>{c(!0),d(!1),i(!0),s.execute(),o()},[s,o,i]),m=h.useCallback(()=>{d(!0)},[]),[v,g]=ch({id:t,type:n,permission:"delete"}),b=No();return!g&&!(v!=null&&v.granted)?{tone:"critical",icon:ao,disabled:!0,label:"Delete",title:l.jsx(kc,{operationLabel:"delete this document",currentUser:b})}:{tone:"critical",icon:ao,disabled:a||!!s.disabled||g,title:s.disabled&&UOn[s.disabled]||"",label:a?"Deleting…":"Delete",shortcut:"Ctrl+Alt+D",onHandle:m,dialog:u&&{type:"custom",component:l.jsx($4e,{action:"delete",id:(r==null?void 0:r._id)||t,type:n,onCancel:f,onConfirm:p})}}};W4e.action="delete";const WOn={NO_CHANGES:"This document has no unpublished changes",NOT_PUBLISHED:"This document is not published"},Y4e=e=>{let{id:t,type:n,published:r,liveEdit:o,onComplete:i}=e;const{discardChanges:s}=Bl(t,n),[a,c]=h.useState(!1),[u,d]=ch({id:t,type:n,permission:"discardDraft"}),f=No(),p=h.useCallback(()=>{s.execute(),i()},[s,i]),m=h.useCallback(()=>{c(!0)},[]),v=h.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:l.jsx(l.Fragment,{children:"Are you sure you want to discard all changes since last published?"})},[p,a,i]);return!r||o?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:ku,disabled:!0,label:"Discard changes",title:l.jsx(kc,{operationLabel:"discard changes in this document",currentUser:f})}:{tone:"critical",icon:ku,disabled:!!s.disabled||d,title:s.disabled&&WOn[s.disabled]||"",label:"Discard changes",onHandle:m,dialog:v}};Y4e.action="discardChanges";const YOn={NOTHING_TO_DUPLICATE:"This document doesn’t yet exist so there‘s nothing to duplicate"},q4e=e=>{let{id:t,type:n,onComplete:r}=e;const{duplicate:o}=Bl(t,n),{navigateIntent:i}=Ic(),[s,a]=h.useState(!1),[c,u]=ch({id:t,type:n,permission:"duplicate"}),d=No(),f=h.useCallback(()=>{const p=sd();a(!0),o.execute(p),i("edit",{id:p,type:n}),r()},[o,i,r,n]);return!u&&!(c!=null&&c.granted)?{icon:Su,disabled:!0,label:"Duplicate",title:l.jsx(kc,{operationLabel:"duplicate this document",currentUser:d})}:{icon:Su,disabled:s||!!o.disabled||u,label:s?"Duplicating…":"Duplicate",title:o.disabled&&YOn[o.disabled]||"",onHandle:f}};q4e.action="duplicate";const PH=e=>{let{id:t,type:n,revision:r,onComplete:o}=e;const{restore:i}=Bl(t,n),s=LMe(t,n),{navigateIntent:a}=Ic(),c=h.useRef(s),[u,d]=h.useState(!1),f=h.useCallback(()=>{i.execute(r),o()},[i,r,o]);h.useEffect(()=>{!s||s===c.current||(s.type==="success"&&s.op==="restore"&&a("edit",{id:t,type:n}),c.current=s)},[s,t,a,n]);const p=h.useCallback(()=>{d(!0)},[]),m=h.useMemo(()=>u?{type:"confirm",tone:"critical",onCancel:o,onConfirm:f,message:l.jsx(l.Fragment,{children:"Are you sure you want to restore this document?"})}:null,[f,u,o]),v=r==="@initial";return r===void 0?null:{label:"Restore",color:"primary",onHandle:p,title:v?"You can't restore to the initial version":"Restore to this version",icon:l8,dialog:m,disabled:v}};PH.action="restore";const qOn={LIVE_EDIT_ENABLED:"Cannot publish since liveEdit is enabled for this document type",ALREADY_PUBLISHED:"Already published",NO_CHANGES:"No unpublished changes",NOT_READY:"Operation not ready"};function GOn(e,t){return e==="ALREADY_PUBLISHED"&&t?l.jsx(l.Fragment,{children:l.jsxs("span",{children:["Published ",t]})}):qOn[e]}const G4e=e=>{var t;const{id:n,type:r,liveEdit:o,draft:i,published:s}=e,[a,c]=h.useState(null),{publish:u}=Bl(n,r),d=uH(n,r),f=NMe(n,r),{changesOpen:p,onHistoryOpen:m,documentId:v,documentType:g}=lr(),b=cH(v,g),x=((b==null?void 0:b.draft)||(b==null?void 0:b.published)||{})._rev,y=d.validation.some(uLe),[w,_]=h.useState(!1),C=f.isSyncing,S=d.isValidating,[E,j]=ch({id:n,type:r,permission:"publish"}),k=No(),T=qo((s==null?void 0:s._updatedAt)||"",{minimal:!0,agoSuffix:!0}),A=u.disabled?GOn(u.disabled,T)||"":y?"There are validation errors that need to be fixed before this document can be published":"",O=!!i,P=h.useCallback(()=>{u.execute(),c("publishing")},[u]);h.useEffect(()=>{const $=d.isValidating===!1&&d.revision!==x;!w||C||!$||(y||P(),_(!1))},[C,P,y,w,d.revision,x,S,d.isValidating]),h.useEffect(()=>{const $=a==="publishing"&&!O;$&&p&&m();const H=$?"published":null,V=setTimeout(()=>{c(H)},$?200:4e3);return()=>clearTimeout(V)},[p,a,O,m]);const D=h.useCallback(()=>{f.isSyncing||d.isValidating||d.revision!==x?_(!0):P()},[f.isSyncing,d.isValidating,d.revision,x,P]);if(o)return{tone:"positive",label:"Publish",title:"Live Edit is enabled for this content type and publishing happens automatically as you make changes",disabled:!0};if(!j&&!(E!=null&&E.granted))return{tone:"positive",label:"Publish",title:l.jsx(kc,{operationLabel:"publish this document",currentUser:k}),disabled:!0};const R=!!(w||(t=b==null?void 0:b.transactionSyncLock)!=null&&t.enabled||a==="publishing"||a==="published"||y||u.disabled);return{disabled:R||j,tone:"positive",label:a==="published"?"Published":w||a==="publishing"?"Publishing…":"Publish",icon:a==="published"?Ma:f0,title:w?"Waiting for tasks to finish before publishing":a==="published"||a==="publishing"?null:A,shortcut:R||w?null:"Ctrl+Alt+P",onHandle:D}};G4e.action="publish";const KOn={NOT_PUBLISHED:"This document is not published"},K4e=e=>{let{id:t,type:n,draft:r,onComplete:o,liveEdit:i}=e;const{unpublish:s}=Bl(t,n),[a,c]=h.useState(!1),[u,d]=ch({id:t,type:n,permission:"unpublish"}),f=No(),p=h.useCallback(()=>{c(!1),o()},[o]),m=h.useCallback(()=>{c(!1),s.execute(),o()},[o,s]),v=h.useMemo(()=>a?{type:"dialog",onClose:o,content:l.jsx($4e,{id:(r==null?void 0:r._id)||t,type:n,action:"unpublish",onCancel:p,onConfirm:m})}:null,[r,t,p,m,a,o,n]);return i?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:$E,label:"Unpublish",title:l.jsx(kc,{operationLabel:"unpublish this document",currentUser:f}),disabled:!0}:{tone:"critical",icon:$E,disabled:!!s.disabled||d,label:"Unpublish",title:s.disabled?KOn[s.disabled]:"",onHandle:()=>c(!0),dialog:v}};K4e.action="unpublish";const ZOn=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null},XOn=!1,Z4e={},s9n=Symbol("LOADING_PANE"),X4e="documentPanelPortalElement",Q4e={activePanes:[]};function a9n(e){Q4e.activePanes=e}function QOn(e,t,n,r){var o;const i=(n==null?void 0:n.panes)||[],s=Q4e.activePanes||[],a=t.id||sd(),c=e==="create"&&t.template;for(let u=s.length-1;u>=0;u--){const d=s[u];if(typeof d=="object"&&((o=d.canHandleIntent)!=null&&o.call(d,e,t,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const f=c?{template:t.template}:Z4e;return{panes:i.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:e,params:t,payload:r}}const JOn={};function ePn(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function tPn(e){return(e||[]).map(t=>t.map(dPn).join("|")).map(encodeURIComponent).join(";")}function nPn(e){return JSON.stringify(e)}function rPn(e){return fPn(decodeURIComponent(e))}function oPn(e){return tPn(e)}const iPn=vi.create("/",[vi.intents("/intent"),vi.create("/edit/:type/:editDocumentId",[vi.create({path:"/:params",transform:{params:{toState:ePn,toPath:nPn}}})]),vi.create({path:"/:panes",children:[vi.create("/:action",vi.create("/:legacyEditDocumentId"))],transform:{panes:{toState:rPn,toPath:oPn}}})]),sPn=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,aPn=e=>/^[a-z0-9]+=[^=]+/i.test(e),lPn=e=>/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e),J4e=["view","since","rev","inspect","comment"],cPn=Boolean;function uPn(e,t){return e.reduce((n,r)=>{if(aPn(r)){const o=r.slice(0,r.indexOf("=")),i=r.slice(o.length+1);n.params={...n.params,[decodeURIComponent(o)]:decodeURIComponent(i)}}else lPn(r)?n.payload=pPn(r):console.warn("Unknown pane segment: %s - skipping",r);return n},{...t,params:JOn,payload:void 0})}function dPn(e,t,n){const{payload:r,params:o={},id:i}=e,[s]=n,a=e===s,c=t!==0&&i===s.id,u=typeof r>"u"?void 0:btoa(JSON.stringify(r)),d=Object.entries(o).filter(f=>{var p;const[m,v]=f;if(!v)return!1;if(a)return!0;const g=(p=s.params)==null?void 0:p[m];return!(v===g&&!J4e.includes(m))}).map(f=>{let[p,m]=f;return"".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(m))});return[c?"":i].concat([d.length>0&&d,u].filter(cPn).flat()).join(",")||","}function fPn(e){return e.indexOf(",{")!==-1?hPn(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(o=>{const[i,...s]=o.split(",");return uPn(s,{id:i})});return[n,...r.map(o=>({...n,...o,id:o.id||n.id,params:{...Ai(n.params,J4e),...o.params},payload:o.payload||n.payload}))]}).filter(t=>t.length>0)}function hPn(e){const t=[];let n=e;for(;n.length;){const[r,o,i]=n.match(sPn)||[];if(!r){n=n.slice(1);continue}const s=i&&eFe(i);t.push({id:o,payload:s}),n=n.slice(r.length)}return[t]}function eFe(e){try{return JSON.parse(e)}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}function pPn(e){return e?eFe(atob(e)):void 0}const mPn=320,gPn=600,yL=320,vPn=540,yPn={},bL="inspect:",bPn=[{id:"inspectors"},{id:"links"}],xL="sanity/desk/history",xPn="sanity/desk/validation",jb="sanity/desk/comments";var Lve=Object.freeze,wPn=Object.defineProperty,_Pn=(e,t)=>Lve(wPn(e,"raw",{value:Lve(t||e.slice())})),Bve;const Nve=I(mSe)(Bve||(Bve=_Pn([`
  svg > ellipse {
    stroke: transparent;
  }
`]))),CPn=/[^\p{Alpha}\p{White_Space}]/gu,SPn=new RegExp("\\p{White_Space}+","u");function EPn(e){const t=e.replace(CPn,"").split(SPn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function gP(e){const{user:t,...n}=e,r=t,o=h.useMemo(()=>EPn((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?l.jsx(Nve,{initials:o,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):l.jsx(Nve,{...n})}const tFe=25,kPn={minWidth:tFe};function kE(){return l.jsx("div",{style:kPn})}var zve=Object.freeze,jPn=Object.defineProperty,TPn=(e,t)=>zve(jPn(e,"raw",{value:zve(t||e.slice())})),Vve;const APn={open:500,close:0},Hve=I.span(e=>{let{theme:t}=e;var n,r,o;const{regular:i}=(n=t.sanity.fonts)==null?void 0:n.text.weights,{hovered:s}=(r=t.sanity.color)==null?void 0:r.card,{bg:a}=((o=t.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return de(Vve||(Vve=TPn([`
    font-weight: `,`;
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: `,`;
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: `,`;
    }
  `])),i,s.bg,a)});function nFe(e){const{selected:t,userId:n}=e,[r,o]=o1(n),i=No();return!r||o?l.jsx(Hve,{children:"@Loading"}):l.jsx(st,{portal:!0,open:t,delay:APn,content:l.jsxs(U,{align:"center",padding:2,gap:2,children:[l.jsx(U,{children:l.jsx(gP,{user:r})}),l.jsx(B,{size:1,children:r.displayName})]}),children:l.jsxs(Hve,{"data-selected":t,"data-active":(i==null?void 0:i.id)===n,children:["@",r.displayName]})})}var Uve=Object.freeze,OPn=Object.defineProperty,PPn=(e,t)=>Uve(OPn(e,"raw",{value:Uve(t||e.slice())})),Wve;const DPn=I(B)(Wve||(Wve=PPn([`
  word-break: break-word;
`])));function Ms(e){const{children:t}=e;return l.jsx(DPn,{size:1,children:t})}var Yve=Object.freeze,IPn=Object.defineProperty,RPn=(e,t)=>Yve(IPn(e,"raw",{value:Yve(t||e.slice())})),qve;const $Pn=I(te)(()=>de(qve||(qve=RPn([`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `])))),MPn=[],FPn={block:{normal:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},h1:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},h2:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},h3:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},h4:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},h5:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},h6:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},code:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})}},list:{bullet:e=>{let{children:t}=e;return t},number:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},listItem:{bullet:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},number:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})}},marks:{strong:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},em:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},code:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},underline:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},strikeThrough:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},link:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},types:{mention:e=>{var t;return l.jsx(nFe,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function LPn(e){const{blocks:t}=e;return l.jsx($Pn,{children:l.jsx(pTn,{value:t||MPn,components:FPn})})}const BPn=cbe({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),NPn=cbe({type:"block",name:"block",of:[BPn],styles:[{title:"Normal",value:"normal"}],lists:[]}),zPn=mLe({type:"array",name:"body",of:[NPn]}),VPn=hB.compile({name:"comments",types:[zPn]}),HPn=VPn.get("body"),UPn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),WPn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),YPn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"add-comment",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M12.3368 5.97917H6.89453C5.78996 5.97917 4.89453 6.8746 4.89453 7.97917V13.4881C4.89453 14.5926 5.78996 15.4881 6.89453 15.4881H8.69808V19.2916L12.5016 15.4881H16.207C17.3115 15.4881 18.207 14.5926 18.207 13.4881V11.7158",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.2081 2.08333V9.87058M14.3145 5.97695H22.1017",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),qPn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:n,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});function rFe(e){const t=h.useRef(e);return h.useMemo(()=>!zt(t.current,e),[e])}function b_(e){return e?e==null?void 0:e.some(t=>{var n;return zf(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>Gs(r)?r.text:r.userId))}):!1}const oFe=ne.createContext(null);function GPn(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:o=!1,mentionOptions:i,onMentionMenuOpenChange:s,value:a,readOnly:c}=e,u=uo(),[d,f]=h.useState(!1),[p,m]=h.useState(""),[v,g]=h.useState(null),b=h.useMemo(()=>b_(a),[a]),x=rFe(a),y=h.useCallback(()=>{c||_e.focus(u)},[u,c]),w=h.useCallback(()=>{f(!1),m(""),g(null)},[]),_=h.useCallback(()=>{f(!0),m(""),f(!0),g(_e.getSelection(u))},[u]),C=h.useCallback(k=>{const T=_e.getSelection(u),A=T?T.focus.offset:0,O=_e.focusChild(u),P=Gs(O)&&O||void 0,D=k.inputType==="insertText",R=k.inputType==="deleteContentBackward",$=D&&k.data==="@",H=(P==null?void 0:P.text.substring(0,A).lastIndexOf("@"))||0,F=(P==null?void 0:P.text.substring(A-1,A))===" ",V=D&&k.data===" "&&!p;if($&&(A<1||F)){_();return}if(V||R&&((P==null?void 0:P.text.length)===1||H===((P==null?void 0:P.text.length)||0)-1)){w();return}if(Gs(O)){let W=O.text.substring(H+1,A);D&&(W+=k.data),R&&(W=W.substring(0,W.length-1)),m(W)}},[w,u,p,_]),S=h.useCallback(()=>{f(!0),_e.focus(u),_e.insertChild(u,u.schemaTypes.span,{text:"@"}),g(_e.getSelection(u))},[u]);Ri(d,()=>s==null?void 0:s(d));const E=h.useCallback(k=>{var T;const A=u.schemaTypes.inlineObjects.find(D=>D.name==="mention"),[O,P]=v&&_e.findByPath(u,v.focus.path)||[];if(O&&Gs(O)&&P&&A){_e.focus(u);const D=(T=_e.getSelection(u))==null?void 0:T.focus.offset;typeof D<"u"&&(_e.delete(u,{anchor:{path:P,offset:O.text.lastIndexOf("@")},focus:{path:P,offset:D}},{mode:"selected"}),_e.insertChild(u,A,{userId:k}),_e.insertChild(u,u.schemaTypes.span,{text:" "}))}},[u,v]),j=h.useMemo(()=>({canSubmit:b,closeMentions:w,editor:u,expandOnFocus:n,focused:r,focusEditor:y,focusOnMount:o,hasChanges:x,insertAtChar:S,insertMention:E,mentionOptions:i,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:C,openMentions:_,readOnly:!!c,value:a}),[b,w,u,n,r,y,o,x,S,E,i,d,p,C,_,c,a]);return l.jsx(oFe.Provider,{value:j,children:t})}function iFe(){const e=h.useContext(oFe);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}var Gve=Object.freeze,KPn=Object.defineProperty,ZPn=(e,t)=>Gve(KPn(e,"raw",{value:Gve(t||e.slice())})),Kve;const XPn=I(U)(Kve||(Kve=ZPn([""]))),QPn={width:"50%"};function JPn(e){const{user:t,onSelect:n}=e,[r]=o1(t.id),o=l.jsx(gP,{user:r,status:t.canBeMentioned?void 0:"inactive"}),i=r?l.jsx(B,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):l.jsx(ji,{size:1,style:QPn}),s=h.useCallback(()=>{n(t.id)},[n,t.id]);return l.jsx(J,{as:"button",disabled:!t.canBeMentioned,onClick:s,padding:2,radius:2,children:l.jsxs(U,{align:"center",gap:3,children:[l.jsxs(XPn,{align:"center",gap:2,flex:1,children:[o,l.jsx(M,{children:i})]}),!t.canBeMentioned&&l.jsx(K9,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})}const Zve=[],eDn=I(te)({maxWidth:"220px"}),Xve=41,tDn=4,nDn=7,rDn=I(U)({maxHeight:Xve*nDn+tDn*2+Xve/2}),oDn=ne.forwardRef(function(t,n){const{loading:r,onSelect:o,options:i=[],inputElement:s}=t,[a,c]=h.useState(""),u=h.useRef(null);h.useImperativeHandle(n,()=>({setSearchTerm(v){c(v)}}),[]);const d=h.useCallback(v=>l.jsx(JPn,{user:v,onSelect:o}),[o]),f=h.useCallback(v=>{var g;return!((g=i==null?void 0:i[v])!=null&&g.canBeMentioned)},[i]),p=h.useMemo(()=>{var v;if(!a)return i||Zve;const g=bX(a).toLocaleLowerCase(),b=i==null?void 0:i.map(y=>({...y,displayName:bX(y.displayName||"").toLocaleLowerCase()}));return((v=b==null?void 0:b.filter(y=>{var w;return(w=y==null?void 0:y.displayName)==null?void 0:w.includes(g)}))==null?void 0:v.sort((y,w)=>{var _,C;const S=(_=y.displayName)==null?void 0:_.startsWith(g),E=(C=w.displayName)==null?void 0:C.startsWith(g);return S&&!E?-1:!S&&E?1:0}))||Zve},[i,a]);if(r)return l.jsx(eDn,{children:l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(ir,{muted:!0,size:1})})});const m=s||void 0;return l.jsxs(U,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&l.jsx(M,{padding:5,children:l.jsx(B,{align:"center",size:1,muted:!0,children:"No users found"})}),p.length>0&&l.jsx(rDn,{direction:"column",flex:1,overflow:"hidden",children:l.jsx(oh,{activeItemDataAttr:"data-hovered",ariaLabel:"List of users to mention",fixedHeight:!0,getItemDisabled:f,inputElement:m,itemHeight:41,items:p,padding:1,ref:u,renderItem:d})})]})}),iDn=e=>{const{children:t}=e;return l.jsx(Ms,{children:t})},sDn=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?l.jsx(nFe,{selected:r,userId:n==null?void 0:n.userId}):t},aDn={passive:!0};function lDn(e){const{disabled:t,rootElement:n}=e,[r,o]=h.useState(null),i=h.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),s=h.useCallback(()=>{if(t){o(null);return}const a=window.getSelection();if(!a||!a.isCollapsed||a.rangeCount===0)return;const c=a.getRangeAt(0);if(!(n==null?void 0:n.contains(c.commonAncestorContainer))){o(null);return}const d=c==null?void 0:c.getBoundingClientRect();d&&o(d)},[t,n]);return h.useEffect(()=>(document.addEventListener("selectionchange",s,aDn),()=>{document.removeEventListener("selectionchange",s)}),[s]),i}var Qve=Object.freeze,cDn=Object.defineProperty,sFe=(e,t)=>Qve(cDn(e,"raw",{value:Qve(t||e.slice())})),Jve,e0e;const uDn={outline:"none"},dDn=I(te)(()=>de(Jve||(Jve=sFe([`
    & > div:first-child {
      [data-slate-node='element']:not(:last-child) {
        margin-bottom: 1em; // todo: improve
      }
    }
  `])))),fDn=I(nn)(e=>{let{theme:t}=e;const{space:n,radius:r}=t.sanity;return de(e0e||(e0e=sFe([`
    &[data-placement='bottom'] {
      transform: translateY(`,`px);
    }

    &[data-placement='top'] {
      transform: translateY(-`,`px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: `,`px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `])),n[1],n[1],r[3])});function hDn(e){const{focusLock:t,placeholder:n="Create a new comment",onFocus:r,onBlur:o,onKeyDown:i,onSubmit:s}=e,[a,c]=h.useState(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=N0(),{canSubmit:m,closeMentions:v,insertMention:g,mentionOptions:b,mentionsMenuOpen:x,mentionsSearchTerm:y,onBeforeInput:w,value:_}=iFe(),C=h.useCallback(()=>l.jsx("span",{children:n}),[n]);rr(h.useCallback(()=>{x&&v()},[v,x]),[a]),h.useEffect(()=>{var k;(k=f.current)==null||k.setSearchTerm(y)},[y]),h.useEffect(()=>{x&&p&&!zt(p.anchor,p.focus)&&v()},[x,v,p]),Qi(k=>{k.code==="Escape"&&x&&v()});const S=lDn({disabled:!x,rootElement:u.current}),E=h.useCallback(k=>{switch(k.key){case"Enter":if(k.shiftKey)break;if(k.preventDefault(),k.stopPropagation(),x){v();break}s&&m&&s();break;case"Escape":case"ArrowLeft":case"ArrowRight":x&&(k.preventDefault(),k.stopPropagation(),v());break}i&&i(k)},[m,v,x,i,s]),j=h.useMemo(()=>{if(p)return;const k=(_||[]).slice(-1)[0],T=zf(k)?k.children.slice(-1)[0]:void 0;if(!T)return;const A={path:[{_key:k._key},"children",{_key:T._key}],offset:Gs(T)?T.text.length:0};return{focus:A,anchor:A}},[_,p]);return l.jsxs(l.Fragment,{children:[l.jsx(nd,{element:u.current,children:l.jsx(fDn,{arrow:!1,constrainSize:!0,content:l.jsx(oDn,{ref:f,loading:b.loading,onSelect:g,options:b.data||[],inputElement:d.current}),disabled:!x,fallbackPlacements:["bottom","top"],open:x,placement:"bottom",portal:!0,ref:c,referenceElement:S})}),l.jsx(dDn,{ref:u,"data-ui":"EditableWrapStack",children:l.jsx(GOe,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:w,onBlur:o,onFocus:r,onKeyDown:E,ref:d,renderBlock:iDn,renderChild:sDn,renderPlaceholder:C,selection:j,style:uDn,tabIndex:t?0:void 0})})]})}var t0e=Object.freeze,pDn=Object.defineProperty,DH=(e,t)=>t0e(pDn(e,"raw",{value:t0e(t||e.slice())})),n0e,r0e,o0e;const jE=I(M)(n0e||(n0e=DH([`
  max-height: 20vh;
  overflow-y: auto;
`]))),mDn=I(kr)({height:20,width:1}),i0e=I(ie).attrs({fontSize:1,padding:2})(r0e||(r0e=DH([`
  /* border-radius: 50%; */
`]))),gDn=I(J)(e=>{let{theme:t}=e;const n=t.sanity.radius[2];return de(o0e||(o0e=DH([`
    border-radius: `,`px;

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      `,` {
        min-height: 1em;
      }

      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    &:focus-within {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
  `])),n,jE,jE,jE)});function vDn(e){const{currentUser:t,focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a,withAvatar:c}=e,[u]=o1(t.id),{canSubmit:d,expandOnFocus:f,focused:p,hasChanges:m,insertAtChar:v,openMentions:g,readOnly:b}=iFe(),x=c?l.jsx(gP,{user:u}):null,y=h.useCallback(w=>{w.stopPropagation(),v(),g()},[v,g]);return l.jsxs(U,{align:"flex-start",gap:2,children:[x,l.jsx(gDn,{"data-expand-on-focus":f&&!d?"true":"false","data-focused":p?"true":"false",flex:1,shadow:1,sizing:"border",tone:b?"transparent":"default",children:l.jsxs(te,{children:[l.jsx(jE,{paddingX:1,paddingY:2,sizing:"border",children:l.jsx(hDn,{focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a})}),l.jsxs(U,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:[l.jsx(i0e,{"aria-label":"Mention user","data-testid":"comment-mention-button",disabled:b,icon:WPn,mode:"bleed",onClick:y}),l.jsx(mDn,{}),l.jsx(i0e,{"aria-label":"Send comment",disabled:!d||!m||b,icon:UPn,mode:m&&d?"default":"bleed",onClick:s,tone:m&&d?"primary":"default"})]})]})})]})}const yDn=9999999;function bDn(e){const{onClose:t,onConfirm:n}=e,r=Gf(),o=h.useCallback(s=>{s.stopPropagation(),t()},[t]),i=h.useCallback(s=>{s.stopPropagation(),n()},[n]);return l.jsx(aSe,{tone:"default",children:l.jsx(nd,{__unstable_elements:{boundary:r.element},children:l.jsx(_M,{zOffset:yDn,children:l.jsx(Pi,{portal:"boundary",header:"Discard comment?",id:"discard-comment-dialog",onClose:t,width:0,onClickOutside:t,footer:l.jsxs(en,{columns:2,padding:2,gap:2,children:[l.jsx(ie,{text:"Cancel",mode:"ghost",onClick:o}),l.jsx(ie,{onClick:i,text:"Discard",tone:"critical"})]}),children:l.jsx(te,{padding:4,children:l.jsx(B,{children:"Do you want to discard the comment?"})})})})})})}const vR=[],xDn={behavior:"smooth",block:"center",inline:"center"},vP=h.forwardRef(function(t,n){const{currentUser:r,expandOnFocus:o,focusLock:i=!1,focusOnMount:s,mentionOptions:a,onBlur:c,onChange:u,onDiscardCancel:d,onDiscardConfirm:f,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:v,onSubmit:g,placeholder:b,readOnly:x,value:y=vR,withAvatar:w=!0}=t,[_,C]=h.useState(!1),S=h.useRef(null),E=h.useRef(null),[j,k]=h.useState(!1),[T,A]=h.useState(Qk()),O=h.useCallback(()=>{requestAnimationFrame(()=>{S.current&&_e.focus(S.current)})},[]),P=h.useCallback(()=>{A(Qk())},[]),D=h.useCallback(V=>{if(V.type==="ready"&&s&&O(),V.type==="focus"&&C(!0),V.type==="blur"&&C(!1),V.type==="patch"&&S.current){const W=_e.getValue(S.current);u(W||vR)}},[s,u,O]),R=h.useCallback(()=>{var V;(V=E.current)==null||V.scrollIntoView(xDn)},[]),$=h.useCallback(()=>{g(),P(),O(),R()},[g,O,P,R]),H=h.useCallback(()=>{f(),P()},[f,P]),F=h.useMemo(()=>({open:()=>{k(!0)},close:()=>{k(!1),O()}}),[O]);return h.useImperativeHandle(n,()=>({focus:O,blur(){S.current&&_e.blur(S.current)},scrollTo:R,reset:P,discardDialogController:F}),[F,O,P,R]),l.jsxs(l.Fragment,{children:[j&&l.jsx(bDn,{onClose:d,onConfirm:H}),l.jsx(te,{ref:E,"data-testid":"comment-input",children:l.jsx(_e,{onChange:D,readOnly:x,ref:S,schemaType:HPn,value:y||vR,children:l.jsx(GPn,{expandOnFocus:o,focused:_,focusOnMount:s,mentionOptions:a,onMentionMenuOpenChange:v,readOnly:x,value:y,children:l.jsx(od,{as:te,disabled:!i||j,children:l.jsx(vDn,{currentUser:r,focusLock:i,onBlur:c,onFocus:p,onKeyDown:m,onSubmit:$,placeholder:b,withAvatar:w})})})},T)})]})}),yR=3;var s0e=Object.freeze,wDn=Object.defineProperty,_Dn=(e,t)=>s0e(wDn(e,"raw",{value:s0e(t||e.slice())})),a0e;const CDn={open:500},SDn=I(B)(a0e||(a0e=_Dn([`
  min-width: max-content;
`])));function EDn(e){const{children:t,text:n}=e;return l.jsx(st,{delay:CDn,portal:!0,placement:"top",content:l.jsx(SDn,{size:1,children:n}),padding:2,children:l.jsx(U,{children:t})})}var l0e=Object.freeze,kDn=Object.defineProperty,jDn=(e,t)=>l0e(kDn(e,"raw",{value:l0e(t||e.slice())})),c0e;const TDn={open:500},ADn={placement:"bottom-end",portal:!1},ODn=I(J)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(c0e||(c0e=jDn([`
    gap: `,`px;
    padding: `,`px;

    &:empty {
      display: none;
    }
  `])),n[1]/2,n[1]/2)});function PDn(e){const{canDelete:t,canEdit:n,isParent:r,onCopyLink:o,onDeleteStart:i,onEditStart:s,onMenuClose:a,onMenuOpen:c,onStatusChange:u,readOnly:d,status:f,...p}=e,m=!!(o||i||s);return l.jsx(vrt,{delay:TDn,children:l.jsx(U,{"data-root-menu":r?"true":"false",...p,children:l.jsxs(ODn,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[r&&l.jsx(EDn,{text:f==="open"?"Mark as resolved":"Re-open",children:l.jsx(ie,{"aria-label":"Mark comment as resolved",disabled:d,fontSize:1,icon:f==="open"?mT:RE,mode:"bleed",onClick:u,padding:2})}),l.jsx(Kt,{id:"comment-actions-menu",button:l.jsx(ie,{"aria-label":"Open comment actions menu",disabled:d,fontSize:1,hidden:!m,icon:Fo,mode:"bleed",padding:2}),onOpen:c,onClose:a,menu:l.jsxs(Ft,{children:[l.jsx(Be,{fontSize:1,hidden:!n,icon:Eu,onClick:s,text:"Edit comment"}),l.jsx(Be,{fontSize:1,hidden:!t,icon:ao,onClick:i,text:"Delete comment",tone:"critical"}),l.jsx(kr,{hidden:!t&&!n}),l.jsx(Be,{fontSize:1,hidden:!o,icon:Ef,onClick:o,text:"Copy link to comment"})]}),popover:ADn})]})})})}var u0e=Object.freeze,DDn=Object.defineProperty,a1=(e,t)=>u0e(DDn(e,"raw",{value:u0e(t||e.slice())})),d0e,f0e,h0e,p0e,m0e,g0e;const My=I(Ji)(d0e||(d0e=a1([""])));function IDn(e){const{children:t}=e,n=h.useCallback(r=>{r.stopPropagation()},[]);return l.jsx(My,{onClick:n,children:t})}const RDn={width:"50%"},v0e=I(B)(e=>{let{theme:t}=e;const n=t.sanity.color.dark,r=fe.gray[n?200:800].hex;return de(f0e||(f0e=a1([`
    min-width: max-content;
    --card-fg-color: `,`;
    color: var(--card-fg-color);
  `])),r)}),$Dn=I(te)(h0e||(h0e=a1([`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`]))),MDn=I(U)(p0e||(p0e=a1([`
  min-height: `,`px;
`])),tFe),FDn=I(J)(m0e||(m0e=a1([`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`]))),LDn=I(te)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(g0e||(g0e=a1([`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      `,` {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;

        transform: translate(`,"px, -",`px);
      }

      `,` {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        `,` {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      `,` {
        opacity: 1;
      }
    }
  `])),My,n[1],n[1],My,My,My)}),BDn={agoSuffix:!0};function y0e(e){const{canDelete:t,canEdit:n,comment:r,currentUser:o,hasError:i,isParent:s,isRetrying:a,mentionOptions:c,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:p,onInputKeyDown:m,onStatusChange:v,readOnly:g}=e,{_createdAt:b,authorId:x,message:y,_id:w,lastEditedAt:_}=r,[C]=o1(x),[S,E]=h.useState(y),[j,k]=h.useState(!1),[T,A]=h.useState(null),O=h.useRef(y),[P,D]=h.useState(!1),R=rFe(S),$=h.useMemo(()=>b_(S),[S]),H=h.useRef(null),F=b?new Date(b):new Date,V=qo(F,BDn),W=Ko(F,"PPPPp"),z=_?Ko(new Date(_),"PPPPp"):null,q=i||a,oe=h.useCallback(()=>D(!0),[]),N=h.useCallback(()=>D(!1),[]),G=h.useCallback(()=>u==null?void 0:u(w),[w,u]),Y=h.useCallback(Re=>{Re.stopPropagation(),d==null||d(w)},[w,d]),K=h.useCallback(()=>f(w),[w,f]),X=h.useCallback(()=>{k(!1),E(O.current)},[]),Q=h.useCallback(()=>{var Re;if(!$||!R){X();return}(Re=H.current)==null||Re.discardDialogController.open()},[X,R,$]),Z=h.useCallback(Re=>{Re.isDefaultPrevented()||(Re.key==="Escape"&&(Re.preventDefault(),Re.stopPropagation(),Q()),m&&m(Re))},[m,Q]),re=h.useCallback(()=>{var Re;(Re=H.current)==null||Re.discardDialogController.close()},[]),ae=h.useCallback(()=>{var Re;(Re=H.current)==null||Re.discardDialogController.close(),X()},[X]),me=h.useCallback(()=>{p(w,{message:S}),k(!1)},[w,p,S]),ce=h.useCallback(()=>{v==null||v(w,r.status==="open"?"resolved":"open")},[w,r.status,v]),Te=h.useCallback(()=>{k(Re=>!Re)},[]),je=h.useCallback(()=>D(!1),[]),be=h.useCallback(()=>{R||X()},[X,R]),ge=h.useCallback(Re=>{Re.key==="Escape"&&!R&&X()},[X,R]);Ri(j,je),rr(be,[T]);const De=C!=null&&C.displayName?l.jsx(B,{size:1,weight:"semibold",textOverflow:"ellipsis",title:C.displayName,children:C.displayName}):l.jsx(ji,{size:1,style:RDn});return l.jsxs(LDn,{"data-menu-open":P?"true":"false",onKeyDown:ge,ref:A,space:4,children:[l.jsxs($Dn,{space:1,"data-muted":q,children:[l.jsxs(U,{align:"center",gap:yR,flex:1,children:[l.jsx(gP,{user:C}),l.jsx(U,{align:"center",paddingBottom:1,sizing:"border",flex:1,children:l.jsxs(U,{align:"flex-end",gap:2,children:[l.jsx(M,{flex:1,children:De}),!q&&l.jsxs(U,{align:"center",gap:1,children:[l.jsx(v0e,{muted:!0,size:0,title:W,children:V}),z&&l.jsx(v0e,{muted:!0,size:0,title:z,children:"(edited)"})]})]})}),!j&&!q&&l.jsx(IDn,{children:l.jsx(PDn,{canDelete:t,canEdit:n,isParent:s,onCopyLink:G,onDeleteStart:K,onEditStart:Te,onMenuClose:N,onMenuOpen:oe,onStatusChange:ce,readOnly:g,status:r.status})})]}),j&&l.jsxs(U,{align:"flex-start",gap:2,children:[l.jsx(kE,{}),l.jsx(te,{flex:1,children:l.jsx(vP,{currentUser:o,focusOnMount:!0,mentionOptions:c,onChange:E,onDiscardCancel:re,onDiscardConfirm:ae,onKeyDown:Z,onSubmit:me,readOnly:g,ref:H,value:S,withAvatar:!1})})]}),!j&&l.jsxs(U,{gap:yR,children:[l.jsx(kE,{}),l.jsx(LPn,{blocks:y})]})]}),q&&l.jsxs(MDn,{gap:yR,children:[l.jsx(kE,{}),l.jsxs(U,{align:"center",gap:1,flex:1,children:[l.jsxs(B,{muted:!0,size:1,children:[i&&"Failed to send.",a&&"Posting..."]}),l.jsx(U,{hidden:a,children:l.jsx(FDn,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:Y,padding:1,radius:2,tone:"primary",children:l.jsx(B,{size:1,muted:!0,children:"Retry"})})})]})]})]})}var b0e=Object.freeze,NDn=Object.defineProperty,zDn=(e,t)=>b0e(NDn(e,"raw",{value:b0e(t||e.slice())})),x0e;const aFe=I(J).attrs(e=>{let{tone:t}=e;return{padding:3,radius:3,sizing:"border",tone:t||"transparent"}})(x0e||(x0e=zDn([`
  // ...
`])));var w0e=Object.freeze,VDn=Object.defineProperty,IH=(e,t)=>w0e(VDn(e,"raw",{value:w0e(t||e.slice())})),_0e,C0e,S0e;const ly=[],cy=5,HDn=I(aFe)(e=>{let{theme:t}=e;const{hovered:n}=t.sanity.color.button.bleed.default;return de(_0e||(_0e=IH([`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    // When hovering over the thread root we want to display the parent comments menu.
    // The data-root-menu attribute is used to target the menu and is applied in
    // the CommentsListItemLayout component.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &:hover {
          --card-bg-color: `,`;

          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `])),n.bg2)}),UDn=I(ie)(e=>{let{theme:t}=e;const{medium:n}=t.sanity.fonts.text.weights;return de(C0e||(C0e=IH([`
    font-weight: `,`;
  `])),n)}),WDn=I(ie)(S0e||(S0e=IH([`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`]))),YDn=ne.memo(function(t){var n,r;const{canReply:o,currentUser:i,isSelected:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onKeyDown:p,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:b,readOnly:x,replies:y=ly}=t,[w,_]=h.useState(ly),[C,S]=h.useState(!0),E=h.useRef(!1),j=h.useRef(null),k=h.useMemo(()=>b_(w),[w]),T=h.useCallback(()=>{const z={fieldPath:b.target.path.field,message:w,parentCommentId:b._id,status:(b==null?void 0:b.status)||"open",threadId:b.threadId};v==null||v(z),_(ly)},[v,b._id,b==null?void 0:b.status,b.target.path.field,b.threadId,w]),A=h.useCallback(()=>{var z;if(!k){_(ly);return}(z=j.current)==null||z.discardDialogController.open()},[k]),O=h.useCallback(z=>{z.isDefaultPrevented()||z.key==="Escape"&&(z.preventDefault(),z.stopPropagation(),A())},[A]),P=h.useCallback(()=>{var z;(z=j.current)==null||z.discardDialogController.close()},[]),D=h.useCallback(()=>{var z,q;_(ly),(z=j.current)==null||z.discardDialogController.close(),(q=j.current)==null||q.focus()},[]),R=h.useCallback(z=>{z.stopPropagation(),m==null||m({fieldPath:b.target.path.field,origin:"inspector",threadId:b.threadId})},[m,b.target.path.field,b.threadId]),$=h.useCallback(z=>{z.stopPropagation(),S(!1),E.current=!0},[]),H=h.useMemo(()=>C?y==null?void 0:y.slice(-cy):y,[y,C]),F=h.useMemo(()=>y?y.length>cy:!1,[y]),V=h.useMemo(()=>"".concat((y==null?void 0:y.length)-cy," more ").concat((y==null?void 0:y.length)-cy===1?"comment":"comments"),[y==null?void 0:y.length]);h.useEffect(()=>{y.length>cy&&!E.current&&S(!0)},[y]);const W=h.useMemo(()=>H.map(z=>{var q,oe;return l.jsx(te,{as:"li","data-comment-id":z._id,children:l.jsx(y0e,{canDelete:z.authorId===i.id,canEdit:z.authorId===i.id,comment:z,currentUser:i,hasError:((q=z._state)==null?void 0:q.type)==="createError",isRetrying:((oe=z._state)==null?void 0:oe.type)==="createRetrying",mentionOptions:a,onInputKeyDown:O,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,readOnly:x})},z._id)}),[i,O,a,c,u,d,f,x,H]);return l.jsx(te,{space:2,children:l.jsxs(HDn,{"data-active":s?"true":"false",onClick:R,tone:s?"primary":void 0,children:[l.jsx(WDn,{"data-ui":"GhostButton","aria-label":"Go to field"}),l.jsxs(te,{as:"ul",paddingBottom:o?void 0:1,space:4,children:[l.jsx(te,{as:"li","data-comment-id":b._id,children:l.jsx(y0e,{canDelete:b.authorId===i.id,canEdit:b.authorId===i.id,comment:b,currentUser:i,hasError:((n=b._state)==null?void 0:n.type)==="createError",isParent:!0,isRetrying:((r=b._state)==null?void 0:r.type)==="createRetrying",mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onInputKeyDown:p,onStatusChange:g,readOnly:x})}),F&&!E.current&&l.jsxs(U,{gap:1,paddingY:1,sizing:"border",children:[l.jsx(kE,{}),l.jsx(UDn,{fontSize:1,iconRight:Ya,mode:"bleed",onClick:$,padding:2,space:2,text:V})]}),W,o&&l.jsx(vP,{currentUser:i,expandOnFocus:!0,mentionOptions:a,onChange:_,onDiscardCancel:P,onDiscardConfirm:D,onKeyDown:O,onSubmit:T,placeholder:"Reply",readOnly:x,ref:j,value:w})]})]})})}),qDn={close:0,open:500},E0e=l.jsx(B,{muted:!0,children:l.jsx(Tc,{})}),bR=(e,t)=>l.jsx(M,{as:"li",children:l.jsx(B,{textOverflow:"ellipsis",size:1,weight:"semibold",children:e})},"".concat(e,"-").concat(t));function GDn(e){const{titlePath:t,maxLength:n}=e,r=h.useMemo(()=>{const i=t.length,s=Math.ceil(n/2),a=Math.floor(n/2);return n&&i>n?[...t.slice(0,s-1),t.slice(s-1,i-a),...t.slice(i-a)]:t},[n,t]),o=h.useMemo(()=>r.map((i,s)=>{const a="".concat(i,"-").concat(s),c=s<r.length-1;return Array.isArray(i)?l.jsxs(h.Fragment,{children:[l.jsx(st,{delay:qDn,content:l.jsx(te,{space:2,padding:2,children:i.map(bR)}),children:l.jsx(M,{children:bR("...",s)})}),c&&E0e]},a):l.jsxs(h.Fragment,{children:[bR(i,s),c&&E0e]},a)}),[r]);return l.jsx(U,{align:"center",as:"ol",gap:2,children:o})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const KDn=4,k0e=0,j0e=1,ZDn=2;function l1(e){let t=e.length;for(;--t>=0;)e[t]=0}const XDn=0,lFe=1,QDn=2,JDn=3,eIn=258,RH=29,x_=256,Hx=x_+1+RH,wv=30,$H=19,cFe=2*Hx+1,up=15,xR=16,tIn=7,MH=256,uFe=16,dFe=17,fFe=18,wL=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),TE=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),nIn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),hFe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rIn=512,iu=new Array((Hx+2)*2);l1(iu);const Tb=new Array(wv*2);l1(Tb);const Ux=new Array(rIn);l1(Ux);const Wx=new Array(eIn-JDn+1);l1(Wx);const FH=new Array(RH);l1(FH);const Uj=new Array(wv);l1(Uj);function wR(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let pFe,mFe,gFe;function _R(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const vFe=e=>e<256?Ux[e]:Ux[256+(e>>>7)],Yx=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},_s=(e,t,n)=>{e.bi_valid>xR-n?(e.bi_buf|=t<<e.bi_valid&65535,Yx(e,e.bi_buf),e.bi_buf=t>>xR-e.bi_valid,e.bi_valid+=n-xR):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},dc=(e,t,n)=>{_s(e,n[t*2],n[t*2+1])},yFe=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},oIn=e=>{e.bi_valid===16?(Yx(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},iIn=(e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,p,m,v,g=0;for(p=0;p<=up;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<cFe;u++)d=e.heap[u],p=n[n[d*2+1]*2+1]+1,p>c&&(p=c,g++),n[d*2+1]=p,!(d>r)&&(e.bl_count[p]++,m=0,d>=a&&(m=s[d-a]),v=n[d*2],e.opt_len+=v*(p+m),i&&(e.static_len+=v*(o[d*2+1]+m)));if(g!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(p=c;p!==0;p--)for(d=e.bl_count[p];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==p&&(e.opt_len+=(p-n[f*2+1])*n[f*2],n[f*2+1]=p),d--)}},bFe=(e,t,n)=>{const r=new Array(up+1);let o=0,i,s;for(i=1;i<=up;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=yFe(r[a]++,a))}},sIn=()=>{let e,t,n,r,o;const i=new Array(up+1);for(n=0,r=0;r<RH-1;r++)for(FH[r]=n,e=0;e<1<<wL[r];e++)Wx[n++]=r;for(Wx[n-1]=r,o=0,r=0;r<16;r++)for(Uj[r]=o,e=0;e<1<<TE[r];e++)Ux[o++]=r;for(o>>=7;r<wv;r++)for(Uj[r]=o<<7,e=0;e<1<<TE[r]-7;e++)Ux[256+o++]=r;for(t=0;t<=up;t++)i[t]=0;for(e=0;e<=143;)iu[e*2+1]=8,e++,i[8]++;for(;e<=255;)iu[e*2+1]=9,e++,i[9]++;for(;e<=279;)iu[e*2+1]=7,e++,i[7]++;for(;e<=287;)iu[e*2+1]=8,e++,i[8]++;for(bFe(iu,Hx+1,i),e=0;e<wv;e++)Tb[e*2+1]=5,Tb[e*2]=yFe(e,5);pFe=new wR(iu,wL,x_+1,Hx,up),mFe=new wR(Tb,TE,0,wv,up),gFe=new wR(new Array(0),nIn,0,$H,tIn)},xFe=e=>{let t;for(t=0;t<Hx;t++)e.dyn_ltree[t*2]=0;for(t=0;t<wv;t++)e.dyn_dtree[t*2]=0;for(t=0;t<$H;t++)e.bl_tree[t*2]=0;e.dyn_ltree[MH*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},wFe=e=>{e.bi_valid>8?Yx(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},T0e=(e,t,n,r)=>{const o=t*2,i=n*2;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},CR=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&T0e(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!T0e(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},A0e=(e,t,n)=>{let r,o,i=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,o=e.pending_buf[e.sym_buf+i++],r===0?dc(e,o,t):(s=Wx[o],dc(e,s+x_+1,t),a=wL[s],a!==0&&(o-=FH[s],_s(e,o,a)),r--,s=vFe(r),dc(e,s,n),a=TE[s],a!==0&&(r-=Uj[s],_s(e,r,a)));while(i<e.sym_next);dc(e,MH,t)},_L=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,a,c=-1,u;for(e.heap_len=0,e.heap_max=cFe,s=0;s<i;s++)n[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=r[u*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)CR(e,n,s);u=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],CR(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[u*2]=n[s*2]+n[a*2],e.depth[u]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=u,e.heap[1]=u++,CR(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],iIn(e,t),bFe(n,c,e.bl_count)},O0e=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)&&(a<u?e.bl_tree[i*2]+=a:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[uFe*2]++):a<=10?e.bl_tree[dFe*2]++:e.bl_tree[fFe*2]++,a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},P0e=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)){if(a<u)do dc(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==o&&(dc(e,i,e.bl_tree),a--),dc(e,uFe,e.bl_tree),_s(e,a-3,2)):a<=10?(dc(e,dFe,e.bl_tree),_s(e,a-3,3)):(dc(e,fFe,e.bl_tree),_s(e,a-11,7));a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}},aIn=e=>{let t;for(O0e(e,e.dyn_ltree,e.l_desc.max_code),O0e(e,e.dyn_dtree,e.d_desc.max_code),_L(e,e.bl_desc),t=$H-1;t>=3&&e.bl_tree[hFe[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},lIn=(e,t,n,r)=>{let o;for(_s(e,t-257,5),_s(e,n-1,5),_s(e,r-4,4),o=0;o<r;o++)_s(e,e.bl_tree[hFe[o]*2+1],3);P0e(e,e.dyn_ltree,t-1),P0e(e,e.dyn_dtree,n-1)},cIn=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return k0e;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return j0e;for(n=32;n<x_;n++)if(e.dyn_ltree[n*2]!==0)return j0e;return k0e};let D0e=!1;const uIn=e=>{D0e||(sIn(),D0e=!0),e.l_desc=new _R(e.dyn_ltree,pFe),e.d_desc=new _R(e.dyn_dtree,mFe),e.bl_desc=new _R(e.bl_tree,gFe),e.bi_buf=0,e.bi_valid=0,xFe(e)},_Fe=(e,t,n,r)=>{_s(e,(XDn<<1)+(r?1:0),3),wFe(e),Yx(e,n),Yx(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},dIn=e=>{_s(e,lFe<<1,3),dc(e,MH,iu),oIn(e)},fIn=(e,t,n,r)=>{let o,i,s=0;e.level>0?(e.strm.data_type===ZDn&&(e.strm.data_type=cIn(e)),_L(e,e.l_desc),_L(e,e.d_desc),s=aIn(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&t!==-1?_Fe(e,t,n,r):e.strategy===KDn||i===o?(_s(e,(lFe<<1)+(r?1:0),3),A0e(e,iu,Tb)):(_s(e,(QDn<<1)+(r?1:0),3),lIn(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),A0e(e,e.dyn_ltree,e.dyn_dtree)),xFe(e),r&&wFe(e)},hIn=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Wx[n]+x_+1)*2]++,e.dyn_dtree[vFe(t)*2]++),e.sym_next===e.sym_end);var pIn=uIn,mIn=_Fe,gIn=fIn,vIn=hIn,yIn=dIn,bIn={_tr_init:pIn,_tr_stored_block:mIn,_tr_flush_block:gIn,_tr_tally:vIn,_tr_align:yIn};const xIn=(e,t,n,r)=>{let o=e&65535|0,i=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do o=o+t[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0};var qx=xIn;const wIn=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},_In=new Uint32Array(wIn()),CIn=(e,t,n,r)=>{const o=_In,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^o[(e^t[s])&255];return e^-1};var ko=CIn,em={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Fm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:SIn,_tr_stored_block:CL,_tr_flush_block:EIn,_tr_tally:yf,_tr_align:kIn}=bIn,{Z_NO_FLUSH:bf,Z_PARTIAL_FLUSH:jIn,Z_FULL_FLUSH:TIn,Z_FINISH:ka,Z_BLOCK:I0e,Z_OK:Uo,Z_STREAM_END:R0e,Z_STREAM_ERROR:wc,Z_DATA_ERROR:AIn,Z_BUF_ERROR:SR,Z_DEFAULT_COMPRESSION:OIn,Z_FILTERED:PIn,Z_HUFFMAN_ONLY:p2,Z_RLE:DIn,Z_FIXED:IIn,Z_DEFAULT_STRATEGY:RIn,Z_UNKNOWN:$In,Z_DEFLATED:yP}=Fm,MIn=9,FIn=15,LIn=8,BIn=29,NIn=256,SL=NIn+1+BIn,zIn=30,VIn=19,HIn=2*SL+1,UIn=15,Wt=3,ef=258,_c=ef+Wt+1,WIn=32,o0=42,LH=57,EL=69,kL=73,jL=91,TL=103,dp=113,Fy=666,Wi=1,c1=2,tm=3,u1=4,YIn=3,fp=(e,t)=>(e.msg=em[t],t),$0e=e=>e*2-(e>4?9:0),Ld=e=>{let t=e.length;for(;--t>=0;)e[t]=0},qIn=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=o?n-o:0;while(--t);t=o,r=t;do n=e.prev[--r],e.prev[r]=n>=o?n-o:0;while(--t)};let GIn=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,xf=GIn;const Fs=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},qs=(e,t)=>{EIn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Fs(e.strm)},an=(e,t)=>{e.pending_buf[e.pending++]=t},uy=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},AL=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),e.state.wrap===1?e.adler=qx(e.adler,t,o,n):e.state.wrap===2&&(e.adler=ko(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},CFe=(e,t)=>{let n=e.max_chain_length,r=e.strstart,o,i,s=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-_c?e.strstart-(e.w_size-_c):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+ef;let m=u[r+s-1],v=u[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(o=t,!(u[o+s]!==v||u[o+s-1]!==m||u[o]!==u[r]||u[++o]!==u[r+1])){r+=2,o++;do;while(u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&r<p);if(i=ef-(p-r),r=p-ef,i>s){if(e.match_start=t,s=i,i>=a)break;m=u[r+s-1],v=u[r+s]}}while((t=f[t&d])>c&&--n!==0);return s<=e.lookahead?s:e.lookahead},i0=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-_c)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),qIn(e),r+=t),e.strm.avail_in===0)break;if(n=AL(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Wt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=xf(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=xf(e,e.ins_h,e.window[o+Wt-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<Wt)););}while(e.lookahead<_c&&e.strm.avail_in!==0)},SFe=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,o,i,s=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==ka||t===bf||r!==o+e.strm.avail_in)))break;s=t===ka&&r===o+e.strm.avail_in?1:0,CL(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Fs(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(AL(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?u1:t!==bf&&t!==ka&&e.strm.avail_in===0&&e.strstart===e.block_start?c1:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(AL(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=n||(o||t===ka)&&t!==bf&&e.strm.avail_in===0&&o<=i)&&(r=o>i?i:o,s=t===ka&&e.strm.avail_in===0&&r===o?1:0,CL(e,e.block_start,r,s),e.block_start+=r,Fs(e.strm)),s?tm:Wi)},ER=(e,t)=>{let n,r;for(;;){if(e.lookahead<_c){if(i0(e),e.lookahead<_c&&t===bf)return Wi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Wt&&(e.ins_h=xf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-_c&&(e.match_length=CFe(e,n)),e.match_length>=Wt)if(r=yf(e,e.strstart-e.match_start,e.match_length-Wt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Wt){e.match_length--;do e.strstart++,e.ins_h=xf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=xf(e,e.ins_h,e.window[e.strstart+1]);else r=yf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(qs(e,!1),e.strm.avail_out===0))return Wi}return e.insert=e.strstart<Wt-1?e.strstart:Wt-1,t===ka?(qs(e,!0),e.strm.avail_out===0?tm:u1):e.sym_next&&(qs(e,!1),e.strm.avail_out===0)?Wi:c1},rg=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<_c){if(i0(e),e.lookahead<_c&&t===bf)return Wi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Wt&&(e.ins_h=xf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Wt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-_c&&(e.match_length=CFe(e,n),e.match_length<=5&&(e.strategy===PIn||e.match_length===Wt&&e.strstart-e.match_start>4096)&&(e.match_length=Wt-1)),e.prev_length>=Wt&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-Wt,r=yf(e,e.strstart-1-e.prev_match,e.prev_length-Wt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=xf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Wt-1,e.strstart++,r&&(qs(e,!1),e.strm.avail_out===0))return Wi}else if(e.match_available){if(r=yf(e,0,e.window[e.strstart-1]),r&&qs(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Wi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=yf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Wt-1?e.strstart:Wt-1,t===ka?(qs(e,!0),e.strm.avail_out===0?tm:u1):e.sym_next&&(qs(e,!1),e.strm.avail_out===0)?Wi:c1},KIn=(e,t)=>{let n,r,o,i;const s=e.window;for(;;){if(e.lookahead<=ef){if(i0(e),e.lookahead<=ef&&t===bf)return Wi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Wt&&e.strstart>0&&(o=e.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=e.strstart+ef;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);e.match_length=ef-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Wt?(n=yf(e,1,e.match_length-Wt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=yf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(qs(e,!1),e.strm.avail_out===0))return Wi}return e.insert=0,t===ka?(qs(e,!0),e.strm.avail_out===0?tm:u1):e.sym_next&&(qs(e,!1),e.strm.avail_out===0)?Wi:c1},ZIn=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(i0(e),e.lookahead===0)){if(t===bf)return Wi;break}if(e.match_length=0,n=yf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(qs(e,!1),e.strm.avail_out===0))return Wi}return e.insert=0,t===ka?(qs(e,!0),e.strm.avail_out===0?tm:u1):e.sym_next&&(qs(e,!1),e.strm.avail_out===0)?Wi:c1};function ql(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const Ly=[new ql(0,0,0,0,SFe),new ql(4,4,8,4,ER),new ql(4,5,16,8,ER),new ql(4,6,32,32,ER),new ql(4,4,16,16,rg),new ql(8,16,32,32,rg),new ql(8,16,128,128,rg),new ql(8,32,128,256,rg),new ql(32,128,258,1024,rg),new ql(32,258,258,4096,rg)],XIn=e=>{e.window_size=2*e.w_size,Ld(e.head),e.max_lazy_match=Ly[e.level].max_lazy,e.good_match=Ly[e.level].good_length,e.nice_match=Ly[e.level].nice_length,e.max_chain_length=Ly[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Wt-1,e.match_available=0,e.ins_h=0};function QIn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=yP,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HIn*2),this.dyn_dtree=new Uint16Array((2*zIn+1)*2),this.bl_tree=new Uint16Array((2*VIn+1)*2),Ld(this.dyn_ltree),Ld(this.dyn_dtree),Ld(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(UIn+1),this.heap=new Uint16Array(2*SL+1),Ld(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*SL+1),Ld(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const w_=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==o0&&t.status!==LH&&t.status!==EL&&t.status!==kL&&t.status!==jL&&t.status!==TL&&t.status!==dp&&t.status!==Fy?1:0},EFe=e=>{if(w_(e))return fp(e,wc);e.total_in=e.total_out=0,e.data_type=$In;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?LH:t.wrap?o0:dp,e.adler=t.wrap===2?0:1,t.last_flush=-2,SIn(t),Uo},kFe=e=>{const t=EFe(e);return t===Uo&&XIn(e.state),t},JIn=(e,t)=>w_(e)||e.state.wrap!==2?wc:(e.state.gzhead=t,Uo),jFe=(e,t,n,r,o,i)=>{if(!e)return wc;let s=1;if(t===OIn&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>MIn||n!==yP||r<8||r>15||t<0||t>9||i<0||i>IIn||r===8&&s!==1)return fp(e,wc);r===8&&(r=9);const a=new QIn;return e.state=a,a.strm=e,a.status=o0,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Wt-1)/Wt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,kFe(e)},e3n=(e,t)=>jFe(e,t,yP,FIn,LIn,RIn),t3n=(e,t)=>{if(w_(e)||t>I0e||t<0)return e?fp(e,wc):wc;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Fy&&t!==ka)return fp(e,e.avail_out===0?SR:wc);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Fs(e),e.avail_out===0)return n.last_flush=-1,Uo}else if(e.avail_in===0&&$0e(t)<=$0e(r)&&t!==ka)return fp(e,SR);if(n.status===Fy&&e.avail_in!==0)return fp(e,SR);if(n.status===o0&&n.wrap===0&&(n.status=dp),n.status===o0){let o=yP+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=p2||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,o|=i<<6,n.strstart!==0&&(o|=WIn),o+=31-o%31,uy(n,o),n.strstart!==0&&(uy(n,e.adler>>>16),uy(n,e.adler&65535)),e.adler=1,n.status=dp,Fs(e),n.pending!==0)return n.last_flush=-1,Uo}if(n.status===LH){if(e.adler=0,an(n,31),an(n,139),an(n,8),n.gzhead)an(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),an(n,n.gzhead.time&255),an(n,n.gzhead.time>>8&255),an(n,n.gzhead.time>>16&255),an(n,n.gzhead.time>>24&255),an(n,n.level===9?2:n.strategy>=p2||n.level<2?4:0),an(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(an(n,n.gzhead.extra.length&255),an(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=ko(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=EL;else if(an(n,0),an(n,0),an(n,0),an(n,0),an(n,0),an(n,n.level===9?2:n.strategy>=p2||n.level<2?4:0),an(n,YIn),n.status=dp,Fs(e),n.pending!==0)return n.last_flush=-1,Uo}if(n.status===EL){if(n.gzhead.extra){let o=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=ko(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=a,Fs(e),n.pending!==0)return n.last_flush=-1,Uo;o=0,i-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>o&&(e.adler=ko(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=kL}if(n.status===kL){if(n.gzhead.name){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=ko(e.adler,n.pending_buf,n.pending-o,o)),Fs(e),n.pending!==0)return n.last_flush=-1,Uo;o=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,an(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=ko(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=jL}if(n.status===jL){if(n.gzhead.comment){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=ko(e.adler,n.pending_buf,n.pending-o,o)),Fs(e),n.pending!==0)return n.last_flush=-1,Uo;o=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,an(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=ko(e.adler,n.pending_buf,n.pending-o,o))}n.status=TL}if(n.status===TL){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Fs(e),n.pending!==0))return n.last_flush=-1,Uo;an(n,e.adler&255),an(n,e.adler>>8&255),e.adler=0}if(n.status=dp,Fs(e),n.pending!==0)return n.last_flush=-1,Uo}if(e.avail_in!==0||n.lookahead!==0||t!==bf&&n.status!==Fy){let o=n.level===0?SFe(n,t):n.strategy===p2?ZIn(n,t):n.strategy===DIn?KIn(n,t):Ly[n.level].func(n,t);if((o===tm||o===u1)&&(n.status=Fy),o===Wi||o===tm)return e.avail_out===0&&(n.last_flush=-1),Uo;if(o===c1&&(t===jIn?kIn(n):t!==I0e&&(CL(n,0,0,!1),t===TIn&&(Ld(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Fs(e),e.avail_out===0))return n.last_flush=-1,Uo}return t!==ka?Uo:n.wrap<=0?R0e:(n.wrap===2?(an(n,e.adler&255),an(n,e.adler>>8&255),an(n,e.adler>>16&255),an(n,e.adler>>24&255),an(n,e.total_in&255),an(n,e.total_in>>8&255),an(n,e.total_in>>16&255),an(n,e.total_in>>24&255)):(uy(n,e.adler>>>16),uy(n,e.adler&65535)),Fs(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Uo:R0e)},n3n=e=>{if(w_(e))return wc;const t=e.state.status;return e.state=null,t===dp?fp(e,AIn):Uo},r3n=(e,t)=>{let n=t.length;if(w_(e))return wc;const r=e.state,o=r.wrap;if(o===2||o===1&&r.status!==o0||r.lookahead)return wc;if(o===1&&(e.adler=qx(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){o===0&&(Ld(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const i=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,i0(r);r.lookahead>=Wt;){let c=r.strstart,u=r.lookahead-(Wt-1);do r.ins_h=xf(r,r.ins_h,r.window[c+Wt-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=Wt-1,i0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Wt-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=i,r.wrap=o,Uo};var o3n=e3n,i3n=jFe,s3n=kFe,a3n=EFe,l3n=JIn,c3n=t3n,u3n=n3n,d3n=r3n,f3n="pako deflate (from Nodeca project)",Ab={deflateInit:o3n,deflateInit2:i3n,deflateReset:s3n,deflateResetKeep:a3n,deflateSetHeader:l3n,deflate:c3n,deflateEnd:u3n,deflateSetDictionary:d3n,deflateInfo:f3n};const h3n=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var p3n=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)h3n(n,r)&&(e[r]=n[r])}}return e},m3n=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let s=e[r];n.set(s,o),o+=s.length}return n},bP={assign:p3n,flattenChunks:m3n};let TFe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{TFe=!1}const Gx=new Uint8Array(256);for(let e=0;e<256;e++)Gx[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Gx[254]=Gx[254]=1;var g3n=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,i,s=e.length,a=0;for(o=0;o<s;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const v3n=(e,t)=>{if(t<65534&&e.subarray&&TFe)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var y3n=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let s=e[r++];if(s<128){i[o++]=s;continue}let a=Gx[s];if(a>4){i[o++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){i[o++]=65533;continue}s<65536?i[o++]=s:(s-=65536,i[o++]=55296|s>>10&1023,i[o++]=56320|s&1023)}return v3n(i,o)},b3n=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Gx[e[n]]>t?n:t},Kx={string2buf:g3n,buf2string:y3n,utf8border:b3n};function x3n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var AFe=x3n;const OFe=Object.prototype.toString,{Z_NO_FLUSH:w3n,Z_SYNC_FLUSH:_3n,Z_FULL_FLUSH:C3n,Z_FINISH:S3n,Z_OK:Wj,Z_STREAM_END:E3n,Z_DEFAULT_COMPRESSION:k3n,Z_DEFAULT_STRATEGY:j3n,Z_DEFLATED:T3n}=Fm;function __(e){this.options=bP.assign({level:k3n,method:T3n,chunkSize:16384,windowBits:15,memLevel:8,strategy:j3n},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new AFe,this.strm.avail_out=0;let n=Ab.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Wj)throw new Error(em[n]);if(t.header&&Ab.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Kx.string2buf(t.dictionary):OFe.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Ab.deflateSetDictionary(this.strm,r),n!==Wj)throw new Error(em[n]);this._dict_set=!0}}__.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?S3n:w3n,typeof e=="string"?n.input=Kx.string2buf(e):OFe.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===_3n||i===C3n)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=Ab.deflate(n,i),o===E3n)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Ab.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Wj;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};__.prototype.onData=function(e){this.chunks.push(e)};__.prototype.onEnd=function(e){e===Wj&&(this.result=bP.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function BH(e,t){const n=new __(t);if(n.push(e,!0),n.err)throw n.msg||em[n.err];return n.result}function A3n(e,t){return t=t||{},t.raw=!0,BH(e,t)}function O3n(e,t){return t=t||{},t.gzip=!0,BH(e,t)}var P3n=__,D3n=BH,I3n=A3n,R3n=O3n,$3n=Fm,M3n={Deflate:P3n,deflate:D3n,deflateRaw:I3n,gzip:R3n,constants:$3n};const m2=16209,F3n=16191;var L3n=function(t,n){let r,o,i,s,a,c,u,d,f,p,m,v,g,b,x,y,w,_,C,S,E,j,k,T;const A=t.state;r=t.next_in,k=t.input,o=r+(t.avail_in-5),i=t.next_out,T=t.output,s=i-(n-t.avail_out),a=i+(t.avail_out-257),c=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,p=A.window,m=A.hold,v=A.bits,g=A.lencode,b=A.distcode,x=(1<<A.lenbits)-1,y=(1<<A.distbits)-1;e:do{v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=g[m&x];t:for(;;){if(_=w>>>24,m>>>=_,v-=_,_=w>>>16&255,_===0)T[i++]=w&65535;else if(_&16){C=w&65535,_&=15,_&&(v<_&&(m+=k[r++]<<v,v+=8),C+=m&(1<<_)-1,m>>>=_,v-=_),v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=b[m&y];n:for(;;){if(_=w>>>24,m>>>=_,v-=_,_=w>>>16&255,_&16){if(S=w&65535,_&=15,v<_&&(m+=k[r++]<<v,v+=8,v<_&&(m+=k[r++]<<v,v+=8)),S+=m&(1<<_)-1,S>c){t.msg="invalid distance too far back",A.mode=m2;break e}if(m>>>=_,v-=_,_=i-s,S>_){if(_=S-_,_>d&&A.sane){t.msg="invalid distance too far back",A.mode=m2;break e}if(E=0,j=p,f===0){if(E+=u-_,_<C){C-=_;do T[i++]=p[E++];while(--_);E=i-S,j=T}}else if(f<_){if(E+=u+f-_,_-=f,_<C){C-=_;do T[i++]=p[E++];while(--_);if(E=0,f<C){_=f,C-=_;do T[i++]=p[E++];while(--_);E=i-S,j=T}}}else if(E+=f-_,_<C){C-=_;do T[i++]=p[E++];while(--_);E=i-S,j=T}for(;C>2;)T[i++]=j[E++],T[i++]=j[E++],T[i++]=j[E++],C-=3;C&&(T[i++]=j[E++],C>1&&(T[i++]=j[E++]))}else{E=i-S;do T[i++]=T[E++],T[i++]=T[E++],T[i++]=T[E++],C-=3;while(C>2);C&&(T[i++]=T[E++],C>1&&(T[i++]=T[E++]))}}else if(_&64){t.msg="invalid distance code",A.mode=m2;break e}else{w=b[(w&65535)+(m&(1<<_)-1)];continue n}break}}else if(_&64)if(_&32){A.mode=F3n;break e}else{t.msg="invalid literal/length code",A.mode=m2;break e}else{w=g[(w&65535)+(m&(1<<_)-1)];continue t}break}}while(r<o&&i<a);C=v>>3,r-=C,v-=C<<3,m&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<a?257+(a-i):257-(i-a),A.hold=m,A.bits=v};const og=15,M0e=852,F0e=592,L0e=0,kR=1,B0e=2,B3n=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),N3n=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),z3n=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),V3n=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),H3n=(e,t,n,r,o,i,s,a)=>{const c=a.bits;let u=0,d=0,f=0,p=0,m=0,v=0,g=0,b=0,x=0,y=0,w,_,C,S,E,j=null,k;const T=new Uint16Array(og+1),A=new Uint16Array(og+1);let O=null,P,D,R;for(u=0;u<=og;u++)T[u]=0;for(d=0;d<r;d++)T[t[n+d]]++;for(m=c,p=og;p>=1&&T[p]===0;p--);if(m>p&&(m=p),p===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&T[f]===0;f++);for(m<f&&(m=f),b=1,u=1;u<=og;u++)if(b<<=1,b-=T[u],b<0)return-1;if(b>0&&(e===L0e||p!==1))return-1;for(A[1]=0,u=1;u<og;u++)A[u+1]=A[u]+T[u];for(d=0;d<r;d++)t[n+d]!==0&&(s[A[t[n+d]]++]=d);if(e===L0e?(j=O=s,k=20):e===kR?(j=B3n,O=N3n,k=257):(j=z3n,O=V3n,k=0),y=0,d=0,u=f,E=i,v=m,g=0,C=-1,x=1<<m,S=x-1,e===kR&&x>M0e||e===B0e&&x>F0e)return 1;for(;;){P=u-g,s[d]+1<k?(D=0,R=s[d]):s[d]>=k?(D=O[s[d]-k],R=j[s[d]-k]):(D=32+64,R=0),w=1<<u-g,_=1<<v,f=_;do _-=w,o[E+(y>>g)+_]=P<<24|D<<16|R|0;while(_!==0);for(w=1<<u-1;y&w;)w>>=1;if(w!==0?(y&=w-1,y+=w):y=0,d++,--T[u]===0){if(u===p)break;u=t[n+s[d]]}if(u>m&&(y&S)!==C){for(g===0&&(g=m),E+=f,v=u-g,b=1<<v;v+g<p&&(b-=T[v+g],!(b<=0));)v++,b<<=1;if(x+=1<<v,e===kR&&x>M0e||e===B0e&&x>F0e)return 1;C=y&S,o[C]=m<<24|v<<16|E-i|0}}return y!==0&&(o[E+y]=u-g<<24|64<<16|0),a.bits=m,0};var Ob=H3n;const U3n=0,PFe=1,DFe=2,{Z_FINISH:N0e,Z_BLOCK:W3n,Z_TREES:g2,Z_OK:nm,Z_STREAM_END:Y3n,Z_NEED_DICT:q3n,Z_STREAM_ERROR:za,Z_DATA_ERROR:IFe,Z_MEM_ERROR:RFe,Z_BUF_ERROR:G3n,Z_DEFLATED:z0e}=Fm,xP=16180,V0e=16181,H0e=16182,U0e=16183,W0e=16184,Y0e=16185,q0e=16186,G0e=16187,K0e=16188,Z0e=16189,Yj=16190,Zc=16191,jR=16192,X0e=16193,TR=16194,Q0e=16195,J0e=16196,e1e=16197,t1e=16198,v2=16199,y2=16200,n1e=16201,r1e=16202,o1e=16203,i1e=16204,s1e=16205,AR=16206,a1e=16207,l1e=16208,dr=16209,$Fe=16210,MFe=16211,K3n=852,Z3n=592,X3n=15,Q3n=X3n,c1e=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function J3n(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<xP||t.mode>MFe?1:0},FFe=e=>{if(Lm(e))return za;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=xP,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(K3n),t.distcode=t.distdyn=new Int32Array(Z3n),t.sane=1,t.back=-1,nm},LFe=e=>{if(Lm(e))return za;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,FFe(e)},BFe=(e,t)=>{let n;if(Lm(e))return za;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?za:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,LFe(e))},NFe=(e,t)=>{if(!e)return za;const n=new J3n;e.state=n,n.strm=e,n.window=null,n.mode=xP;const r=BFe(e,t);return r!==nm&&(e.state=null),r},eRn=e=>NFe(e,Q3n);let u1e=!0,OR,PR;const tRn=e=>{if(u1e){OR=new Int32Array(512),PR=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ob(PFe,e.lens,0,288,OR,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ob(DFe,e.lens,0,32,PR,0,e.work,{bits:5}),u1e=!1}e.lencode=OR,e.lenbits=9,e.distcode=PR,e.distbits=5},zFe=(e,t,n,r)=>{let o;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},nRn=(e,t)=>{let n,r,o,i,s,a,c,u,d,f,p,m,v,g,b=0,x,y,w,_,C,S,E,j;const k=new Uint8Array(4);let T,A;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lm(e)||!e.output||!e.input&&e.avail_in!==0)return za;n=e.state,n.mode===Zc&&(n.mode=jR),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,f=a,p=c,j=nm;e:for(;;)switch(n.mode){case xP:if(n.wrap===0){n.mode=jR;break}for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=u&255,k[1]=u>>>8&255,n.check=ko(n.check,k,2,0),u=0,d=0,n.mode=V0e;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=dr;break}if((u&15)!==z0e){e.msg="unknown compression method",n.mode=dr;break}if(u>>>=4,d-=4,E=(u&15)+8,n.wbits===0&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=dr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?Z0e:Zc,u=0,d=0;break;case V0e:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==z0e){e.msg="unknown compression method",n.mode=dr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=dr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=ko(n.check,k,2,0)),u=0,d=0,n.mode=H0e;case H0e:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,n.check=ko(n.check,k,4,0)),u=0,d=0,n.mode=U0e;case U0e:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=ko(n.check,k,2,0)),u=0,d=0,n.mode=W0e;case W0e:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=ko(n.check,k,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=Y0e;case Y0e:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),E)),n.flags&512&&n.wrap&4&&(n.check=ko(n.check,r,m,i)),a-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=q0e;case q0e:if(n.flags&2048){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=ko(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=G0e;case G0e:if(n.flags&4096){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=ko(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.comment=null);n.mode=K0e;case K0e:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=dr;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Zc;break;case Z0e:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}e.adler=n.check=c1e(u),u=0,d=0,n.mode=Yj;case Yj:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,q3n;e.adler=n.check=1,n.mode=Zc;case Zc:if(t===W3n||t===g2)break e;case jR:if(n.last){u>>>=d&7,d-=d&7,n.mode=AR;break}for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=X0e;break;case 1:if(tRn(n),n.mode=v2,t===g2){u>>>=2,d-=2;break e}break;case 2:n.mode=J0e;break;case 3:e.msg="invalid block type",n.mode=dr}u>>>=2,d-=2;break;case X0e:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=dr;break}if(n.length=u&65535,u=0,d=0,n.mode=TR,t===g2)break e;case TR:n.mode=Q0e;case Q0e:if(m=n.length,m){if(m>a&&(m=a),m>c&&(m=c),m===0)break e;o.set(r.subarray(i,i+m),s),a-=m,i+=m,c-=m,s+=m,n.length-=m;break}n.mode=Zc;break;case J0e:for(;d<14;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=dr;break}n.have=0,n.mode=e1e;case e1e:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.lens[O[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[O[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},j=Ob(U3n,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid code lengths set",n.mode=dr;break}n.have=0,n.mode=t1e;case t1e:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,n.lens[n.have++]=w;else{if(w===16){for(A=x+2;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=dr;break}E=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(A=x+3;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=3+(u&7),u>>>=3,d-=3}else{for(A=x+7;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=dr;break}for(;m--;)n.lens[n.have++]=E}}if(n.mode===dr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=dr;break}if(n.lenbits=9,T={bits:n.lenbits},j=Ob(PFe,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid literal/lengths set",n.mode=dr;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},j=Ob(DFe,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,j){e.msg="invalid distances set",n.mode=dr;break}if(n.mode=v2,t===g2)break e;case v2:n.mode=y2;case y2:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,L3n(e,p),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,n.mode===Zc&&(n.back=-1);break}for(n.back=0;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(y&&!(y&240)){for(_=x,C=y,S=w;b=n.lencode[S+((u&(1<<_+C)-1)>>_)],x=b>>>24,y=b>>>16&255,w=b&65535,!(_+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=_,d-=_,n.back+=_}if(u>>>=x,d-=x,n.back+=x,n.length=w,y===0){n.mode=s1e;break}if(y&32){n.back=-1,n.mode=Zc;break}if(y&64){e.msg="invalid literal/length code",n.mode=dr;break}n.extra=y&15,n.mode=n1e;case n1e:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=r1e;case r1e:for(;b=n.distcode[u&(1<<n.distbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(!(y&240)){for(_=x,C=y,S=w;b=n.distcode[S+((u&(1<<_+C)-1)>>_)],x=b>>>24,y=b>>>16&255,w=b&65535,!(_+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=_,d-=_,n.back+=_}if(u>>>=x,d-=x,n.back+=x,y&64){e.msg="invalid distance code",n.mode=dr;break}n.offset=w,n.extra=y&15,n.mode=o1e;case o1e:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=dr;break}n.mode=i1e;case i1e:if(c===0)break e;if(m=p-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=dr;break}m>n.wnext?(m-=n.wnext,v=n.wsize-m):v=n.wnext-m,m>n.length&&(m=n.length),g=n.window}else g=o,v=s-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do o[s++]=g[v++];while(--m);n.length===0&&(n.mode=y2);break;case s1e:if(c===0)break e;o[s++]=n.length,c--,n.mode=y2;break;case AR:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[i++]<<d,d+=8}if(p-=c,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?ko(n.check,o,p,s-p):qx(n.check,o,p,s-p)),p=c,n.wrap&4&&(n.flags?u:c1e(u))!==n.check){e.msg="incorrect data check",n.mode=dr;break}u=0,d=0}n.mode=a1e;case a1e:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=dr;break}u=0,d=0}n.mode=l1e;case l1e:j=Y3n;break e;case dr:j=IFe;break e;case $Fe:return RFe;case MFe:default:return za}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<dr&&(n.mode<AR||t!==N0e))&&zFe(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?ko(n.check,o,p,e.next_out-p):qx(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Zc?128:0)+(n.mode===v2||n.mode===TR?256:0),(f===0&&p===0||t===N0e)&&j===nm&&(j=G3n),j},rRn=e=>{if(Lm(e))return za;let t=e.state;return t.window&&(t.window=null),e.state=null,nm},oRn=(e,t)=>{if(Lm(e))return za;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,nm):za},iRn=(e,t)=>{const n=t.length;let r,o,i;return Lm(e)||(r=e.state,r.wrap!==0&&r.mode!==Yj)?za:r.mode===Yj&&(o=1,o=qx(o,t,n,0),o!==r.check)?IFe:(i=zFe(e,t,n,n),i?(r.mode=$Fe,RFe):(r.havedict=1,nm))};var sRn=LFe,aRn=BFe,lRn=FFe,cRn=eRn,uRn=NFe,dRn=nRn,fRn=rRn,hRn=oRn,pRn=iRn,mRn="pako inflate (from Nodeca project)",su={inflateReset:sRn,inflateReset2:aRn,inflateResetKeep:lRn,inflateInit:cRn,inflateInit2:uRn,inflate:dRn,inflateEnd:fRn,inflateGetHeader:hRn,inflateSetDictionary:pRn,inflateInfo:mRn};function gRn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vRn=gRn;const VFe=Object.prototype.toString,{Z_NO_FLUSH:yRn,Z_FINISH:bRn,Z_OK:Zx,Z_STREAM_END:DR,Z_NEED_DICT:IR,Z_STREAM_ERROR:xRn,Z_DATA_ERROR:d1e,Z_MEM_ERROR:wRn}=Fm;function C_(e){this.options=bP.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new AFe,this.strm.avail_out=0;let n=su.inflateInit2(this.strm,t.windowBits);if(n!==Zx)throw new Error(em[n]);if(this.header=new vRn,su.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Kx.string2buf(t.dictionary):VFe.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=su.inflateSetDictionary(this.strm,t.dictionary),n!==Zx)))throw new Error(em[n])}C_.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?bRn:yRn,VFe.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=su.inflate(n,s),i===IR&&o&&(i=su.inflateSetDictionary(n,o),i===Zx?i=su.inflate(n,s):i===d1e&&(i=IR));n.avail_in>0&&i===DR&&n.state.wrap>0&&e[n.next_in]!==0;)su.inflateReset(n),i=su.inflate(n,s);switch(i){case xRn:case d1e:case IR:case wRn:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===DR))if(this.options.to==="string"){let c=Kx.utf8border(n.output,n.next_out),u=n.next_out-c,d=Kx.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Zx&&a===0)){if(i===DR)return i=su.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};C_.prototype.onData=function(e){this.chunks.push(e)};C_.prototype.onEnd=function(e){e===Zx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bP.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function NH(e,t){const n=new C_(t);if(n.push(e),n.err)throw n.msg||em[n.err];return n.result}function _Rn(e,t){return t=t||{},t.raw=!0,NH(e,t)}var CRn=C_,SRn=NH,ERn=_Rn,kRn=NH,jRn=Fm,TRn={Inflate:CRn,inflate:SRn,inflateRaw:ERn,ungzip:kRn,constants:jRn};const{Deflate:ARn,deflate:ORn,deflateRaw:PRn,gzip:DRn}=M3n,{Inflate:IRn,inflate:RRn,inflateRaw:$Rn,ungzip:MRn}=TRn;var FRn=ARn,LRn=ORn,BRn=PRn,NRn=DRn,zRn=IRn,VRn=RRn,HRn=$Rn,URn=MRn,WRn=Fm,HFe={Deflate:FRn,deflate:LRn,deflateRaw:BRn,gzip:NRn,Inflate:zRn,inflate:VRn,inflateRaw:HRn,ungzip:URn,constants:WRn};function YRn(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function UFe(e,t){return s0(e)?e[Number(t)]:e[t]}function WFe(e,t){if(e){var n=t.shift(),r=UFe(e,n);return t.length&&(s0(r)||Xx(r))?WFe(r,t):r}}function s0(e){return Array.isArray(e)}function Xx(e){return e&&typeof e=="object"}function RR(e,t,n){if(s0(e)){e[Number(t)]=n;return}if(Xx(e)){e[t]=n;return}throw new Error("shallowClone: target must be an object or an array")}function f1e(e){if(s0(e))return e.slice(0);if(Xx(e))return YRn({},e);throw new Error("shallowClone: source must be an object or an array")}function qRn(e,t){return t?WFe(e,t.split("/")):e}function GRn(e,t,n){if(!t){if(s0(n)||Xx(n))return n;throw new Error("set: cannot replace value with a non-record value")}if(qRn(e,t)===n)return e;for(var r=f1e(e),o=t.split("/"),i=e,s=r;o.length;){var a=o.shift();if(o.length){var c=UFe(i,a);if(c===void 0&&(c={},RR(i,a,c)),!s0(c)&&!Xx(c))throw new Error('set: path is not targeting an object nor an array: "'+t+'"');i=c;var u=f1e(i);RR(s,a,u),s=u}else RR(s,a,n)}return r}const _v=[],OL={},KRn="auto",ZRn=1,qj=[{name:"auto",title:"Full",rect:{width:"auto"}},{name:"768",title:"768px",rect:{width:768}},{name:"375",title:"375px",rect:{width:375,height:667}},{name:"320",title:"320px",rect:{width:320,height:568}}],h1e=[{value:.5,title:"50%"},{value:.75,title:"75%"},{value:1,title:"100%"},{value:1.5,title:"150%"},{value:2,title:"200%"},{value:3,title:"300%"}];function YFe(){const e=new Set;return{publish(t){for(const n of e)n(t)},subscribe(t){return e.add(t),()=>{e.delete(t)}}}}const XRn={parse(e){const t=new URLSearchParams("?"+e),n={};return t.forEach((r,o)=>{n[o]=r}),n},stringify(e){return Object.entries(e).map(t=>{let[n,r]=t;return"".concat(n,"=").concat(r)}).join("&")}};function QRn(e,t){const n=t.split("/").slice(1).filter(Boolean),r=n.join("/");if(n.length===0)return{scope:null,story:null};for(const o of e)for(const i of o.stories){const s=[o.name,i.name].filter(Boolean).join("/");if(r===s)return{scope:o,story:i}}return{scope:null,story:null}}function qFe(e){const{baseUrl:t="/frame/",path:n,payload:r,scheme:o,viewport:i,zoom:s}=e;return[t,"?path=".concat(encodeURIComponent(n)),"&scheme=".concat(o),"&viewport=".concat(i),"&zoom=".concat(s),...Object.entries(r).map(a=>{let[c,u]=a;return"&".concat(c,"=").concat(u)})].join("")}const GFe=h.createContext(null);function d1(){const e=h.useContext(GFe);if(!e)throw new Error("Props: missing context value");return e}const JRn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=d1();return l.jsxs(U,{as:"label",padding:3,children:[l.jsx(M,{marginRight:2,style:{lineHeight:0},children:l.jsx(QT,{checked:r||!1,onChange:i=>o(n.name,i.currentTarget.checked)})}),l.jsx(M,{paddingY:1,children:l.jsx(B,{size:1,weight:"semibold",children:n.name})})]})}),e$n=h.memo(function(t){const{schema:n,value:r=""}=t,{setPropValue:o}=d1();return l.jsxs(M,{padding:3,children:[l.jsx(B,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Or,{fontSize:[2,2,1],onChange:i=>o(n.name,Number(i.currentTarget.value)),padding:2,value:r})})]})}),t$n=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=d1(),i=h.useMemo(()=>{const s=Object.entries(n.options);for(const[a,c]of s)if(c===r)return a;return""},[n,r]);return l.jsxs(M,{padding:3,children:[l.jsx(B,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(If,{fontSize:[2,2,1],onChange:s=>{const a=s.currentTarget.value,c=n.options[a];o(n.name,c)},padding:2,radius:2,value:String(i||""),children:Object.entries(n.options).map(s=>{let[a]=s;return l.jsx("option",{value:a,children:a},a)})})})]})}),n$n=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=d1();return l.jsxs(M,{padding:3,children:[l.jsx(B,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Or,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),padding:2,value:r||""})})]})}),r$n=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=d1();return l.jsxs(M,{padding:3,children:[l.jsx(B,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(ASe,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),rows:4,value:r||""})})]})});function o$n(e){const{schema:t,value:n}=e;return t.type==="boolean"?l.jsx(JRn,{schema:t,value:n}):t.type==="number"?l.jsx(e$n,{schema:t,value:n}):t.type==="select"?l.jsx(t$n,{schema:t,value:n}):t.type==="string"?l.jsx(n$n,{schema:t,value:n}):t.type==="text"?l.jsx(r$n,{schema:t,value:n}):l.jsx(M,{padding:2,children:l.jsxs(B,{size:1,weight:"semibold",children:["Unknown Prop type:"," ",l.jsxs("code",{children:[t.name,": ",t.type]})]})})}const i$n=h.memo(function(){const{schemas:t,value:n}=d1();return l.jsxs(M,{padding:2,children:[t.length===0&&l.jsx(M,{padding:2,children:l.jsx(B,{muted:!0,size:[2,2,1],children:"No properties"})}),t.length>0&&t.map((r,o)=>l.jsx(o$n,{schema:r,value:n[r.name]===void 0?r.defaultValue:n[r.name]},o))]})}),Cv=zt,KFe=h.createContext(null);function Qa(){const e=h.useContext(KFe);if(!e)throw new Error("Workshop: missing context value");return e}const s$n=typeof window>"u"?e=>Buffer.from(e,"binary").toString("base64"):window.btoa,a$n=typeof window>"u"?e=>Buffer.from(e,"base64").toString("binary"):window.atob;function l$n(e){let t="";for(let n=0,{length:r}=e;n<r;n++)t+=String.fromCharCode(e[n]);return s$n(t)}function c$n(e){const t=a$n(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function u$n(e){if(e.length===0)return"";const t=c$n(e);return HFe.inflate(t,{to:"string"})}function d$n(e){if(e.length===0)return"";const t=HFe.deflate(e);return l$n(t)}function f$n(e){return d$n(JSON.stringify(e))}function p1e(e){try{return JSON.parse(u$n(e))}catch{return{}}}function h$n(e,t){if(t.type==="workshop/props/setValue")return{...e,value:t.value};if(t.type==="workshop/props/registerProp")return{...e,schemas:e.schemas.concat([t.schema])};if(t.type==="workshop/props/unregisterProp"){const n={...e.value};return delete n[t.name],{...e,schemas:e.schemas.filter(r=>r.name!==t.name),value:n}}return t.type==="workshop/props/setPropValue"?{...e,value:{...e.value,[t.name]:t.value}}:e}const p$n=h.memo(function(t){const{children:n}=t,{channel:r,broadcast:o,payload:i}=Qa(),s=i.value,a=h.useRef(s),[{schemas:c,value:u},d]=h.useState({schemas:[],value:p1e(String(s))||{}}),f=h.useCallback(g=>{o({type:"workshop/props/registerProp",schema:g})},[o]),p=h.useCallback(g=>{o({type:"workshop/props/unregisterProp",name:g})},[o]),m=h.useCallback((g,b)=>{o({type:"workshop/props/setPropValue",name:g,value:b})},[o]),v=h.useMemo(()=>({registerProp:f,schemas:c,setPropValue:m,unregisterProp:p,value:u}),[f,c,m,p,u]);return h.useEffect(()=>r.subscribe(g=>{d(b=>{const x=h$n(b,g);return Cv(b,x)?b:x})}),[r]),h.useEffect(()=>{const g=f$n(u);a.current!==g&&(a.current=g,o({type:"workshop/setPayloadValue",key:"value",value:g}))},[o,u]),h.useEffect(()=>{a.current!==s&&(a.current=s,d(g=>({...g,value:p1e(String(s))||{}})))},[s]),l.jsx(GFe.Provider,{value:v,children:n})});function m$n(){return{name:"props",title:"Properties",inspector:i$n,provider:p$n}}const ZFe=h.memo(function(t){const{broadcast:n,children:r,channel:o,config:i,frameReady:s,origin:a,path:c,payload:u,scheme:d,viewport:f="auto",zoom:p=1}=t,{plugins:m=_v,collections:v=_v,frameUrl:g="/frame/",scopes:b,title:x="Workshop"}=i;if(!u)throw new Error("missing `payload` property");const y=h.useMemo(()=>[m$n(),...m],[m]),{scope:w,story:_}=h.useMemo(()=>QRn(b,c),[c,b]),C=h.useMemo(()=>({plugins:y,broadcast:n,channel:o,collections:v,frameReady:s,frameUrl:g,origin:a,path:c,payload:u,scheme:d,scope:w,scopes:b,story:_,title:x,viewport:f,zoom:p}),[y,n,o,v,s,g,a,c,u,d,w,b,_,x,f,p]);let S=r;for(const E of y)E.provider&&(S=h.createElement(E.provider,{options:E.options||OL},S));return l.jsx(KFe.Provider,{value:C,children:S})});function XFe(e,t){if(t.type==="workshop/frameReady")return{...e,frameReady:!0};if(t.type==="workshop/setState")return Cv(e,t.value)?e:t.value;if(t.type==="workshop/setZoom")return e.zoom===t.value?e:{...e,zoom:t.value};if(t.type==="workshop/setViewport")return e.viewport===t.value?e:{...e,viewport:t.value};if(t.type==="workshop/toggleScheme")return{...e,scheme:e.scheme==="light"?"dark":"light"};if(t.type==="workshop/setScheme")return e.scheme===t.value?e:{...e,scheme:t.value};if(t.type==="workshop/setPath")return e.path===t.value?e:{...e,path:t.value};if(t.type==="workshop/setPayload")return Cv(e.payload,t.value)?e:{...e,payload:t.value};if(t.type==="workshop/setPayloadValue"){const n={...e.payload,[t.key]:t.value};return Cv(e.payload,n)?e:{...e,payload:n}}return e}const m1e=(()=>{try{return{}.ROOT_PATH}catch{return}})(),g$n=/http:\/\/([^:/\s]+)(:[0-9]+)?/g,v$n=/\/@fs\//g,y$n=/\?([a-z]{1})=([0-9]+)/g;function g1e(e){let t=decodeURIComponent(e);return t=e.replace(g$n,"").replace(v$n,"/").replace(y$n,""),m1e?b$n(t,m1e+"/"):t}function b$n(e,t){const n=new RegExp(t.replace(/\//g,"\\/"),"g");return e.replace(n,"")}const x$n=h.memo(function(){const{story:t}=Qa(),[n,r]=h.useState({error:null,errorInfo:null}),o=h.useCallback(s=>{let{error:a,info:c}=s;r({error:a,errorInfo:c})},[]),i=h.useCallback(()=>{r({error:null,errorInfo:null})},[]);return t?n.error?l.jsx(J,{as:"main",height:"fill",overflow:"auto",tone:"critical",children:l.jsx(_$n,{error:n.error,errorInfo:n.errorInfo,onRetry:i})}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{hidden:!0,children:t.title}),l.jsx(h.Suspense,{fallback:l.jsx(w$n,{story:t}),children:l.jsx(J,{as:"main",height:"fill",children:l.jsx(x0,{onCatch:o,children:h.createElement(t.component)})})})]}):l.jsx(l.Fragment,{})}),w$n=h.memo(function(t){const{story:n}=t;return l.jsxs(l.Fragment,{children:[l.jsxs("h1",{hidden:!0,children:["Loading ",l.jsx("em",{children:n.title}),"…"]}),l.jsx(U,{align:"center",as:"main",height:"fill",justify:"center",children:l.jsx(ir,{muted:!0})})]})}),_$n=h.memo(function(t){const{error:n,errorInfo:r,onRetry:o}=t;return l.jsx(M,{padding:4,children:l.jsxs(te,{space:4,children:[l.jsx(Lo,{as:"h1",size:[1,1,2],children:n.message}),l.jsx(M,{children:l.jsx(ie,{onClick:o,text:"Retry"})}),n.stack&&l.jsx(er,{size:1,children:g1e(n.stack)}),r&&l.jsx(er,{size:1,children:"Component stack:"+g1e(r.componentStack)})]})})});function QFe(e){return Array.isArray(e)}function JFe(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function C$n(){const e=new Set;let t=[],n=null;function r(){n&&clearInterval(n),n=setTimeout(()=>{window.parent.postMessage(t),t=[],n=null},0)}function o(a){const c=a.data;if(QFe(c)){for(const u of c)if(JFe(u)&&typeof u.type=="string"&&u.type.startsWith("workshop/"))for(const d of e)d(u)}}function i(){window.addEventListener("message",o,!1)}function s(){window.removeEventListener("message",o,!1)}return{message:{publish(a){t.push(a),r()},subscribe(a){return e.add(a),e.size===1&&i(),()=>{e.delete(a),e.size===0&&s()}}}}}function S$n(){const e=typeof window>"u"?{}:XRn.parse(window.location.search.slice(1)),{path:t="/",scheme:n,viewport:r,zoom:o,...i}=e;return{frameReady:!1,path:t,payload:i,scheme:typeof n=="string"?n:"light",viewport:typeof r=="string"?r:"auto",zoom:typeof o=="string"?Number(o):1}}h.memo(function(t){const{config:n,setScheme:r}=t,o=h.useMemo(()=>C$n(),[]),i=h.useMemo(()=>YFe(),[]),[s,a]=h.useState(null),[c,u]=h.useState(null),d=h.useCallback(y=>{i.publish(y),o.message.publish(y)},[i,o]),[{frameReady:f,path:p,payload:m,scheme:v,viewport:g,zoom:b},x]=h.useState(()=>S$n());return h.useEffect(()=>i.subscribe(y=>x(w=>XFe(w,y))),[i]),h.useEffect(()=>o.message.subscribe(i.publish),[i,o]),h.useEffect(()=>r(v),[r,v]),h.useEffect(()=>d({type:"workshop/frameReady"}),[d]),l.jsx(i7,{children:l.jsx(Iu,{element:s,children:l.jsx(nd,{element:c,children:l.jsx(ZFe,{broadcast:d,config:n,channel:i,frameReady:f,origin:"frame",path:p,payload:m,scheme:v,viewport:g,zoom:b,children:l.jsxs(J,{height:"fill",ref:a,children:[l.jsx(x$n,{}),l.jsx("div",{"data-portal":"",ref:u})]})})})})})});var v1e=Object.freeze,E$n=Object.defineProperty,k$n=(e,t)=>v1e(E$n(e,"raw",{value:v1e(t||e.slice())})),y1e;Qbe(y1e||(y1e=k$n([`
  body {
    background-color: `,`;
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.base.bg});var b1e=Object.freeze,j$n=Object.defineProperty,T$n=(e,t)=>b1e(j$n(e,"raw",{value:b1e(t||e.slice())})),x1e;const A$n=h.memo(nx),O$n=I(J)(x1e||(x1e=T$n([`
  line-height: 0;

  @media screen and (max-width: `,`px) {
    text-align: center;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]-1}),P$n=h.memo(function(t){const{currentTabId:n,onTabChange:r,tabs:o}=t,i=h.useMemo(()=>({flex:"none",position:"sticky",top:0}),[]),s=h.useMemo(()=>o.map(a=>l.jsx(D$n,{onTabChange:r,selected:a.id===n,tab:a},a.id)),[n,r,o]);return l.jsx(Ji,{style:i,children:l.jsx(O$n,{padding:2,shadow:1,children:l.jsx(nA,{space:1,children:s})})})});function D$n(e){const{onTabChange:t,selected:n,tab:r}=e,o=h.useCallback(()=>{t(r.id)},[t,r]);return l.jsx(A$n,{"aria-controls":"".concat(r.id,"-panel"),fontSize:[2,2,1],id:r.id,label:r.label,onClick:o,selected:n,tone:r.tone})}var w1e=Object.freeze,I$n=Object.defineProperty,R$n=(e,t)=>w1e(I$n(e,"raw",{value:w1e(t||e.slice())})),_1e;const $$n=I(J)(_1e||(_1e=R$n([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-left: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),C1e=h.memo(function(t){return h.createElement(t.component,{options:t.options})}),M$n=h.memo(function(t){const{expanded:n}=t,{plugins:r}=Qa(),o=h.useMemo(()=>r.filter(d=>d.inspector).map(d=>({id:d.name,label:d.title,tone:void 0,plugin:d})),[r]),[i,s]=h.useState(o.length>0?o[0].id:null),a=o.find(d=>d.id===i),c=o.length>1,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx($$n,{display:u,flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[c&&l.jsx(P$n,{currentTabId:i,onTabChange:s,tabs:o}),c&&o.map(d=>l.jsx(BSe,{"aria-labelledby":"".concat(d.id,"-tab"),flex:1,hidden:d.id!==i,id:"".concat(d.id,"-panel"),overflow:"auto",children:d.plugin.inspector&&l.jsx(C1e,{component:d.plugin.inspector,options:d.plugin.options||OL})},d.id)),!c&&(a==null?void 0:a.plugin.inspector)&&l.jsx(M,{flex:1,overflow:"auto",children:l.jsx(C1e,{component:a.plugin.inspector,options:a.plugin.options||OL})})]})})}),S1e=rw;function F$n(){const{broadcast:e,scope:t,story:n,title:r}=Qa(),o=h.useCallback(i=>{i.preventDefault(),e({type:"workshop/setPath",value:"/"})},[e]);return l.jsx(L$n,{onHomeClick:o,scopeTitle:t==null?void 0:t.title,storyTitle:n==null?void 0:n.title,title:r})}const L$n=h.memo(function(t){const{onHomeClick:n,scopeTitle:r,storyTitle:o,title:i}=t;return l.jsxs(n7,{separator:l.jsx(B,{muted:!0,size:[2,2,1],children:"/"}),space:2,children:[l.jsx(B,{size:[2,2,1],weight:"bold",children:l.jsx("a",{href:"/",onClick:n,style:{color:"inherit"},children:i})}),r&&l.jsx(B,{align:"center",size:[2,2,1],children:r}),o&&l.jsx(B,{size:[2,2,1],children:o})]})}),B$n=h.memo(function(){const{frameUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}=Qa(),a=h.useMemo(()=>n==="/"?void 0:qFe({baseUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}),[t,n,r,o,i,s]);return l.jsx(ie,{as:a?"a":"button",disabled:!a,fontSize:1,href:a,iconRight:cm,mode:"ghost",padding:2,rel:"noopener noreferrer",target:"_blank",text:"Open story"})});function N$n(){const{broadcast:e,scheme:t}=Qa(),n=h.useCallback(()=>{e({type:"workshop/toggleScheme"})},[e]);return l.jsx(z$n,{dark:t==="dark",onToggleScheme:n})}const z$n=h.memo(function(t){const{dark:n,onToggleScheme:r}=t;return l.jsx(ie,{fontSize:1,icon:n?a8:d8,mode:"bleed",onClick:r,padding:2})}),V$n=h.memo(function(){const{broadcast:t,story:n,viewport:r}=Qa(),o=h.useCallback(i=>{t({type:"workshop/setViewport",value:i})},[t]);return l.jsx(U$n,{disabled:!n,setViewport:o,viewport:r})}),H$n={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},U$n=h.memo(function(t){var n;const{disabled:r,setViewport:o,viewport:i}=t;return l.jsx(Kt,{button:l.jsx(ie,{disabled:r,fontSize:1,iconRight:Il,mode:"ghost",padding:2,style:{minWidth:80},text:(n=qj.find(s=>s.name===i))==null?void 0:n.title}),id:"viewport-menu",menu:l.jsx(Ft,{children:qj.map(s=>l.jsx(Be,{fontSize:1,onClick:()=>o(s.name),padding:2,selected:s.name===i,text:s.title},s.name))}),popover:H$n})});function W$n(){const{broadcast:e,story:t,zoom:n}=Qa(),r=h.useCallback(o=>e({type:"workshop/setZoom",value:o}),[e]);return l.jsx(q$n,{disabled:!t,setZoom:r,zoom:n})}const Y$n={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},q$n=h.memo(function(t){var n;const{disabled:r,setZoom:o,zoom:i}=t;return l.jsx(Kt,{button:l.jsx(ie,{disabled:r,fontSize:1,iconRight:Il,mode:"ghost",padding:2,style:{minWidth:80},text:(n=h1e.find(s=>s.value===i))==null?void 0:n.title}),id:"zoom-menu",menu:l.jsx(Ft,{children:h1e.map(s=>l.jsx(Be,{fontSize:1,onClick:()=>o(s.value),padding:2,selected:s.value===i,text:s.title},s.value))}),popover:Y$n})}),G$n=h.memo(function(t){const{inspectorExpanded:n,navigatorExpanded:r,onInspectorToggle:o,onNavigatorToggle:i}=t,s=mm(),{story:a,title:c}=Qa();return l.jsx(J,{borderBottom:!0,flex:"none",padding:2,style:{lineHeight:0},children:l.jsxs(U,{gap:1,children:[l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(ie,{"aria-label":"Open navigator",fontSize:[2,2,1],icon:s8,mode:"bleed",onClick:i,padding:2,selected:r})}),l.jsxs(U,{flex:1,justify:["center","center","flex-start"],padding:2,sizing:"border",style:{minWidth:250},children:[s<2&&l.jsx(B,{weight:"bold",children:(a==null?void 0:a.title)||c}),s>=2&&l.jsx(F$n,{})]}),l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(ie,{"aria-label":"Open inspector",fontSize:[2,2,1],icon:yT,mode:"bleed",onClick:o,padding:2,selected:n})}),l.jsx(M,{display:["none","none","block"],flex:"none",children:l.jsxs(Yt,{space:1,children:[l.jsx(B$n,{}),l.jsx(V$n,{}),l.jsx(W$n,{}),l.jsx(N$n,{})]})})]})})});function e6e(e,t,n){if(t.__scope__){const s=t.__scope__;return s.name==="@@root@@"?s.stories.map(a=>({type:"story",...a})):[{type:"scope",name:s.name||"@@root@@",title:s.title||"(root)",scope:s}]}const r=e.find(s=>s.name===n),i=Object.entries(t).filter(s=>{let[a]=s;return a!=="__scope__"}).flatMap(s=>{let[a,c]=s;return e6e((r==null?void 0:r.children)||[],c,a)});return[{type:"list",name:n,title:(r==null?void 0:r.title)||n,items:i}]}function K$n(e,t){const n={};for(const i of t){const s=i.name||"@@root@@",a=n[s]||{name:s,title:i.title,stories:[]},c={...a,name:s,stories:a.stories.concat(i.stories)};n[s]=c}let r={};for(const i of Object.values(n))r=GRn(r,i.name||"@@root@@",{__scope__:i});const o={type:"list",name:"@@root@@",items:[]};for(const[i,s]of Object.entries(r))o.items.push(...e6e(e,s,i));return o}const Z$n=h.memo(function(t){const{matches:n,onStoryClick:r}=t;return l.jsx(te,{space:1,children:n.map(o=>{let{scope:i,story:s}=o;return l.jsx(J,{as:"a","data-path":"/".concat(i.name,"/").concat(s.name),href:"/".concat(i.name,"/").concat(s.name),onClick:r,padding:2,radius:2,children:l.jsx(B,{size:1,textOverflow:"ellipsis",children:[i.title||"",s.title].filter(Boolean).join(" / ")})},"".concat(i.name,"/").concat(s.name))})})}),X$n=h.memo(function(t){const{items:n}=t;return l.jsx(HSe,{space:1,children:l.jsx(t6e,{items:n})})}),t6e=h.memo(function(t){const{basePath:n="",items:r}=t,{broadcast:o,path:i,scope:s,story:a}=Qa(),c=h.useCallback(u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-path");f&&o({type:"workshop/setPath",value:f})},[o]);return h.useMemo(()=>r.length===0?null:l.jsx(l.Fragment,{children:r.map((u,d)=>{if(u.type==="list"){const f="".concat(n,"/").concat(u.name);return l.jsx(Q$n,{expanded:i.startsWith(f+"/"),item:u,path:f},u.name||d)}return u.type==="story"?l.jsx(rx,{"data-path":"/".concat(u.name||""),fontSize:[2,2,1],href:"/".concat(u.name||""),onClick:c,padding:2,selected:(a==null?void 0:a.component)===u.component,text:u.title},u.name):u.type==="scope"?l.jsx(J$n,{currentStory:a,expanded:u.scope===s,item:u,onStoryClick:c},u.name):l.jsx(rx,{text:"unknown"},d)})}),[n,s,a,c,r,i])}),Q$n=h.memo(function(t){const{expanded:n,item:r,path:o}=t,i=h.useMemo(()=>l.jsx(t6e,{basePath:o,items:r.items}),[r,o]);return l.jsx(rx,{expanded:n,fontSize:[2,2,1],padding:2,text:r.title,weight:"semibold",children:i})}),J$n=h.memo(function(t){const{currentStory:n,expanded:r,item:o,onStoryClick:i}=t,s=h.useMemo(()=>o.scope.stories.map(a=>l.jsx(rx,{"data-path":"/".concat(o.scope.name,"/").concat(a.name),fontSize:[2,2,1],href:"/".concat(o.scope.name,"/").concat(a.name),onClick:i,padding:2,selected:n===a,text:a.title},a.name)),[n,o,i]);return l.jsx(rx,{expanded:r,fontSize:[2,2,1],padding:2,text:o.title,weight:"semibold",children:s})});var E1e=Object.freeze,eMn=Object.defineProperty,tMn=(e,t)=>E1e(eMn(e,"raw",{value:E1e(t||e.slice())})),k1e;const nMn=I(J)(k1e||(k1e=tMn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-right: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),rMn={flex:"none"},oMn={lineHeight:0},iMn=[2,2,1],sMn=h.memo(function(t){const{collections:n=[],expanded:r}=t,{broadcast:o,scopes:i}=Qa(),s=h.useMemo(()=>K$n(n,i),[n,i]),[a,c]=h.useState(""),u=h.useMemo(()=>{var m;if(!a)return _v;const v=a.toLowerCase(),g=[];for(const b of i)for(const x of b.stories)((m=b.title)!=null&&m.toLowerCase().includes(v)||x.title.toLowerCase().includes(v))&&g.push({scope:b,story:x});return g},[a,i]),d=h.useCallback(m=>c(m.currentTarget.value),[]),f=h.useCallback(()=>c(""),[]),p=h.useCallback(m=>{m.preventDefault();const g=m.currentTarget.getAttribute("data-path");g&&(o({type:"workshop/setPath",value:g}),c(""))},[o]);return l.jsx(aMn,{expanded:r,matches:u,menu:s,onSearchQueryChange:d,onSearchQueryClear:f,onStoryClick:p,query:a})}),aMn=h.memo(function(t){const{expanded:n,matches:r,menu:o,onSearchQueryChange:i,onSearchQueryClear:s,onStoryClick:a,query:c}=t,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(nMn,{display:u,flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[l.jsx(Ji,{style:rMn,children:l.jsx(J,{padding:2,shadow:1,style:oMn,children:l.jsx(Or,{border:!1,clearButton:!!c,fontSize:iMn,icon:Zo,onChange:i,onClear:s,padding:2,placeholder:"Stories",radius:2,space:2,value:c})})}),l.jsxs(J,{flex:1,overflow:"auto",children:[c&&r.length>0&&l.jsx(M,{padding:2,children:l.jsx(Z$n,{matches:r,onStoryClick:a})}),!c&&o.type==="list"&&l.jsx(M,{padding:2,children:l.jsx(X$n,{items:o.items})})]})]})})});var j1e=Object.freeze,lMn=Object.defineProperty,cMn=(e,t)=>j1e(lMn(e,"raw",{value:j1e(t||e.slice())})),T1e;const uMn=I.iframe(T1e||(T1e=cMn([`
  display: block;
  border: 0;
  height: 100%;
  width: 100%;
`]))),dMn=h.memo(function(t){const{frameRef:n,hidden:r}=t,{frameReady:o,frameUrl:i,path:s,payload:a,scheme:c,title:u,viewport:d,zoom:f}=Qa(),p=qj.find(w=>w.name===d)||qj[0],m=p==null?void 0:p.rect.width,v=p==null?void 0:p.rect.height,[g]=h.useState(()=>qFe({baseUrl:i,path:s,payload:a,scheme:c,viewport:d,zoom:f})),b=h.useMemo(()=>({maxWidth:m==="auto"?void 0:"".concat((m||1)*f,"px"),maxHeight:v?"".concat((v||1)*f,"px"):void 0}),[m,v,f]),x=h.useMemo(()=>r?"none":"block",[r]),y=h.useMemo(()=>({transform:"scale(".concat(f,")"),transformOrigin:"0 0",width:"".concat(100/f,"%"),height:"".concat(100/f,"%")}),[f]);return l.jsx(J,{display:x,flex:1,overflow:"hidden",tone:"transparent",children:l.jsxs(U,{align:"center",height:"fill",justify:"center",sizing:"border",children:[s==="/"&&l.jsx(oo,{width:0,children:l.jsxs(te,{padding:4,space:4,children:[l.jsx(Lo,{align:"center",children:u}),l.jsx(B,{align:"center",muted:!0,children:"Browse workshop stories in the navigator to the left."})]})}),!o&&s!=="/"&&l.jsx(ir,{muted:!0}),l.jsx(oo,{height:"fill",hidden:!o||s==="/",style:b,width:"auto",children:l.jsx(J,{height:"fill",shadow:1,children:l.jsx(uMn,{ref:n,src:g,style:y})})})]})})});function fMn(){const e=new Set;let t=null,n=[],r=null;function o(){r&&clearInterval(r),r=setTimeout(()=>{var c;(c=t==null?void 0:t.contentWindow)==null||c.postMessage(n,window.location.origin),n=[],r=null},0)}function i(c){const u=c.data;if(QFe(u)){for(const d of u)if(JFe(d)&&typeof d.type=="string"&&d.type.startsWith("workshop/"))for(const f of e)f(d)}}function s(){t!=null&&t.contentWindow&&window.addEventListener("message",i)}function a(c){c!=null&&c.contentWindow&&window.removeEventListener("message",i)}return{message:{publish(c){n.push(c),o()},subscribe(c){return e.add(c),()=>{e.delete(c)}}},setElement(c){const u=t;t=c,c?s():u&&a(u)}}}function A1e(e,t,n){const r=e.path,o=e.query||{},{scheme:i,viewport:s,zoom:a,...c}=o;return{frameReady:n||!1,path:r,payload:c,scheme:t||(typeof i=="string"?i:"light"),viewport:typeof s=="string"?s:"auto",zoom:typeof a=="number"?a:1}}function O1e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{payload:n,scheme:r,viewport:o,zoom:i}=e,s={scheme:r};if(o&&o!==KRn&&(s.viewport=o),i&&i!==ZRn&&(s.zoom=i),t)for(const[a,c]of Object.entries(n))["schema","viewport","zoom"].includes(a)?console.warn('Workshop: the payload cannot contain a property named "'.concat(a,'" (protected name)')):s[a]=c;return s}h.memo(function(t){var n,r;const{config:o,locationStore:i,onSchemeChange:s,scheme:a}=t,c=(r=(n=o.features)==null?void 0:n.navbar)!=null?r:!0,u=h.useMemo(()=>YFe(),[]),d=h.useMemo(()=>fMn(),[]),[f,p]=h.useState(null),[m,v]=h.useState(null),[{frameReady:g,path:b,payload:x,scheme:y,viewport:w,zoom:_},C]=h.useState(()=>A1e(i.get(),a)),S=mm(),[E,j]=h.useState(!1),[k,T]=h.useState(!1),A=h.useRef(g),O=h.useRef(y),P=h.useRef(b),D=h.useRef({scheme:y,viewport:w,zoom:_,...x}),R=h.useCallback(z=>{u.publish(z),d.message.publish(z)},[u,d]),$=h.useMemo(()=>S1e(z=>i.push(z),150),[i]),H=h.useMemo(()=>S1e(z=>i.replace(z),150),[i]),F=h.useCallback(()=>{j(z=>!z),T(!1)},[]),V=h.useCallback(()=>{j(!1),T(z=>!z)},[]),W=h.useRef(S);return h.useEffect(()=>{W.current<2&&S>=2&&(j(!1),T(!1)),W.current=S},[S]),h.useEffect(()=>{j(!1)},[b]),h.useEffect(()=>()=>$.cancel(),[$]),h.useEffect(()=>()=>H.cancel(),[H]),h.useEffect(()=>u.subscribe(z=>{C(q=>{const oe=XFe(q,z),N=!Cv(q,oe);if(N){if(z.type==="workshop/setPath"){if(P.current!==oe.path){P.current=oe.path;const G=O1e(oe,!1);$({path:oe.path,query:G})}}else if(z.type!=="workshop/setState"){const G=O1e(oe);Cv(D.current,G)||(D.current=G,H({path:oe.path,query:G}))}}return N?oe:q})}),[$,H,u,i]),h.useEffect(()=>d.message.subscribe(u.publish),[u,d]),h.useEffect(()=>{A.current=g},[g]),h.useEffect(()=>i.subscribe(z=>{const q=A1e(z,void 0,g);R({type:"workshop/setState",value:q})}),[R,g,i]),h.useEffect(()=>{O.current=y,s(y)},[s,y]),h.useEffect(()=>{a&&O.current!==a&&(O.current=a,R({type:"workshop/setScheme",value:a}))},[R,a]),o.scopes?l.jsx(ZFe,{config:o,broadcast:R,channel:u,frameReady:g,origin:"main",path:b,payload:x,scheme:y,viewport:w,zoom:_,children:l.jsx(i7,{children:l.jsx(Iu,{element:f,children:l.jsx(nd,{element:m,children:l.jsxs(U,{"data-boundary":"",direction:"column",height:"fill",ref:p,style:{minWidth:320},children:[c&&l.jsx(G$n,{inspectorExpanded:k,navigatorExpanded:E,onInspectorToggle:V,onNavigatorToggle:F}),l.jsxs(U,{flex:1,children:[l.jsx(sMn,{collections:o.collections,expanded:E}),l.jsx(dMn,{frameRef:d.setElement,hidden:E||k}),l.jsx(M$n,{expanded:k})]}),l.jsx("div",{"data-portal":"",ref:v})]})})})})}):l.jsx(l.Fragment,{children:"No scopes"})});function hMn(e){const{currentUser:t,fieldName:n,mentionOptions:r,onBlur:o,onFocus:i,onKeyDown:s,onNewThreadCreate:a,readOnly:c}=e,[u,d]=h.useState(_v),f=h.useRef(null),p=h.useCallback(()=>{a==null||a(u),d(_v)},[a,u]),m=h.useMemo(()=>b_(u),[u]),v=h.useCallback(()=>{var w;m&&((w=f.current)==null||w.discardDialogController.open())},[m]),g=h.useCallback(w=>{w.isDefaultPrevented()||(w.key==="Escape"&&(w.preventDefault(),w.stopPropagation(),v()),s&&s(w))},[s,v]),b=h.useCallback(()=>{var w,_;d(_v),(w=f.current)==null||w.discardDialogController.close(),(_=f.current)==null||_.focus()},[]),x=h.useCallback(()=>{var w;(w=f.current)==null||w.discardDialogController.close()},[]),y=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:n})]});return l.jsx(vP,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:d,onDiscardCancel:x,onDiscardConfirm:b,onKeyDown:g,onFocus:i,onSubmit:p,placeholder:y,readOnly:c,ref:f,value:u})}var P1e=Object.freeze,pMn=Object.defineProperty,n6e=(e,t)=>P1e(pMn(e,"raw",{value:P1e(t||e.slice())})),D1e,I1e;const mMn=I(U)(D1e||(D1e=n6e([`
  min-height: 25px;
`]))),gMn=I(ie)(e=>{let{theme:t}=e;const n=t.sanity.color.base.fg;return de(I1e||(I1e=n6e([`
    --card-fg-color: `,`;

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `])),n)});function vMn(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:o,fieldPath:i,isSelected:s,mentionOptions:a,onNewThreadCreate:c,onPathSelect:u,readOnly:d}=e,f=h.useCallback(b=>{const x={fieldPath:i,message:b,parentCommentId:void 0,status:"open",threadId:sd()};c==null||c(x)},[c,i]),p=h.useCallback(b=>{b.stopPropagation(),u==null||u({fieldPath:i,origin:"inspector",threadId:null})},[i,u]),m=h.useCallback(b=>{b.stopPropagation(),b.detail!==0&&(u==null||u({fieldPath:i,origin:"inspector",threadId:null}))},[i,u]),v=h.useMemo(()=>(t==null?void 0:t.map(b=>b.title))||[],[t]),g=v[v.length-1];return l.jsxs(te,{space:2,children:[l.jsx(mMn,{align:"center",gap:2,paddingRight:1,sizing:"border",children:l.jsx(te,{flex:1,children:l.jsx(U,{align:"center",children:l.jsx(gMn,{"aria-label":"Go to ".concat(g," field"),mode:"bleed",onClick:p,padding:2,children:l.jsx(GDn,{maxLength:3,titlePath:v})})})})}),n&&l.jsx(aFe,{onClick:m,tone:s?"primary":void 0,children:l.jsx(hMn,{currentUser:o,fieldName:g,mentionOptions:a,onNewThreadCreate:f,readOnly:d})}),l.jsx(te,{space:2,children:r})]})}const R1e={open:{title:"No open comments yet",message:l.jsxs("span",{children:["Open comments on this document ",l.jsx("br",{}),"will be shown here."]})},resolved:{title:"No resolved comments yet",message:l.jsxs(l.Fragment,{children:["Resolved comments on this document ",l.jsx("br",{}),"will be shown here."]})}};function yMn(e){const{status:t,error:n,loading:r,hasNoComments:o}=e;return n?l.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:l.jsx(U,{align:"center",children:l.jsx(B,{size:1,muted:!0,children:"Something went wrong"})})}):r?l.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(ir,{muted:!0,size:1}),l.jsx(B,{size:1,muted:!0,children:"Loading comments..."})]})}):o?l.jsx(U,{align:"center",justify:"center",flex:1,sizing:"border",children:l.jsx(oo,{width:0,padding:4,children:l.jsxs(te,{space:3,children:[l.jsx(B,{align:"center",size:1,muted:!0,weight:"semibold",children:R1e[t].title}),l.jsx(B,{align:"center",size:1,muted:!0,children:R1e[t].message})]})})}):null}const bMn={behavior:"smooth",block:"start",inline:"nearest"};function xMn(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const wMn=h.forwardRef(function(t,n){const{comments:r,currentUser:o,error:i,loading:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onNewThreadCreate:p,onPathSelect:m,onReply:v,onStatusChange:g,readOnly:b,selectedPath:x,status:y}=t,[w,_]=h.useState(null),C=h.useCallback(j=>{const k=document==null?void 0:document.querySelector('[data-comment-id="'.concat(j,'"]'));k&&k.scrollIntoView(bMn)},[]);h.useImperativeHandle(n,()=>({scrollToComment:C}),[C]);const S=h.useMemo(()=>Object.entries(xMn(r)),[r]),E=!s&&!i&&S.length>0;return l.jsxs(U,{direction:"column",flex:1,height:"fill",overflow:"hidden",ref:_,sizing:"border",children:[l.jsx(yMn,{error:i,hasNoComments:S.length===0,loading:s,status:y}),E&&l.jsx(te,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,children:l.jsx(Iu,{element:w,children:S==null?void 0:S.map(j=>{let[k,T]=j;const A=T[0].breadcrumbs,O=T[0].threadId,P=(x==null?void 0:x.fieldPath)===k&&!x.threadId;return l.jsx(te,{as:"li","data-group-id":O,paddingTop:3,children:l.jsx(vMn,{breadcrumbs:A,canCreateNewThread:y==="open",currentUser:o,fieldPath:k,isSelected:P,mentionOptions:a,onNewThreadCreate:p,onPathSelect:m,readOnly:b,children:T.map(D=>{var R,$;const H=D.replies.slice().reverse(),F=y==="open"&&((R=D.parentComment._state)==null?void 0:R.type)!=="createError"&&(($=D.parentComment._state)==null?void 0:$.type)!=="createRetrying",V=(x==null?void 0:x.threadId)===D.parentComment.threadId&&(x==null?void 0:x.fieldPath)===D.parentComment.target.path.field;return l.jsx(YDn,{canReply:F,currentUser:o,isSelected:V,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:D.parentComment,readOnly:b,replies:H},D.parentComment._id)})},k)},k)})})})]})}),_Mn=ne.memo(wMn),CMn={thread:{title:"Delete this comment thread?",body:"This comment and its replies will be deleted, and once deleted cannot be recovered.",confirmButtonText:"Delete thread"},comment:{title:"Delete this comment?",body:"Once deleted, a comment cannot be recovered.",confirmButtonText:"Delete comment"}};function SMn(e){const{isParent:t,onClose:n,commentId:r,onConfirm:o,loading:i,error:s}=e,{title:a,body:c,confirmButtonText:u}=CMn[t?"thread":"comment"],d=h.useCallback(()=>{o(r)},[r,o]);return l.jsx(Pi,{header:a,id:"delete-comment-dialog",onClose:n,width:0,footer:l.jsxs(en,{columns:2,padding:2,gap:2,children:[l.jsx(ie,{text:"Cancel",mode:"ghost",onClick:n}),l.jsx(ie,{loading:i,onClick:d,text:u,tone:"critical"})]}),children:l.jsxs(te,{padding:4,space:4,children:[l.jsx(B,{children:c}),s&&l.jsx(tr,{tone:"critical",children:"An error occurred while deleting the comment. Please try again."})]})})}var $1e=Object.freeze,EMn=Object.defineProperty,zH=(e,t)=>$1e(EMn(e,"raw",{value:$1e(t||e.slice())})),M1e,F1e,L1e;const kMn=I(M)(M1e||(M1e=zH([`
  max-width: 280px;
`]))),jMn=am(F1e||(F1e=zH([`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`]))),TMn=I(nn)(L1e||(L1e=zH([`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: `,` 200ms 500ms forwards;
`])),jMn);function AMn(e){const{onDismiss:t}=e;return l.jsx(TMn,{content:l.jsx(kMn,{padding:4,children:l.jsxs(te,{space:3,children:[l.jsx(B,{weight:"semibold",size:1,children:"Document fields now have comments"}),l.jsx(B,{size:1,children:"You can add comments to any field in a document. They'll show up here, grouped by field."}),l.jsx(U,{justify:"flex-end",marginTop:2,children:l.jsx(ie,{fontSize:1,padding:2,text:"Got it",tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}const VH=h.createContext(null);function OMn(e){const t={};return e!==null&&(t.identity=e.id),t}const $R=new Map;async function PMn(e,t,n){$R.has(t)||$R.set(t,KPe("*[".concat(t,"]")));const r=$R.get(t),o=OMn(e),{identity:i}=o,s={...o},a=await(await HPe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}async function DMn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await PMn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}const B1e={data:[],error:null,loading:!0};let N1e=null;function IMn(e){const{documentValue:t}=e,n=Akn(),r=yH(),o=ar(tn),[i,s]=h.useState(B1e),a=h.useMemo(()=>{const u=n.get().pipe(le(v=>{var g;return(g=v.members)==null?void 0:g.filter(b=>!b.isRobot)})).pipe(nt(async v=>{const g=v.map(x=>{let{id:y}=x;return y});return await r.getUsers(g)}),le(v=>v.map(g=>({displayName:g.displayName,id:g.id,canBeMentioned:!1})))),d=N1e,f=d?ve(d):o.observable.fetch('*[_type == "system.group"]');return Dit([u,f]).pipe(ct(async v=>{let[g,b]=v;d||(N1e=b);const x=g==null?void 0:g.map(async w=>{const C=[...b.map(E=>E.members.includes(w.id)?E.grants:[])].flat(),{granted:S}=await DMn(w,C,"read",t);return{...w,canBeMentioned:S}});return await Promise.all(x||[])})).pipe(le(v=>({error:null,loading:!1,data:wm(v,"displayName")})))},[o.observable,t,n,r]);return h.useEffect(()=>{const c=ve(B1e),d=Fr(c,a).subscribe(s);return()=>{d.unsubscribe()}},[a]),i}function RMn(e){const{documentId:t,documentType:n}=e||{},r=xn().get(n),{title:o}=Fl(),{createPathWithParams:i,params:s}=Vc(),a=$i(),c=co(()=>!t||!r?ve(null):kO(a,r,t,""),[t,a,r]),{published:u,draft:d}=c||{},f=(d==null?void 0:d.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:h.useCallback(m=>{let{commentId:v}=m;const g=i({...s,comment:v,inspect:jb}),b="".concat(window.location.origin).concat(g);return{documentTitle:f,url:b,workspaceTitle:o}},[i,f,s,o])}}function $Mn(e){const{client:t,currentUser:n,dataset:r,documentId:o,documentType:i,getThreadLength:s,onCreate:a,onCreateError:c,onEdit:u,onRemove:d,onUpdate:f,projectId:p,runSetup:m,workspace:v}=e,g=n==null?void 0:n.id,b=SA(h.useCallback(k=>typeof k.tool=="string"?k.tool:void 0,[])),{tools:x}=Fl(),y=h.useMemo(()=>x.find(k=>k.name===b),[b,x]),{getNotificationValue:w}=RMn({documentId:o,documentType:i}),_=h.useCallback(async k=>{const T=(k==null?void 0:k.id)||sd(),A=((s==null?void 0:s(k.threadId))||0)+1,{documentTitle:O="",url:P="",workspaceTitle:D=""}=w({commentId:T})||{},R={currentThreadLength:A,documentTitle:O,url:P,workspaceTitle:D},$={_id:T,_type:"comment",authorId:g||"",lastEditedAt:void 0,message:k.message,parentCommentId:k.parentCommentId,status:k.status,threadId:k.threadId,context:{payload:{workspace:v},notification:R,tool:(y==null?void 0:y.name)||""},target:{path:{field:k.fieldPath},document:{_dataset:r,_projectId:p,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:i}};if(a==null||a($),!t){try{await m($)}catch(H){throw c==null||c($._id,H),H}return}try{await t.create($)}catch(H){throw c==null||c($._id,H),H}},[y==null?void 0:y.name,g,t,r,o,i,w,s,a,c,p,m,v]),C=h.useCallback(async k=>{t&&(d==null||d(k),await Promise.all([t.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}),t.delete(k)]))},[t,d]),S=h.useCallback(async(k,T)=>{if(!t)return;const A={message:T.message,lastEditedAt:new Date().toISOString()};u==null||u(k,A),await t.patch(k).set(A).commit()},[t,u]),E=h.useCallback(async(k,T)=>{if(t){if(f==null||f(k,T),T.status){await Promise.all([t.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}).set({status:T.status}).commit(),t.patch(k).set(T).commit()]);return}await(t==null?void 0:t.patch(k).set(T).commit())}},[t,f]);return{operation:h.useMemo(()=>({create:_,edit:S,remove:C,update:E}),[_,C,S,E])}}function r6e(){const e=h.useContext(VH);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function MMn(){const e=h.useContext(u6e);if(!e)throw new Error("useCommentsSetup: missing context value");return e}function HH(e){const{documentId:t,documentType:n}=e,{enabled:r,isLoading:o}=zMe("studioComments"),{enabled:i}=Pn().document.unstable_comments,s=i({documentType:n,documentId:Tn(t)});return h.useMemo(()=>o?{isEnabled:!1,reason:"loading"}:r?s?{isEnabled:!0,reason:null}:{isEnabled:!1,reason:"disabled-by-config"}:{isEnabled:!1,reason:"plan-upgrade-required"},[s,r,o])}const o6e=h.createContext(null),FMn=1,i6e="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(FMn),LMn=e=>{try{window.localStorage.setItem(i6e,JSON.stringify(e))}catch{}},BMn=()=>{try{const e=window.localStorage.getItem(i6e);return e?JSON.parse(e):!1}catch{return!1}};function NMn(e){const{children:t}=e,[n,r]=h.useState(BMn()),o=h.useCallback(()=>{r(!0),LMn(!0)},[r]),i=h.useMemo(()=>({setDismissed:o,isDismissed:n}),[o,n]);return l.jsx(o6e.Provider,{value:i,children:t})}function zMn(){const e=h.useContext(o6e);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}function s6e(){const e=h.useContext(d6e);if(!e)throw new Error("useCommentsSelectedPath: missing context value");return e}function VMn(e){return e.reduce((n,r)=>({...n,[r._id]:r}),{})}function HMn(e,t){switch(t.type){case"COMMENTS_SET":{const n=VMn(t.comments);return{...e,comments:n}}case"COMMENT_ADDED":{const n=t.payload,r=n,o={[n._id]:{...e.comments[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};if(e.comments&&e.comments[n._id])return{...e,comments:{...e.comments,...o}};const s={...e.comments||{},...o};return{...e,comments:s}}case"COMMENT_RECEIVED":{const n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{const{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach(o=>{r[o].parentCommentId===t.id&&delete r[o]}),{...e,comments:r}}case"COMMENT_UPDATED":{const n=t.payload,r=n._id;return{...e,comments:{...e.comments,[r]:{...e.comments[r],...n}}}}default:return e}}const UMn={comments:{}},WMn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},YMn="_createdAt",qMn="desc",GMn=['_type == "comment"',"target.document._ref == $documentId"],KMn=`{
  _createdAt,
  _id,
  authorId,
  lastEditedAt,
  message,
  parentCommentId,
  status,
  target,
  threadId,
}`,ZMn="order(".concat(YMn," ").concat(qMn,")"),z1e="*[".concat(GMn.join(" && "),"] ").concat(KMn," | ").concat(ZMn);function XMn(e){const{client:t,documentId:n}=e,[r,o]=h.useReducer(HMn,UMn),[i,s]=h.useState(t!==null),[a,c]=h.useState(null),u=h.useMemo(()=>({documentId:Tn(n)}),[n]),d=h.useCallback(async()=>{if(!t){s(!1);return}try{const v=await t.fetch(z1e,u);o({type:"COMMENTS_SET",comments:v}),s(!1)}catch(v){c(v)}},[t,u]),f=h.useCallback(async v=>{if(v.type==="welcome"&&(s(!0),await d(),s(!1)),v.type==="reconnect"&&s(!0),v.type==="mutation"){if(v.transition==="appear"){const g=v.result;g&&o({type:"COMMENT_RECEIVED",payload:g})}if(v.transition==="disappear"&&o({type:"COMMENT_DELETED",id:v.documentId}),v.transition==="update"){const g=v.result;g&&o({type:"COMMENT_UPDATED",payload:g})}}},[d]),p=h.useMemo(()=>t?t.observable.listen(z1e,u,WMn).pipe(jn(g=>(c(g),ve(g)))):ve(),[t,u]);return h.useEffect(()=>{const v=p.subscribe(f);return()=>{v==null||v.unsubscribe()}},[f,p]),{data:h.useMemo(()=>Object.values(r.comments),[r.comments]),dispatch:o,error:a,loading:i}}function a6e(e,t){var n;const r=_l(t),o=r[0];if(o&&Va(e)){const i=(n=e==null?void 0:e.fields)==null?void 0:n.find(s=>s.name===o);if(i){const s=Cr(r.slice(1));return s?a6e(i.type,s):i}}}function QMn(e,t){if(typeof t=="number")return t;const n=kN(e,t);return n===-1?!1:n}function JMn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:o}=e,i=_l(r),s=[];let a=null;return i.forEach((c,u)=>{var d,f,p,m,v;const g=i.slice(0,u+1),b=i.slice(0,u),x=a6e(n,Cr(g)),y=c.hasOwnProperty("_key"),w=xl(o,b),_=xl(o,g),C={document:o,currentUser:t,parent:w,value:_};if(y&&Array.isArray(w)){const S=QMn(w,c),E=typeof S=="number";s.push({invalid:S===!1,isArrayItem:!0,title:E?"#".concat(Number(S)+1):"Unknown array item"});return}if(x!=null&&x.type){const S=to(x.type.hidden,C);s.push({invalid:S,isArrayItem:!1,title:kp(x.type)}),a=x.type;return}if(Pl(a)){const S=xl(o,b),E=S==null?void 0:S._type,j=(d=a==null?void 0:a.of)==null?void 0:d.find(D=>D.name===E),k=(f=j==null?void 0:j.fields)==null?void 0:f.find(D=>D.name===c);if(!E&&_){const D=(p=a==null?void 0:a.of)==null?void 0:p.map(H=>H==null?void 0:H.fields).filter(Boolean).flat(),R=D==null?void 0:D.find(H=>(H==null?void 0:H.name)===c),$=to((m=R==null?void 0:R.type)==null?void 0:m.hidden,C);R&&(s.push({invalid:$,isArrayItem:!1,title:kp(R==null?void 0:R.type)}),a=R==null?void 0:R.type);return}if(!k){s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const T=kp(k==null?void 0:k.type),A=to((v=j==null?void 0:j.type)==null?void 0:v.hidden,C),O=to(k==null?void 0:k.type.hidden,C),P=A||O;s.push({invalid:P,isArrayItem:!1,title:T}),a=k==null?void 0:k.type;return}s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),s}function e4n(e){const{comments:t,currentUser:n,documentValue:r,schemaType:o}=e;return(t==null?void 0:t.filter(a=>!a.parentCommentId)).map(a=>{const c=JMn({currentUser:n,documentValue:r,fieldPath:a.target.path.field,schemaType:o});if(c.some(p=>p.invalid))return;const d=t==null?void 0:t.filter(p=>p.parentCommentId===a._id),f=[a,...d].length;return{breadcrumbs:c,commentsCount:f,fieldPath:a.target.path.field,parentComment:a,replies:d,threadId:a.threadId}}).filter(Boolean)}const PL=[],l6e={open:PL,resolved:PL},t4n={data:l6e,error:null,loading:!1},n4n={data:[],error:null,loading:!1},c6e=async()=>{await Promise.resolve()},b2={execute:c6e},r4n={comments:t4n,create:b2,edit:b2,getComment:()=>{},getCommentPath:()=>null,isRunningSetup:!1,mentionOptions:n4n,remove:b2,setStatus:c6e,status:"open",update:b2},o4n=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,{isEnabled:i}=HH({documentId:r,documentType:o});return i?l.jsx(i4n,{...t}):l.jsx(VH.Provider,{value:r4n,children:n})}),i4n=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,[i,s]=h.useState("open"),{client:a,runSetup:c,isRunningSetup:u}=MMn(),d=Tn(r),f=cH(d,o,"low"),p=h.useMemo(()=>f.draft||f.published,[f.draft,f.published]),{dispatch:m,data:v=PL,error:g,loading:b}=XMn({documentId:d,client:a}),x=IMn(h.useMemo(()=>({documentValue:p}),[p])),y=xn().get(o),w=No(),{name:_,dataset:C,projectId:S}=Fl(),E=h.useMemo(()=>{if(!y||!w)return l6e;const H=$0(v,["_createdAt"],["desc"]),F=e4n({comments:H,schemaType:y,currentUser:w,documentValue:p});return{open:F.filter(V=>V.parentComment.status==="open"),resolved:F.filter(V=>V.parentComment.status==="resolved")}},[w,v,p,y]),j=h.useCallback(H=>E.open.filter(F=>F.threadId===H).length,[E.open]),k=h.useCallback(H=>v==null?void 0:v.find(F=>F._id===H),[v]),T=h.useCallback(H=>{const F=k(H);return F?F.target.path.field:null},[k]),A=h.useCallback(async H=>{var F,V;const W=((V=(F=v==null?void 0:v.find(z=>z._id===H._id))==null?void 0:F._state)==null?void 0:V.type)==="createError";m({type:"COMMENT_ADDED",payload:{...H,_state:W?{type:"createRetrying"}:void 0}})},[v,m]),O=h.useCallback((H,F)=>{m({type:"COMMENT_UPDATED",payload:{_id:H,...F}})},[m]),P=h.useCallback((H,F)=>{m({type:"COMMENT_UPDATED",payload:{_id:H,...F}})},[m]),D=h.useCallback((H,F)=>{m({type:"COMMENT_UPDATED",payload:{_id:H,_state:{error:F,type:"createError"}}})},[m]),{operation:R}=$Mn(h.useMemo(()=>({client:a,currentUser:w,dataset:C,documentId:d,documentType:o,projectId:S,schemaType:y,workspace:_,getThreadLength:j,runSetup:c,onCreate:A,onCreateError:D,onEdit:P,onUpdate:O}),[a,w,C,d,o,S,y,_,j,c,A,D,P,O])),$=h.useMemo(()=>({isRunningSetup:u,status:i,setStatus:s,getComment:k,getCommentPath:T,comments:{data:E,error:g,loading:b||u},create:{execute:R.create},remove:{execute:R.remove},edit:{execute:R.edit},update:{execute:R.update},mentionOptions:x}),[u,i,k,T,E,g,b,R.create,R.remove,R.edit,R.update,x]);return l.jsx(VH.Provider,{value:$,children:n})}),u6e=h.createContext(null);function s4n(e){const{children:t}=e,{dataset:n,projectId:r}=Fl(),o=ar(tn),[i,s]=h.useState(null),[a,c]=h.useState(!1),u=h.useCallback(async()=>{var m;const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/projects/".concat(r,"/datasets?datasetProfile=comments&addonFor=").concat(n),tag:"sanity.studio"});return(m=v==null?void 0:v[0])==null?void 0:m.name},[n,o,r]),d=h.useCallback(m=>o.withConfig({apiVersion:"v2022-05-09",dataset:m,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[o,r]),f=h.useCallback(async m=>{c(!0);try{const v=await u();if(v){const g=d(v);s(g),await g.create(m),c(!1);return}}catch{}try{const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/comments/".concat(n,"/setup"),method:"POST"}),g=v==null?void 0:v.datasetName;if(!g){c(!1);return}const b=d(g);s(b),await b.create(m)}catch(v){throw v}finally{c(!1)}},[n,u,d,o]);h.useEffect(()=>{u().then(m=>{if(!m)return;const v=d(m);s(v)})},[u,d]);const p=h.useMemo(()=>({client:i,runSetup:f,isRunningSetup:a}),[i,f,a]);return l.jsx(u6e.Provider,{value:p,children:t})}const d6e=h.createContext(null),a4n=ne.memo(function(t){const{children:n}=t,[r,o]=h.useState(null),i=h.useCallback(a=>{o(a)},[]),s=h.useMemo(()=>({selectedPath:r,setSelectedPath:i}),[r,i]);return l.jsx(d6e.Provider,{value:s,children:n})}),l4n=I(J)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}}),c4n=h.forwardRef(function(t,n){const{onClose:r,onViewChange:o,view:i}=t,s=h.useCallback(()=>o("open"),[o]),a=h.useCallback(()=>o("resolved"),[o]);return l.jsx(l4n,{ref:n,children:l.jsxs(U,{padding:2,children:[l.jsxs(U,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:[l.jsx(B,{as:"h1",size:1,weight:"semibold",children:"Comments"}),l.jsx(Nkn,{})]}),l.jsxs(U,{flex:"none",padding:1,gap:2,children:[l.jsx(Kt,{id:"comment-status-menu-button",button:l.jsx(ie,{text:rn(i),fontSize:1,padding:2,mode:"bleed",iconRight:Ya,space:2}),menu:l.jsxs(Ft,{style:{width:"180px"},children:[l.jsx(Be,{fontSize:1,iconRight:i==="open"?Ma:void 0,onClick:s,text:"Open comments"}),l.jsx(Be,{fontSize:1,iconRight:i==="resolved"?Ma:void 0,onClick:a,text:"Resolved comments"})]}),popover:{placement:"bottom-end"}}),l.jsx(ie,{"aria-label":"Close comments",fontSize:1,icon:fxe,mode:"bleed",onClick:r,padding:2})]})]})})});var V1e=Object.freeze,u4n=Object.defineProperty,f6e=(e,t)=>V1e(u4n(e,"raw",{value:V1e(t||e.slice())})),H1e,U1e;const d4n="https://snty.link/comments-beta-feedback",f4n=I.span(H1e||(H1e=f6e([`
  margin-right: 0.2em;
`]))),h4n=I.a(U1e||(U1e=f6e([`
  white-space: nowrap;
`]))),p4n=I(J)({position:"relative",zIndex:1,"&:after":{content:'""',display:"block",position:"absolute",left:0,top:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function m4n(){return l.jsx(p4n,{padding:3,children:l.jsxs(B,{muted:!0,size:0,children:["Help us improve the commenting experience."," ",l.jsxs(h4n,{href:d4n,target:"_blank",rel:"noreferrer",children:[l.jsx(f4n,{children:"Share your feedback "})," ",l.jsx(cm,{})]})]})})}function g4n(e){const{onClose:t}=e,[n,r]=h.useState(!1),[o,i]=h.useState(null),[s,a]=h.useState(!1),[c,u]=h.useState(null),d=h.useRef(null),f=h.useRef(null),p=No(),{params:m,createPathWithParams:v,setParams:g}=Vc(),b=Do(m)||Z4e,x=h.useRef(b==null?void 0:b.comment),y=h.useRef(!1),w=Bo().push,{onPathOpen:_,ready:C}=lr(),{isDismissed:S,setDismissed:E}=zMn(),{comments:j,create:k,edit:T,getComment:A,getCommentPath:O,isRunningSetup:P,mentionOptions:D,remove:R,setStatus:$,status:H,update:F}=r6e(),V=h.useMemo(()=>j.data[H],[j,H]),W=h.useMemo(()=>j.loading||!C,[j.loading,C]),{selectedPath:z,setSelectedPath:q}=s6e(),oe=h.useCallback(ge=>{$(ge),q(null)},[q,$]),N=h.useCallback(()=>{t(),q(null)},[t,q]),G=h.useCallback(ge=>{const De=v({...m,comment:ge}),Re="".concat(window.location.origin).concat(De);navigator.clipboard.writeText(Re).then(()=>{w({closable:!0,status:"info",title:"Copied link to clipboard"})}).catch(()=>{w({closable:!0,status:"error",title:"Unable to copy link to clipboard"})})},[v,m,w]),Y=h.useCallback(ge=>{const De=A(ge);De&&k.execute({fieldPath:De.target.path.field,id:De._id,message:De.message,parentCommentId:De.parentCommentId,status:De.status,threadId:De.threadId})},[k,A]),K=h.useCallback(()=>{s||(r(!1),i(null))},[s]),X=h.useCallback(ge=>{if(q(ge),ge!=null&&ge.fieldPath){const De=_l(ge.fieldPath);_(De)}},[_,q]),Q=h.useCallback(ge=>{k.execute(ge),q({fieldPath:ge.fieldPath,origin:"inspector",threadId:ge.threadId})},[k,q]),Z=h.useCallback(ge=>{k.execute(ge)},[k]),re=h.useCallback((ge,De)=>{T.execute(ge,De)},[T]),ae=h.useCallback(ge=>{var De;const Re=V.find(rt=>{var Mt;return((Mt=rt.parentComment)==null?void 0:Mt._id)===ge}),at=!!(Re&&((De=Re==null?void 0:Re.replies)==null?void 0:De.length)>0);r(!0),i({commentId:ge,isParent:at})},[V]),me=h.useCallback(async ge=>{try{a(!0),await R.execute(ge),K()}catch(De){u(De)}finally{a(!1)}},[K,R]),ce=h.useCallback(ge=>{const De=A(ge);De&&(q({fieldPath:De.target.path.field||null,origin:"inspector",threadId:De.threadId||null}),setTimeout(()=>{var Re;(Re=d.current)==null||Re.scrollToComment(ge)}))},[A,q]),Te=h.useCallback((ge,De)=>{F.execute(ge,{status:De}),De==="open"&&($("open"),ce(ge))},[ce,$,F]),je=h.useCallback(()=>{z&&q(null)},[z,q]),be=h.useCallback(()=>{z&&q(null)},[z,q]);return rr(je,[f.current]),h.useEffect(()=>{const ge=A(x.current||"");!W&&ge&&y.current===!1&&(ce(ge._id),y.current=!0,x.current=void 0,g({...m,comment:void 0}))},[A,O,ce,W,m,g]),l.jsxs(h.Fragment,{children:[o&&n&&l.jsx(SMn,{...o,error:c,loading:s,onClose:K,onConfirm:me}),l.jsxs(U,{direction:"column",overflow:"hidden",height:"fill",ref:f,onClick:be,children:[l.jsx(AMn,{onDismiss:E,open:!S,placement:"left-start",children:l.jsx(c4n,{onClose:N,onViewChange:oe,view:H})}),p&&l.jsx(_Mn,{comments:V,currentUser:p,error:j.error,loading:W,mentionOptions:D,onCopyLink:G,onCreateRetry:Y,onDelete:ae,onEdit:re,onNewThreadCreate:Q,onPathSelect:X,onReply:Z,onStatusChange:Te,readOnly:P,ref:d,selectedPath:z,status:H}),l.jsx(m4n,{})]})]})}function v4n(e){const{documentId:t,documentType:n}=e,{isEnabled:r}=HH({documentId:t,documentType:n});return{hidden:!r,icon:cxe,showAsAction:!0,title:"Comments"}}const y4n={name:jb,component:g4n,useMenuItem:v4n};var W1e=Object.freeze,b4n=Object.defineProperty,h6e=(e,t)=>W1e(b4n(e,"raw",{value:W1e(t||e.slice())})),Y1e,q1e;const G1e={open:500},x4n=I(B)(Y1e||(Y1e=h6e([`
  width: max-content;
`]))),w4n=I(te)(q1e||(q1e=h6e([`
  width: 320px;
`])));function _4n(e){const{count:t,currentUser:n,fieldTitle:r,isRunningSetup:o,mentionOptions:i,onChange:s,onClick:a,onCommentAdd:c,onDiscard:u,onInputKeyDown:d,open:f,setOpen:p,value:m}=e,[v,g]=h.useState(null),b=h.useRef(null),x=t>0,y=h.useCallback(()=>p(!1),[p]),w=h.useCallback(()=>{c(),y()},[y,c]),_=h.useMemo(()=>b_(m),[m]),C=h.useCallback(()=>{var k;if(!_){y();return}(k=b.current)==null||k.discardDialogController.open()},[y,_]),S=h.useCallback(k=>{k.isDefaultPrevented()||(k.key==="Escape"&&(k.preventDefault(),k.stopPropagation(),C()),d&&d(k))},[d,C]),E=h.useCallback(()=>{var k;(k=b.current)==null||k.discardDialogController.close()},[]),j=h.useCallback(()=>{var k;(k=b.current)==null||k.discardDialogController.close(),y(),u()},[y,u]);if(rr(C,[v]),!x){const k=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:r})]}),T=l.jsx(w4n,{padding:2,space:4,children:l.jsx(vP,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:i,onChange:s,onDiscardCancel:E,onDiscardConfirm:j,onKeyDown:S,onSubmit:w,placeholder:k,readOnly:o,ref:b,value:m})});return l.jsx(nn,{constrainSize:!0,content:T,fallbackPlacements:["left-start"],open:f,placement:"bottom-end",portal:!0,ref:g,children:l.jsx("div",{children:l.jsx(st,{delay:G1e,disabled:f,portal:!0,placement:"top",content:l.jsx(M,{padding:2,children:l.jsx(B,{size:1,children:"Add comment"})}),children:l.jsx(ie,{"aria-label":"Add comment",disabled:o,fontSize:1,icon:YPn,mode:"bleed",onClick:a,padding:2,selected:f})})})})}return l.jsx(st,{portal:!0,placement:"top",content:l.jsx(M,{padding:2,sizing:"border",children:l.jsxs(x4n,{size:1,children:["View comment",t>1?"s":""]})}),delay:G1e,fallbackPlacements:["bottom"],children:l.jsx(ie,{"aria-label":"Open comments",mode:"bleed",onClick:a,padding:2,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(B,{size:1,children:l.jsx(qPn,{})}),l.jsx(B,{size:0,children:t>9?"9+":t})]})})})}var K1e=Object.freeze,C4n=Object.defineProperty,p6e=(e,t)=>K1e(C4n(e,"raw",{value:K1e(t||e.slice())})),Z1e,X1e;const S4n={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function E4n(e){const{documentId:t,documentType:n}=lr(),{isEnabled:r}=HH({documentId:t,documentType:n});return r?l.jsx(T4n,{...e}):e.renderDefault(e)}const Q1e={behavior:"smooth",block:"start",inline:"nearest"},k4n=I(Ju.div)(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=fe.blue[o.dark?900:50].hex;return de(Z1e||(Z1e=p6e([`
    mix-blend-mode: `,`;
    border-radius: `,`px;
    top: -`,`px;
    left: -`,`px;
    bottom: -`,`px;
    right: -`,`px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + `,`px);
    height: calc(100% + `,`px);
    background-color: `,`;
  `])),o.dark?"screen":"multiply",n[3],r[2],r[2],r[2],r[2],r[2]*2,r[2]*2,i)}),j4n=I(te)(X1e||(X1e=p6e([`
  position: relative;
`])));function T4n(e){const[t,n]=h.useState(!1),[r,o]=h.useState(null),[i,s]=h.useState(!1),a=h.useRef(null),{element:c}=Gf(),{openInspector:u,inspector:d}=lr(),f=No(),{comments:p,create:m,isRunningSetup:v,mentionOptions:g,setStatus:b,status:x}=r6e(),{selectedPath:y,setSelectedPath:w}=s6e(),_=h.useMemo(()=>kp(e.schemaType),[e.schemaType]),C=h.useMemo(()=>p.data[x],[p.data,x]),S=h.useMemo(()=>(d==null?void 0:d.name)===jb,[d==null?void 0:d.name]),E=h.useMemo(()=>!S||(y==null?void 0:y.origin)==="form"?!1:(y==null?void 0:y.fieldPath)===Cr(e.path),[S,e.path,y]),j=h.useMemo(()=>{var F;const V=Cr(e.path);return(F=C.find(W=>W.fieldPath===V))==null?void 0:F.threadId},[C,e.path]),k=h.useMemo(()=>{const F=Cr(e.path);return p.data.open.map(W=>W.fieldPath===F?W.commentsCount:0).reduce((W,z)=>W+z,0)||0},[p.data.open,e.path]),T=k>0,A=h.useCallback(F=>{if(S&&i&&F){const V=document.querySelector('[data-group-id="'.concat(F,'"]'));V&&(V.scrollIntoView(Q1e),s(!1))}},[i,S]),O=h.useCallback(()=>u(jb),[u]),P=h.useCallback(()=>{T&&x==="resolved"&&b("open"),T?(n(!1),u(jb)):n(F=>!F),j&&(s(!0),A(j),w({fieldPath:Cr(e.path),origin:"form",threadId:j}))},[T,x,j,b,u,A,w,e.path]),D=h.useCallback(()=>{if(r){const F=sd(),V={fieldPath:Cr(e.path),message:r,parentCommentId:void 0,status:"open",threadId:F};m.execute(V),O(),b("open"),o(null),requestAnimationFrame(()=>{w({fieldPath:Cr(e.path),origin:"form",threadId:F}),s(!0),A(F)})}},[m,O,A,e.path,w,b,r]),R=h.useCallback(()=>o(null),[]);h.useEffect(()=>{j&&A(j)},[j,A]);const $=h.useMemo(()=>({...Q1e,boundary:c,scrollMode:"if-needed",block:"start"}),[c]);h.useEffect(()=>{E&&a.current&&_x(a.current,$)},[c,E,e.path,$]);const H=h.useMemo(()=>({button:f&&l.jsx(_4n,{count:Number(k),currentUser:f,fieldTitle:_,isRunningSetup:v,mentionOptions:g,onChange:o,onClick:P,onCommentAdd:D,onDiscard:R,open:t,setOpen:n,value:r}),hasComments:T,isAddingComment:t}),[f,k,_,g,P,D,R,t,r,v,T]);return l.jsxs(j4n,{ref:a,children:[e.renderDefault({...e,__internal_comments:H}),l.jsx(U9,{children:E&&l.jsx(k4n,{animate:"animate",exit:"exit",initial:"initial",variants:S4n})})]})}function A4n(e){return l.jsx(s4n,{children:l.jsx(NMn,{children:e.renderDefault(e)})})}const O4n=Uz({name:"sanity/desk/comments",document:{inspectors:[y4n]},form:{components:{field:E4n}},studio:{components:{layout:A4n}}}),m6e=h.createContext(null);function f1(){const e=h.useContext(m6e);if(!e)throw new Error("DeskTool: missing context value");return e}const P4n={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},D4n={create:KR,delete:ao,discardDraft:Ei,initial:KR,editDraft:Eu,editLive:Eu,publish:f0,unpublish:$E};function g6e(e){return P4n[e]}function I4n(e){return D4n[e]}function R4n(e){let{maxLength:t,userIds:n}=e;return l.jsx(XT,{maxLength:t,children:n.map(r=>l.jsx(Na,{user:r,withTooltip:!0},r))})}var J1e=Object.freeze,$4n=Object.defineProperty,Tp=(e,t)=>J1e($4n(e,"raw",{value:J1e(t||e.slice())})),eye,tye,nye,rye,oye,iye,sye;const AE=I(U)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return de(eye||(eye=Tp([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),M4n=I(ie)(e=>{let{$selected:t,$disabled:n}=e;return de(rye||(rye=Tp([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`

    `,`
  `])),AE,AE,t&&de(tye||(tye=Tp([`
      `,`::before {
        background: transparent;
      }
    `])),AE),n&&de(nye||(nye=Tp([`
      cursor: not-allowed;
    `]))))}),F4n=I(M)(oye||(oye=Tp([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),L4n=I(B)(iye||(iye=Tp([`
  text-transform: capitalize;
`]))),B4n=I(M)(sye||(sye=Tp([`
  min-width: 1rem;
  margin-left: `,`;
`])),e=>{let{theme:t}=e;return"-".concat(pe(t.sanity.space[1]))}),aye={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function N4n(e){let{chunk:t,isFirst:n,isLast:r,isLatest:o,isSelected:i,onSelect:s,timestamp:a,type:c}=e;const u=I4n(c),d=Array.from(t.authors),f=c!=="delete",p=h.useMemo(()=>{const v=new Date(a);return Ko(v,"MMM d, yyyy, hh:mm a")},[a]),m=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),f&&s(t)},[s,t,f]);return l.jsx(M4n,{$selected:i,$disabled:!f,"data-chunk-id":t.id,"data-first":n?!0:void 0,"data-last":r?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:m,padding:0,radius:2,tone:i?"primary":aye[t.type],children:l.jsx(M,{paddingX:2,children:l.jsxs(U,{align:"stretch",children:[l.jsx(AE,{align:"center",children:l.jsx(F4n,{padding:2,children:l.jsx(B,{size:2,children:u&&h.createElement(u)})})}),l.jsxs(te,{space:2,margin:2,children:[o&&l.jsx(U,{children:l.jsx(J,{padding:1,radius:2,shadow:1,tone:i?"primary":aye[t.type],children:l.jsx(Nt,{muted:!0,size:0,children:"Latest"})})}),l.jsx(M,{children:l.jsx(L4n,{size:1,weight:"medium",children:g6e(c)||l.jsx("code",{children:c})})}),l.jsx(B4n,{paddingX:1,children:l.jsx(B,{size:0,muted:!0,children:p})})]}),l.jsx(U,{flex:1,justify:"flex-end",align:"center",children:l.jsx(R4n,{maxLength:3,userIds:d})})]})})})}var lye=Object.freeze,z4n=Object.defineProperty,Gj=(e,t)=>lye(z4n(e,"raw",{value:lye(t||e.slice())})),cye,uye,dye,fye;const V4n=I(te)(cye||(cye=Gj([`
  max-width: 200px;
`]))),H4n=I(U)(uye||(uye=Gj([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),U4n=I(M)(e=>{let{$visible:t}=e;return de(fye||(fye=Gj([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),t&&de(dye||(dye=Gj([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),DL=e=>{let{chunks:t,disabledBeforeFirstChunk:n,hasMoreChunks:r,lastChunk:o,onLoadMore:i,onSelect:s,firstChunk:a}=e;const[c,u]=h.useState(!1),d=h.useMemo(()=>t.filter(m=>n&&a?m.index<a.index:!0),[t,n,a]),f=h.useMemo(()=>o!=null&&o.id?d.findIndex(m=>m.id===o.id):-1,[o==null?void 0:o.id,d]),p=h.useCallback((m,v)=>{let{activeIndex:g}=v;const b=g===0,x=d&&g===d.length-1||!1;return l.jsxs(M,{paddingBottom:x?1:0,paddingTop:b?1:0,paddingX:1,children:[l.jsx(N4n,{chunk:m,isFirst:b,isLast:x,isLatest:g===0&&!n,isSelected:g===f,onSelect:s,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&r&&l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(ir,{muted:!0})})]})},[n,d,r,s,f]);return h.useEffect(()=>u(!0),[]),l.jsxs(U4n,{$visible:!f||c,"data-ui":"timeline",children:[d.length===0&&l.jsxs(V4n,{padding:3,space:3,children:[l.jsx(B,{size:1,weight:"semibold",children:"No document history"}),l.jsx(B,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),d.length>0&&l.jsx(H4n,{direction:"column",children:l.jsx(oh,{activeItemDataAttr:"data-hovered",ariaLabel:"Document revisions",autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};DL.displayName="Timeline";function W4n(){return l.jsxs(U,{align:"flex-start",gap:3,padding:4,children:[l.jsx(tr,{tone:"critical",children:l.jsx(sa,{})}),l.jsxs(te,{space:4,children:[l.jsx(tr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst retrieving document changes."}),l.jsx(tr,{size:1,tone:"critical",children:"Document history transactions have not been affected."})]})]})}var hye=Object.freeze,Y4n=Object.defineProperty,q4n=(e,t)=>hye(Y4n(e,"raw",{value:hye(t||e.slice())})),pye;const G4n=I(nn)(pye||(pye=q4n([`
  overflow: hidden;
  overflow: clip;
`])));function v6e(e){let{chunk:t,mode:n,placement:r}=e;const{setTimelineRange:o,setTimelineMode:i,timelineError:s,ready:a,timelineStore:c,isDeleted:u}=lr(),[d,f]=h.useState(!1),[p,m]=h.useState(null),[v,g]=h.useState(null),b=Bo(),x=eo(c,F=>F.chunks),y=eo(c,F=>F.isLoading),w=eo(c,F=>F.hasMoreChunks),_=eo(c,F=>F.realRevChunk),C=eo(c,F=>F.sinceTime),S=h.useCallback(()=>{i(n),f(!0)},[n,i]),E=h.useCallback(()=>{i("closed"),f(!1)},[i]),j=h.useCallback(()=>{d&&E()},[E,d]),k=h.useCallback(F=>{d&&(F.key==="Escape"||F.key==="Tab")&&(E(),p==null||p.focus())},[p,E,d]);rr(j,[p,v]),Qi(k);const T=h.useCallback(F=>{try{const[V,W]=c.findRangeForRev(F);i("closed"),o(V,W)}catch(V){b.push({closable:!0,description:V.message,status:"error",title:"Unable to load revision"})}},[i,o,c,b]),A=h.useCallback(F=>{try{const[V,W]=c.findRangeForSince(F);i("closed"),o(V,W)}catch(V){b.push({closable:!0,description:V.message,status:"error",title:"Unable to load revision"})}},[i,o,c,b]),O=h.useCallback(()=>{y||c.loadMore()},[y,c]),P=s?l.jsx(W4n,{}):l.jsxs(l.Fragment,{children:[n==="rev"&&l.jsx(DL,{chunks:x,firstChunk:_,hasMoreChunks:w,lastChunk:_,onLoadMore:O,onSelect:T}),n==="since"&&l.jsx(DL,{chunks:x,disabledBeforeFirstChunk:!0,firstChunk:_,hasMoreChunks:w,lastChunk:C,onLoadMore:O,onSelect:A})]}),D=K4n((t==null?void 0:t.endTimestamp)||""),R=t?"".concat(Eje(g6e(t.type)),": ").concat(D):"Latest version",$=t?"Since: ".concat(D):"Since: unknown version",H=n==="rev"?R:$;return l.jsx(G4n,{constrainSize:!0,content:d&&P,"data-ui":"versionMenu",open:d,placement:r,portal:!0,ref:g,children:l.jsx(ie,{disabled:!a,mode:"bleed",fontSize:1,padding:2,iconRight:Il,onClick:d?E:S,ref:m,selected:d,style:{maxWidth:"100%"},text:a?H:"Loading history"})})}function K4n(e){return h.useMemo(()=>{const n=e?new Date(e):new Date;return Ko(n,"MMM d, yyyy, hh:mm a")},[e])}const Z4n=I(J)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function y6e(e){const{as:t,children:n,closeButtonLabel:r,onClose:o,title:i,...s}=e;return l.jsxs(Z4n,{...s,as:t,children:[l.jsxs(U,{padding:2,children:[l.jsx(M,{flex:1,padding:3,children:l.jsx(B,{as:"h1",size:1,weight:"semibold",children:i})}),l.jsx(M,{flex:"none",padding:1,children:l.jsx(ie,{"aria-label":r,fontSize:1,icon:Ei,mode:"bleed",onClick:o,padding:2})})]}),n]})}var mye=Object.freeze,X4n=Object.defineProperty,Q4n=(e,t)=>mye(X4n(e,"raw",{value:mye(t||e.slice())})),gye;const J4n=I.div(gye||(gye=Q4n([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
    opacity: 0.5;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function eFn(e){const{onResize:t,onResizeStart:n}=e,r=h.useRef(0),o=h.useCallback(i=>{i.preventDefault(),r.current=i.pageX,n();const s=c=>{c.preventDefault(),t(c.pageX-r.current)},a=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)},[t,n]);return l.jsxs(J4n,{onMouseDown:o,children:[l.jsx("span",{}),l.jsx("span",{})]})}var vye=Object.freeze,tFn=Object.defineProperty,nFn=(e,t)=>vye(tFn(e,"raw",{value:vye(t||e.slice())})),yye;const rFn=I(M)(yye||(yye=nFn([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function oFn(e){const{as:t,children:n,minWidth:r,maxWidth:o,...i}=e,[s,a]=h.useState(null),c=h.useRef(),[u,d]=h.useState(),f=h.useCallback(()=>{c.current=s==null?void 0:s.offsetWidth},[s]),p=h.useCallback(v=>{const g=c.current;g&&d(Math.min(Math.max(g-v,r),o))},[r,o]),m=h.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:o},[r,o,u]);return l.jsxs(rFn,{as:t,...i,ref:a,style:m,children:[n,l.jsx(eFn,{onResize:p,onResizeStart:f})]})}function iFn(e){const{documentId:t,documentType:n,flex:r}=e,{collapsed:o}=uh(),{closeInspector:i,inspector:s}=lr(),{features:a}=f1(),c=h.useCallback(()=>{s&&i(s.name)},[i,s]);if(o||!s)return null;const u=h.createElement(s.component,{onClose:c,documentId:t,documentType:n});return a.resizablePanes?l.jsx(oFn,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:vPn,minWidth:yL,children:u}):l.jsx(M,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:u})}function sFn(){return l.jsx(jH,{ms:300,children:l.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",paddingTop:3,children:[l.jsx(ir,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(B,{align:"center",muted:!0,size:1,children:"Loading changes"})})]})})}function aFn(e){const t=new Map;return jO(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,i=t.get(r);return(!i||i.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}var bye=Object.freeze,lFn=Object.defineProperty,cFn=(e,t)=>bye(lFn(e,"raw",{value:bye(t||e.slice())})),xye;const uFn=I(_O)(xye||(xye=cFn([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function dFn(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:o,timelineStore:i,value:s}=lr(),a=h.useRef(null),c=eo(i,b=>b.diff),u=eo(i,b=>b.onOlderRevision),d=eo(i,b=>b.selectionState),f=eo(i,b=>b.sinceTime),p=d==="loading",m=!u,v=ne.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:VXt,rootDiff:c,isComparingCurrent:m,value:s}),[n,c,m,r,s]),g=ne.useMemo(()=>c?aFn(c):[],[c]);return l.jsxs(U,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(y6e,{as:"header",closeButtonLabel:"Close review changes",flex:"none",onClose:t,title:"Review changes",children:l.jsxs(U,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[l.jsx(M,{flex:1,children:l.jsx(v6e,{mode:"since",chunk:f,placement:"bottom-start"})}),l.jsx(M,{flex:"none",children:l.jsx(Gi,{annotations:g,description:"Changes by",portal:!0,children:l.jsx(XT,{maxLength:4,"aria-label":"Changes by",children:g.map(b=>{let{author:x}=b;return l.jsx(Na,{user:x},x)})})})})]})}),l.jsx(J,{flex:1,children:l.jsx(Iu,{element:a.current,children:l.jsx(uFn,{"data-ui":"Scroller",ref:a,children:l.jsx(M,{flex:1,padding:4,children:l.jsx(fFn,{diff:c,documentContext:v,error:o,loading:p,schemaType:r})})})})})]})}function fFn(e){let{error:t,diff:n,documentContext:r,loading:o,schemaType:i}=e;return t?l.jsx(B6,{}):o?l.jsx(sFn,{}):n?l.jsx(c3e.Provider,{value:r,children:l.jsx(i_,{diff:n,schemaType:i})}):l.jsx(B6,{})}const hFn={name:xL,useMenuItem:()=>{const{features:e}=f1();return{hidden:!e.reviewChanges,icon:l8,title:"Review changes"}},component:dFn,onClose:e=>{let{params:t}=e;return{params:{...t,since:void 0}}},onOpen:e=>{let{params:t}=e;return{params:{...t,since:"@lastPublished"}}}};function pFn(e){const{path:t,schemaType:n,value:r}=e,o=[];let i=n,s=r;for(const a of t){if(typeof a=="string"){if(!bt(s)&&s!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(a));if(i.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(a));s=s==null?void 0:s[a];const c=i.fields.find(u=>u.name===a);if(!c)throw new Error("Field type not found: .".concat(a));i=c.type,o.push(i);continue}if(typeof a=="number"){if(!Jre(s)&&s!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(a,"]"));s=s==null?void 0:s[a];const c=i.of.find(u=>typeof s=="string"?u.jsonType==="string":typeof s=="number"?u.jsonType==="number":typeof s=="boolean"?u.jsonType==="boolean":bt(s)?u.name===(s==null?void 0:s._type):!1);if(!c)throw new Error("Item type not found: [".concat(a,"]"));i=c,o.push(i);continue}if(bt(a)&&a._key){if(!Jre(s))throw new Error("Parent value is not an array, cannot get path segment: [_key == ".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(a));if(s=(s??[]).find(d=>bt(d)&&d._key===a._key),!bt(s))throw new Error("Array item not found: [_key == ".concat(a._key,"]"));const u=i.of.find(d=>bt(s)&&d.name===(s==null?void 0:s._type));if(!u)throw new Error("Array item type not found: .".concat(s==null?void 0:s._type));i=u,o.push(i);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(a)))}return o}const mFn={error:sa,warning:Pr,info:lm},gFn={error:"critical",warning:"caution",info:"primary"};function vFn(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:o,validation:i,value:s}=lr(),a=h.useCallback(c=>{r(c),n(c)},[n,r]);return l.jsxs(U,{direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(y6e,{as:"header",closeButtonLabel:"Close validation",flex:"none",onClose:t,title:"Validation"}),l.jsxs(J,{flex:1,overflow:"auto",padding:3,children:[i.length===0&&l.jsx(M,{padding:2,children:l.jsx(B,{muted:!0,size:1,children:"No validation errors"})}),i.length>0&&l.jsx(te,{space:2,children:i.map((c,u)=>l.jsx(yFn,{marker:c,onOpen:a,schemaType:o,value:s},u))})]})]})}function yFn(e){const{marker:t,onOpen:n,schemaType:r,value:o}=e,i=h.useCallback(()=>n(t.path),[t,n]),[s,a]=h.useState(null);return l.jsxs(x0,{onCatch:a,children:[s&&l.jsx(J,{padding:3,radius:2,tone:"critical",children:l.jsxs(B,{size:1,children:["ERROR: ",s.error.message]})}),!s&&l.jsx(J,{__unstable_focusRing:!0,as:"button",onClick:i,padding:3,radius:2,tone:gFn[t.level],children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(M,{flex:"none",children:l.jsx(B,{size:1,children:h.createElement(mFn[t.level])})}),l.jsxs(te,{flex:1,space:2,children:[l.jsx(bFn,{path:t.path,schemaType:r,value:o}),l.jsx(B,{muted:!0,size:1,children:t.item.message})]})]})})]})}function bFn(e){const{path:t,schemaType:n,value:r}=e,o=h.useMemo(()=>pFn({path:t,schemaType:n,value:r}),[t,n,r]);return l.jsx(B,{size:1,children:o.map((i,s)=>l.jsxs(h.Fragment,{children:[s>0&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),l.jsx("span",{style:{fontWeight:500},children:i.title||i.name})]},s))})}function xFn(e){const{documentId:t,documentType:n}=e,{validation:r}=uH(t,n),o=h.useMemo(()=>r.map(u=>({level:u.level,message:u.item.message,path:u.path})),[r]),i=o.some(gLe),s=o.some(vLe),a=h.useMemo(()=>i?sa:s?Pr:mT,[i,s]),c=h.useMemo(()=>i?"critical":s?"caution":"positive",[i,s]);return{hidden:o.length===0,icon:a,title:"Validation",tone:c,showAsAction:!0}}const wFn={name:xPn,component:vFn,useMenuItem:xFn},_Fn=[G4e,K4e,Y4e,q4e,W4e,PH],CFn=[ZOn],SFn=[wFn,hFn],EFn=Uz(e=>({name:"@sanity/desk-tool",document:{actions:t=>Array.from(new Set([...t,..._Fn])),badges:t=>Array.from(new Set([...t,...CFn])),inspectors:t=>Array.from(new Set([...t,...SFn]))},plugins:[O4n()],tools:[{name:(e==null?void 0:e.name)||"desk",title:(e==null?void 0:e.title)||"Desk",icon:(e==null?void 0:e.icon)||wxe,component:h.lazy(()=>Q7(()=>import("./index-8F-z14WZ-f763531f.js"),[])),canHandleIntent:(t,n)=>!!(t==="edit"&&n.id||t==="create"&&n.type||t==="create"&&n.template),controlsDocumentTitle:!0,getIntentState:QOn,options:e,router:iPn}]}));class Jt extends Error{constructor(t,n,r,o){super(t);const i=typeof r>"u"?"<unknown>":"".concat(r);this.path=(n||[]).concat(o?"".concat(i," (").concat(o,")"):i)}withHelpUrl(t){return this.helpId=t,this}}var kn=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(kn||{});const kFn=["_id","_type","_createdAt","_updatedAt","_rev"];function IL(e,t){const[n,...r]=t;if(!("fields"in e))return"";const o=e.fields.find(a=>a.name===n);if(!o)return kFn.includes(n)||console.warn('The current ordering config targeted the nonexistent field "%s" on schema type "%s". It should be one of %o',n,e.name,e.fields.map(a=>a.name)),"";if("to"in o.type&&o.type.name==="reference"){const a=o.type.to;return"".concat(n,"->{").concat(a.map(c=>IL(c,r)).join(","),"}")}const i=r.length>0&&IL(o.type,r),s=i?"{".concat(i,"}"):"";return r.length>0?"".concat(n).concat(s):n}function jFn(e,t){return t.map(n=>IL(e,n.field.split("."))).join(", ")}const b6e={title:"Last edited",name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},TFn={title:"Created",name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},AFn=b6e,wye=[b6e,TFn];function x6e(e,t,n){return e instanceof Bf?e.serialize({path:n,index:t}):e}class Bf{constructor(t,n){this._context=t,this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:n,action:r,intent:o}=this.spec;if(!n){const i=typeof r=="string"?'action: "'.concat(r,'"'):void 0;throw new Jt("`title` is required for menu item",t.path,t.index,i).withHelpUrl(kn.TITLE_REQUIRED)}if(!r&&!o)throw new Jt("`action` or `intent` required for menu item with title ".concat(this.spec.title),t.path,t.index,'"'.concat(n,'"')).withHelpUrl(kn.ACTION_OR_INTENT_REQUIRED);if(o&&r)throw new Jt("cannot set both `action` AND `intent`",t.path,t.index,'"'.concat(n,'"')).withHelpUrl(kn.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new Bf(this._context);return n.spec={...this.spec,...t||{}},n}}function w6e(e,t,n){return new Bf(e).group("sorting").title("Sort by ".concat(t.title)).icon(u8).action("setSortOrder").params({by:t.by,extendedProjection:n})}function _6e(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(wye):wye).map(o=>w6e(e,o,jFn(r,o.by)))}function C6e(e,t,n){return e instanceof Qx?e.serialize({path:n,index:t}):e}class Qx{constructor(t,n){this._context=t,this._id=n?n.id:"",this._title=n?n.title:""}id(t){return new Qx(this._context,{id:t,title:this._title})}getId(){return this._id}title(t){return new Qx(this._context,{id:this._id,title:t})}getTitle(){return this._title}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:n,_title:r}=this;if(!n)throw new Jt("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(kn.ID_REQUIRED);if(!r)throw new Jt("`title` is required for a menu item group",t.path,n).withHelpUrl(kn.TITLE_REQUIRED);return{id:n,title:r}}}const S6e=/([^A-Za-z0-9-_.])/;function S_(e,t,n){if(typeof e!="string")throw new Jt("Structure node id must be of type string, got ".concat(typeof e),t,n);const[r]=e.match(S6e)||[];if(r)throw new Jt('Structure node id cannot contain character "'.concat(r,'"'),t,n);if(e.startsWith("__edit__"))throw new Jt("Structure node id cannot start with __edit__",t,n);return e}function wP(e,t){if(t)return t;const n=eve(e);return S6e.test(n)?eve(RPe(e)):n}class Jx{constructor(t){this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:wP(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o,options:i,component:s}=this.spec;if(!n)throw new Jt("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(kn.ID_REQUIRED);if(!s)throw new Jt("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(kn.ID_REQUIRED);return{id:S_(n,t.path,t.index),title:r,type:"component",child:o,component:s,options:i||{},menuItems:(this.spec.menuItems||[]).map((a,c)=>x6e(a,c,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,c)=>C6e(a,c,t.path))}}clone(t){const n=new Jx;return n.spec={...this.spec,...t||{}},n}}async function E6e(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=Tn(t),o=ri(t);return(await e(tn).fetch(n,{documentId:r,draftId:o},{tag:"structure.resolve-type"}))[0]}class UH{constructor(){this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||STn(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,icon:o}=this.spec;if(!n)throw new Jt("`id` is required for view item",t.path,t.index).withHelpUrl(kn.ID_REQUIRED);if(!r)throw new Jt("`title` is required for view item",t.path,t.index).withHelpUrl(kn.TITLE_REQUIRED);return{id:S_(n,t.path,t.index),title:r,icon:o}}}function OFn(e){return typeof e.serialize=="function"}function k6e(e,t,n){return OFn(e)?e.serialize({path:n,index:t}):e}const PFn=e=>bt(e)&&e.type==="component";class _P extends UH{constructor(t){const n=PFn(t)?{...t}:{options:{}};super(),this.spec=n;const r=typeof t=="function"?t:this.spec.component;r&&(this.spec=this.component(r).spec)}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize(t),r=this.spec.component;if(typeof r!="function")throw new Jt("`component` is required and must be a function for `component()` view item",t.path,t.index).withHelpUrl(kn.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(t){const n=new _P;return n.spec={...this.spec,...t||{}},n}}class CP extends UH{constructor(t){super(),this.spec={id:"editor",title:"Editor",...t||{}}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(t),type:"form"}}clone(t){const n=new CP;return n.spec={...this.spec,...t||{}},n}}const j6e=e=>new CP(e),DFn=e=>new _P(e);var IFn=Object.freeze({__proto__:null,ComponentViewBuilder:_P,FormViewBuilder:CP,GenericViewBuilder:UH,component:DFn,form:j6e,maybeSerializeView:k6e});const RFn=e=>{let{resolveDocumentNode:t,getClient:n}=e;return async(r,o)=>{let{params:i,path:s}=o,a=i.type;const c=s.slice(0,s.length-1),u=s[s.length-1];if(a||(a=await E6e(n,r)),!a)throw new Jt("Failed to resolve document, and no type provided in parameters.",c,u);return t({documentId:r,schemaType:a})}};class Nf{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:wP(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const o=t[n||t.length-1],i=this.spec.id||o&&"".concat(o)||"",s={id:i,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof i!="string"||!i)throw new Jt("`id` is required for document nodes",t,n,r).withHelpUrl(kn.ID_REQUIRED);if(!s||!s.id)throw new Jt("document id (`id`) is required for document nodes",t,i,r).withHelpUrl(kn.DOCUMENT_ID_REQUIRED);if(!s||!s.type)throw new Jt("document type (`schemaType`) is required for document nodes",t,i,r);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[j6e()]).map((d,f)=>k6e(d,f,t)),c=a.map(d=>d.id),u=so(c.filter((d,f)=>c.includes(d,f+1)));if(u.length>0)throw new Jt("document node has views with duplicate IDs: ".concat(u.join(",  ")),t,i,r);return{...this.spec,child:this.spec.child||RFn(this._context),id:S_(i,t,n),type:"document",options:$Fn(s),views:a}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new Nf(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function $Fn(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function MFn(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new Nf(e);if(!t)return n;const{id:r,type:o,template:i,templateParameters:s}=t.options;return n=n.id(t.id).documentId(r),o&&(n=n.schemaType(o)),i&&(n=n.initialValueTemplate(i,s)),t.child&&(n=n.child(t.child)),n}function FFn(e,t,n){let{resolveDocumentNode:r,templates:o}=e;const i=o.find(s=>s.id===t);if(!i)throw new Error('Template with ID "'.concat(t,'" not defined'));return r({schemaType:i.schemaType}).initialValueTemplate(t,n)}const _ye=["default","card","media","detail","block"],T6e=Symbol("Document type list canHandleIntent"),WH=(e,t,n)=>{let{pane:r}=n;var o,i;const s=e==="edit",a=e==="create",c=r,u=((o=c.options)==null?void 0:o.filter)||"",d=((i=c.options)==null?void 0:i.params)||{},f=c.schemaTypeName?[c.schemaTypeName]:YH(u,d),p=c.initialValueTemplates||[];return a&&t.template?p.some(m=>m.templateId===t.template):s&&t.id&&f.includes(t.type)||a&&f.includes(t.type)};WH.identity=T6e;class SP{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:o,_context:i}=this,{templates:s}=i;if(typeof o.id!="string"||!o.id)throw new Jt("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(kn.ID_REQUIRED);if(!o.templateId)throw new Jt("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(kn.ID_REQUIRED);const a=s.find(c=>c.id===o.templateId);if(!a)throw new Jt("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(kn.ID_REQUIRED);return{id:o.id,templateId:o.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:o.description||a.description,title:o.title||a.title,subtitle:o.subtitle,icon:o.icon||a.icon,initialDocumentId:o.initialDocumentId,parameters:o.parameters}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new SP(this._context);return n.spec={...this.spec,...t},n}}function LFn(e){const{schema:t,getStructureBuilder:n,templates:r}=e,o=t.getTypeNames();return r.filter(s=>{var a;return!((a=s.parameters)!=null&&a.length)}).sort((s,a)=>o.indexOf(s.schemaType)-o.indexOf(a.schemaType)).map(s=>n().initialValueTemplateItem(s.id))}function BFn(e,t,n){return e instanceof SP?e.serialize({path:n,index:t}):e}function NFn(e,t){const{schema:n,templates:r}=e;return t.map(o=>{const i=r.find(d=>d.id===o.templateId),s=o.title||(i==null?void 0:i.title)||"Create new",a=eSt({type:i&&i.schemaType,template:o.templateId},Boolean),c=o.parameters?[a,o.parameters]:a,u=i&&n.get(i.schemaType);return new Bf(e).title(s).icon(i&&i.icon||(u==null?void 0:u.icon)||pp).intent({type:"create",params:c}).serialize()})}function zFn(){}const A6e=(e,t,n)=>{let{pane:r,index:o}=n;return o<=1&&WH(e,t,{pane:r,index:o})};class O6e{constructor(){this.initialValueTemplatesSpecified=!1,this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:wP(t,this.spec.id)})}getTitle(){return this.spec.title}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id||"",r=t.path,o=this.spec.defaultLayout;if(o&&!_ye.includes(o))throw new Jt("`layout` must be one of ".concat(_ye.map(s=>'"'.concat(s,'"')).join(", ")),r,n||t.index,this.spec.title);const i=(this.spec.initialValueTemplates||[]).map((s,a)=>BFn(s,a,r));return{id:S_(n,t.path,n||t.index),title:this.spec.title,type:"genericList",defaultLayout:o,child:this.spec.child||zFn,canHandleIntent:this.spec.canHandleIntent||A6e,displayOptions:this.spec.displayOptions,initialValueTemplates:i,menuItems:(this.spec.menuItems||[]).map((s,a)=>x6e(s,a,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,a)=>C6e(s,a,r))}}}const VFn=(e,t)=>{var n;const r=((n=e.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new Jt("`filter` cannot start with `".concat(r[0],"` - looks like you are providing a query, not a filter"),t.path,e.id,e.title).withHelpUrl(kn.QUERY_PROVIDED_FOR_FILTER);return r},HFn=e=>(t,n)=>{var r;const o=n.parent,i=(r=n.params)!=null&&r.template?e.templates.find(a=>a.id===n.params.template):void 0,s=i?i.schemaType:o.schemaTypeName||E6e(e.getClient,t);return Promise.resolve(s).then(a=>a?e.resolveDocumentNode({schemaType:a,documentId:t}):new Nf(e).id("editor").documentId(t).schemaType(""))};class E_ extends O6e{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(t){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:t}})}getApiVersion(){var t;return(t=this.spec.options)==null?void 0:t.apiVersion}filter(t){return this.clone({options:{...this.spec.options||{},filter:t}})}getFilter(){var t;return(t=this.spec.options)==null?void 0:t.filter}schemaType(t){const n=typeof t=="string"?t:t.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(t){return this.clone({options:{...this.spec.options||{filter:""},params:t}})}getParams(){var t;return(t=this.spec.options)==null?void 0:t.params}defaultOrdering(t){if(!Array.isArray(t))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:t}})}getDefaultOrdering(){var t;return(t=this.spec.options)==null?void 0:t.defaultOrdering}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new Jt("`id` is required for document lists",t.path,t.index,this.spec.title).withHelpUrl(kn.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new Jt("`filter` is required for document lists",t.path,this.spec.id,this.spec.title).withHelpUrl(kn.FILTER_REQUIRED);return!(((n=this.spec.options)==null?void 0:n.filter)==="_type == $type")&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn("No apiVersion specified for document type list with custom filter: `".concat(this.spec.options.filter,"`. This will be required in the future. See %s for more info."),Zje(kn.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(t),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||HFn(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||tn.apiVersion,filter:VFn(this.spec,t)}}}clone(t){const n=new E_(this._context);return n.spec={...this.spec,...t||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=UFn(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=WFn(n.spec)),n}getSpec(){return this.spec}}function UFn(e,t){const{document:n}=e,{schemaTypeName:r,options:o}=t,{filter:i,params:s}=o||{filter:"",params:{}},a=r?[r]:Array.from(new Set(YH(i,s)));if(a.length!==0)return a.flatMap(c=>n.resolveNewDocumentOptions({type:"structure",schemaType:c})).map(c=>({...c,icon:pp}))}function WFn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},o=YH(n,r);return o.length===1?o[0]:void 0}function YH(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=YFn(e,t);return n.length===0&&(n=qFn(e,t)),n}function YFn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let o;for(;(o=n.exec(e))!==null;)r.push(o[1]||o[2]);return r.map(i=>((i[0]==="$"?t[i.slice(1)]:i)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function qFn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(o=>o.trim().replace(/^["']+|["']+$/g,"")).map(o=>o[0]==="$"?t[o.slice(1)]:o).filter(Boolean):[]}const GFn=e=>e instanceof h1?"ListBuilder":JFn(e)?"Promise":Array.isArray(e)?"array":typeof e,KFn=e=>e.type==="listItem",ZFn=(e,t,n)=>(n.pane.items||[]).filter(t6n).some(i=>i.schemaType.name===t.type&&i._id===t.id)||A6e(e,t,n),XFn=(e,t)=>{const o=(t.parent.items.filter(KFn).find(i=>i.id===e)||{child:void 0}).child;return!o||typeof o!="function"?o:typeof o=="function"?o(e,t):o};function QFn(e,t,n){if(e instanceof p1)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const o=r&&r.type||GFn(r),i=o==="array"?" - did you forget to spread (...moreItems)?":"";throw new Jt('List items must be of type "listItem", got "'.concat(o,'"').concat(i),n,t).withHelpUrl(kn.INVALID_LIST_ITEM)}return e}function JFn(e){return bt(e)&&typeof e.then=="function"}class h1 extends O6e{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(t){return this.clone({items:t})}getItems(){return this.spec.items}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id;if(typeof n!="string"||!n)throw new Jt("`id` is required for lists",t.path,t.index).withHelpUrl(kn.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new Jt("`items` must be an array of items",t.path,t.index).withHelpUrl(kn.LIST_ITEMS_MUST_BE_ARRAY);const o=(t.path||[]).concat(n),i=r.map((a,c)=>QFn(a,c,o)),s=i.filter((a,c)=>DPe(i,{id:a.id},c+1));if(s.length>0){const a=s.map(u=>u.id).slice(0,5),c=s.length>5?"".concat(a.join(", "),"..."):a.join(", ");throw new Jt("List items with same ID found (".concat(c,")"),t.path,t.index).withHelpUrl(kn.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(t),type:"list",canHandleIntent:this.spec.canHandleIntent||ZFn,child:this.spec.child||XFn,items:i}}clone(t){const n=new h1(this._context);return n.spec={...this.spec,...t||{}},n}}class p1{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:wP(t,this.spec.id)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}showIcon(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o}=this.spec;if(typeof n!="string"||!n)throw new Jt("`id` is required for list items",t.path,t.index).withHelpUrl(kn.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new Jt("`title` is required for list items",t.path,n).withHelpUrl(kn.TITLE_REQUIRED);let i=this.spec.schemaType;if(typeof i=="string"){const c=this._context.schema.get(i);if(!c)throw new Jt('Could not find type "'.concat(i,'" in schema'),t.path,n).withHelpUrl(kn.SCHEMA_TYPE_NOT_FOUND);i=c}const s={path:t.path.concat(n),hint:"child"};let a=o instanceof Jx||o instanceof E_||o instanceof Nf||o instanceof h1?o.serialize(s):o;if(typeof a=="function"){const c=a;a=(u,d)=>c(u,{...d,serializeOptions:s})}return{...this.spec,id:S_(n,t.path,t.index),schemaType:i,child:a,title:r,type:"listItem"}}clone(t){const n=new p1(this._context);return n.spec={...this.spec,...t||{}},n}}const e6n=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new Nf(e).id("documentEditor").documentId(n)};class qH extends p1{constructor(t,n){super(t,n),this._context=t,this.spec=n||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize({...t,titleIsOptional:!0});if(!n.schemaType)throw new Jt("`schemaType` is required for document list items",t.path,t.index).withHelpUrl(kn.SCHEMA_TYPE_REQUIRED);const r=n.child||e6n(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(t){const n=new qH(this._context);return n.spec={...this.spec,...t||{}},n}}function t6n(e){return bt(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}class Kj extends E_{constructor(t,n){super(t),this._context=t,this.spec=n||{}}child(t){return this.cloneWithoutDefaultIntentHandler({child:t})}clone(t){const n=super.clone(t),r=new Kj(this._context);return r.spec={...this.spec,...n.getSpec(),...t||{}},r}cloneWithoutDefaultIntentHandler(t){const n=super.clone(t),r=new Kj(this._context),o=this.spec.canHandleIntent,s=o&&o.identity===T6e?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...t||{},...s},r}}function n6n(e){const t=e.preview;return!!(t&&(t.prepare||t.select&&t.select.media))}const r6n=["sanity.imageAsset","sanity.fileAsset"];function o6n(e){return r6n.includes(e)}function i6n(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function s6n(e){return e.type==="list"}function a6n(e){let{schema:t}=e;return t.getTypeNames().filter(n=>{const r=t.get(n);return r&&i6n(r)}).filter(n=>!o6n(n))}function P6e(e){return a6n(e).map(n=>D6e(e,n))}function D6e(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error('Schema type with name "'.concat(t,'" not found'));const o=r.title||rn(t);return new p1(e).id(t).title(o).schemaType(r).child((i,s)=>{const a=s.parent,c=s6n(a)?a.items.find(d=>d.id===i):null;let u=I6e(e,t);return c&&c.title&&(u=u.title(c.title)),u})}function I6e(e,t){const{schema:n,resolveDocumentNode:r}=e,o=typeof t=="string"?t:t.schemaType,i=typeof o=="string"?o:o.name,s=typeof t=="string"?{schemaType:o}:t,a=n.get(i);if(!a)throw new Error('Schema type with name "'.concat(i,'" not found'));const c=a.title||rn(i),u=n6n(a);return new Kj(e).id(s.id||i).title(s.title||c).filter("_type == $type").params({type:i}).schemaType(a).showIcons(u).defaultOrdering(AFn.by).menuItemGroups(s.menuItemGroups||[{id:"sorting",title:"Sort"},{id:"layout",title:"Layout"},{id:"actions",title:"Actions"}]).child(s.child||(d=>r({schemaType:i,documentId:d}))).canHandleIntent(s.canHandleIntent||WH).menuItems(s.menuItems||[..._6e(e,a),new Bf(e).group("layout").title("Compact view").icon(Txe).action("setLayout").params({layout:"default"}),new Bf(e).group("layout").title("Detailed view").icon(Axe).action("setLayout").params({layout:"detail"})])}function l6n(e){return!e||typeof e=="string"?!1:!!e.icon}function c6n(e){const t=P6e(e);return new h1(e).id("__root__").title("Content").items(t).showIcons(t.some(n=>l6n(n.getSchemaType())))}function u6n(e){let{defaultDocumentNode:t,source:n}=e;const r=own(n),o={...n,getStructureBuilder:()=>i,resolveDocumentNode:s=>{let a=(t==null?void 0:t(i,{...s,...r}))||new Nf(o);return a.getId()||(a=a.id("documentEditor")),s.documentId&&(a=a.documentId(Tn(s.documentId))),a.schemaType(s.schemaType)}},i={defaults:()=>c6n(o),documentTypeList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return I6e(o,...a)},documentTypeListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return D6e(o,...a)},documentTypeListItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return P6e(o,...a)},document:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Nf(o,...a)},documentWithInitialValueTemplate:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return FFn(o,...a)},defaultDocument:o.resolveDocumentNode,list:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new h1(o,...a)},listItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new p1(o,...a)},menuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Bf(o,...a)},menuItemGroup:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Qx(o,...a)},menuItemsFromInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return NFn(o,...a)},documentList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new E_(o,...a)},documentListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new qH(o,...a)},orderingMenuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return w6e(o,...a)},orderingMenuItemsForType:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return _6e(o,...a)},editor:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return MFn(o,...a)},defaultInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return LFn(o,...a)},initialValueTemplateItem:(s,a)=>new SP(o,{id:s,parameters:a,templateId:s}),component:s=>vr.isValidElementType(s)?new Jx().component(s):new Jx(s),divider:()=>({id:hTe("__divider__"),type:"divider"}),view:IFn,context:o};return i}function l9n(e){let{defaultDocumentNode:t,structure:n,children:r}=e;const[o,i]=h.useState(!1),s=Pn(),a=rwn(s),c=Xa(),u=h.useMemo(()=>u6n({defaultDocumentNode:t,source:s}),[t,s]),d=h.useMemo(()=>n?n(u,{...a,documentStore:c}):u.defaults(),[u,n,a,c]),f=h.useMemo(()=>({backButton:o,resizablePanes:!o,reviewChanges:!o,splitPanes:!o,splitViews:!o}),[o]),p=h.useMemo(()=>({features:f,layoutCollapsed:o,setLayoutCollapsed:i,rootPaneNode:d,structureContext:u.context}),[f,o,d,u.context]);return l.jsx(m6e.Provider,{value:p,children:r})}function R6e(e){const{children:t,currentMinWidth:n,flex:r,minWidth:o,paneKey:i,title:s="Error",tone:a="critical"}=e;return l.jsxs(pP,{currentMinWidth:n,flex:r,id:i,minWidth:o,tone:a,children:[l.jsx(AH,{title:s}),l.jsx(mP,{overflow:"auto",children:l.jsx(M,{paddingX:4,paddingY:5,children:t})})]})}function d6n(e){const t=[{ms:300,message:"Loading…"},{ms:5e3,message:"Still loading…"}],n=ve(null);return Qt(...t.map(r=>{let{ms:o,message:i}=r;return n.pipe(sA(i),_Ee(o))}))}var Cye=Object.freeze,f6n=Object.defineProperty,h6n=(e,t)=>Cye(f6n(e,"raw",{value:Cye(t||e.slice())})),Sye;const p6n="Loading…",m6n=I(U)(Sye||(Sye=h6n([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),$6e=h.memo(e=>{const{delay:t=300,flex:n,message:r=d6n,minWidth:o,paneKey:i,path:s,selected:a,title:c,tone:u}=e,d=h.useMemo(()=>typeof r=="function"?r(s?s.split(";"):[]):r,[r,s]),[f,p]=h.useState(()=>typeof d=="string"?d:p6n);h.useEffect(()=>{if(typeof d!="object"||typeof d.subscribe=="function")return;const y=d.subscribe(p);return()=>y.unsubscribe()},[d]);const[m,v]=h.useState(null),[g,b]=h.useState(!1);h.useEffect(()=>{if(m)return Ltt(()=>b(!0))},[m]);const x=l.jsxs(m6n,{align:"center","data-mounted":g?"":void 0,direction:"column",height:"fill",justify:"center",ref:v,children:[l.jsx(ir,{muted:!0}),(c||f)&&l.jsx(M,{marginTop:3,children:l.jsx(B,{align:"center",muted:!0,size:1,children:c||f})})]});return l.jsx(pP,{flex:n,id:i,minWidth:o,selected:a,tone:u,children:l.jsx(mP,{children:x})})});$6e.displayName="LoadingPane";function g6n(e){return e==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:e==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(e)}function v6n(e){return e==="publish"?"The document was published":e==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":e==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":e==="delete"?"The document was successfully deleted":"Successfully performed ".concat(e," on document")}const y6n=["patch","commit"],b6n=h.memo(function(){const{push:t}=Bo(),{documentId:n,documentType:r}=lr(),o=LMe(n,r),i=h.useRef(o),s=Vc();return h.useEffect(()=>{if(!o||o===i.current)return;let a;return o.type==="error"&&t({closable:!0,duration:3e4,status:"error",title:g6n(o.op),description:l.jsxs("details",{children:[l.jsx("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!y6n.includes(o.op)&&t({closable:!0,status:"success",title:v6n(o.op)}),o.type==="success"&&o.op==="delete"&&(a=setTimeout(()=>s.closeCurrentAndAfter(),0)),i.current=o,()=>clearTimeout(a)},[o,s,t]),null});function x6n(e){let{currentInspector:t,hasValue:n,inspectors:r,inspectorMenuItems:o}=e;return r.map((i,s)=>{var a;const c=o[s];return!c||c.hidden?null:{action:"".concat(bL).concat(i.name),group:c.showAsAction?void 0:"inspectors",icon:c.icon,isDisabled:!n,selected:(t==null?void 0:t.name)===i.name,shortcut:(a=c.hotkeys)==null?void 0:a.join("+"),showAsAction:c.showAsAction,title:c.title,tone:c.tone}}).filter(Boolean)}function w6n(e){let{hasValue:t}=e;return{action:"inspect",group:"inspectors",title:"Inspect",icon:d0,isDisabled:!t,shortcut:"Ctrl+Alt+I"}}function _6n(e){let{previewUrl:t}=e;return t?{action:"production-preview",group:"links",title:"Open preview",icon:pxe,shortcut:"Ctrl+Alt+O"}:null}function C6n(e){const t=x6n(e),n=[_6n(e)].filter(Boolean);return[...t,w6n(e),...n]}const S6n=e=>bt(e)&&typeof e._id=="string"&&typeof e._type=="string";function E6n(e){const[t,n]=h.useState(void 0),[r,o]=h.useState(null),{resolveProductionUrl:i}=Pn().document,s=ast(e);if(r)throw r;return h.useEffect(()=>{s.pipe(y7(500),nt(a=>S6n(a)?yr(i({document:a})):ve(void 0)),jn(a=>{const c=bt(a)&&typeof a.message=="string"?a.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(c))})).subscribe({next:n,error:o})},[i,s]),t}function k6n(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,i=e.filter(c=>c.schemaType===t.documentType),s={...t.templateParams,...typeof n=="object"?n||{}:{}};let a=o;return!o&&i.length===1&&(a=i[0].id),{templateName:a,templateParams:s}}const j6n=h.memo(function(t){const{documentId:n,documentType:r,index:o,setMenuItem:i,useMenuItem:s}=t,a=Do(s({documentId:n,documentType:r}));return h.useEffect(()=>{i(o,a)},[o,a,i]),l.jsx(l.Fragment,{})});function T6n(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:o}=e,i=r.length,s=h.useRef(i),[a,c]=h.useState(()=>Array.from(new Array(i))),u=h.useRef(a);h.useEffect(()=>{if(s.current!==i){const f=Array.from(new Array(i));for(let p=0;p<i;p++)f[p]=u.current[p];s.current=i,c(()=>(u.current=f,f))}},[i]);const d=h.useCallback((f,p)=>{c(m=>{const v=[...m];return v[f]=p,u.current=v,v})},[]);return h.useEffect(()=>{o(a.filter(Boolean))},[a,o]),l.jsx(l.Fragment,{children:r.map((f,p)=>f.useMenuItem&&l.jsx(j6n,{documentId:t,documentType:n,index:p,setMenuItem:d,useMenuItem:f.useMenuItem},f.name))})}const M6e=h.memo(e=>{const{children:t,index:n,pane:r,paneKey:o}=e,i=xn(),s=r1(),{actions:a,badges:c,unstable_fieldActions:u,unstable_languageFilter:d,inspectors:f}=Pn().document,p=xH(),m=Vc(),v=m.setParams,{features:g}=f1(),{push:b}=Bo(),{options:x,menuItemGroups:y=bPn,title:w=null,views:_=[]}=r,C=Do(x),S=C.id,E=Tn(S),j=x.type,k=Do(m.params)||yPn,T=Do(m.payload),{templateName:A,templateParams:O}=h.useMemo(()=>k6n(s,{documentType:j,templateName:C.template,templateParams:C.templateParameters,panePayload:T,urlTemplate:k.template}),[j,C,k,T,s]),P=u5n({documentId:E,documentType:j,templateName:A,templateParams:O}),D=Do(P),{patch:R}=Bl(E,j),$=cH(E,j),{validation:H}=uH(E,j),F=hEn(E,j),V=i.get(j),W=($==null?void 0:$.draft)||($==null?void 0:$.published)||D.value,[z,q]=h.useState(!1),[oe,N]=h.useState([]),G=h.useMemo(()=>a({schemaType:j,documentId:E}),[a,E,j]),Y=h.useMemo(()=>c({schemaType:j,documentId:E}),[c,E,j]),K=h.useMemo(()=>d({schemaType:j,documentId:E}),[E,j,d]),X=Do(H),Q=Do(_),[Z,re]=h.useState(()=>k.path?_l(k.path):[]),ae=k.view||Q[0]&&Q[0].id||null,[me,ce]=h.useState("closed"),[Te,je]=h.useState(null),be=okn({documentId:E,documentType:j,onError:je,rev:k.rev,since:k.since}),ge=eo(be,We=>We.onOlderRevision),De=eo(be,We=>We.revTime),Re=eo(be,We=>We.sinceAttributes),at=eo(be,We=>We.timelineDisplayed),rt=eo(be,We=>We.timelineReady),Mt=eo(be,We=>We.isPristine),un=h.useMemo(()=>rt?!($!=null&&$.draft)&&!($!=null&&$.published)&&!Mt:!1,[$==null?void 0:$.draft,$==null?void 0:$.published,Mt,rt]),xe=E6n(W),[qe,Ze]=h.useState([]);h.useEffect(()=>{const We=p.documentPresence(E).subscribe(In=>{Ze(In)});return()=>{We.unsubscribe()}},[E,p]);const Ne=h.useMemo(()=>f({documentId:E,documentType:j}),[E,j,f]),[pt,Oe]=h.useState(()=>k.inspect||null),Me=h.useRef(k.inspect);h.useEffect(()=>{Me.current!==k.inspect&&(Me.current=k.inspect,Oe(k.inspect||null))},[k.inspect]);const Xe=Ne==null?void 0:Ne.find(We=>We.name===pt),zo=Ne.find(We=>We.name===xL),os=(Xe==null?void 0:Xe.name)===xL,Os=!!W,Ut=h.useMemo(()=>C6n({currentInspector:Xe,features:g,hasValue:Os,inspectorMenuItems:oe,inspectors:Ne,previewUrl:xe}),[Xe,g,Os,oe,Ne,xe]),Nr=k.inspect==="on",Nl=os?Re:($==null?void 0:$.published)||null,Ja=h.useMemo(()=>V?u({documentId:E,documentType:j,schemaType:V}):[],[E,j,u,V]),si=F==="connected"&&$.ready&&(rt||!!Te),Dn=h.useMemo(()=>ge?at||{_id:W._id,_type:W._type}:W,[ge,at,W]),Dr=h.useCallback((We,In)=>{v({...k,since:We,rev:In||void 0})},[k,v]),Yr=h.useCallback(We=>{re(We),p.setLocation([{type:"document",documentId:E,path:We,lastActiveAt:new Date().toISOString()}])},[E,p,re]),He=h.useCallback(We=>{re([])},[re]),yt=h.useRef(()=>{throw new Error("Nope")});yt.current=We=>{R.execute(ijn(We.patches),D.value)};const Yn=h.useCallback(We=>yt.current(We),[]),dn=h.useCallback(We=>{var In,wn,Co,hh;const Uc=We&&Ne.find(li=>li.name===We);if(We&&!Uc){console.warn('No inspector named "'.concat(We,'"'));return}if(Xe){if(Uc){const li=(wn=(In=Uc.onClose)==null?void 0:In.call(Uc,{params:k}))!=null?wn:{params:k};Oe(null),Me.current=void 0,v({...li.params,inspect:void 0});return}if(Xe){const li=(hh=(Co=Xe.onClose)==null?void 0:Co.call(Xe,{params:k}))!=null?hh:{params:k};Oe(null),Me.current=void 0,v({...li.params,inspect:void 0})}}},[Xe,Ne,k,v]),ai=h.useCallback((We,In)=>{var wn,Co,hh,Uc;const li=Ne.find(oU=>oU.name===We);if(!li){console.warn('No inspector named "'.concat(We,'"'));return}if((Xe==null?void 0:Xe.name)===li.name){v({...k,...In,inspect:li.name});return}let v1=k;Xe&&(v1=((Co=(wn=li.onClose)==null?void 0:wn.call(li,{params:v1}))!=null?Co:{params:v1}).params);const aLe=(Uc=(hh=li.onOpen)==null?void 0:hh.call(li,{params:v1}))!=null?Uc:{params:v1};Oe(li.name),Me.current=li.name,v({...aLe.params,...In,inspect:li.name})},[Xe,Ne,k,v]),fo=h.useCallback(()=>{zo&&dn(zo.name)},[dn,zo]),is=h.useCallback(()=>{g.reviewChanges&&zo&&ai(zo.name)},[g.reviewChanges,ai,zo]),Ps=h.useCallback(()=>m.closeCurrent(),[m]),zl=h.useCallback(()=>m.duplicateCurrent(),[m]),Hc=h.useCallback(function(){let We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!Nr;v(We?{...k,inspect:"on"}:Ai(k,"inspect"))},[Nr,k,v]),Bm=h.useCallback(We=>{if(We.action==="production-preview"&&xe)return window.open(xe),!0;if(We.action==="inspect")return Hc(!0),!0;if(We.action==="reviewChanges")return is(),!0;if(typeof We.action=="string"&&We.action.startsWith(bL)){const In=We.action.slice(bL.length),wn=Ne.find(Co=>Co.name===In);if(wn)return wn.name===pt?dn(wn.name):ai(wn.name),!0}return!1},[dn,is,pt,Ne,ai,xe,Hc]),dh=h.useCallback(We=>{for(const In of Ut)if(In.shortcut&&mi(In.shortcut,We)){We.preventDefault(),We.stopPropagation(),Bm(In);return}},[Bm,Ut]),fh=h.useCallback(()=>Hc(!1),[Hc]),[m1,Z6e]=h.useState([]),[X6e,XH]=h.useState(),[QH,JH]=h.useState(),[eU,tU]=h.useState(),Q6e=h.useCallback((We,In)=>{JH(wn=>Uh(wn,We,In))},[]),J6e=h.useCallback((We,In)=>{tU(wn=>Uh(wn,We,In))},[]),eLe=h.useCallback((We,In)=>XH(wn=>Uh(wn,We,In)),[]),tLe=W._createdAt?"update":"create",nU=!!(V!=null&&V.liveEdit),EP=W._id?W._id:"dummy-id",nLe=h.useMemo(()=>({...W,_id:nU?Tn(EP):ri(EP)}),[nU,W,EP]),[g1,kP]=g5n({document:nLe,permission:tLe}),rU=!(W!=null&&W._id),rLe=h.useMemo(()=>{var We;const In=!kP&&!(g1!=null&&g1.granted),wn=!TQ(V,"update"),Co=rU&&!TQ(V,"create"),hh=F==="reconnecting",Uc=(We=$.transactionSyncLock)==null?void 0:We.enabled;return!si||De!==null||In||wn||Co||hh||Uc||z||un},[F,$.transactionSyncLock,rU,un,z,kP,g1==null?void 0:g1.granted,si,De,V]),jP=ojn(V,{value:Dn,readOnly:rLe,comparisonValue:Nl,focusPath:Z,openPath:m1,collapsedPaths:QH,presence:qe,validation:X,collapsedFieldSets:eU,fieldGroupState:X6e,changesOpen:os}),k_=h.useRef(jP);k_.current=jP;const TP=h.useCallback(We=>{Ukn(k_.current,We).forEach(wn=>{wn.type==="expandPath"&&JH(Co=>Uh(Co,wn.path,!1)),wn.type==="expandFieldSet"&&tU(Co=>Uh(Co,wn.path,!1)),wn.type==="setSelectedGroup"&&XH(Co=>Uh(Co,wn.path,wn.groupName))}),Z6e(We)},[k_]),oLe={actions:G,activeViewId:ae,badges:Y,changesOpen:os,closeInspector:dn,collapsedFieldSets:eU,collapsedPaths:QH,compareValue:Nl,connectionState:F,displayed:Dn,documentId:E,documentIdRaw:S,documentType:j,editState:$,fieldActions:Ja,focusPath:Z,inspector:Xe||null,inspectors:Ne,menuItems:Ut,onBlur:He,onChange:Yn,onFocus:Yr,onPathOpen:TP,onHistoryClose:fo,onHistoryOpen:is,onInspectClose:fh,onKeyUp:dh,onMenuAction:Bm,onPaneClose:Ps,onPaneSplit:zl,onSetActiveFieldGroup:eLe,onSetCollapsedPath:Q6e,onSetCollapsedFieldSet:J6e,openInspector:ai,index:n,inspectOpen:Nr,validation:X,menuItemGroups:y||[],paneKey:o,previewUrl:xe,ready:si,schemaType:V,isPermissionsLoading:kP,permissions:g1,setTimelineMode:ce,setTimelineRange:Dr,setIsDeleting:q,isDeleting:z,isDeleted:un,timelineError:Te,timelineMode:me,timelineStore:be,title:w,value:W,views:Q,formState:jP,unstable_languageFilter:K};h.useEffect(()=>{F==="reconnecting"&&b({id:"sanity/desk/reconnecting",status:"warning",title:l.jsx(l.Fragment,{children:"Connection lost. Reconnecting…"})})},[F,b]),h.useEffect(()=>{var We;if(si&&k.path){const{path:In,...wn}=k,Co=HLe((We=k_.current)==null?void 0:We.value,_l(In));re(Co),TP(Co),m.setParams(wn)}},[k,E,TP,si,m]);const[iLe,sLe]=h.useState([]);return l.jsxs(U4e.Provider,{value:oLe,children:[Ne.length>0&&l.jsx(T6n,{documentId:E,documentType:j,inspectors:Ne,onMenuItems:N}),Ja.length>0&&V&&l.jsx(n_,{actions:Ja,documentId:E,documentType:j,onActions:sLe,path:Bn,schemaType:V}),l.jsx(s_,{actions:iLe,path:Bn,children:l.jsx(o4n,{documentId:E,documentType:j,children:l.jsx(a4n,{children:t})})})]})});M6e.displayName="DocumentPaneProvider";function RL(e,t,n){const r=Okn(),[o,i]=h.useState(n),s=h.useMemo(()=>r.forNamespace("desk-tool"),[r]),a=h.useMemo(()=>e?s.forNamespace(e).forKey(t):s.forKey(t),[s,e,t]);h.useEffect(()=>{const u=a.listen(n).subscribe({next:i});return()=>u==null?void 0:u.unsubscribe()},[n,t,e,a]);const c=h.useCallback(u=>{i(u),a.set(u)},[a]);return h.useMemo(()=>[o,c],[c,o])}const vg={id:"parsed",title:"Parsed"},yg={id:"raw",title:"Raw JSON"},A6n=[vg,yg],Zj=AAn(1e3);function F6e(e,t){const n=Zj.get(e);return n===void 0?(Zj.set(e,Array.isArray(t)||bt(t)),F6e(e,t)):n}function O6n(e){const{path:t}=e,n=Zj.get(t);n!==void 0&&Zj.set(t,!n)}function L6e(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function Eye(e){L6e(e.currentTarget)}function P6n(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),L6e(e.currentTarget))}function D6n(e){return bt(e)&&mv(e._id)&&mv(e._type)}var kye=Object.freeze,I6n=Object.defineProperty,R6n=(e,t)=>kye(I6n(e,"raw",{value:kye(t||e.slice())})),jye;const $6n=I.div(e=>{let{theme:t}=e;const{color:n,fonts:r,space:o}=t.sanity;return de(jye||(jye=R6n([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),r.code.family,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,pe(o[4]),pe(o[3]),pe(o[4]),r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,pe(o[4]/2),n.syntax.property,n.syntax.constant,pe(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function M6n(e){const{onChange:t,query:n}=e,r=h.useCallback(o=>t(o.target.value),[t]);return l.jsx(Or,{icon:Zo,onChange:r,placeholder:"Search",radius:2,value:n||""})}function F6n(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=lr(),o="".concat(r,"_inspect_"),[i,s]=RL("desk-tool","inspect-view-preferred-view-mode-".concat(r),"parsed"),a=A6n.find(d=>d.id===i),c=h.useCallback(()=>{s(vg.id)},[s]),u=h.useCallback(()=>{s(yg.id)},[s]);return l.jsx(Pi,{id:"".concat(o,"dialog"),header:D6n(t)?l.jsxs(l.Fragment,{children:["Inspecting"," ",l.jsx("em",{children:l.jsx(A4e,{document:t})})]}):l.jsx("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:l.jsxs(U,{direction:"column",height:"fill",children:[l.jsx(J,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:l.jsxs(nA,{space:1,children:[l.jsx(nx,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(vg.id),label:vg.title,onClick:c,selected:a===vg}),l.jsx(nx,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(yg.id),label:yg.title,onClick:u,selected:a===yg})]})}),l.jsxs(BSe,{"aria-labelledby":"".concat(o,"tab-").concat(i),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[a===vg&&l.jsx($6n,{children:l.jsx(jAn,{data:t,isExpanded:F6e,onClick:O6n,search:M6n})}),a===yg&&l.jsx(er,{language:"json",tabIndex:0,onKeyDown:P6n,onDoubleClick:Eye,onFocus:Eye,children:JSON.stringify(t,null,2)})]})]})})}var Tye=Object.freeze,L6n=Object.defineProperty,B6n=(e,t)=>Tye(L6n(e,"raw",{value:Tye(t||e.slice())})),Aye;const N6n=I(J)(Aye||(Aye=B6n([`
  position: relative;
  z-index: 50;
`])));function z6n(e){let{revisionId:t}=e;const{documentId:n,documentType:r}=lr(),{restore:o}=Bl(n,r),{navigateIntent:i}=Ic(),s=h.useCallback(()=>{t&&(o.execute(t),i("edit",{id:n,type:r}))},[n,r,i,o,t]);return l.jsx(N6n,{"data-testid":"deleted-document-banner",shadow:1,tone:"transparent",children:l.jsx(oo,{paddingX:4,paddingY:t?2:3,sizing:"border",width:1,children:l.jsxs(U,{align:"center",children:[l.jsx(B,{size:1,children:l.jsx(iw,{})}),l.jsxs(U,{align:"center",gap:2,flex:1,marginLeft:3,children:[l.jsx(B,{size:1,children:"This document has been deleted."}),t&&l.jsx(ie,{fontSize:1,padding:2,mode:"bleed",tone:"primary",onClick:s,text:"Restore most recent version"})]})]})})})}var Oye=Object.freeze,V6n=Object.defineProperty,B6e=(e,t)=>Oye(V6n(e,"raw",{value:Oye(t||e.slice())})),Pye,Dye;const H6n=I(J)(Pye||(Pye=B6e([`
  position: relative;
  z-index: 50;
`]))),Iye=I(B)(Dye||(Dye=B6e([`
  & > * {
    overflow: hidden;
    overflow: clip;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),N6e=h.memo(()=>{var e,t,n,r,o,i;const s=$i(),{params:a,groupIndex:c,routerPanesState:u,replaceCurrent:d,BackLink:f}=Vc(),p=(e=u[c])==null?void 0:e[0].id,m=u[c-1],v=m==null?void 0:m[0],g=v==null?void 0:v.id,b=!!((t=v==null?void 0:v.params)!=null&&t.rev),x=h.useMemo(()=>(a==null?void 0:a.parentRefPath)&&_l(a.parentRefPath)||null,[a==null?void 0:a.parentRefPath]),y=co(()=>{const C=x==null?void 0:x[0];if(!g||!C||!x)return ve({loading:!1});const S=Tn(g),E=_l(C),j=E.findIndex(k=>typeof k=="object"&&"_key"in k);return Fr(ve({loading:!0}),s.unstable_observePathsDocumentPair(S,j===-1?E:E.slice(0,j)).pipe(y7(750),le(k=>{let{draft:T,published:A}=k;var O;return{loading:!1,result:{availability:{draft:T.availability,published:A.availability},refValue:(O=om(T.snapshot||A.snapshot,x))==null?void 0:O._ref}}})))},[s,g,x],{loading:!0}),w=h.useCallback(()=>{var C;y.loading||(C=y.result)!=null&&C.refValue&&d({id:y.result.refValue,params:a})},[y.loading,y.result,d,a]);return!g||!x||b||y.loading||!((n=y.result)!=null&&n.availability.draft.available)&&!((r=y.result)!=null&&r.availability.published.available)||((o=y.result)==null?void 0:o.refValue)===p?null:l.jsx(H6n,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:l.jsx(oo,{paddingX:4,paddingY:2,sizing:"border",width:1,children:l.jsxs(U,{align:"center",children:[l.jsx(B,{size:1,children:l.jsx(Pr,{})}),(i=y.result)!=null&&i.refValue?l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(Iye,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(ie,{onClick:w,icon:h0,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(Iye,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(ie,{as:f,icon:Ei,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});N6e.displayName="ReferenceChangedBanner";var Rye=Object.freeze,U6n=Object.defineProperty,W6n=(e,t)=>Rye(U6n(e,"raw",{value:Rye(t||e.slice())})),$ye;const Y6n=I(J)($ye||($ye=W6n([`
  position: relative;
  z-index: 50;
`])));function q6n(e){let{granted:t,requiredPermission:n}=e;var r,o;const i=No(),s=((r=i==null?void 0:i.roles)==null?void 0:r.length)!==1,a=G6n(((o=i==null?void 0:i.roles)==null?void 0:o.map(c=>l.jsx("code",{children:c.title},c.name)))||[],", ");return t?null:l.jsx(Y6n,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:l.jsx(oo,{paddingX:4,paddingY:3,sizing:"border",width:1,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(B,{size:1,children:l.jsx(iw,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsxs(B,{size:1,children:["Your role",s&&"s"," ",a," ",s?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function G6n(e,t){return e.reduce((n,r)=>n===null?[r]:n.concat([t,r]),null)}function K6n(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}const Z6n=1e3*60*60*24*24;function X6n(e){const t=Bo(),n=K6n(e.enabled);h.useEffect(()=>{!n&&e.enabled&&t.push({...e,duration:Z6n}),n&&!e.enabled&&t.push({...e,duration:.01})},[e,t,n])}const Q6n=e=>e.preventDefault(),J6n=h.forwardRef(function(t,n){var r;const{hidden:o,margins:i}=t,{collapsedFieldSets:s,collapsedPaths:a,displayed:c,editState:u,documentId:d,documentType:f,fieldActions:p,onChange:m,validation:v,ready:g,formState:b,onFocus:x,onBlur:y,onSetCollapsedPath:w,onPathOpen:_,onSetCollapsedFieldSet:C,onSetActiveFieldGroup:S}=lr(),E=Xa(),j=g_(d),k=h.useMemo(()=>Arn(),[]),T=(r=u==null?void 0:u.transactionSyncLock)==null?void 0:r.enabled;X6n({id:"sync-lock-".concat(d),status:"warning",enabled:T,title:"Syncing document…",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),h.useEffect(()=>{const R=E.pair.documentEvents(d,f).pipe(mn($=>{$.type==="mutation"&&k.publish(eLn($)),$.type==="rebase"&&k.publish(tLn($))})).subscribe();return()=>{R.unsubscribe()}},[d,E,f,k]);const A=!!(c!=null&&c._rev);h.useEffect(()=>{A&&k.publish({type:"mutation",patches:[],snapshot:c})},[A]);const[O,P]=h.useState(null);h.useEffect(()=>{g&&!(b!=null&&b.focusPath.length)&&O&&Vv(O)},[g]);const D=h.useCallback(R=>{P(R),typeof n=="function"?n(R):n&&(n.current=R)},[n]);return l.jsx(oo,{hidden:o,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:l.jsx(l_,{margins:i,children:l.jsx(M,{as:"form",onSubmit:Q6n,ref:D,children:g?b===null?l.jsx(M,{padding:2,children:l.jsx(B,{children:"This form is hidden"})}):l.jsx(jan,{__internal_fieldActions:p,__internal_patchChannel:k,collapsedFieldSets:s,collapsedPaths:a,focusPath:b.focusPath,changed:b.changed,focused:b.focused,groups:b.groups,id:"root",members:b.members,onChange:m,onFieldGroupSelect:S,onPathBlur:y,onPathFocus:x,onPathOpen:_,onSetFieldSetCollapsed:C,onSetPathCollapsed:w,presence:j,readOnly:b.readOnly,schemaType:b.schemaType,validation:v,value:b.value}):l.jsx(jH,{ms:300,children:l.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",children:[l.jsx(ir,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(B,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})});function eLn(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:cL(e.origin,t)}}function tLn(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:cL("remote",t).concat(cL("local",n))}}function nLn(){const{activeViewId:e,paneKey:t,views:n}=lr(),r="".concat(t,"tabpanel");return l.jsx(nA,{space:1,children:n.map((o,i)=>{var s;return l.jsx(rLn,{icon:o.icon,id:"".concat(t,"tab-").concat(o.id),isActive:e===o.id,label:l.jsx(l.Fragment,{children:o.title}),tabPanelId:r,viewId:i===0?null:(s=o.id)!=null?s:null},o.id)})})}function rLn(e){const{isActive:t,tabPanelId:n,viewId:r,...o}=e,{ready:i}=lr(),{setView:s}=Vc(),a=h.useCallback(()=>s(r),[s,r]);return l.jsx(nx,{...o,"aria-controls":n,disabled:!i,fontSize:1,selected:t,onClick:a})}function oLn(){const{connectionState:e,schemaType:t,title:n,value:r}=lr(),o=!!r&&e==="connected",{error:i,value:s}=Yz({enabled:o,schemaType:t,value:r});return e!=="connected"?l.jsx(l.Fragment,{}):n?l.jsx(l.Fragment,{children:n}):r?i?l.jsxs(l.Fragment,{children:["Error: ",i.message]}):l.jsx(l.Fragment,{children:(s==null?void 0:s.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs(l.Fragment,{children:["New ",(t==null?void 0:t.title)||(t==null?void 0:t.name)]})}const iLn=h.memo(h.forwardRef(function(t,n){const{onMenuAction:r,onPaneClose:o,onPaneSplit:i,menuItems:s,menuItemGroups:a,schemaType:c,timelineStore:u,ready:d,views:f,unstable_languageFilter:p}=lr(),{features:m}=f1(),{index:v,BackLink:g,hasGroupSiblings:b}=Vc(),{actions:x}=vV(),y=h.useMemo(()=>V4e({actionHandler:r,fieldActions:x,menuItems:s,menuItemGroups:a}),[r,x,a,s]),w=h.useMemo(()=>y.filter(OH),[y]),_=h.useMemo(()=>y.filter(z4e),[y]),C=f.length>1,S=eo(u,P=>P.revTime),{collapsed:E,isLast:j}=uh(),k=j&&!E?-1:0,T=m.splitViews&&i&&f.length>1,A=T&&b,O=!A&&!m.backButton;return l.jsx(AH,{ref:n,loading:!d,title:l.jsx(oLn,{}),tabs:C&&l.jsx(nLn,{}),tabIndex:k,backButton:m.backButton&&v>0&&l.jsx(ie,{as:g,"data-as":"a",icon:ow,mode:"bleed",padding:2}),subActions:l.jsx(v6e,{chunk:S,mode:"rev",placement:"bottom-end"}),actions:l.jsxs(U,{align:"center",gap:1,children:[p.length>0&&l.jsx(l.Fragment,{children:p.map((P,D)=>h.createElement(P,{key:"language-filter-".concat(D),schemaType:c}))}),w.map(P=>l.jsx(N4e,{node:P},P.key)),l.jsx(M4e,{nodes:_},"context-menu"),T&&l.jsx(st,{content:l.jsx(B,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:l.jsx(ie,{"aria-label":"Split pane right",icon:jxe,mode:"bleed",onClick:i},"split-pane-button")}),A&&l.jsx(ie,{icon:Ei,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),O&&l.jsx(ie,{icon:Ei,mode:"bleed",title:"Close pane group",as:g},"close-view-button")]})})}));var Mye=Object.freeze,sLn=Object.defineProperty,aLn=(e,t)=>Mye(sLn(e,"raw",{value:Mye(t||e.slice())})),Fye;const lLn=I(M)({position:"relative"}),cLn=I(_O)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:de(Fye||(Fye=aLn([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),uLn=function(t){const{footerHeight:n,isInspectOpen:r,rootElement:o,setDocumentPanelPortalElement:i}=t,{activeViewId:s,displayed:a,documentId:c,editState:u,inspector:d,value:f,views:p,ready:m,schemaType:v,permissions:g,isPermissionsLoading:b,isDeleting:x,isDeleted:y,timelineStore:w,formState:_}=lr(),{collapsed:C}=i1(),{collapsed:S}=uh(),E=gm(),{features:j}=f1(),[k,T]=h.useState(null),A=ed(k),O=h.useRef(null),[P,D]=h.useState(null),R=h.useRef(null),$=f._createdAt?"update":"create",H=h.useMemo(()=>{if(_)return _.groups.find(Y=>Y.selected)},[_]),F=h.useMemo(()=>p.find(Y=>Y.id===s)||p[0]||{type:"form"},[s,p]),V=j.splitPanes&&O.current||E.element,W=h.useMemo(()=>C?[(A==null?void 0:A.height)||0,0,n?n+2:2,0]:[0,0,2,0],[C,n,A]),z=F.type!=="form",q=h.useMemo(()=>F.type==="component"&&F.component&&h.createElement(F.component,{document:{draft:(u==null?void 0:u.draft)||null,displayed:a||f,historical:a,published:(u==null?void 0:u.published)||null},documentId:c,options:F.options,schemaType:v}),[F,a,c,u==null?void 0:u.draft,u==null?void 0:u.published,v,f]),oe=eo(w,Y=>Y.lastNonDeletedRevId);h.useEffect(()=>{P!=null&&P.scrollTo&&P.scrollTo(0,0)},[c,P]),h.useEffect(()=>{V&&i(V)},[V,i]);const N=h.useMemo(()=>r?l.jsx(F6n,{value:a||f}):null,[r,a,f]),G=!!(!S&&d);return l.jsxs(l.Fragment,{children:[l.jsx(iLn,{ref:T}),l.jsx(mP,{children:l.jsxs(U,{height:"fill",children:[(j.resizablePanes||!G)&&l.jsx(lLn,{flex:2,overflow:"hidden",children:l.jsx(nd,{element:V,__unstable_elements:{documentScrollElement:P},children:l.jsx(Iu,{element:P,children:l.jsxs(Lx,{scrollElement:P,containerElement:R,children:[F.type==="form"&&!b&&m&&l.jsxs(l.Fragment,{children:[l.jsx(q6n,{granted:!!(g!=null&&g.granted),requiredPermission:$}),!x&&y&&l.jsx(z6n,{revisionId:oe}),l.jsx(N6e,{})]}),l.jsxs(cLn,{$disabled:C||!1,"data-testid":"document-panel-scroller",ref:D,children:[l.jsx(J6n,{hidden:z,margins:W,ref:R},c+(m?"_ready":"_pending")),q]},"".concat(H==null?void 0:H.name,"-").concat(c,"}")),N,l.jsx("div",{"data-testid":"document-panel-portal",ref:O})]})})})}),G&&l.jsx(Iu,{element:o,children:l.jsx(iFn,{documentId:c,documentType:v.name,flex:1})})]})})]})},z6e=["left","bottom"],dLn={small:0,medium:1,large:2,full:"auto"};function fLn(e){const{dialog:t,referenceElement:n}=e;return l.jsx(nn,{content:l.jsx(hLn,{dialog:t}),fallbackPlacements:z6e,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function hLn(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:o,confirmButtonText:i,message:s,onCancel:a,onConfirm:c,tone:u}=t,{isTopLayer:d}=Ga(),[f,p]=h.useState(null),m=h.useCallback(()=>{d&&a()},[d,a]),v=h.useCallback(g=>{g.key==="Escape"&&d&&a()},[d,a]);return rr(m,[f]),Qi(v),l.jsxs(U,{direction:"column",ref:p,style:{minWidth:320-16,maxWidth:400},children:[l.jsx(M,{flex:1,overflow:"auto",padding:4,children:l.jsx(B,{children:s})}),l.jsx(M,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:l.jsxs(en,{columns:2,gap:2,children:[l.jsx(ie,{icon:n,onClick:a,mode:"ghost",text:r||"Cancel"}),l.jsx(ie,{icon:o,onClick:c,text:i||"Confirm",tone:u})]})})]})}function pLn(e){const{dialog:t}=e,n=h.useId(),r=t.footer&&l.jsx(M,{paddingX:4,paddingY:3,children:t.footer});return l.jsx(Uu,{zOffset:"fullscreen",children:l.jsx(Pi,{__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:dLn[t.width],children:l.jsx(M,{padding:4,children:t.content})})})}function mLn(e){const{dialog:t,referenceElement:n}=e;return l.jsx(nn,{content:l.jsx(gLn,{dialog:t}),fallbackPlacements:z6e,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function gLn(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:o}=Ga(),[i,s]=h.useState(null),a=h.useCallback(()=>{o&&r()},[o,r]),c=h.useCallback(u=>{u.key==="Escape"&&o&&r()},[o,r]);return rr(a,[i]),Qi(c),l.jsx("div",{ref:s,children:n})}function Lye(e){const{children:t}=e,{element:n,elements:r}=gm(),o=(r==null?void 0:r[X4e])||n;return l.jsx(nd,{element:o,children:t})}function GH(e){const{dialog:t,referenceElement:n=null}=e,r=h.useId();if(t.type==="confirm")return l.jsx(fLn,{dialog:t,referenceElement:n});if(t.type==="popover")return l.jsx(mLn,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return l.jsx(Lye,{children:l.jsx(pLn,{dialog:t})});if(t.type==="custom")return l.jsx(Lye,{children:t==null?void 0:t.component});const o=t;return console.warn("Unsupported modal type ".concat(o.type)),l.jsx(Pi,{id:r,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:l.jsx(M,{padding:4,children:o.content||l.jsxs(l.Fragment,{children:["Unexpected modal type (",l.jsx("code",{children:o.type}),")"]})})})}function vLn(e){const{actionStates:t,disabled:n}=e,r=h.useId(),o=h.useRef(null),[i,s]=h.useState(-1),[a,c]=h.useState(null),u=h.useCallback(p=>{s(p)},[]),d=h.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),f=t[i];return l.jsxs(l.Fragment,{children:[l.jsx(Kt,{id:"".concat(r,"-action-menu"),button:l.jsx(ie,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:Ya,mode:"ghost",ref:o}),menu:l.jsx(Ft,{padding:1,children:t.map((p,m)=>l.jsx(yLn,{actionState:p,disabled:n,index:m,onAction:u},m))}),popover:d,ref:c}),f&&f.dialog&&l.jsx(Uu,{zOffset:"paneFooter",children:l.jsx(GH,{dialog:f.dialog,referenceElement:a})})]})}function yLn(e){const{actionState:t,disabled:n,index:r,onAction:o}=e,{onHandle:i}=t,s=h.useCallback(()=>{o(r),i&&i()},[r,o,i]),a=t.title&&l.jsx(M,{padding:2,children:l.jsx(B,{size:1,children:t.title})});return l.jsx(Be,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||!!t.disabled,onClick:s,padding:0,tone:t.tone,children:l.jsx(st,{content:a,disabled:!a,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:l.jsxs(U,{align:"center",paddingX:3,children:[l.jsxs(U,{flex:1,paddingY:3,children:[t.icon&&l.jsx(M,{marginRight:3,children:l.jsxs(B,{children:[h.isValidElement(t.icon)&&t.icon,vr.isValidElementType(t.icon)&&h.createElement(t.icon)]})}),l.jsx(B,{children:t.label})]}),t.shortcut&&l.jsx(M,{marginLeft:3,children:l.jsx(Iz,{keys:String(t.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1))})})]})})})}function V6e(e){const{disabled:t,showMenu:n,states:r}=e,[o,...i]=r,[s,a]=h.useState(null),c=h.useMemo(()=>!o||!o.title&&!o.shortcut?null:l.jsxs(U,{padding:2,style:{maxWidth:300},align:"center",children:[l.jsx(B,{size:1,children:o.title}),o.shortcut&&l.jsx(M,{marginLeft:o.title?2:0,children:l.jsx(Iz,{keys:String(o.shortcut).split("+").map(u=>u.slice(0,1).toUpperCase()+u.slice(1).toLowerCase())})})]}),[o]);return l.jsxs(U,{children:[o&&l.jsx(Ru,{zOffset:200,children:l.jsx(st,{disabled:!c,content:c,portal:!0,placement:"top",children:l.jsx(te,{flex:1,children:l.jsx(ie,{"data-testid":"action-".concat(o.label),disabled:t||!!o.disabled,icon:o.icon,onClick:o.onHandle,ref:a,text:o.label,tone:o.tone||"primary"})})})}),n&&i.length>0&&l.jsx(M,{marginLeft:1,children:l.jsx(vLn,{actionStates:i,disabled:t})}),o&&o.dialog&&l.jsx(GH,{dialog:o.dialog,referenceElement:s})]})}const bLn=h.memo(function(){const{actions:t,connectionState:n,documentId:r,editState:o}=lr();return!t||!o?null:l.jsx(TH,{actions:t,actionProps:o,children:i=>{let{states:s}=i;return l.jsx(V6e,{disabled:n!=="connected",showMenu:t.length>1,states:s},r)}})}),xLn=h.memo(function(){const{connectionState:t,editState:n,timelineStore:r}=lr(),o=eo(r,u=>u.revTime),i=(o==null?void 0:o.id)||"",s=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===i,a=h.useMemo(()=>({...n||{},revision:i}),[n,i]),c=h.useMemo(()=>[PH],[]);return l.jsx(TH,{actions:c,actionProps:a,children:u=>{let{states:d}=u;return l.jsx(V6e,{disabled:t!=="connected"||!!s,showMenu:!1,states:d})}})}),wLn={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function _Ln(e){let{states:t}=e;return l.jsx(Yt,{space:1,children:t.map((n,r)=>l.jsx(st,{content:n.title&&l.jsx(M,{padding:2,children:l.jsx(B,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:l.jsx(K9,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?wLn[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(r)))})}function CLn(){const{badges:e,editState:t}=lr();return!t||!e?null:l.jsx(OAn,{badges:e,badgeProps:t,children:n=>{let{states:r}=n;return l.jsx(_Ln,{states:r})}})}var Bye=Object.freeze,SLn=Object.defineProperty,ELn=(e,t)=>Bye(SLn(e,"raw",{value:Bye(t||e.slice())})),Nye;const kLn=I(U)(Nye||(Nye=ELn([`
  cursor: default;
`])));function jLn(e){const{collapsed:t,disabled:n,lastPublished:r,lastUpdated:o,liveEdit:i}=e,s=qo(r||"",{minimal:!0,agoSuffix:!0}),a=qo(r||"",{minimal:!0}),c=qo(o||"",{minimal:!0,agoSuffix:!0}),u=qo(o||"",{minimal:!0}),d=qo(o||"",{minimal:!1,agoSuffix:!0}),f=qo(r||"",{minimal:!1,agoSuffix:!0}),p=i?"Last updated ".concat(d):"Last published ".concat(f);return l.jsx(kLn,{align:"center","data-ui":"SessionLayout",sizing:"border",children:l.jsx(st,{placement:"top",portal:!0,content:l.jsx(te,{padding:3,space:3,children:l.jsx(B,{size:1,children:i?l.jsxs(l.Fragment,{children:["Last updated"," ",l.jsx("abbr",{"aria-label":o?d:f,children:o?c:s})]}):l.jsxs(l.Fragment,{children:["Last published ",l.jsx("abbr",{"aria-label":f,children:s})]})})}),children:l.jsx(ie,{mode:"bleed",tone:i?"critical":"positive",tabIndex:-1,disabled:n,"aria-label":p,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:t?0:3,children:l.jsx(B,{size:2,"aria-hidden":"true",children:i?l.jsx(Sxe,{}):l.jsx(f0,{})})}),!t&&l.jsx(B,{size:1,weight:"medium",children:i?l.jsx("abbr",{"aria-label":p,children:o?u:a}):l.jsx("abbr",{"aria-label":p,children:a})})]})})})})}var zye=Object.freeze,TLn=Object.defineProperty,KH=(e,t)=>zye(TLn(e,"raw",{value:zye(t||e.slice())})),Vye,Hye,Uye;const ALn=I(Ju.path)(Vye||(Vye=KH([`
  transform-origin: center;
`]))),OLn=e=>l.jsx(Ju.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),PLn=e=>l.jsx(ALn,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),DLn=e=>l.jsx(Ju.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),ILn=e=>l.jsx(Ju.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...e}),RLn=am(Hye||(Hye=KH([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),$Ln=I.g(Uye||(Uye=KH([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),RLn),MLn={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},FLn={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},LLn={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},BLn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},NLn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function zLn(e){const{status:t}=e;return t?l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:l.jsxs(Ju.g,{variants:MLn,initial:t,animate:t,children:[l.jsxs($Ln,{"data-rotate":t==="changes"?void 0:"",children:[l.jsx(PLn,{variants:LLn,initial:t,animate:t}),l.jsx(OLn,{variants:FLn,initial:t,animate:t})]}),l.jsx(DLn,{variants:BLn,initial:t,animate:t}),l.jsx(ILn,{variants:NLn,initial:t,animate:t})]})}):null}const VLn=ne.forwardRef(function(t,n){const{collapsed:r,status:o,lastUpdated:i,...s}=t,a=qo(i||"",{minimal:!0}),c=qo(i||"",{minimal:!0,agoSuffix:!0}),u=qo(i||"",{minimal:!1,agoSuffix:!0}),d=h.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:a,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,a]);return o?l.jsx(st,{placement:"top",portal:!0,disabled:o!=="changes",content:l.jsxs(te,{padding:3,space:3,children:[l.jsx(B,{size:1,weight:"semibold",children:"Review changes"}),l.jsxs(B,{size:1,muted:!0,children:["Changes saved ",l.jsx("abbr",{"aria-label":u,children:c})]})]}),children:l.jsx(ie,{mode:"bleed",justify:"flex-start",tone:d==null?void 0:d.tone,...s,"data-testid":"review-changes-button",ref:n,"aria-label":"Review changes",children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:r?0:3,"aria-hidden":"true",children:l.jsx(B,{children:l.jsx(zLn,{status:o})})}),!r&&l.jsx(B,{size:1,weight:"medium",children:d==null?void 0:d.text})]})})}):null}),HLn=ne.memo(VLn),ULn=1e3,WLn=3e3,YLn=h.memo(function(){var t;const{changesOpen:n,documentId:r,documentType:o,editState:i,onHistoryClose:s,onHistoryOpen:a,timelineStore:c,value:u}=lr(),d=NMe(r,o),f=u==null?void 0:u._updatedAt,p=(t=i==null?void 0:i.published)==null?void 0:t._updatedAt,m=!!(i!=null&&i.liveEdit),v=!!(i!=null&&i.published),g=!!(i!=null&&i.draft),[b,x]=h.useState(null),y=ed(b),w=!y||(y==null?void 0:y.width)<300,[_,C]=h.useState(null),S=eo(c,k=>k.onOlderRevision);h.useEffect(()=>{if(_==="syncing"&&!d.isSyncing){const k=setTimeout(()=>C("saved"),ULn);return()=>clearTimeout(k)}if(_==="saved"){const k=setTimeout(()=>C(null),WLn);return()=>clearTimeout(k)}},[_,f,d.isSyncing]),h.useLayoutEffect(()=>{C(null)},[r]),h.useLayoutEffect(()=>{d.isSyncing&&C("syncing")},[d.isSyncing,f]);const E=h.useMemo(()=>l.jsx(HLn,{lastUpdated:f,status:_||(g?"changes":void 0),onClick:n?s:a,disabled:S,selected:n,collapsed:w}),[g,n,s,a,f,S,_,w]),j=h.useMemo(()=>(m||v)&&l.jsx(M,{marginRight:1,children:l.jsx(jLn,{disabled:S,lastPublished:p,lastUpdated:f,liveEdit:m,collapsed:w})}),[w,p,f,m,v,S]);return l.jsxs(U,{align:"center","data-ui":"DocumentSparkline",ref:x,children:[j,l.jsxs(U,{align:"center",flex:1,children:[E,!w&&l.jsx(M,{marginLeft:3,children:l.jsx(CLn,{})})]})]})});var Wye=Object.freeze,qLn=Object.defineProperty,GLn=(e,t)=>Wye(qLn(e,"raw",{value:Wye(t||e.slice())})),Yye;const KLn=I(M)(Yye||(Yye=GLn([`
  min-width: 10em;
  max-width: 16em;
`])));function ZLn(e){const{actionsBoxRef:t}=e,{badges:n,timelineStore:r}=lr(),o=eo(r,i=>i.onOlderRevision);return h.useMemo(()=>l.jsx(M,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:[1,2],children:n&&l.jsx(YLn,{})}),l.jsx(KLn,{flex:1,marginLeft:[1,3],ref:t,children:o?l.jsx(xLn,{}):l.jsx(bLn,{})})]})}),[t,n,o])}function XLn(e){const{actionsBoxElement:t,activeIndex:n,as:r="div",children:o,id:i,onActionStart:s,onKeyDown:a,rootRef:c,states:u,...d}=e,f=u[n],p=h.useCallback(m=>{const v=u.filter(b=>b.shortcut&&mi(b.shortcut,m)),g=v[0];if(v.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(g.shortcut,'"')),g&&!g.disabled&&g.onHandle){m.preventDefault(),g.onHandle(),s(u.indexOf(g));return}a&&a(m)},[s,a,u]);return h.createElement(r,{id:i,onKeyDown:p,tabIndex:-1,...d,ref:c},[o,f&&f.dialog&&l.jsx(Uu,{zOffset:"paneFooter",children:l.jsx(GH,{dialog:f.dialog,referenceElement:t})})])}const H6e=ne.memo(e=>{const{actionsBoxElement:t,as:n="div",children:r,...o}=e,{actions:i,editState:s}=lr(),[a,c]=h.useState(-1),u=h.useCallback(f=>{c(f)},[]),d=h.useMemo(()=>s&&{...s,onComplete:()=>{},revision:void 0},[s]);return!d||!i?null:l.jsx(TH,{actionProps:d,actions:i,children:f=>{let{states:p}=f;return l.jsx(XLn,{...o,activeIndex:a,actionsBoxElement:t,as:n,onActionStart:u,states:p,children:r})}})});H6e.displayName="DocumentActionShortcuts";var qye=Object.freeze,QLn=Object.defineProperty,JLn=(e,t)=>qye(QLn(e,"raw",{value:qye(t||e.slice())})),Gye;const Kye=["fixed","fixed","absolute"],e8n=I(MQt)(Gye||(Gye=JLn([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`]))),c9n=h.memo(function(t){const{name:n}=Pn();return l.jsx(KV,{name:t.pane.source||n,children:l.jsx(t8n,{...t})})});function t8n(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:o}=Pn().document,i=Vc(),s=n8n(n.options,i.params),{documentType:a,isLoaded:c}=l5n(s.id,s.type),u=h.useMemo(()=>o({type:"document",documentId:s.id,schemaType:s.type}),[s.id,s.type,o]),[d,f]=vH({templateItems:u}),p=c&&!f,m=h.useMemo(()=>p&&a&&s.type!==a?r8n(e,s,a):e,[e,a,p,s]),{ReferenceChildLink:v,handleEditReference:g,groupIndex:b,routerPanesState:x}=i,y=((t=x[b+1])==null?void 0:t[0].params)||{},w=x.length,{parentRefPath:_}=y,C=h.useMemo(()=>_?{path:_l(_),state:b>=w-1?"none":b>=w-2?"selected":"pressed"}:{path:[],state:"none"},[_,b,w]);return s.type==="*"&&!p?l.jsx($6e,{flex:2.5,minWidth:320,paneKey:r,title:"Loading document…"}):a?l.jsx(M6e,{...m,children:l.jsx(Aan,{EditReferenceLinkComponent:v,onEditReference:g,initialValueTemplateItems:d,activePath:C,children:l.jsx(o8n,{})})},"".concat(a,"-").concat(s.id)):l.jsx(R6e,{flex:2.5,minWidth:320,paneKey:r,title:l.jsx(l.Fragment,{children:"The document was not found"}),children:l.jsx(te,{space:4,children:l.jsxs(B,{as:"p",children:["The document type is not defined, and a document with the ",l.jsx("code",{children:s.id})," ","identifier could not be found."]})})})}function n8n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=r1();return h.useMemo(()=>{if(e.type&&e.type!=="*")return e;const r=e.template||t.template,o=r?n.find(s=>s.id===r):void 0,i=o==null?void 0:o.schemaType;return i?{...e,type:i}:e},[e,t.template,n])}function r8n(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}function o8n(){const{changesOpen:e,documentType:t,inspector:n,inspectOpen:r,onFocus:o,onPathOpen:i,onHistoryOpen:s,onKeyUp:a,paneKey:c,schemaType:u,value:d}=lr(),{collapsed:f}=i1(),p=yIe(),[m,v]=h.useState(null),[g,b]=h.useState(null),[x,y]=h.useState(null),[w,_]=h.useState(null),C=ed(g),S=C==null?void 0:C.height,E=h.useCallback(T=>{i(T),o(T)},[i,o]),j=gPn+(n?yL:0),k=mPn+(n?yL:0);return u?l.jsxs(H6e,{actionsBoxElement:x,as:pP,currentMinWidth:j,"data-testid":"document-pane",flex:2.5,id:c,minWidth:k,onKeyUp:a,rootRef:v,children:[l.jsx(_M,{position:Kye,zOffset:p.portal,children:l.jsx(U,{direction:"column",flex:1,height:f?void 0:"fill",children:l.jsx(e8n,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:s,onSetFocus:E,children:l.jsx(uLn,{footerHeight:S||null,isInspectOpen:r,rootElement:m,setDocumentPanelPortalElement:_})})})}),l.jsx(nd,{__unstable_elements:{[X4e]:w},children:l.jsx(_M,{position:Kye,zOffset:p.portal,children:l.jsx(vOn,{ref:b,children:l.jsx(ZLn,{actionsBoxRef:y})})})}),l.jsx(b6n,{})]}):l.jsx(R6e,{currentMinWidth:j,flex:2.5,minWidth:k,paneKey:c,title:l.jsxs(l.Fragment,{children:["Unknown document type: ",l.jsx("code",{children:t})]}),tone:"caution",children:l.jsxs(te,{space:4,children:[t&&l.jsxs(B,{as:"p",children:["This document has the schema type ",l.jsx("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&l.jsx(B,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),Bc]})})}const Zye=100,$L=2e3,U6e={by:[{field:"_updatedAt",direction:"desc"}]},i8n={};function s8n(e){return wO(e).map(t=>({...t.draft||t.published,hasPublished:!!t.published,hasDraft:!!t.draft}))}const a8n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type\b/;function W6e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e.match(a8n);if(!n)return null;const r=(n[1]||n[2]).trim().replace(/^["']|["']$/g,"");if(r[0]==="$"){const o=r.slice(1),i=t[o];return typeof i=="string"?i:null}return r}function l8n(e){return/^_type\s*==\s*['"$]\w+['"]?\s*$/.test(e.trim())}function c8n(e,t){const n=e.by.map(r=>{if(r.mapWith)return r;const o=u8n(t,r.field);return o?f8n(o,"datetime")?{...r,mapWith:"dateTime"}:o.jsonType==="string"?{...r,mapWith:"lower"}:r:r});return n.every((r,o)=>r===e.by[o])?e:{...e,by:n}}function u8n(e,t){const n=_l(t);let r=e;for(const o of n){if(!r)return;if(typeof o=="string"){r=d8n(r,o);continue}if(!(Tr(o)||ml(o))||r.jsonType!=="array")return;const[s,a]=r.of||[];if(a||!s)return;if(!Cu(s)){r=s;continue}const[c,u]=s.to||[];if(u||!c)return;r=c}return r}function d8n(e,t){if(!("fields"in e))return;const n=e.fields.find(r=>r.name===t);return n?n.type:void 0}function f8n(e,t){let n=e.type;for(;n;){if(n.name===t||!n.type&&n.jsonType===t)return!0;n=n.type}return!1}var Xye=Object.freeze,h8n=Object.defineProperty,Y6e=(e,t)=>Xye(h8n(e,"raw",{value:Xye(t||e.slice())})),Qye,Jye;const p8n=I(M)(Qye||(Qye=Y6e([`
  position: relative;
`]))),m8n=I(M)(Jye||(Jye=Y6e([`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`]))),g8n=[...Array(30).keys()];function v8n(e){const{layout:t}=e;return l.jsx(te,{padding:2,space:1,children:g8n.map(n=>l.jsx(J,{padding:2,children:l.jsx(sh,{isPlaceholder:!0,layout:t})},n))})}function y8n(e){const{childItemId:t,error:n,filterIsSimpleTypeConstraint:r,hasMaxItems:o,hasSearchQuery:i,isActive:s,isLazyLoading:a,isLoading:c,items:u,layout:d,loadingVariant:f,onListChange:p,onRetry:m,paneTitle:v,searchInputElement:g,showIcons:b}=e,x=xn(),{collapsed:y}=i1(),{collapsed:w,index:_}=uh(),[C,S]=h.useState(!1),E=h.useCallback(()=>{c||a||!C||p()},[a,c,p,C]);h.useEffect(()=>{if(w)return;const A=setTimeout(()=>{S(!0)},0);return()=>{clearTimeout(A)}},[w,u]);const j=h.useCallback((A,O)=>{let{activeIndex:P}=O;const D=Tn(A._id),R=t===D,$=!s&&R,H=s&&R,F=P===u.length-1,V=F&&a,W=F&&o;return l.jsxs(l.Fragment,{children:[l.jsx(HOn,{icon:b===!1?!1:void 0,id:D,layout:d,marginBottom:1,pressed:$,schemaType:x.get(A._type),selected:H,value:A}),V&&l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(ir,{muted:!0})}),W&&l.jsx(M,{marginY:1,paddingX:3,paddingY:4,children:l.jsxs(B,{align:"center",muted:!0,size:1,children:["Displaying a maximum of ",$L," documents"]})})]})},[t,s,u.length,d,x,b,o,a]),k=h.useMemo(()=>i?l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(oo,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(B,{align:"center",muted:!0,children:"No results found"})})})}):l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(oo,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(B,{align:"center",muted:!0,children:r?"No documents of this type":"No matching documents"})})})}),[r,i]),T=h.useMemo(()=>{if(!C)return null;if(n)return l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(oo,{width:1,children:l.jsxs(te,{paddingX:4,paddingY:5,space:4,children:[l.jsx(Lo,{as:"h3",children:"Could not fetch list items"}),l.jsxs(B,{as:"p",children:["Error: ",l.jsx("code",{children:n.message})]}),m&&l.jsx(M,{children:l.jsx(ie,{icon:h0,onClick:m,text:"Retry",tone:"primary"})})]})})});if(!c&&u.length===0)return k;if(f==="initial"&&c)return l.jsx(jH,{ms:300,children:l.jsx(v8n,{layout:d})});if(f==="spinner"&&c)return null;const A="".concat(_,"-").concat(w);return l.jsx(p8n,{overflow:"hidden",height:"fill",children:l.jsx(m8n,{children:l.jsx(oh,{activeItemDataAttr:"data-hovered",ariaLabel:v,canReceiveFocus:!0,focusRingOffset:-3,inputElement:g,itemHeight:51,items:u,onEndReached:E,onlyShowSelectionWhenActive:!0,overscan:10,padding:2,paddingBottom:1,renderItem:j,wrapAround:!1},A)})})},[w,n,E,_,c,u,d,f,m,j,g,C]);return l.jsx(mP,{overflow:y||f==="initial"?"hidden":"auto",children:T})}const q6e=h.memo(e=>{let{contentAfter:t,index:n,initialValueTemplates:r=[],menuItemGroups:o=[],menuItems:i=[],setLayout:s,setSortOrder:a,title:c}=e;const{features:u}=f1(),{collapsed:d,isLast:f}=uh(),p=f&&!d?-1:0,m=h.useMemo(()=>({setLayout:v=>{let{layout:g}=v;s(g)},setSortOrder:v=>{a(v)}}),[s,a]);return l.jsx(AH,{actions:l.jsx(NOn,{initialValueTemplateItems:r,actionHandlers:m,menuItemGroups:o,menuItems:i}),backButton:u.backButton&&n>0&&l.jsx(ie,{as:NAn,"data-as":"a",icon:ow,mode:"bleed"}),contentAfter:t,tabIndex:p,title:c})});q6e.displayName="DocumentListPaneHeader";function b8n(e){const{client:t,schema:n,sort:r,limit:o,params:i,filter:s,searchQuery:a,staticTypeNames:c}=e,u=r.by,d=r==null?void 0:r.extendedProjection,f=io(()=>t.listen("*[".concat(s,"]"),i,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"})).pipe(ct((v,g)=>g===0&&v.type!=="welcome"?$u(()=>new Error(v.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(v.type,'"'))):ve(v)),na()),[p,m]=g7(f,v=>v.type==="welcome");return Qt(p.pipe(_i(1)),m.pipe(ix(1e3,El,{leading:!0,trailing:!0}))).pipe(ZN(v=>(c?ve(c):t.observable.fetch("array::unique(*[".concat(s,"][]._type)"),i)).pipe(ct(b=>{const x=b.flatMap(E=>n.get(E)||[]),y={filter:s,query:a||"",types:x},w={__unstable_extendedProjection:d,comments:["findability-source: ".concat(a?"list-query":"list")],limit:o,params:i,sort:u},{query:_,params:C}=LIe(y,w),S=()=>t.observable.fetch(_,C);return v.type==="mutation"&&v.visibility!=="query"?Mo(1200).pipe(ct(S)):S()}))))}const x8n=[],ebe={error:null,onRetry:void 0,result:null},w8n={result:null,error:null};function _8n(e){const{filter:t,params:n,sortOrder:r,searchQuery:o,apiVersion:i}=e,s=ar({...tn,apiVersion:i||tn.apiVersion}),a=xn(),[c,u]=h.useState(ebe),{onRetry:d,error:f,result:p}=c,m=p==null?void 0:p.documents,v=h.useMemo(()=>m?s8n(m):x8n,[m]),[g,b]=h.useState(!1),[x,y]=h.useState(!1),[w,_]=h.useState(!1),C=h.useMemo(()=>W6e(t,n),[t,n]),S=p===null&&!f,E=(m==null?void 0:m.length)===$L,j=h.useCallback(()=>{S||x||w||_(!0)},[S,x,w]),k=h.useCallback(O=>{var P,D;if(O.error){u(O);return}const R=((D=(P=O.result)==null?void 0:P.documents)==null?void 0:D.length)||0;if(!O.error&&(O==null?void 0:O.result)===null&&w){b(!0);return}if(R<Zye&&R!==0&&!w&&y(!0),(O==null?void 0:O.result)===null){u(H=>({...H.error?O:H}));return}b(!1),u(O)},[w]),T=h.useMemo(()=>{const O=new gr,P=()=>O.next();return b8n({client:s,filter:t,limit:w?$L:Zye,params:n,schema:a,searchQuery:o||"",sort:r||U6e,staticTypeNames:C?[C]:void 0}).pipe(le($=>({result:{documents:$},error:null})),ei(w8n),jn($=>$ instanceof ProgressEvent?$u(()=>new Error("Request error")):$u(()=>$)),jn(($,H)=>Fr(ve({result:null,error:$}),Qt(Ti(window,"online"),O).pipe(_i(1),ct(()=>H)))),ta(($,H)=>({...$,...H,onRetry:P})))},[s,t,n,a,o,w,r,C]);h.useEffect(()=>{const O=T.subscribe(k);return()=>{O.unsubscribe()}},[k,T]);const A=h.useCallback(()=>{y(!1),b(!1),u(ebe),_(!1)},[]);return h.useEffect(()=>{A()},[A,t,n,r,o]),{error:f,hasMaxItems:E,isLazyLoading:g,isLoading:S,isSearchReady:!f,items:v,onListChange:j,onRetry:d}}var tbe=Object.freeze,C8n=Object.defineProperty,ZH=(e,t)=>tbe(C8n(e,"raw",{value:tbe(t||e.slice())})),nbe,rbe,obe;const ML=[],S8n=am(nbe||(nbe=ZH([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),E8n=I(sw)(rbe||(rbe=ZH([`
  animation: `,` 500ms linear infinite;
`])),S8n),k8n=I(J)(obe||(obe=ZH([`
  [data-ui='TextInput'] {
    border-radius: inherit;
  }
`])));function j8n(e){const t=h.useRef(e);return Mu(t.current,e)||(t.current=e),t.current}const T8n=e=>{const{menuItems:t,sortOrderRaw:n,layout:r}=e;return t==null?void 0:t.map(o=>{var i,s,a,c;return(i=o.params)!=null&&i.layout?{...o,selected:r===((s=o.params)==null?void 0:s.layout)}:(a=o==null?void 0:o.params)!=null&&a.by?{...o,selected:zt(n==null?void 0:n.by,((c=o==null?void 0:o.params)==null?void 0:c.by)||ML)}:{...o,selected:!1}})},u9n=h.memo(function(t){const{childItemId:n,index:r,isActive:o,isSelected:i,pane:s,paneKey:a}=t,c=xn(),{name:u}=Pn(),{defaultLayout:d="default",displayOptions:f,initialValueTemplates:p=ML,menuItemGroups:m,menuItems:v,options:g,title:b}=s,{apiVersion:x,defaultOrdering:y=ML,filter:w}=g,_=j8n(g.params||i8n),C=s.source,S=h.useMemo(()=>W6e(w,_),[w,_]),E=(f==null?void 0:f.showIcons)!==!1,[j,k]=RL(S,"layout",d),[T,A]=h.useState(""),[O,P]=h.useState(""),[D,R]=h.useState(null),$=h.useRef(!1),H=h.useMemo(()=>(y==null?void 0:y.length)>0?{by:y}:U6e,[y]),[F,V]=RL(S,"sortOrder",H),W=S&&F?c8n(F,c.get(S)):F,z=Do(W),q=l8n(w),{error:oe,hasMaxItems:N,isLazyLoading:G,isLoading:Y,isSearchReady:K,items:X,onListChange:Q,onRetry:Z}=_8n({apiVersion:x,filter:w,params:_,searchQuery:T==null?void 0:T.trim(),sortOrder:z}),re=h.useMemo(()=>T8n({menuItems:v,sortOrderRaw:F,layout:j}),[j,v,F]),ae=aA(be=>be.pipe(le(ge=>ge.target.value),mn(P),v7(ge=>ge===""?ve(""):Mo(300)),mn(A)),[]),me=h.useCallback(()=>{A(""),P("")},[]),ce=h.useCallback(be=>{be.key==="Escape"&&me()},[me]);h.useEffect(()=>($.current===!1&&!Y&&($.current=!0),()=>{$.current=!1}),[Y]),h.useEffect(()=>{me(),$.current=!1},[a,me]);const Te=h.useMemo(()=>Y&&X.length===0&&$.current?"spinner":"initial",[Y,X.length]),je=l.jsx(M,{paddingX:2,paddingBottom:2,children:l.jsx(k8n,{radius:4,tone:"transparent",children:l.jsx(Or,{"aria-label":"Search list",autoComplete:"off",border:!1,clearButton:!!T,disabled:!K,fontSize:[2,2,1],icon:Te==="spinner"?E8n:Zo,onChange:ae,onClear:me,onKeyDown:ce,placeholder:"Search list",radius:2,ref:R,spellCheck:!1,value:O})})});return l.jsx(KV,{name:C||u,children:l.jsxs(pP,{currentMaxWidth:350,"data-ui":"DocumentListPane",id:a,maxWidth:640,minWidth:320,selected:i,children:[XOn,l.jsx(q6e,{contentAfter:je,index:r,initialValueTemplates:p,menuItemGroups:m,menuItems:re,setLayout:k,setSortOrder:V,title:b}),l.jsx(y8n,{childItemId:n,error:oe,filterIsSimpleTypeConstraint:q,hasMaxItems:N,hasSearchQuery:!!T,isActive:o,isLazyLoading:G,isLoading:Y,items:X,layout:j,loadingVariant:Te,onListChange:Q,onRetry:Z,paneTitle:b,searchInputElement:D,showIcons:E},a)]})})}),A8n=Uz(e=>{const{name:t,title:n,icon:r,...o}=e||{};return{name:"@sanity/vision",tools:[{name:t||"vision",title:n||"Vision",icon:r||o8,component:h.lazy(()=>Q7(()=>import("./SanityVision-oM6_d46E-1abd3b28.js"),[])),options:o,router:vi.create("/*")}]}}),O8n={title:"Block Content",name:"blockContent",type:"array",of:[{title:"Block",type:"block",styles:[{title:"Normal",value:"normal"},{title:"H1",value:"h1"},{title:"H2",value:"h2"},{title:"H3",value:"h3"},{title:"H4",value:"h4"},{title:"Quote",value:"blockquote"}],lists:[{title:"Bullet",value:"bullet"}],marks:{decorators:[{title:"Strong",value:"strong"},{title:"Emphasis",value:"em"}],annotations:[{title:"URL",name:"link",type:"object",fields:[{title:"URL",name:"href",type:"url"}]}]}},{type:"image",options:{hotspot:!0}}]},P8n={name:"category",title:"Category",type:"document",fields:[{name:"title",title:"Title",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96},validation:e=>e.required()},{name:"color",title:"Color",type:"string",description:"Color of the category",options:{list:[{title:"Green",value:"green"},{title:"Blue",value:"blue"},{title:"Purple",value:"purple"},{title:"Orange",value:"orange"}]}},{name:"description",title:"Description",type:"text"}]},D8n={name:"post",title:"Post",type:"document",initialValue:()=>({publishedAt:new Date().toISOString()}),fields:[{name:"title",title:"Title",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96}},{name:"excerpt",title:"Excerpt",type:"text",description:"The excerpt is used in blog feeds, and also for search results",rows:3,validation:e=>e.max(200)},{name:"author",title:"Author",type:"reference",to:{type:"author"}},{name:"mainImage",title:"Main image",type:"image",fields:[{name:"alt",title:"Alternative text",type:"string",description:"Important for SEO and accessibility."}],options:{hotspot:!0}},{name:"categories",title:"Categories",type:"array",of:[{type:"reference",to:{type:"category"}}]},{name:"publishedAt",title:"Published at",type:"datetime"},{name:"featured",title:"Mark as Featured",type:"boolean"},{name:"body",title:"Body",type:"blockContent"}],preview:{select:{title:"title",author:"author.name",media:"mainImage"},prepare(e){const{author:t}=e;return Object.assign({},e,{subtitle:t&&`by ${t}`})}}},I8n={name:"author",title:"Author",type:"document",fields:[{name:"name",title:"Name",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"name",maxLength:96}},{name:"image",title:"Image",type:"image",options:{hotspot:!0}},{name:"bio",title:"Bio",type:"array",of:[{title:"Block",type:"block",styles:[{title:"Normal",value:"normal"}],lists:[]}]}],preview:{select:{title:"name",media:"image"}}},R8n={name:"siteconfig",title:"Site Settings",type:"document",fieldsets:[{name:"metadata",title:"SEO & metadata",options:{collapsible:!0,collapsed:!1}},{name:"social",title:"Social Media"},{name:"logos",title:"Website Logo",options:{collapsible:!0,collapsed:!1}}],fields:[{name:"title",title:"Site title",type:"string"},{name:"url",title:"URL",type:"url",description:"The main site url. Used to create canonical url"},{name:"copyright",title:"Copyright Name",type:"string",description:"Enter company name to appear in footer after ©"},{name:"logo",title:"Main logo",type:"image",description:"Upload your main logo here. SVG preferred. ",fieldset:"logos",fields:[{name:"alt",title:"Alternative text",type:"string",description:"Important for SEO and accessiblity."}]},{name:"logoalt",title:"Alternate logo (optional)",type:"image",description:"Upload alternate logo here. it can be light / dark variation ",fieldset:"logos",fields:[{name:"alt",title:"Alternative text",type:"string",description:"Important for SEO and accessiblity."}]},{name:"email",title:"Support Email",type:"string",validation:e=>e.regex(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,{name:"email",invert:!1})},{name:"phone",title:"Support Phone",type:"string"},{name:"w3ckey",title:"Web3Forms Access Key",type:"string",description:"Enter Access key obtained from web3forms.com. It is required to make the form work."},{name:"social",title:"Social Links",type:"array",description:"Enter your Social Media URLs",validation:e=>e.unique(),of:[{type:"object",fields:[{name:"media",title:"Choose Social Media",type:"string",options:{list:[{title:"Twitter",value:"twitter"},{title:"Facebook",value:"facebook"},{title:"Instagram",value:"instagram"},{title:"Linkedin",value:"linkedin"},{title:"Youtube",value:"youtube"}]}},{name:"url",title:"Full Profile URL",type:"url"}],preview:{select:{title:"media",subtitle:"url"}}}]},{name:"description",title:"Meta Description",type:"text",fieldset:"metadata",rows:5,validation:e=>e.min(20).max(200),description:"Enter SEO Meta Description"},{name:"openGraphImage",title:"Open Graph Image",type:"image",description:"Image for sharing previews on Facebook, Twitter etc.",fieldset:"metadata"}]},$8n=[D8n,I8n,P8n,R8n,O8n];var G6e={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ibe=ne.createContext&&ne.createContext(G6e),wf=globalThis&&globalThis.__assign||function(){return wf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},wf.apply(this,arguments)},M8n=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function K6e(e){return e&&e.map(function(t,n){return ne.createElement(t.tag,wf({key:n},t.attr),K6e(t.child))})}function F8n(e){return function(t){return ne.createElement(L8n,wf({attr:wf({},e.attr)},t),K6e(e.child))}}function L8n(e){var t=function(n){var r=e.attr,o=e.size,i=e.title,s=M8n(e,["attr","size","title"]),a=o||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),ne.createElement("svg",wf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:c,style:wf(wf({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&ne.createElement("title",null,i),e.children)};return ibe!==void 0?ne.createElement(ibe.Consumer,null,function(n){return t(n)}):t(G6e)}function B8n(e){return F8n({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}}]})(e)}const N8n=e=>!["siteconfig"].includes(e.getId()),z8n=e=>e.list().title("Content Manager").items([e.listItem().title("Site Config").icon(B8n).child(e.editor().schemaType("siteconfig").documentId("siteconfig")),e.divider(),...e.documentTypeListItems().filter(N8n)]),V8n={projectId:"hi18u6ms",dataset:"production"},{dataset:H8n,projectId:U8n}=V8n,W8n={title:"blanasBlog-studio",projectId:U8n,dataset:H8n,plugins:[EFn({structure:z8n}),A8n()],tools:(e,t)=>t.currentUser.roles.find(({name:r})=>r==="administrator")?e:e.filter(r=>r.name!=="vision"),schema:{types:$8n},document:{newDocumentOptions:(e,{creationContext:t})=>t.type==="global"?e.filter(n=>n.templateId!=="siteconfig"):e,actions:(e,{schemaType:t})=>t==="siteconfig"?e.filter(({action:n})=>!["unpublish","delete","duplicate"].includes(n)):e}};fEn(document.getElementById("sanity"),W8n,{reactStrictMode:!1,basePath:"/"});export{Lo as $,ow as A,ie as B,oh as C,c9n as D,oA as E,J8n as F,nd as G,s9n as H,Fl as I,a9n as J,x0 as K,$6e as L,KV as M,l9n as N,Cr as O,pP as P,zAn as Q,r9n as R,ox as S,o9n as T,Ai as U,hP as V,le as W,Jt as X,J as Y,oo as Z,XOn as _,u9n as a,te as a0,Nt as a1,er as a2,B as a3,Zje as a4,h0 as a5,U as a6,Pr as a7,ei as a8,ta as a9,If as aA,Or as aB,Yt as aC,st as aD,Su as aE,sa as aF,r7 as aG,BBe as aH,Sxe as aI,ar as aJ,ir as aK,t5e as aL,rw as aM,jAn as aN,rr as aO,nn as aP,K9 as aQ,Av as aR,fe as aS,nt as aa,Wn as ab,XSe as ac,sd as ad,cH as ae,Yz as af,xit as ag,yr as ah,ve as ai,Fr as aj,m7 as ak,i9n as al,Wxt as am,fl as an,dl as ao,ys as ap,Pe as aq,$xe as ar,ne as as,Y8n as at,t0t as au,Fu as av,pe as aw,de as ax,AAn as ay,en as az,vr as b,AH as c,NOn as d,NAn as e,uh as f,M as g,i1 as h,HOn as i,l as j,mP as k,Vt as l,Ic as m,SA as n,ln as o,bt as p,Xa as q,h as r,I as s,Q7 as t,f1 as u,zt as v,mi as w,Bo as x,xn as y,Ts as z};
